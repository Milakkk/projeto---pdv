import{r as requireReact,b as requireReactDom,c as reactExports,u as useNavigate,a as getDefaultExportFromCjs,d as useLocation,e as useSearchParams,f as reactDomExports,R as React,L as Link,N as Navigate,O as Outlet,h as useRoutes,H as HashRouter,B as BrowserRouter}from"./react-vendor-B9CYYsIr.js";import{c as createClient,_ as __vitePreload}from"./supabase-vendor-DQwqY6dM.js";(function(){const R=document.createElement("link").relList;if(R&&R.supports&&R.supports("modulepreload"))return;for(const I of document.querySelectorAll('link[rel="modulepreload"]'))T(I);new MutationObserver(I=>{for(const B of I)if(B.type==="childList")for(const U of B.addedNodes)U.tagName==="LINK"&&U.rel==="modulepreload"&&T(U)}).observe(document,{childList:!0,subtree:!0});function A(I){const B={};return I.integrity&&(B.integrity=I.integrity),I.referrerPolicy&&(B.referrerPolicy=I.referrerPolicy),I.crossOrigin==="use-credentials"?B.credentials="include":I.crossOrigin==="anonymous"?B.credentials="omit":B.credentials="same-origin",B}function T(I){if(I.ep)return;I.ep=!0;const B=A(I);fetch(I.href,B)}})();var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var b=Symbol.for("react.transitional.element"),R=Symbol.for("react.fragment");function A(T,I,B){var U=null;if(B!==void 0&&(U=""+B),I.key!==void 0&&(U=""+I.key),"key"in I){B={};for(var q in I)q!=="key"&&(B[q]=I[q])}else B=I;return I=B.ref,{$$typeof:b,type:T,key:U,ref:I!==void 0?I:null,props:B}}return reactJsxRuntime_production.Fragment=R,reactJsxRuntime_production.jsx=A,reactJsxRuntime_production.jsxs=A,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(b){function R(Je,ut){var et=Je.length;Je.push(ut);e:for(;0<et;){var lt=et-1>>>1,rt=Je[lt];if(0<I(rt,ut))Je[lt]=ut,Je[et]=rt,et=lt;else break e}}function A(Je){return Je.length===0?null:Je[0]}function T(Je){if(Je.length===0)return null;var ut=Je[0],et=Je.pop();if(et!==ut){Je[0]=et;e:for(var lt=0,rt=Je.length,nt=rt>>>1;lt<nt;){var kt=2*(lt+1)-1,Zt=Je[kt],Ar=kt+1,ft=Je[Ar];if(0>I(Zt,et))Ar<rt&&0>I(ft,Zt)?(Je[lt]=ft,Je[Ar]=et,lt=Ar):(Je[lt]=Zt,Je[kt]=et,lt=kt);else if(Ar<rt&&0>I(ft,et))Je[lt]=ft,Je[Ar]=et,lt=Ar;else break e}}return ut}function I(Je,ut){var et=Je.sortIndex-ut.sortIndex;return et!==0?et:Je.id-ut.id}if(b.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var B=performance;b.unstable_now=function(){return B.now()}}else{var U=Date,q=U.now();b.unstable_now=function(){return U.now()-q}}var K=[],J=[],ee=1,te=null,xe=3,fe=!1,ye=!1,Be=!1,Le=!1,qe=typeof setTimeout=="function"?setTimeout:null,Ge=typeof clearTimeout=="function"?clearTimeout:null,$e=typeof setImmediate<"u"?setImmediate:null;function Xe(Je){for(var ut=A(J);ut!==null;){if(ut.callback===null)T(J);else if(ut.startTime<=Je)T(J),ut.sortIndex=ut.expirationTime,R(K,ut);else break;ut=A(J)}}function He(Je){if(Be=!1,Xe(Je),!ye)if(A(K)!==null)ye=!0,Qe||(Qe=!0,Tt());else{var ut=A(J);ut!==null&&It(He,ut.startTime-Je)}}var Qe=!1,st=-1,ct=5,gt=-1;function Nt(){return Le?!0:!(b.unstable_now()-gt<ct)}function Ot(){if(Le=!1,Qe){var Je=b.unstable_now();gt=Je;var ut=!0;try{e:{ye=!1,Be&&(Be=!1,Ge(st),st=-1),fe=!0;var et=xe;try{t:{for(Xe(Je),te=A(K);te!==null&&!(te.expirationTime>Je&&Nt());){var lt=te.callback;if(typeof lt=="function"){te.callback=null,xe=te.priorityLevel;var rt=lt(te.expirationTime<=Je);if(Je=b.unstable_now(),typeof rt=="function"){te.callback=rt,Xe(Je),ut=!0;break t}te===A(K)&&T(K),Xe(Je)}else T(K);te=A(K)}if(te!==null)ut=!0;else{var nt=A(J);nt!==null&&It(He,nt.startTime-Je),ut=!1}}break e}finally{te=null,xe=et,fe=!1}ut=void 0}}finally{ut?Tt():Qe=!1}}}var Tt;if(typeof $e=="function")Tt=function(){$e(Ot)};else if(typeof MessageChannel<"u"){var ir=new MessageChannel,At=ir.port2;ir.port1.onmessage=Ot,Tt=function(){At.postMessage(null)}}else Tt=function(){qe(Ot,0)};function It(Je,ut){st=qe(function(){Je(b.unstable_now())},ut)}b.unstable_IdlePriority=5,b.unstable_ImmediatePriority=1,b.unstable_LowPriority=4,b.unstable_NormalPriority=3,b.unstable_Profiling=null,b.unstable_UserBlockingPriority=2,b.unstable_cancelCallback=function(Je){Je.callback=null},b.unstable_forceFrameRate=function(Je){0>Je||125<Je?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ct=0<Je?Math.floor(1e3/Je):5},b.unstable_getCurrentPriorityLevel=function(){return xe},b.unstable_next=function(Je){switch(xe){case 1:case 2:case 3:var ut=3;break;default:ut=xe}var et=xe;xe=ut;try{return Je()}finally{xe=et}},b.unstable_requestPaint=function(){Le=!0},b.unstable_runWithPriority=function(Je,ut){switch(Je){case 1:case 2:case 3:case 4:case 5:break;default:Je=3}var et=xe;xe=Je;try{return ut()}finally{xe=et}},b.unstable_scheduleCallback=function(Je,ut,et){var lt=b.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?lt+et:lt):et=lt,Je){case 1:var rt=-1;break;case 2:rt=250;break;case 5:rt=1073741823;break;case 4:rt=1e4;break;default:rt=5e3}return rt=et+rt,Je={id:ee++,callback:ut,priorityLevel:Je,startTime:et,expirationTime:rt,sortIndex:-1},et>lt?(Je.sortIndex=et,R(J,Je),A(K)===null&&Je===A(J)&&(Be?(Ge(st),st=-1):Be=!0,It(He,et-lt))):(Je.sortIndex=rt,R(K,Je),ye||fe||(ye=!0,Qe||(Qe=!0,Tt()))),Je},b.unstable_shouldYield=Nt,b.unstable_wrapCallback=function(Je){var ut=xe;return function(){var et=xe;xe=ut;try{return Je.apply(this,arguments)}finally{xe=et}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var b=requireScheduler(),R=requireReact(),A=requireReactDom();function T(O){var M="https://react.dev/errors/"+O;if(1<arguments.length){M+="?args[]="+encodeURIComponent(arguments[1]);for(var z=2;z<arguments.length;z++)M+="&args[]="+encodeURIComponent(arguments[z])}return"Minified React error #"+O+"; visit "+M+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function I(O){return!(!O||O.nodeType!==1&&O.nodeType!==9&&O.nodeType!==11)}function B(O){var M=O,z=O;if(O.alternate)for(;M.return;)M=M.return;else{O=M;do M=O,(M.flags&4098)!==0&&(z=M.return),O=M.return;while(O)}return M.tag===3?z:null}function U(O){if(O.tag===13){var M=O.memoizedState;if(M===null&&(O=O.alternate,O!==null&&(M=O.memoizedState)),M!==null)return M.dehydrated}return null}function q(O){if(O.tag===31){var M=O.memoizedState;if(M===null&&(O=O.alternate,O!==null&&(M=O.memoizedState)),M!==null)return M.dehydrated}return null}function K(O){if(B(O)!==O)throw Error(T(188))}function J(O){var M=O.alternate;if(!M){if(M=B(O),M===null)throw Error(T(188));return M!==O?null:O}for(var z=O,G=M;;){var pe=z.return;if(pe===null)break;var je=pe.alternate;if(je===null){if(G=pe.return,G!==null){z=G;continue}break}if(pe.child===je.child){for(je=pe.child;je;){if(je===z)return K(pe),O;if(je===G)return K(pe),M;je=je.sibling}throw Error(T(188))}if(z.return!==G.return)z=pe,G=je;else{for(var Ve=!1,tt=pe.child;tt;){if(tt===z){Ve=!0,z=pe,G=je;break}if(tt===G){Ve=!0,G=pe,z=je;break}tt=tt.sibling}if(!Ve){for(tt=je.child;tt;){if(tt===z){Ve=!0,z=je,G=pe;break}if(tt===G){Ve=!0,G=je,z=pe;break}tt=tt.sibling}if(!Ve)throw Error(T(189))}}if(z.alternate!==G)throw Error(T(190))}if(z.tag!==3)throw Error(T(188));return z.stateNode.current===z?O:M}function ee(O){var M=O.tag;if(M===5||M===26||M===27||M===6)return O;for(O=O.child;O!==null;){if(M=ee(O),M!==null)return M;O=O.sibling}return null}var te=Object.assign,xe=Symbol.for("react.element"),fe=Symbol.for("react.transitional.element"),ye=Symbol.for("react.portal"),Be=Symbol.for("react.fragment"),Le=Symbol.for("react.strict_mode"),qe=Symbol.for("react.profiler"),Ge=Symbol.for("react.consumer"),$e=Symbol.for("react.context"),Xe=Symbol.for("react.forward_ref"),He=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),st=Symbol.for("react.memo"),ct=Symbol.for("react.lazy"),gt=Symbol.for("react.activity"),Nt=Symbol.for("react.memo_cache_sentinel"),Ot=Symbol.iterator;function Tt(O){return O===null||typeof O!="object"?null:(O=Ot&&O[Ot]||O["@@iterator"],typeof O=="function"?O:null)}var ir=Symbol.for("react.client.reference");function At(O){if(O==null)return null;if(typeof O=="function")return O.$$typeof===ir?null:O.displayName||O.name||null;if(typeof O=="string")return O;switch(O){case Be:return"Fragment";case qe:return"Profiler";case Le:return"StrictMode";case He:return"Suspense";case Qe:return"SuspenseList";case gt:return"Activity"}if(typeof O=="object")switch(O.$$typeof){case ye:return"Portal";case $e:return O.displayName||"Context";case Ge:return(O._context.displayName||"Context")+".Consumer";case Xe:var M=O.render;return O=O.displayName,O||(O=M.displayName||M.name||"",O=O!==""?"ForwardRef("+O+")":"ForwardRef"),O;case st:return M=O.displayName||null,M!==null?M:At(O.type)||"Memo";case ct:M=O._payload,O=O._init;try{return At(O(M))}catch{}}return null}var It=Array.isArray,Je=R.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=A.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},lt=[],rt=-1;function nt(O){return{current:O}}function kt(O){0>rt||(O.current=lt[rt],lt[rt]=null,rt--)}function Zt(O,M){rt++,lt[rt]=O.current,O.current=M}var Ar=nt(null),ft=nt(null),mt=nt(null),Ct=nt(null);function xr(O,M){switch(Zt(mt,M),Zt(ft,O),Zt(Ar,null),M.nodeType){case 9:case 11:O=(O=M.documentElement)&&(O=O.namespaceURI)?xf(O):0;break;default:if(O=M.tagName,M=M.namespaceURI)M=xf(M),O=ff(M,O);else switch(O){case"svg":O=1;break;case"math":O=2;break;default:O=0}}kt(Ar),Zt(Ar,O)}function er(){kt(Ar),kt(ft),kt(mt)}function Ft(O){O.memoizedState!==null&&Zt(Ct,O);var M=Ar.current,z=ff(M,O.type);M!==z&&(Zt(ft,O),Zt(Ar,z))}function Xt(O){ft.current===O&&(kt(Ar),kt(ft)),Ct.current===O&&(kt(Ct),Id._currentValue=et)}var it,jt;function or(O){if(it===void 0)try{throw Error()}catch(z){var M=z.stack.trim().match(/\n( *(at )?)/);it=M&&M[1]||"",jt=-1<z.stack.indexOf(`
    at`)?" (<anonymous>)":-1<z.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+O+jt}var Er=!1;function mr(O,M){if(!O||Er)return"";Er=!0;var z=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var G={DetermineComponentFrameRoot:function(){try{if(M){var vr=function(){throw Error()};if(Object.defineProperty(vr.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(vr,[])}catch(rr){var Kt=rr}Reflect.construct(O,[],vr)}else{try{vr.call()}catch(rr){Kt=rr}O.call(vr.prototype)}}else{try{throw Error()}catch(rr){Kt=rr}(vr=O())&&typeof vr.catch=="function"&&vr.catch(function(){})}}catch(rr){if(rr&&Kt&&typeof rr.stack=="string")return[rr.stack,Kt.stack]}return[null,null]}};G.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var pe=Object.getOwnPropertyDescriptor(G.DetermineComponentFrameRoot,"name");pe&&pe.configurable&&Object.defineProperty(G.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var je=G.DetermineComponentFrameRoot(),Ve=je[0],tt=je[1];if(Ve&&tt){var ht=Ve.split(`
`),qt=tt.split(`
`);for(pe=G=0;G<ht.length&&!ht[G].includes("DetermineComponentFrameRoot");)G++;for(;pe<qt.length&&!qt[pe].includes("DetermineComponentFrameRoot");)pe++;if(G===ht.length||pe===qt.length)for(G=ht.length-1,pe=qt.length-1;1<=G&&0<=pe&&ht[G]!==qt[pe];)pe--;for(;1<=G&&0<=pe;G--,pe--)if(ht[G]!==qt[pe]){if(G!==1||pe!==1)do if(G--,pe--,0>pe||ht[G]!==qt[pe]){var dr=`
`+ht[G].replace(" at new "," at ");return O.displayName&&dr.includes("<anonymous>")&&(dr=dr.replace("<anonymous>",O.displayName)),dr}while(1<=G&&0<=pe);break}}}finally{Er=!1,Error.prepareStackTrace=z}return(z=O?O.displayName||O.name:"")?or(z):""}function zr(O,M){switch(O.tag){case 26:case 27:case 5:return or(O.type);case 16:return or("Lazy");case 13:return O.child!==M&&M!==null?or("Suspense Fallback"):or("Suspense");case 19:return or("SuspenseList");case 0:case 15:return mr(O.type,!1);case 11:return mr(O.type.render,!1);case 1:return mr(O.type,!0);case 31:return or("Activity");default:return""}}function nn(O){try{var M="",z=null;do M+=zr(O,z),z=O,O=O.return;while(O);return M}catch(G){return`
Error generating stack: `+G.message+`
`+G.stack}}var Sr=Object.prototype.hasOwnProperty,Zr=b.unstable_scheduleCallback,un=b.unstable_cancelCallback,Xr=b.unstable_shouldYield,an=b.unstable_requestPaint,vn=b.unstable_now,rn=b.unstable_getCurrentPriorityLevel,pn=b.unstable_ImmediatePriority,sa=b.unstable_UserBlockingPriority,Hn=b.unstable_NormalPriority,bn=b.unstable_LowPriority,nr=b.unstable_IdlePriority,Br=b.log,pt=b.unstable_setDisableYieldValue,$t=null,Bt=null;function Pt(O){if(typeof Br=="function"&&pt(O),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode($t,O)}catch{}}var Wt=Math.clz32?Math.clz32:Or,Mt=Math.log,wr=Math.LN2;function Or(O){return O>>>=0,O===0?32:31-(Mt(O)/wr|0)|0}var ur=256,Ur=262144,Wr=4194304;function Kr(O){var M=O&42;if(M!==0)return M;switch(O&-O){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return O&261888;case 262144:case 524288:case 1048576:case 2097152:return O&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return O&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return O}}function gr(O,M,z){var G=O.pendingLanes;if(G===0)return 0;var pe=0,je=O.suspendedLanes,Ve=O.pingedLanes;O=O.warmLanes;var tt=G&134217727;return tt!==0?(G=tt&~je,G!==0?pe=Kr(G):(Ve&=tt,Ve!==0?pe=Kr(Ve):z||(z=tt&~O,z!==0&&(pe=Kr(z))))):(tt=G&~je,tt!==0?pe=Kr(tt):Ve!==0?pe=Kr(Ve):z||(z=G&~O,z!==0&&(pe=Kr(z)))),pe===0?0:M!==0&&M!==pe&&(M&je)===0&&(je=pe&-pe,z=M&-M,je>=z||je===32&&(z&4194048)!==0)?M:pe}function Rr(O,M){return(O.pendingLanes&~(O.suspendedLanes&~O.pingedLanes)&M)===0}function Qr(O,M){switch(O){case 1:case 2:case 4:case 8:case 64:return M+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return M+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kn(){var O=Wr;return Wr<<=1,(Wr&62914560)===0&&(Wr=4194304),O}function Yn(O){for(var M=[],z=0;31>z;z++)M.push(O);return M}function Hr(O,M){O.pendingLanes|=M,M!==268435456&&(O.suspendedLanes=0,O.pingedLanes=0,O.warmLanes=0)}function Ir(O,M,z,G,pe,je){var Ve=O.pendingLanes;O.pendingLanes=z,O.suspendedLanes=0,O.pingedLanes=0,O.warmLanes=0,O.expiredLanes&=z,O.entangledLanes&=z,O.errorRecoveryDisabledLanes&=z,O.shellSuspendCounter=0;var tt=O.entanglements,ht=O.expirationTimes,qt=O.hiddenUpdates;for(z=Ve&~z;0<z;){var dr=31-Wt(z),vr=1<<dr;tt[dr]=0,ht[dr]=-1;var Kt=qt[dr];if(Kt!==null)for(qt[dr]=null,dr=0;dr<Kt.length;dr++){var rr=Kt[dr];rr!==null&&(rr.lane&=-536870913)}z&=~vr}G!==0&&tn(O,G,0),je!==0&&pe===0&&O.tag!==0&&(O.suspendedLanes|=je&~(Ve&~M))}function tn(O,M,z){O.pendingLanes|=M,O.suspendedLanes&=~M;var G=31-Wt(M);O.entangledLanes|=M,O.entanglements[G]=O.entanglements[G]|1073741824|z&261930}function Mr(O,M){var z=O.entangledLanes|=M;for(O=O.entanglements;z;){var G=31-Wt(z),pe=1<<G;pe&M|O[G]&M&&(O[G]|=M),z&=~pe}}function Jr(O,M){var z=M&-M;return z=(z&42)!==0?1:mn(z),(z&(O.suspendedLanes|M))!==0?0:z}function mn(O){switch(O){case 2:O=1;break;case 8:O=4;break;case 32:O=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:O=128;break;case 268435456:O=134217728;break;default:O=0}return O}function Qt(O){return O&=-O,2<O?8<O?(O&134217727)!==0?32:268435456:8:2}function Pr(){var O=ut.p;return O!==0?O:(O=window.event,O===void 0?32:Lf(O.type))}function Fr(O,M){var z=ut.p;try{return ut.p=O,M()}finally{ut.p=z}}var Yr=Math.random().toString(36).slice(2),Tn="__reactFiber$"+Yr,Sn="__reactProps$"+Yr,Va="__reactContainer$"+Yr,Qa="__reactEvents$"+Yr,Dn="__reactListeners$"+Yr,ss="__reactHandles$"+Yr,$n="__reactResources$"+Yr,ea="__reactMarker$"+Yr;function Oa(O){delete O[Tn],delete O[Sn],delete O[Qa],delete O[Dn],delete O[ss]}function Gn(O){var M=O[Tn];if(M)return M;for(var z=O.parentNode;z;){if(M=z[Va]||z[Tn]){if(z=M.alternate,M.child!==null||z!==null&&z.child!==null)for(O=Ef(O);O!==null;){if(z=O[Tn])return z;O=Ef(O)}return M}O=z,z=O.parentNode}return null}function Da(O){if(O=O[Tn]||O[Va]){var M=O.tag;if(M===5||M===6||M===13||M===31||M===26||M===27||M===3)return O}return null}function Et(O){var M=O.tag;if(M===5||M===26||M===27||M===6)return O.stateNode;throw Error(T(33))}function pr(O){var M=O[$n];return M||(M=O[$n]={hoistableStyles:new Map,hoistableScripts:new Map}),M}function jr(O){O[ea]=!0}var wn=new Set,Bn={};function hn(O,M){Sa(O,M),Sa(O+"Capture",M)}function Sa(O,M){for(Bn[O]=M,O=0;O<M.length;O++)wn.add(M[O])}var va=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ya={},Ns={};function os(O){return Sr.call(Ns,O)?!0:Sr.call(ya,O)?!1:va.test(O)?Ns[O]=!0:(ya[O]=!0,!1)}function Gs(O,M,z){if(os(M))if(z===null)O.removeAttribute(M);else{switch(typeof z){case"undefined":case"function":case"symbol":O.removeAttribute(M);return;case"boolean":var G=M.toLowerCase().slice(0,5);if(G!=="data-"&&G!=="aria-"){O.removeAttribute(M);return}}O.setAttribute(M,""+z)}}function Ra(O,M,z){if(z===null)O.removeAttribute(M);else{switch(typeof z){case"undefined":case"function":case"symbol":case"boolean":O.removeAttribute(M);return}O.setAttribute(M,""+z)}}function xs(O,M,z,G){if(G===null)O.removeAttribute(z);else{switch(typeof G){case"undefined":case"function":case"symbol":case"boolean":O.removeAttribute(z);return}O.setAttributeNS(M,z,""+G)}}function ls(O){switch(typeof O){case"bigint":case"boolean":case"number":case"string":case"undefined":return O;case"object":return O;default:return""}}function Ks(O){var M=O.type;return(O=O.nodeName)&&O.toLowerCase()==="input"&&(M==="checkbox"||M==="radio")}function Kn(O,M,z){var G=Object.getOwnPropertyDescriptor(O.constructor.prototype,M);if(!O.hasOwnProperty(M)&&typeof G<"u"&&typeof G.get=="function"&&typeof G.set=="function"){var pe=G.get,je=G.set;return Object.defineProperty(O,M,{configurable:!0,get:function(){return pe.call(this)},set:function(Ve){z=""+Ve,je.call(this,Ve)}}),Object.defineProperty(O,M,{enumerable:G.enumerable}),{getValue:function(){return z},setValue:function(Ve){z=""+Ve},stopTracking:function(){O._valueTracker=null,delete O[M]}}}}function Nn(O){if(!O._valueTracker){var M=Ks(O)?"checked":"value";O._valueTracker=Kn(O,M,""+O[M])}}function ba(O){if(!O)return!1;var M=O._valueTracker;if(!M)return!0;var z=M.getValue(),G="";return O&&(G=Ks(O)?O.checked?"true":"false":O.value),O=G,O!==z?(M.setValue(O),!0):!1}function ma(O){if(O=O||(typeof document<"u"?document:void 0),typeof O>"u")return null;try{return O.activeElement||O.body}catch{return O.body}}var bs=/[\n"\\]/g;function Na(O){return O.replace(bs,function(M){return"\\"+M.charCodeAt(0).toString(16)+" "})}function wi(O,M,z,G,pe,je,Ve,tt){O.name="",Ve!=null&&typeof Ve!="function"&&typeof Ve!="symbol"&&typeof Ve!="boolean"?O.type=Ve:O.removeAttribute("type"),M!=null?Ve==="number"?(M===0&&O.value===""||O.value!=M)&&(O.value=""+ls(M)):O.value!==""+ls(M)&&(O.value=""+ls(M)):Ve!=="submit"&&Ve!=="reset"||O.removeAttribute("value"),M!=null?wt(O,Ve,ls(M)):z!=null?wt(O,Ve,ls(z)):G!=null&&O.removeAttribute("value"),pe==null&&je!=null&&(O.defaultChecked=!!je),pe!=null&&(O.checked=pe&&typeof pe!="function"&&typeof pe!="symbol"),tt!=null&&typeof tt!="function"&&typeof tt!="symbol"&&typeof tt!="boolean"?O.name=""+ls(tt):O.removeAttribute("name")}function ti(O,M,z,G,pe,je,Ve,tt){if(je!=null&&typeof je!="function"&&typeof je!="symbol"&&typeof je!="boolean"&&(O.type=je),M!=null||z!=null){if(!(je!=="submit"&&je!=="reset"||M!=null)){Nn(O);return}z=z!=null?""+ls(z):"",M=M!=null?""+ls(M):z,tt||M===O.value||(O.value=M),O.defaultValue=M}G=G??pe,G=typeof G!="function"&&typeof G!="symbol"&&!!G,O.checked=tt?O.checked:!!G,O.defaultChecked=!!G,Ve!=null&&typeof Ve!="function"&&typeof Ve!="symbol"&&typeof Ve!="boolean"&&(O.name=Ve),Nn(O)}function wt(O,M,z){M==="number"&&ma(O.ownerDocument)===O||O.defaultValue===""+z||(O.defaultValue=""+z)}function Lt(O,M,z,G){if(O=O.options,M){M={};for(var pe=0;pe<z.length;pe++)M["$"+z[pe]]=!0;for(z=0;z<O.length;z++)pe=M.hasOwnProperty("$"+O[z].value),O[z].selected!==pe&&(O[z].selected=pe),pe&&G&&(O[z].defaultSelected=!0)}else{for(z=""+ls(z),M=null,pe=0;pe<O.length;pe++){if(O[pe].value===z){O[pe].selected=!0,G&&(O[pe].defaultSelected=!0);return}M!==null||O[pe].disabled||(M=O[pe])}M!==null&&(M.selected=!0)}}function tr(O,M,z){if(M!=null&&(M=""+ls(M),M!==O.value&&(O.value=M),z==null)){O.defaultValue!==M&&(O.defaultValue=M);return}O.defaultValue=z!=null?""+ls(z):""}function Nr(O,M,z,G){if(M==null){if(G!=null){if(z!=null)throw Error(T(92));if(It(G)){if(1<G.length)throw Error(T(93));G=G[0]}z=G}z==null&&(z=""),M=z}z=ls(M),O.defaultValue=z,G=O.textContent,G===z&&G!==""&&G!==null&&(O.value=G),Nn(O)}function sr(O,M){if(M){var z=O.firstChild;if(z&&z===O.lastChild&&z.nodeType===3){z.nodeValue=M;return}}O.textContent=M}var lr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cr(O,M,z){var G=M.indexOf("--")===0;z==null||typeof z=="boolean"||z===""?G?O.setProperty(M,""):M==="float"?O.cssFloat="":O[M]="":G?O.setProperty(M,z):typeof z!="number"||z===0||lr.has(M)?M==="float"?O.cssFloat=z:O[M]=(""+z).trim():O[M]=z+"px"}function yr(O,M,z){if(M!=null&&typeof M!="object")throw Error(T(62));if(O=O.style,z!=null){for(var G in z)!z.hasOwnProperty(G)||M!=null&&M.hasOwnProperty(G)||(G.indexOf("--")===0?O.setProperty(G,""):G==="float"?O.cssFloat="":O[G]="");for(var pe in M)G=M[pe],M.hasOwnProperty(pe)&&z[pe]!==G&&cr(O,pe,G)}else for(var je in M)M.hasOwnProperty(je)&&cr(O,je,M[je])}function $r(O){if(O.indexOf("-")===-1)return!1;switch(O){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sn(O){return qr.test(""+O)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":O}function Jn(){}var Un=null;function wa(O){return O=O.target||O.srcElement||window,O.correspondingUseElement&&(O=O.correspondingUseElement),O.nodeType===3?O.parentNode:O}var Ha=null,Za=null;function Qn(O){var M=Da(O);if(M&&(O=M.stateNode)){var z=O[Sn]||null;e:switch(O=M.stateNode,M.type){case"input":if(wi(O,z.value,z.defaultValue,z.defaultValue,z.checked,z.defaultChecked,z.type,z.name),M=z.name,z.type==="radio"&&M!=null){for(z=O;z.parentNode;)z=z.parentNode;for(z=z.querySelectorAll('input[name="'+Na(""+M)+'"][type="radio"]'),M=0;M<z.length;M++){var G=z[M];if(G!==O&&G.form===O.form){var pe=G[Sn]||null;if(!pe)throw Error(T(90));wi(G,pe.value,pe.defaultValue,pe.defaultValue,pe.checked,pe.defaultChecked,pe.type,pe.name)}}for(M=0;M<z.length;M++)G=z[M],G.form===O.form&&ba(G)}break e;case"textarea":tr(O,z.value,z.defaultValue);break e;case"select":M=z.value,M!=null&&Lt(O,!!z.multiple,M,!1)}}}var ta=!1;function pa(O,M,z){if(ta)return O(M,z);ta=!0;try{var G=O(M);return G}finally{if(ta=!1,(Ha!==null||Za!==null)&&(rm(),Ha&&(M=Ha,O=Za,Za=Ha=null,Qn(M),O)))for(M=0;M<O.length;M++)Qn(O[M])}}function xn(O,M){var z=O.stateNode;if(z===null)return null;var G=z[Sn]||null;if(G===null)return null;z=G[M];e:switch(M){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(G=!G.disabled)||(O=O.type,G=!(O==="button"||O==="input"||O==="select"||O==="textarea")),O=!G;break e;default:O=!1}if(O)return null;if(z&&typeof z!="function")throw Error(T(231,M,typeof z));return z}var ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vr=!1;if(ca)try{var Ye={};Object.defineProperty(Ye,"passive",{get:function(){Vr=!0}}),window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,Ye)}catch{Vr=!1}var yt=null,vt=null,Gt=null;function br(){if(Gt)return Gt;var O,M=vt,z=M.length,G,pe="value"in yt?yt.value:yt.textContent,je=pe.length;for(O=0;O<z&&M[O]===pe[O];O++);var Ve=z-O;for(G=1;G<=Ve&&M[z-G]===pe[je-G];G++);return Gt=pe.slice(O,1<G?1-G:void 0)}function _r(O){var M=O.keyCode;return"charCode"in O?(O=O.charCode,O===0&&M===13&&(O=13)):O=M,O===10&&(O=13),32<=O||O===13?O:0}function Lr(){return!0}function Rn(){return!1}function Cn(O){function M(z,G,pe,je,Ve){this._reactName=z,this._targetInst=pe,this.type=G,this.nativeEvent=je,this.target=Ve,this.currentTarget=null;for(var tt in O)O.hasOwnProperty(tt)&&(z=O[tt],this[tt]=z?z(je):je[tt]);return this.isDefaultPrevented=(je.defaultPrevented!=null?je.defaultPrevented:je.returnValue===!1)?Lr:Rn,this.isPropagationStopped=Rn,this}return te(M.prototype,{preventDefault:function(){this.defaultPrevented=!0;var z=this.nativeEvent;z&&(z.preventDefault?z.preventDefault():typeof z.returnValue!="unknown"&&(z.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var z=this.nativeEvent;z&&(z.stopPropagation?z.stopPropagation():typeof z.cancelBubble!="unknown"&&(z.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),M}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(O){return O.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ra=Cn(zn),na=te({},zn,{view:0,detail:0}),Zn=Cn(na),Ia,_n,dn,Vn=te({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$l,button:0,buttons:0,relatedTarget:function(O){return O.relatedTarget===void 0?O.fromElement===O.srcElement?O.toElement:O.fromElement:O.relatedTarget},movementX:function(O){return"movementX"in O?O.movementX:(O!==dn&&(dn&&O.type==="mousemove"?(Ia=O.screenX-dn.screenX,_n=O.screenY-dn.screenY):_n=Ia=0,dn=O),Ia)},movementY:function(O){return"movementY"in O?O.movementY:_n}}),gi=Cn(Vn),Fc=te({},Vn,{dataTransfer:0}),Ku=Cn(Fc),Vu=te({},na,{relatedTarget:0}),pl=Cn(Vu),gu=te({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Wu=Cn(gu),yu=te({},zn,{clipboardData:function(O){return"clipboardData"in O?O.clipboardData:window.clipboardData}}),Fl=Cn(yu),Yu=te({},zn,{data:0}),ql=Cn(Yu),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ko={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hl(O){var M=this.nativeEvent;return M.getModifierState?M.getModifierState(O):(O=qc[O])?!!M[O]:!1}function $l(){return Hl}var Vo=te({},na,{key:function(O){if(O.key){var M=vu[O.key]||O.key;if(M!=="Unidentified")return M}return O.type==="keypress"?(O=_r(O),O===13?"Enter":String.fromCharCode(O)):O.type==="keydown"||O.type==="keyup"?Ko[O.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$l,charCode:function(O){return O.type==="keypress"?_r(O):0},keyCode:function(O){return O.type==="keydown"||O.type==="keyup"?O.keyCode:0},which:function(O){return O.type==="keypress"?_r(O):O.type==="keydown"||O.type==="keyup"?O.keyCode:0}}),Xu=Cn(Vo),Ju=te({},Vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bu=Cn(Ju),_s=te({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$l}),Wo=Cn(_s),Hc=te({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gl=Cn(Hc),Eu=te({},Vn,{deltaX:function(O){return"deltaX"in O?O.deltaX:"wheelDeltaX"in O?-O.wheelDeltaX:0},deltaY:function(O){return"deltaY"in O?O.deltaY:"wheelDeltaY"in O?-O.wheelDeltaY:"wheelDelta"in O?-O.wheelDelta:0},deltaZ:0,deltaMode:0}),_o=Cn(Eu),po=te({},zn,{newState:0,oldState:0}),hl=Cn(po),ho=[9,13,27,32],Es=ca&&"CompositionEvent"in window,Mi=null;ca&&"documentMode"in document&&(Mi=document.documentMode);var Ba=ca&&"TextEvent"in window&&!Mi,Ni=ca&&(!Es||Mi&&8<Mi&&11>=Mi),Kl=" ",Yo=!1;function $c(O,M){switch(O){case"keyup":return ho.indexOf(M.keyCode)!==-1;case"keydown":return M.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vl(O){return O=O.detail,typeof O=="object"&&"data"in O?O.data:null}var Ao=!1;function Wl(O,M){switch(O){case"compositionend":return Vl(M);case"keypress":return M.which!==32?null:(Yo=!0,Kl);case"textInput":return O=M.data,O===Kl&&Yo?null:O;default:return null}}function Yl(O,M){if(Ao)return O==="compositionend"||!Es&&$c(O,M)?(O=br(),Gt=vt=yt=null,Ao=!1,O):null;switch(O){case"paste":return null;case"keypress":if(!(M.ctrlKey||M.altKey||M.metaKey)||M.ctrlKey&&M.altKey){if(M.char&&1<M.char.length)return M.char;if(M.which)return String.fromCharCode(M.which)}return null;case"compositionend":return Ni&&M.locale!=="ko"?null:M.data;default:return null}}var yi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xl(O){var M=O&&O.nodeName&&O.nodeName.toLowerCase();return M==="input"?!!yi[O.type]:M==="textarea"}function gl(O,M,z,G){Ha?Za?Za.push(G):Za=[G]:Ha=G,M=cm(M,"onChange"),0<M.length&&(z=new ra("onChange","change",null,z,G),O.push({event:z,listeners:M}))}var Wi=null,go=null;function Jl(O){of(O,0)}function Co(O){var M=Et(O);if(ba(M))return O}function yl(O,M){if(O==="change")return M}var ys=!1;if(ca){var Gc;if(ca){var Yi="oninput"in document;if(!Yi){var Ql=document.createElement("div");Ql.setAttribute("oninput","return;"),Yi=typeof Ql.oninput=="function"}Gc=Yi}else Gc=!1;ys=Gc&&(!document.documentMode||9<document.documentMode)}function Zl(){Wi&&(Wi.detachEvent("onpropertychange",ec),go=Wi=null)}function ec(O){if(O.propertyName==="value"&&Co(go)){var M=[];gl(M,go,O,wa(O)),pa(Jl,M)}}function tc(O,M,z){O==="focusin"?(Zl(),Wi=M,go=z,Wi.attachEvent("onpropertychange",ec)):O==="focusout"&&Zl()}function vl(O){if(O==="selectionchange"||O==="keyup"||O==="keydown")return Co(go)}function yo(O,M){if(O==="click")return Co(M)}function ju(O,M){if(O==="input"||O==="change")return Co(M)}function To(O,M){return O===M&&(O!==0||1/O===1/M)||O!==O&&M!==M}var As=typeof Object.is=="function"?Object.is:To;function _i(O,M){if(As(O,M))return!0;if(typeof O!="object"||O===null||typeof M!="object"||M===null)return!1;var z=Object.keys(O),G=Object.keys(M);if(z.length!==G.length)return!1;for(G=0;G<z.length;G++){var pe=z[G];if(!Sr.call(M,pe)||!As(O[pe],M[pe]))return!1}return!0}function Oo(O){for(;O&&O.firstChild;)O=O.firstChild;return O}function vo(O,M){var z=Oo(O);O=0;for(var G;z;){if(z.nodeType===3){if(G=O+z.textContent.length,O<=M&&G>=M)return{node:z,offset:M-O};O=G}e:{for(;z;){if(z.nextSibling){z=z.nextSibling;break e}z=z.parentNode}z=void 0}z=Oo(z)}}function bo(O,M){return O&&M?O===M?!0:O&&O.nodeType===3?!1:M&&M.nodeType===3?bo(O,M.parentNode):"contains"in O?O.contains(M):O.compareDocumentPosition?!!(O.compareDocumentPosition(M)&16):!1:!1}function rc(O){O=O!=null&&O.ownerDocument!=null&&O.ownerDocument.defaultView!=null?O.ownerDocument.defaultView:window;for(var M=ma(O.document);M instanceof O.HTMLIFrameElement;){try{var z=typeof M.contentWindow.location.href=="string"}catch{z=!1}if(z)O=M.contentWindow;else break;M=ma(O.document)}return M}function nc(O){var M=O&&O.nodeName&&O.nodeName.toLowerCase();return M&&(M==="input"&&(O.type==="text"||O.type==="search"||O.type==="tel"||O.type==="url"||O.type==="password")||M==="textarea"||O.contentEditable==="true")}var Do=ca&&"documentMode"in document&&11>=document.documentMode,Li=null,Xo=null,Ai=null,Jo=!1;function Kc(O,M,z){var G=z.window===z?z.document:z.nodeType===9?z:z.ownerDocument;Jo||Li==null||Li!==ma(G)||(G=Li,"selectionStart"in G&&nc(G)?G={start:G.selectionStart,end:G.selectionEnd}:(G=(G.ownerDocument&&G.ownerDocument.defaultView||window).getSelection(),G={anchorNode:G.anchorNode,anchorOffset:G.anchorOffset,focusNode:G.focusNode,focusOffset:G.focusOffset}),Ai&&_i(Ai,G)||(Ai=G,G=cm(Xo,"onSelect"),0<G.length&&(M=new ra("onSelect","select",null,M,z),O.push({event:M,listeners:G}),M.target=Li)))}function Ms(O,M){var z={};return z[O.toLowerCase()]=M.toLowerCase(),z["Webkit"+O]="webkit"+M,z["Moz"+O]="moz"+M,z}var Xi={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},bl={},ae={};ca&&(ae=document.createElement("div").style,"AnimationEvent"in window||(delete Xi.animationend.animation,delete Xi.animationiteration.animation,delete Xi.animationstart.animation),"TransitionEvent"in window||delete Xi.transitionend.transition);function ue(O){if(bl[O])return bl[O];if(!Xi[O])return O;var M=Xi[O],z;for(z in M)if(M.hasOwnProperty(z)&&z in ae)return bl[O]=M[z];return O}var _e=ue("animationend"),ze=ue("animationiteration"),We=ue("animationstart"),at=ue("transitionrun"),dt=ue("transitionstart"),Vt=ue("transitioncancel"),bt=ue("transitionend"),Yt=new Map,hr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hr.push("scrollEnd");function ar(O,M){Yt.set(O,M),hn(M,[O])}var Dr=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},on=[],Xn=0,Mn=0;function In(){for(var O=Xn,M=Mn=Xn=0;M<O;){var z=on[M];on[M++]=null;var G=on[M];on[M++]=null;var pe=on[M];on[M++]=null;var je=on[M];if(on[M++]=null,G!==null&&pe!==null){var Ve=G.pending;Ve===null?pe.next=pe:(pe.next=Ve.next,Ve.next=pe),G.pending=pe}je!==0&&Wa(z,pe,je)}}function On(O,M,z,G){on[Xn++]=O,on[Xn++]=M,on[Xn++]=z,on[Xn++]=G,Mn|=G,O.lanes|=G,O=O.alternate,O!==null&&(O.lanes|=G)}function Fn(O,M,z,G){return On(O,M,z,G),ia(O)}function Ea(O,M){return On(O,null,null,M),ia(O)}function Wa(O,M,z){O.lanes|=z;var G=O.alternate;G!==null&&(G.lanes|=z);for(var pe=!1,je=O.return;je!==null;)je.childLanes|=z,G=je.alternate,G!==null&&(G.childLanes|=z),je.tag===22&&(O=je.stateNode,O===null||O._visibility&1||(pe=!0)),O=je,je=je.return;return O.tag===3?(je=O.stateNode,pe&&M!==null&&(pe=31-Wt(z),O=je.hiddenUpdates,G=O[pe],G===null?O[pe]=[M]:G.push(M),M.lane=z|536870912),je):null}function ia(O){if(50<Nd)throw Nd=0,Mm=null,Error(T(185));for(var M=O.return;M!==null;)O=M,M=O.return;return O.tag===3?O.stateNode:null}var oa={};function da(O,M,z,G){this.tag=O,this.key=z,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=M,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=G,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ua(O,M,z,G){return new da(O,M,z,G)}function ua(O){return O=O.prototype,!(!O||!O.isReactComponent)}function cs(O,M){var z=O.alternate;return z===null?(z=Ua(O.tag,M,O.key,O.mode),z.elementType=O.elementType,z.type=O.type,z.stateNode=O.stateNode,z.alternate=O,O.alternate=z):(z.pendingProps=M,z.type=O.type,z.flags=0,z.subtreeFlags=0,z.deletions=null),z.flags=O.flags&65011712,z.childLanes=O.childLanes,z.lanes=O.lanes,z.child=O.child,z.memoizedProps=O.memoizedProps,z.memoizedState=O.memoizedState,z.updateQueue=O.updateQueue,M=O.dependencies,z.dependencies=M===null?null:{lanes:M.lanes,firstContext:M.firstContext},z.sibling=O.sibling,z.index=O.index,z.ref=O.ref,z.refCleanup=O.refCleanup,z}function ja(O,M){O.flags&=65011714;var z=O.alternate;return z===null?(O.childLanes=0,O.lanes=M,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=z.childLanes,O.lanes=z.lanes,O.child=z.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=z.memoizedProps,O.memoizedState=z.memoizedState,O.updateQueue=z.updateQueue,O.type=z.type,M=z.dependencies,O.dependencies=M===null?null:{lanes:M.lanes,firstContext:M.firstContext}),O}function es(O,M,z,G,pe,je){var Ve=0;if(G=O,typeof O=="function")ua(O)&&(Ve=1);else if(typeof O=="string")Ve=Dp(O,z,Ar.current)?26:O==="html"||O==="head"||O==="body"?27:5;else e:switch(O){case gt:return O=Ua(31,z,M,pe),O.elementType=gt,O.lanes=je,O;case Be:return $a(z.children,pe,je,M);case Le:Ve=8,pe|=24;break;case qe:return O=Ua(12,z,M,pe|2),O.elementType=qe,O.lanes=je,O;case He:return O=Ua(13,z,M,pe),O.elementType=He,O.lanes=je,O;case Qe:return O=Ua(19,z,M,pe),O.elementType=Qe,O.lanes=je,O;default:if(typeof O=="object"&&O!==null)switch(O.$$typeof){case $e:Ve=10;break e;case Ge:Ve=9;break e;case Xe:Ve=11;break e;case st:Ve=14;break e;case ct:Ve=16,G=null;break e}Ve=29,z=Error(T(130,O===null?"null":typeof O,"")),G=null}return M=Ua(Ve,z,M,pe),M.elementType=O,M.type=G,M.lanes=je,M}function $a(O,M,z,G){return O=Ua(7,O,G,M),O.lanes=z,O}function za(O,M,z){return O=Ua(6,O,null,M),O.lanes=z,O}function Ls(O){var M=Ua(18,null,null,0);return M.stateNode=O,M}function Ji(O,M,z){return M=Ua(4,O.children!==null?O.children:[],O.key,M),M.lanes=z,M.stateNode={containerInfo:O.containerInfo,pendingChildren:null,implementation:O.implementation},M}var ri=new WeakMap;function Bs(O,M){if(typeof O=="object"&&O!==null){var z=ri.get(O);return z!==void 0?z:(M={value:O,source:M,stack:nn(M)},ri.set(O,M),M)}return{value:O,source:M,stack:nn(M)}}var Ci=[],us=0,Vs=null,Ws=0,rs=[],fs=0,Ys=null,Pa=1,Us="";function li(O,M){Ci[us++]=Ws,Ci[us++]=Vs,Vs=O,Ws=M}function ac(O,M,z){rs[fs++]=Pa,rs[fs++]=Us,rs[fs++]=Ys,Ys=O;var G=Pa;O=Us;var pe=32-Wt(G)-1;G&=~(1<<pe),z+=1;var je=32-Wt(M)+pe;if(30<je){var Ve=pe-pe%5;je=(G&(1<<Ve)-1).toString(32),G>>=Ve,pe-=Ve,Pa=1<<32-Wt(M)+pe|z<<pe|G,Us=je+O}else Pa=1<<je|z<<pe|G,Us=O}function El(O){O.return!==null&&(li(O,1),ac(O,1,0))}function sc(O){for(;O===Vs;)Vs=Ci[--us],Ci[us]=null,Ws=Ci[--us],Ci[us]=null;for(;O===Ys;)Ys=rs[--fs],rs[fs]=null,Us=rs[--fs],rs[fs]=null,Pa=rs[--fs],rs[fs]=null}function ic(O,M){rs[fs++]=Pa,rs[fs++]=Us,rs[fs++]=Ys,Pa=M.id,Us=M.overflow,Ys=O}var ds=null,Fa=null,Wn=!1,Cs=null,js=!1,Qo=Error(T(519));function Xs(O){var M=Error(T(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qi(Bs(M,O)),Qo}function oc(O){var M=O.stateNode,z=O.type,G=O.memoizedProps;switch(M[Tn]=O,M[Sn]=G,z){case"dialog":fa("cancel",M),fa("close",M);break;case"iframe":case"object":case"embed":fa("load",M);break;case"video":case"audio":for(z=0;z<Ad.length;z++)fa(Ad[z],M);break;case"source":fa("error",M);break;case"img":case"image":case"link":fa("error",M),fa("load",M);break;case"details":fa("toggle",M);break;case"input":fa("invalid",M),ti(M,G.value,G.defaultValue,G.checked,G.defaultChecked,G.type,G.name,!0);break;case"select":fa("invalid",M);break;case"textarea":fa("invalid",M),Nr(M,G.value,G.defaultValue,G.children)}z=G.children,typeof z!="string"&&typeof z!="number"&&typeof z!="bigint"||M.textContent===""+z||G.suppressHydrationWarning===!0||df(M.textContent,z)?(G.popover!=null&&(fa("beforetoggle",M),fa("toggle",M)),G.onScroll!=null&&fa("scroll",M),G.onScrollEnd!=null&&fa("scrollend",M),G.onClick!=null&&(M.onclick=Jn),M=!0):M=!1,M||Xs(O,!0)}function ci(O){for(ds=O.return;ds;)switch(ds.tag){case 5:case 31:case 13:js=!1;return;case 27:case 3:js=!0;return;default:ds=ds.return}}function Bi(O){if(O!==ds)return!1;if(!Wn)return ci(O),Wn=!0,!1;var M=O.tag,z;if((z=M!==3&&M!==27)&&((z=M===5)&&(z=O.type,z=!(z!=="form"&&z!=="button")||Jm(O.type,O.memoizedProps)),z=!z),z&&Fa&&Xs(O),ci(O),M===13){if(O=O.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(T(317));Fa=bf(O)}else if(M===31){if(O=O.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(T(317));Fa=bf(O)}else M===27?(M=Fa,kc(O.type)?(O=rx,rx=null,Fa=O):Fa=M):Fa=ds?wo(O.stateNode.nextSibling):null;return!0}function vi(){Fa=ds=null,Wn=!1}function Eo(){var O=Cs;return O!==null&&(Ki===null?Ki=O:Ki.push.apply(Ki,O),Cs=null),O}function Qi(O){Cs===null?Cs=[O]:Cs.push(O)}var Ti=nt(null),Zi=null,Ma=null;function Js(O,M,z){Zt(Ti,M._currentValue),M._currentValue=z}function ni(O){O._currentValue=Ti.current,kt(Ti)}function Ui(O,M,z){for(;O!==null;){var G=O.alternate;if((O.childLanes&M)!==M?(O.childLanes|=M,G!==null&&(G.childLanes|=M)):G!==null&&(G.childLanes&M)!==M&&(G.childLanes|=M),O===z)break;O=O.return}}function Zo(O,M,z,G){var pe=O.child;for(pe!==null&&(pe.return=O);pe!==null;){var je=pe.dependencies;if(je!==null){var Ve=pe.child;je=je.firstContext;e:for(;je!==null;){var tt=je;je=pe;for(var ht=0;ht<M.length;ht++)if(tt.context===M[ht]){je.lanes|=z,tt=je.alternate,tt!==null&&(tt.lanes|=z),Ui(je.return,z,O),G||(Ve=null);break e}je=tt.next}}else if(pe.tag===18){if(Ve=pe.return,Ve===null)throw Error(T(341));Ve.lanes|=z,je=Ve.alternate,je!==null&&(je.lanes|=z),Ui(Ve,z,O),Ve=null}else Ve=pe.child;if(Ve!==null)Ve.return=pe;else for(Ve=pe;Ve!==null;){if(Ve===O){Ve=null;break}if(pe=Ve.sibling,pe!==null){pe.return=Ve.return,Ve=pe;break}Ve=Ve.return}pe=Ve}}function Ts(O,M,z,G){O=null;for(var pe=M,je=!1;pe!==null;){if(!je){if((pe.flags&524288)!==0)je=!0;else if((pe.flags&262144)!==0)break}if(pe.tag===10){var Ve=pe.alternate;if(Ve===null)throw Error(T(387));if(Ve=Ve.memoizedProps,Ve!==null){var tt=pe.type;As(pe.pendingProps.value,Ve.value)||(O!==null?O.push(tt):O=[tt])}}else if(pe===Ct.current){if(Ve=pe.alternate,Ve===null)throw Error(T(387));Ve.memoizedState.memoizedState!==pe.memoizedState.memoizedState&&(O!==null?O.push(Id):O=[Id])}pe=pe.return}O!==null&&Zo(M,O,z,G),M.flags|=262144}function Oi(O){for(O=O.firstContext;O!==null;){if(!As(O.context._currentValue,O.memoizedValue))return!0;O=O.next}return!1}function ui(O){Zi=O,Ma=null,O=O.dependencies,O!==null&&(O.firstContext=null)}function _a(O){return Io(Zi,O)}function ps(O,M){return Zi===null&&ui(O),Io(O,M)}function Io(O,M){var z=M._currentValue;if(M={context:M,memoizedValue:z,next:null},Ma===null){if(O===null)throw Error(T(308));Ma=M,O.dependencies={lanes:0,firstContext:M},O.flags|=524288}else Ma=Ma.next=M;return z}var zs=typeof AbortController<"u"?AbortController:function(){var O=[],M=this.signal={aborted:!1,addEventListener:function(z,G){O.push(G)}};this.abort=function(){M.aborted=!0,O.forEach(function(z){return z()})}},Vc=b.unstable_scheduleCallback,jl=b.unstable_NormalPriority,Ya={$$typeof:$e,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lc(){return{controller:new zs,data:new Map,refCount:0}}function el(O){O.refCount--,O.refCount===0&&Vc(jl,function(){O.controller.abort()})}var di=null,eo=0,mi=0,ns=null;function tl(O,M){if(di===null){var z=di=[];eo=0,mi=qm(),ns={status:"pending",value:void 0,then:function(G){z.push(G)}}}return eo++,M.then(Po,Po),M}function Po(){if(--eo===0&&di!==null){ns!==null&&(ns.status="fulfilled");var O=di;di=null,mi=0,ns=null;for(var M=0;M<O.length;M++)(0,O[M])()}}function cc(O,M){var z=[],G={status:"pending",value:null,reason:null,then:function(pe){z.push(pe)}};return O.then(function(){G.status="fulfilled",G.value=M;for(var pe=0;pe<z.length;pe++)(0,z[pe])(M)},function(pe){for(G.status="rejected",G.reason=pe,pe=0;pe<z.length;pe++)(0,z[pe])(void 0)}),G}var Sl=Je.S;Je.S=function(O,M){Ix=vn(),typeof M=="object"&&M!==null&&typeof M.then=="function"&&tl(O,M),Sl!==null&&Sl(O,M)};var ro=nt(null);function rl(){var O=ro.current;return O!==null?O:ts.pooledCache}function nl(O,M){M===null?Zt(ro,ro.current):Zt(ro,M.pool)}function as(){var O=rl();return O===null?null:{parent:Ya._currentValue,pool:O}}var no=Error(T(460)),jo=Error(T(474)),ao=Error(T(542)),So={then:function(){}};function Rl(O){return O=O.status,O==="fulfilled"||O==="rejected"}function al(O,M,z){switch(z=O[z],z===void 0?O.push(M):z!==M&&(M.then(Jn,Jn),M=z),M.status){case"fulfilled":return M.value;case"rejected":throw O=M.reason,uc(O),O;default:if(typeof M.status=="string")M.then(Jn,Jn);else{if(O=ts,O!==null&&100<O.shellSuspendCounter)throw Error(T(482));O=M,O.status="pending",O.then(function(G){if(M.status==="pending"){var pe=M;pe.status="fulfilled",pe.value=G}},function(G){if(M.status==="pending"){var pe=M;pe.status="rejected",pe.reason=G}})}switch(M.status){case"fulfilled":return M.value;case"rejected":throw O=M.reason,uc(O),O}throw Qs=M,no}}function Di(O){try{var M=O._init;return M(O._payload)}catch(z){throw z!==null&&typeof z=="object"&&typeof z.then=="function"?(Qs=z,no):z}}var Qs=null;function ai(){if(Qs===null)throw Error(T(459));var O=Qs;return Qs=null,O}function uc(O){if(O===no||O===ao)throw Error(T(483))}var xi=null,ko=0;function bi(O){var M=ko;return ko+=1,xi===null&&(xi=[]),al(xi,O,M)}function Ii(O,M){M=M.props.ref,O.ref=M!==void 0?M:null}function Ei(O,M){throw M.$$typeof===xe?Error(T(525)):(O=Object.prototype.toString.call(M),Error(T(31,O==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":O)))}function Mo(O){function M(Dt,St){if(O){var Ut=Dt.deletions;Ut===null?(Dt.deletions=[St],Dt.flags|=16):Ut.push(St)}}function z(Dt,St){if(!O)return null;for(;St!==null;)M(Dt,St),St=St.sibling;return null}function G(Dt){for(var St=new Map;Dt!==null;)Dt.key!==null?St.set(Dt.key,Dt):St.set(Dt.index,Dt),Dt=Dt.sibling;return St}function pe(Dt,St){return Dt=cs(Dt,St),Dt.index=0,Dt.sibling=null,Dt}function je(Dt,St,Ut){return Dt.index=Ut,O?(Ut=Dt.alternate,Ut!==null?(Ut=Ut.index,Ut<St?(Dt.flags|=67108866,St):Ut):(Dt.flags|=67108866,St)):(Dt.flags|=1048576,St)}function Ve(Dt){return O&&Dt.alternate===null&&(Dt.flags|=67108866),Dt}function tt(Dt,St,Ut,fr){return St===null||St.tag!==6?(St=za(Ut,Dt.mode,fr),St.return=Dt,St):(St=pe(St,Ut),St.return=Dt,St)}function ht(Dt,St,Ut,fr){var jn=Ut.type;return jn===Be?dr(Dt,St,Ut.props.children,fr,Ut.key):St!==null&&(St.elementType===jn||typeof jn=="object"&&jn!==null&&jn.$$typeof===ct&&Di(jn)===St.type)?(St=pe(St,Ut.props),Ii(St,Ut),St.return=Dt,St):(St=es(Ut.type,Ut.key,Ut.props,null,Dt.mode,fr),Ii(St,Ut),St.return=Dt,St)}function qt(Dt,St,Ut,fr){return St===null||St.tag!==4||St.stateNode.containerInfo!==Ut.containerInfo||St.stateNode.implementation!==Ut.implementation?(St=Ji(Ut,Dt.mode,fr),St.return=Dt,St):(St=pe(St,Ut.children||[]),St.return=Dt,St)}function dr(Dt,St,Ut,fr,jn){return St===null||St.tag!==7?(St=$a(Ut,Dt.mode,fr,jn),St.return=Dt,St):(St=pe(St,Ut),St.return=Dt,St)}function vr(Dt,St,Ut){if(typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint")return St=za(""+St,Dt.mode,Ut),St.return=Dt,St;if(typeof St=="object"&&St!==null){switch(St.$$typeof){case fe:return Ut=es(St.type,St.key,St.props,null,Dt.mode,Ut),Ii(Ut,St),Ut.return=Dt,Ut;case ye:return St=Ji(St,Dt.mode,Ut),St.return=Dt,St;case ct:return St=Di(St),vr(Dt,St,Ut)}if(It(St)||Tt(St))return St=$a(St,Dt.mode,Ut,null),St.return=Dt,St;if(typeof St.then=="function")return vr(Dt,bi(St),Ut);if(St.$$typeof===$e)return vr(Dt,ps(Dt,St),Ut);Ei(Dt,St)}return null}function Kt(Dt,St,Ut,fr){var jn=St!==null?St.key:null;if(typeof Ut=="string"&&Ut!==""||typeof Ut=="number"||typeof Ut=="bigint")return jn!==null?null:tt(Dt,St,""+Ut,fr);if(typeof Ut=="object"&&Ut!==null){switch(Ut.$$typeof){case fe:return Ut.key===jn?ht(Dt,St,Ut,fr):null;case ye:return Ut.key===jn?qt(Dt,St,Ut,fr):null;case ct:return Ut=Di(Ut),Kt(Dt,St,Ut,fr)}if(It(Ut)||Tt(Ut))return jn!==null?null:dr(Dt,St,Ut,fr,null);if(typeof Ut.then=="function")return Kt(Dt,St,bi(Ut),fr);if(Ut.$$typeof===$e)return Kt(Dt,St,ps(Dt,Ut),fr);Ei(Dt,Ut)}return null}function rr(Dt,St,Ut,fr,jn){if(typeof fr=="string"&&fr!==""||typeof fr=="number"||typeof fr=="bigint")return Dt=Dt.get(Ut)||null,tt(St,Dt,""+fr,jn);if(typeof fr=="object"&&fr!==null){switch(fr.$$typeof){case fe:return Dt=Dt.get(fr.key===null?Ut:fr.key)||null,ht(St,Dt,fr,jn);case ye:return Dt=Dt.get(fr.key===null?Ut:fr.key)||null,qt(St,Dt,fr,jn);case ct:return fr=Di(fr),rr(Dt,St,Ut,fr,jn)}if(It(fr)||Tt(fr))return Dt=Dt.get(Ut)||null,dr(St,Dt,fr,jn,null);if(typeof fr.then=="function")return rr(Dt,St,Ut,bi(fr),jn);if(fr.$$typeof===$e)return rr(Dt,St,Ut,ps(St,fr),jn);Ei(St,fr)}return null}function cn(Dt,St,Ut,fr){for(var jn=null,Ca=null,fn=St,aa=St=0,ga=null;fn!==null&&aa<Ut.length;aa++){fn.index>aa?(ga=fn,fn=null):ga=fn.sibling;var Ta=Kt(Dt,fn,Ut[aa],fr);if(Ta===null){fn===null&&(fn=ga);break}O&&fn&&Ta.alternate===null&&M(Dt,fn),St=je(Ta,St,aa),Ca===null?jn=Ta:Ca.sibling=Ta,Ca=Ta,fn=ga}if(aa===Ut.length)return z(Dt,fn),Wn&&li(Dt,aa),jn;if(fn===null){for(;aa<Ut.length;aa++)fn=vr(Dt,Ut[aa],fr),fn!==null&&(St=je(fn,St,aa),Ca===null?jn=fn:Ca.sibling=fn,Ca=fn);return Wn&&li(Dt,aa),jn}for(fn=G(fn);aa<Ut.length;aa++)ga=rr(fn,Dt,aa,Ut[aa],fr),ga!==null&&(O&&ga.alternate!==null&&fn.delete(ga.key===null?aa:ga.key),St=je(ga,St,aa),Ca===null?jn=ga:Ca.sibling=ga,Ca=ga);return O&&fn.forEach(function(zc){return M(Dt,zc)}),Wn&&li(Dt,aa),jn}function An(Dt,St,Ut,fr){if(Ut==null)throw Error(T(151));for(var jn=null,Ca=null,fn=St,aa=St=0,ga=null,Ta=Ut.next();fn!==null&&!Ta.done;aa++,Ta=Ut.next()){fn.index>aa?(ga=fn,fn=null):ga=fn.sibling;var zc=Kt(Dt,fn,Ta.value,fr);if(zc===null){fn===null&&(fn=ga);break}O&&fn&&zc.alternate===null&&M(Dt,fn),St=je(zc,St,aa),Ca===null?jn=zc:Ca.sibling=zc,Ca=zc,fn=ga}if(Ta.done)return z(Dt,fn),Wn&&li(Dt,aa),jn;if(fn===null){for(;!Ta.done;aa++,Ta=Ut.next())Ta=vr(Dt,Ta.value,fr),Ta!==null&&(St=je(Ta,St,aa),Ca===null?jn=Ta:Ca.sibling=Ta,Ca=Ta);return Wn&&li(Dt,aa),jn}for(fn=G(fn);!Ta.done;aa++,Ta=Ut.next())Ta=rr(fn,Dt,aa,Ta.value,fr),Ta!==null&&(O&&Ta.alternate!==null&&fn.delete(Ta.key===null?aa:Ta.key),St=je(Ta,St,aa),Ca===null?jn=Ta:Ca.sibling=Ta,Ca=Ta);return O&&fn.forEach(function(Hp){return M(Dt,Hp)}),Wn&&li(Dt,aa),jn}function Ja(Dt,St,Ut,fr){if(typeof Ut=="object"&&Ut!==null&&Ut.type===Be&&Ut.key===null&&(Ut=Ut.props.children),typeof Ut=="object"&&Ut!==null){switch(Ut.$$typeof){case fe:e:{for(var jn=Ut.key;St!==null;){if(St.key===jn){if(jn=Ut.type,jn===Be){if(St.tag===7){z(Dt,St.sibling),fr=pe(St,Ut.props.children),fr.return=Dt,Dt=fr;break e}}else if(St.elementType===jn||typeof jn=="object"&&jn!==null&&jn.$$typeof===ct&&Di(jn)===St.type){z(Dt,St.sibling),fr=pe(St,Ut.props),Ii(fr,Ut),fr.return=Dt,Dt=fr;break e}z(Dt,St);break}else M(Dt,St);St=St.sibling}Ut.type===Be?(fr=$a(Ut.props.children,Dt.mode,fr,Ut.key),fr.return=Dt,Dt=fr):(fr=es(Ut.type,Ut.key,Ut.props,null,Dt.mode,fr),Ii(fr,Ut),fr.return=Dt,Dt=fr)}return Ve(Dt);case ye:e:{for(jn=Ut.key;St!==null;){if(St.key===jn)if(St.tag===4&&St.stateNode.containerInfo===Ut.containerInfo&&St.stateNode.implementation===Ut.implementation){z(Dt,St.sibling),fr=pe(St,Ut.children||[]),fr.return=Dt,Dt=fr;break e}else{z(Dt,St);break}else M(Dt,St);St=St.sibling}fr=Ji(Ut,Dt.mode,fr),fr.return=Dt,Dt=fr}return Ve(Dt);case ct:return Ut=Di(Ut),Ja(Dt,St,Ut,fr)}if(It(Ut))return cn(Dt,St,Ut,fr);if(Tt(Ut)){if(jn=Tt(Ut),typeof jn!="function")throw Error(T(150));return Ut=jn.call(Ut),An(Dt,St,Ut,fr)}if(typeof Ut.then=="function")return Ja(Dt,St,bi(Ut),fr);if(Ut.$$typeof===$e)return Ja(Dt,St,ps(Dt,Ut),fr);Ei(Dt,Ut)}return typeof Ut=="string"&&Ut!==""||typeof Ut=="number"||typeof Ut=="bigint"?(Ut=""+Ut,St!==null&&St.tag===6?(z(Dt,St.sibling),fr=pe(St,Ut),fr.return=Dt,Dt=fr):(z(Dt,St),fr=za(Ut,Dt.mode,fr),fr.return=Dt,Dt=fr),Ve(Dt)):z(Dt,St)}return function(Dt,St,Ut,fr){try{ko=0;var jn=Ja(Dt,St,Ut,fr);return xi=null,jn}catch(fn){if(fn===no||fn===ao)throw fn;var Ca=Ua(29,fn,null,Dt.mode);return Ca.lanes=fr,Ca.return=Dt,Ca}finally{}}}var Zs=Mo(!0),dc=Mo(!1),zi=!1;function Pi(O){O.updateQueue={baseState:O.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lo(O,M){O=O.updateQueue,M.updateQueue===O&&(M.updateQueue={baseState:O.baseState,firstBaseUpdate:O.firstBaseUpdate,lastBaseUpdate:O.lastBaseUpdate,shared:O.shared,callbacks:null})}function si(O){return{lane:O,tag:0,payload:null,callback:null,next:null}}function Fs(O,M,z){var G=O.updateQueue;if(G===null)return null;if(G=G.shared,(La&2)!==0){var pe=G.pending;return pe===null?M.next=M:(M.next=pe.next,pe.next=M),G.pending=M,M=ia(O),Wa(O,null,z),M}return On(O,G,M,z),ia(O)}function ji(O,M,z){if(M=M.updateQueue,M!==null&&(M=M.shared,(z&4194048)!==0)){var G=M.lanes;G&=O.pendingLanes,z|=G,M.lanes=z,Mr(O,z)}}function ii(O,M){var z=O.updateQueue,G=O.alternate;if(G!==null&&(G=G.updateQueue,z===G)){var pe=null,je=null;if(z=z.firstBaseUpdate,z!==null){do{var Ve={lane:z.lane,tag:z.tag,payload:z.payload,callback:null,next:null};je===null?pe=je=Ve:je=je.next=Ve,z=z.next}while(z!==null);je===null?pe=je=M:je=je.next=M}else pe=je=M;z={baseState:G.baseState,firstBaseUpdate:pe,lastBaseUpdate:je,shared:G.shared,callbacks:G.callbacks},O.updateQueue=z;return}O=z.lastBaseUpdate,O===null?z.firstBaseUpdate=M:O.next=M,z.lastBaseUpdate=M}var sl=!1;function Bo(){if(sl){var O=ns;if(O!==null)throw O}}function Fi(O,M,z,G){sl=!1;var pe=O.updateQueue;zi=!1;var je=pe.firstBaseUpdate,Ve=pe.lastBaseUpdate,tt=pe.shared.pending;if(tt!==null){pe.shared.pending=null;var ht=tt,qt=ht.next;ht.next=null,Ve===null?je=qt:Ve.next=qt,Ve=ht;var dr=O.alternate;dr!==null&&(dr=dr.updateQueue,tt=dr.lastBaseUpdate,tt!==Ve&&(tt===null?dr.firstBaseUpdate=qt:tt.next=qt,dr.lastBaseUpdate=ht))}if(je!==null){var vr=pe.baseState;Ve=0,dr=qt=ht=null,tt=je;do{var Kt=tt.lane&-536870913,rr=Kt!==tt.lane;if(rr?(ha&Kt)===Kt:(G&Kt)===Kt){Kt!==0&&Kt===mi&&(sl=!0),dr!==null&&(dr=dr.next={lane:0,tag:tt.tag,payload:tt.payload,callback:null,next:null});e:{var cn=O,An=tt;Kt=M;var Ja=z;switch(An.tag){case 1:if(cn=An.payload,typeof cn=="function"){vr=cn.call(Ja,vr,Kt);break e}vr=cn;break e;case 3:cn.flags=cn.flags&-65537|128;case 0:if(cn=An.payload,Kt=typeof cn=="function"?cn.call(Ja,vr,Kt):cn,Kt==null)break e;vr=te({},vr,Kt);break e;case 2:zi=!0}}Kt=tt.callback,Kt!==null&&(O.flags|=64,rr&&(O.flags|=8192),rr=pe.callbacks,rr===null?pe.callbacks=[Kt]:rr.push(Kt))}else rr={lane:Kt,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null},dr===null?(qt=dr=rr,ht=vr):dr=dr.next=rr,Ve|=Kt;if(tt=tt.next,tt===null){if(tt=pe.shared.pending,tt===null)break;rr=tt,tt=rr.next,rr.next=null,pe.lastBaseUpdate=rr,pe.shared.pending=null}}while(!0);dr===null&&(ht=vr),pe.baseState=ht,pe.firstBaseUpdate=qt,pe.lastBaseUpdate=dr,je===null&&(pe.shared.lanes=0),Tc|=Ve,O.lanes=Ve,O.memoizedState=vr}}function ne(O,M){if(typeof O!="function")throw Error(T(191,O));O.call(M)}function oe(O,M){var z=O.callbacks;if(z!==null)for(O.callbacks=null,O=0;O<z.length;O++)ne(z[O],M)}var Ne=nt(null),Ue=nt(0);function Ke(O,M){O=Bl,Zt(Ue,O),Zt(Ne,M),Bl=O|M.baseLanes}function Ze(){Zt(Ue,Bl),Zt(Ne,Ne.current)}function ot(){Bl=Ue.current,kt(Ne),kt(Ue)}var Rt=nt(null),xt=null;function _t(O){var M=O.alternate;Zt(gn,gn.current&1),Zt(Rt,O),xt===null&&(M===null||Ne.current!==null||M.memoizedState!==null)&&(xt=O)}function Ht(O){Zt(gn,gn.current),Zt(Rt,O),xt===null&&(xt=O)}function Jt(O){O.tag===22?(Zt(gn,gn.current),Zt(Rt,O),xt===null&&(xt=O)):Cr()}function Cr(){Zt(gn,gn.current),Zt(Rt,Rt.current)}function Tr(O){kt(Rt),xt===O&&(xt=null),kt(gn)}var gn=nt(0);function qn(O){for(var M=O;M!==null;){if(M.tag===13){var z=M.memoizedState;if(z!==null&&(z=z.dehydrated,z===null||ex(z)||tx(z)))return M}else if(M.tag===19&&(M.memoizedProps.revealOrder==="forwards"||M.memoizedProps.revealOrder==="backwards"||M.memoizedProps.revealOrder==="unstable_legacy-backwards"||M.memoizedProps.revealOrder==="together")){if((M.flags&128)!==0)return M}else if(M.child!==null){M.child.return=M,M=M.child;continue}if(M===O)break;for(;M.sibling===null;){if(M.return===null||M.return===O)return null;M=M.return}M.sibling.return=M.return,M=M.sibling}return null}var Pn=0,en=null,yn=null,la=null,Os=!1,Ds=!1,En=!1,vs=0,qa=0,hs=null,so=0;function Ln(){throw Error(T(321))}function qi(O,M){if(M===null)return!1;for(var z=0;z<M.length&&z<O.length;z++)if(!As(O[z],M[z]))return!1;return!0}function Si(O,M,z,G,pe,je){return Pn=je,en=M,M.memoizedState=null,M.updateQueue=null,M.lanes=0,Je.H=O===null||O.memoizedState===null?ru:cl,En=!1,je=z(G,pe),En=!1,Ds&&(je=fi(M,z,G,pe)),Ss(O),je}function Ss(O){Je.H=tu;var M=yn!==null&&yn.next!==null;if(Pn=0,la=yn=en=null,Os=!1,qa=0,hs=null,M)throw Error(T(300));O===null||Rs||(O=O.dependencies,O!==null&&Oi(O)&&(Rs=!0))}function fi(O,M,z,G){en=O;var pe=0;do{if(Ds&&(hs=null),qa=0,Ds=!1,25<=pe)throw Error(T(301));if(pe+=1,la=yn=null,O.updateQueue!=null){var je=O.updateQueue;je.lastEffect=null,je.events=null,je.stores=null,je.memoCache!=null&&(je.memoCache.index=0)}Je.H=Gd,je=M(z,G)}while(Ds);return je}function wl(){var O=Je.H,M=O.useState()[0];return M=typeof M.then=="function"?Nl(M):M,O=O.useState()[0],(yn!==null?yn.memoizedState:null)!==O&&(en.flags|=1024),M}function Uo(){var O=vs!==0;return vs=0,O}function io(O,M,z){M.updateQueue=O.updateQueue,M.flags&=-2053,O.lanes&=~z}function zo(O){if(Os){for(O=O.memoizedState;O!==null;){var M=O.queue;M!==null&&(M.pending=null),O=O.next}Os=!1}Pn=0,la=yn=en=null,Ds=!1,qa=vs=0,hs=null}function Is(){var O={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return la===null?en.memoizedState=la=O:la=la.next=O,la}function Aa(){if(yn===null){var O=en.alternate;O=O!==null?O.memoizedState:null}else O=yn.next;var M=la===null?en.memoizedState:la.next;if(M!==null)la=M,yn=O;else{if(O===null)throw en.alternate===null?Error(T(467)):Error(T(310));yn=O,O={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},la===null?en.memoizedState=la=O:la=la.next=O}return la}function oo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(O){var M=qa;return qa+=1,hs===null&&(hs=[]),O=al(hs,O,M),M=en,(la===null?M.memoizedState:la.next)===null&&(M=M.alternate,Je.H=M===null||M.memoizedState===null?ru:cl),O}function mc(O){if(O!==null&&typeof O=="object"){if(typeof O.then=="function")return Nl(O);if(O.$$typeof===$e)return _a(O)}throw Error(T(438,String(O)))}function _l(O){var M=null,z=en.updateQueue;if(z!==null&&(M=z.memoCache),M==null){var G=en.alternate;G!==null&&(G=G.updateQueue,G!==null&&(G=G.memoCache,G!=null&&(M={data:G.data.map(function(pe){return pe.slice()}),index:0})))}if(M==null&&(M={data:[],index:0}),z===null&&(z=oo(),en.updateQueue=z),z.memoCache=M,z=M.data[M.index],z===void 0)for(z=M.data[M.index]=Array(O),G=0;G<O;G++)z[G]=Nt;return M.index++,z}function Ps(O,M){return typeof M=="function"?M(O):M}function Wc(O){var M=Aa();return Al(M,yn,O)}function Al(O,M,z){var G=O.queue;if(G===null)throw Error(T(311));G.lastRenderedReducer=z;var pe=O.baseQueue,je=G.pending;if(je!==null){if(pe!==null){var Ve=pe.next;pe.next=je.next,je.next=Ve}M.baseQueue=pe=je,G.pending=null}if(je=O.baseState,pe===null)O.memoizedState=je;else{M=pe.next;var tt=Ve=null,ht=null,qt=M,dr=!1;do{var vr=qt.lane&-536870913;if(vr!==qt.lane?(ha&vr)===vr:(Pn&vr)===vr){var Kt=qt.revertLane;if(Kt===0)ht!==null&&(ht=ht.next={lane:0,revertLane:0,gesture:null,action:qt.action,hasEagerState:qt.hasEagerState,eagerState:qt.eagerState,next:null}),vr===mi&&(dr=!0);else if((Pn&Kt)===Kt){qt=qt.next,Kt===mi&&(dr=!0);continue}else vr={lane:0,revertLane:qt.revertLane,gesture:null,action:qt.action,hasEagerState:qt.hasEagerState,eagerState:qt.eagerState,next:null},ht===null?(tt=ht=vr,Ve=je):ht=ht.next=vr,en.lanes|=Kt,Tc|=Kt;vr=qt.action,En&&z(je,vr),je=qt.hasEagerState?qt.eagerState:z(je,vr)}else Kt={lane:vr,revertLane:qt.revertLane,gesture:qt.gesture,action:qt.action,hasEagerState:qt.hasEagerState,eagerState:qt.eagerState,next:null},ht===null?(tt=ht=Kt,Ve=je):ht=ht.next=Kt,en.lanes|=vr,Tc|=vr;qt=qt.next}while(qt!==null&&qt!==M);if(ht===null?Ve=je:ht.next=tt,!As(je,O.memoizedState)&&(Rs=!0,dr&&(z=ns,z!==null)))throw z;O.memoizedState=je,O.baseState=Ve,O.baseQueue=ht,G.lastRenderedState=je}return pe===null&&(G.lanes=0),[O.memoizedState,G.dispatch]}function Su(O){var M=Aa(),z=M.queue;if(z===null)throw Error(T(311));z.lastRenderedReducer=O;var G=z.dispatch,pe=z.pending,je=M.memoizedState;if(pe!==null){z.pending=null;var Ve=pe=pe.next;do je=O(je,Ve.action),Ve=Ve.next;while(Ve!==pe);As(je,M.memoizedState)||(Rs=!0),M.memoizedState=je,M.baseQueue===null&&(M.baseState=je),z.lastRenderedState=je}return[je,G]}function Qu(O,M,z){var G=en,pe=Aa(),je=Wn;if(je){if(z===void 0)throw Error(T(407));z=z()}else z=M();var Ve=!As((yn||pe).memoizedState,z);if(Ve&&(pe.memoizedState=z,Rs=!0),pe=pe.queue,Ol(td.bind(null,G,pe,O),[O]),pe.getSnapshot!==M||Ve||la!==null&&la.memoizedState.tag&1){if(G.flags|=2048,Tl(9,{destroy:void 0},ed.bind(null,G,pe,z,M),null),ts===null)throw Error(T(349));je||(Pn&127)!==0||Zu(G,M,z)}return z}function Zu(O,M,z){O.flags|=16384,O={getSnapshot:M,value:z},M=en.updateQueue,M===null?(M=oo(),en.updateQueue=M,M.stores=[O]):(z=M.stores,z===null?M.stores=[O]:z.push(O))}function ed(O,M,z,G){M.value=z,M.getSnapshot=G,rd(M)&&xc(O)}function td(O,M,z){return z(function(){rd(M)&&xc(O)})}function rd(O){var M=O.getSnapshot;O=O.value;try{var z=M();return!As(O,z)}catch{return!0}}function xc(O){var M=Ea(O,2);M!==null&&Vi(M,O,2)}function lo(O){var M=Is();if(typeof O=="function"){var z=O;if(O=z(),En){Pt(!0);try{z()}finally{Pt(!1)}}}return M.memoizedState=M.baseState=O,M.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:O},M}function nd(O,M,z,G){return O.baseState=z,Al(O,yn,typeof G=="function"?G:Ps)}function Bd(O,M,z,G,pe){if(Sc(O))throw Error(T(485));if(O=M.action,O!==null){var je={payload:pe,action:O,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Ve){je.listeners.push(Ve)}};Je.T!==null?z(!0):je.isTransition=!1,G(je),z=M.pending,z===null?(je.next=M.pending=je,fc(M,je)):(je.next=z.next,M.pending=z.next=je)}}function fc(O,M){var z=M.action,G=M.payload,pe=O.state;if(M.isTransition){var je=Je.T,Ve={};Je.T=Ve;try{var tt=z(pe,G),ht=Je.S;ht!==null&&ht(Ve,tt),ad(O,M,tt)}catch(qt){Cl(O,M,qt)}finally{je!==null&&Ve.types!==null&&(je.types=Ve.types),Je.T=je}}else try{je=z(pe,G),ad(O,M,je)}catch(qt){Cl(O,M,qt)}}function ad(O,M,z){z!==null&&typeof z=="object"&&typeof z.then=="function"?z.then(function(G){il(O,M,G)},function(G){return Cl(O,M,G)}):il(O,M,z)}function il(O,M,z){M.status="fulfilled",M.value=z,pc(M),O.state=z,M=O.pending,M!==null&&(z=M.next,z===M?O.pending=null:(z=z.next,M.next=z,fc(O,z)))}function Cl(O,M,z){var G=O.pending;if(O.pending=null,G!==null){G=G.next;do M.status="rejected",M.reason=z,pc(M),M=M.next;while(M!==G)}O.action=null}function pc(O){O=O.listeners;for(var M=0;M<O.length;M++)(0,O[M])()}function hc(O,M){return M}function gc(O,M){if(Wn){var z=ts.formState;if(z!==null){e:{var G=en;if(Wn){if(Fa){t:{for(var pe=Fa,je=js;pe.nodeType!==8;){if(!je){pe=null;break t}if(pe=wo(pe.nextSibling),pe===null){pe=null;break t}}je=pe.data,pe=je==="F!"||je==="F"?pe:null}if(pe){Fa=wo(pe.nextSibling),G=pe.data==="F!";break e}}Xs(G)}G=!1}G&&(M=z[0])}}return z=Is(),z.memoizedState=z.baseState=M,G={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:M},z.queue=G,z=eu.bind(null,en,G),G.dispatch=z,G=lo(!1),je=jc.bind(null,en,!1,G.queue),G=Is(),pe={state:M,dispatch:null,action:O,pending:null},G.queue=pe,z=Bd.bind(null,en,pe,je,z),pe.dispatch=z,G.memoizedState=O,[M,z,!1]}function Fo(O){var M=Aa();return Ru(M,yn,O)}function Ru(O,M,z){if(M=Al(O,M,hc)[0],O=Wc(Ps)[0],typeof M=="object"&&M!==null&&typeof M.then=="function")try{var G=Nl(M)}catch(Ve){throw Ve===no?ao:Ve}else G=M;M=Aa();var pe=M.queue,je=pe.dispatch;return z!==M.memoizedState&&(en.flags|=2048,Tl(9,{destroy:void 0},sd.bind(null,pe,z),null)),[G,je,O]}function sd(O,M){O.action=M}function ol(O){var M=Aa(),z=yn;if(z!==null)return Ru(M,z,O);Aa(),M=M.memoizedState,z=Aa();var G=z.queue.dispatch;return z.memoizedState=O,[M,G,!1]}function Tl(O,M,z,G){return O={tag:O,create:z,deps:G,inst:M,next:null},M=en.updateQueue,M===null&&(M=oo(),en.updateQueue=M),z=M.lastEffect,z===null?M.lastEffect=O.next=O:(G=z.next,z.next=O,O.next=G,M.lastEffect=O),O}function Yc(){return Aa().memoizedState}function Xc(O,M,z,G){var pe=Is();en.flags|=O,pe.memoizedState=Tl(1|M,{destroy:void 0},z,G===void 0?null:G)}function ll(O,M,z,G){var pe=Aa();G=G===void 0?null:G;var je=pe.memoizedState.inst;yn!==null&&G!==null&&qi(G,yn.memoizedState.deps)?pe.memoizedState=Tl(M,je,z,G):(en.flags|=O,pe.memoizedState=Tl(1|M,je,z,G))}function id(O,M){Xc(8390656,8,O,M)}function Ol(O,M){ll(2048,8,O,M)}function Jc(O){en.flags|=4;var M=en.updateQueue;if(M===null)M=oo(),en.updateQueue=M,M.events=[O];else{var z=M.events;z===null?M.events=[O]:z.push(O)}}function od(O){var M=Aa().memoizedState;return Jc({ref:M,nextImpl:O}),function(){if((La&2)!==0)throw Error(T(440));return M.impl.apply(void 0,arguments)}}function ld(O,M){return ll(4,2,O,M)}function Ud(O,M){return ll(4,4,O,M)}function zd(O,M){if(typeof M=="function"){O=O();var z=M(O);return function(){typeof z=="function"?z():M(null)}}if(M!=null)return O=O(),M.current=O,function(){M.current=null}}function wu(O,M,z){z=z!=null?z.concat([O]):null,ll(4,4,zd.bind(null,M,O),z)}function cd(){}function Fd(O,M){var z=Aa();M=M===void 0?null:M;var G=z.memoizedState;return M!==null&&qi(M,G[1])?G[0]:(z.memoizedState=[O,M],O)}function qd(O,M){var z=Aa();M=M===void 0?null:M;var G=z.memoizedState;if(M!==null&&qi(M,G[1]))return G[0];if(G=O(),En){Pt(!0);try{O()}finally{Pt(!1)}}return z.memoizedState=[G,M],G}function Ro(O,M,z){return z===void 0||(Pn&1073741824)!==0&&(ha&261930)===0?O.memoizedState=M:(O.memoizedState=z,O=Mx(),en.lanes|=O,Tc|=O,z)}function Qc(O,M,z,G){return As(z,M)?z:Ne.current!==null?(O=Ro(O,z,G),As(O,M)||(Rs=!0),O):(Pn&42)===0||(Pn&1073741824)!==0&&(ha&261930)===0?(Rs=!0,O.memoizedState=z):(O=Mx(),en.lanes|=O,Tc|=O,M)}function yc(O,M,z,G,pe){var je=ut.p;ut.p=je!==0&&8>je?je:8;var Ve=Je.T,tt={};Je.T=tt,jc(O,!1,M,z);try{var ht=pe(),qt=Je.S;if(qt!==null&&qt(tt,ht),ht!==null&&typeof ht=="object"&&typeof ht.then=="function"){var dr=cc(ht,G);Ec(O,M,dr,fo(O))}else Ec(O,M,G,fo(O))}catch(vr){Ec(O,M,{then:function(){},status:"rejected",reason:vr},fo())}finally{ut.p=je,Ve!==null&&tt.types!==null&&(Ve.types=tt.types),Je.T=Ve}}function vc(){}function bc(O,M,z,G){if(O.tag!==5)throw Error(T(476));var pe=Zc(O).queue;yc(O,pe,M,et,z===null?vc:function(){return Nu(O),z(G)})}function Zc(O){var M=O.memoizedState;if(M!==null)return M;M={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:et},next:null};var z={};return M.next={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:z},next:null},O.memoizedState=M,O=O.alternate,O!==null&&(O.memoizedState=M),M}function Nu(O){var M=Zc(O);M.next===null&&(M=O.alternate.memoizedState),Ec(O,M.next.queue,{},fo())}function _u(){return _a(Id)}function Hd(){return Aa().memoizedState}function Au(){return Aa().memoizedState}function $d(O){for(var M=O.return;M!==null;){switch(M.tag){case 24:case 3:var z=fo();O=si(z);var G=Fs(M,O,z);G!==null&&(Vi(G,M,z),ji(G,M,z)),M={cache:lc()},O.payload=M;return}M=M.return}}function Cu(O,M,z){var G=fo();z={lane:G,revertLane:0,gesture:null,action:z,hasEagerState:!1,eagerState:null,next:null},Sc(O)?ud(M,z):(z=Fn(O,M,z,G),z!==null&&(Vi(z,O,G),dd(z,M,G)))}function eu(O,M,z){var G=fo();Ec(O,M,z,G)}function Ec(O,M,z,G){var pe={lane:G,revertLane:0,gesture:null,action:z,hasEagerState:!1,eagerState:null,next:null};if(Sc(O))ud(M,pe);else{var je=O.alternate;if(O.lanes===0&&(je===null||je.lanes===0)&&(je=M.lastRenderedReducer,je!==null))try{var Ve=M.lastRenderedState,tt=je(Ve,z);if(pe.hasEagerState=!0,pe.eagerState=tt,As(tt,Ve))return On(O,M,pe,0),ts===null&&In(),!1}catch{}finally{}if(z=Fn(O,M,pe,G),z!==null)return Vi(z,O,G),dd(z,M,G),!0}return!1}function jc(O,M,z,G){if(G={lane:2,revertLane:qm(),gesture:null,action:G,hasEagerState:!1,eagerState:null,next:null},Sc(O)){if(M)throw Error(T(479))}else M=Fn(O,z,G,2),M!==null&&Vi(M,O,2)}function Sc(O){var M=O.alternate;return O===en||M!==null&&M===en}function ud(O,M){Ds=Os=!0;var z=O.pending;z===null?M.next=M:(M.next=z.next,z.next=M),O.pending=M}function dd(O,M,z){if((z&4194048)!==0){var G=M.lanes;G&=O.pendingLanes,z|=G,M.lanes=z,Mr(O,z)}}var tu={readContext:_a,use:mc,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useLayoutEffect:Ln,useInsertionEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useSyncExternalStore:Ln,useId:Ln,useHostTransitionStatus:Ln,useFormState:Ln,useActionState:Ln,useOptimistic:Ln,useMemoCache:Ln,useCacheRefresh:Ln};tu.useEffectEvent=Ln;var ru={readContext:_a,use:mc,useCallback:function(O,M){return Is().memoizedState=[O,M===void 0?null:M],O},useContext:_a,useEffect:id,useImperativeHandle:function(O,M,z){z=z!=null?z.concat([O]):null,Xc(4194308,4,zd.bind(null,M,O),z)},useLayoutEffect:function(O,M){return Xc(4194308,4,O,M)},useInsertionEffect:function(O,M){Xc(4,2,O,M)},useMemo:function(O,M){var z=Is();M=M===void 0?null:M;var G=O();if(En){Pt(!0);try{O()}finally{Pt(!1)}}return z.memoizedState=[G,M],G},useReducer:function(O,M,z){var G=Is();if(z!==void 0){var pe=z(M);if(En){Pt(!0);try{z(M)}finally{Pt(!1)}}}else pe=M;return G.memoizedState=G.baseState=pe,O={pending:null,lanes:0,dispatch:null,lastRenderedReducer:O,lastRenderedState:pe},G.queue=O,O=O.dispatch=Cu.bind(null,en,O),[G.memoizedState,O]},useRef:function(O){var M=Is();return O={current:O},M.memoizedState=O},useState:function(O){O=lo(O);var M=O.queue,z=eu.bind(null,en,M);return M.dispatch=z,[O.memoizedState,z]},useDebugValue:cd,useDeferredValue:function(O,M){var z=Is();return Ro(z,O,M)},useTransition:function(){var O=lo(!1);return O=yc.bind(null,en,O.queue,!0,!1),Is().memoizedState=O,[!1,O]},useSyncExternalStore:function(O,M,z){var G=en,pe=Is();if(Wn){if(z===void 0)throw Error(T(407));z=z()}else{if(z=M(),ts===null)throw Error(T(349));(ha&127)!==0||Zu(G,M,z)}pe.memoizedState=z;var je={value:z,getSnapshot:M};return pe.queue=je,id(td.bind(null,G,je,O),[O]),G.flags|=2048,Tl(9,{destroy:void 0},ed.bind(null,G,je,z,M),null),z},useId:function(){var O=Is(),M=ts.identifierPrefix;if(Wn){var z=Us,G=Pa;z=(G&~(1<<32-Wt(G)-1)).toString(32)+z,M="_"+M+"R_"+z,z=vs++,0<z&&(M+="H"+z.toString(32)),M+="_"}else z=so++,M="_"+M+"r_"+z.toString(32)+"_";return O.memoizedState=M},useHostTransitionStatus:_u,useFormState:gc,useActionState:gc,useOptimistic:function(O){var M=Is();M.memoizedState=M.baseState=O;var z={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return M.queue=z,M=jc.bind(null,en,!0,z),z.dispatch=M,[O,M]},useMemoCache:_l,useCacheRefresh:function(){return Is().memoizedState=$d.bind(null,en)},useEffectEvent:function(O){var M=Is(),z={impl:O};return M.memoizedState=z,function(){if((La&2)!==0)throw Error(T(440));return z.impl.apply(void 0,arguments)}}},cl={readContext:_a,use:mc,useCallback:Fd,useContext:_a,useEffect:Ol,useImperativeHandle:wu,useInsertionEffect:ld,useLayoutEffect:Ud,useMemo:qd,useReducer:Wc,useRef:Yc,useState:function(){return Wc(Ps)},useDebugValue:cd,useDeferredValue:function(O,M){var z=Aa();return Qc(z,yn.memoizedState,O,M)},useTransition:function(){var O=Wc(Ps)[0],M=Aa().memoizedState;return[typeof O=="boolean"?O:Nl(O),M]},useSyncExternalStore:Qu,useId:Hd,useHostTransitionStatus:_u,useFormState:Fo,useActionState:Fo,useOptimistic:function(O,M){var z=Aa();return nd(z,yn,O,M)},useMemoCache:_l,useCacheRefresh:Au};cl.useEffectEvent=od;var Gd={readContext:_a,use:mc,useCallback:Fd,useContext:_a,useEffect:Ol,useImperativeHandle:wu,useInsertionEffect:ld,useLayoutEffect:Ud,useMemo:qd,useReducer:Su,useRef:Yc,useState:function(){return Su(Ps)},useDebugValue:cd,useDeferredValue:function(O,M){var z=Aa();return yn===null?Ro(z,O,M):Qc(z,yn.memoizedState,O,M)},useTransition:function(){var O=Su(Ps)[0],M=Aa().memoizedState;return[typeof O=="boolean"?O:Nl(O),M]},useSyncExternalStore:Qu,useId:Hd,useHostTransitionStatus:_u,useFormState:ol,useActionState:ol,useOptimistic:function(O,M){var z=Aa();return yn!==null?nd(z,yn,O,M):(z.baseState=O,[O,z.queue.dispatch])},useMemoCache:_l,useCacheRefresh:Au};Gd.useEffectEvent=od;function ul(O,M,z,G){M=O.memoizedState,z=z(G,M),z=z==null?M:te({},M,z),O.memoizedState=z,O.lanes===0&&(O.updateQueue.baseState=z)}var Tu={enqueueSetState:function(O,M,z){O=O._reactInternals;var G=fo(),pe=si(G);pe.payload=M,z!=null&&(pe.callback=z),M=Fs(O,pe,G),M!==null&&(Vi(M,O,G),ji(M,O,G))},enqueueReplaceState:function(O,M,z){O=O._reactInternals;var G=fo(),pe=si(G);pe.tag=1,pe.payload=M,z!=null&&(pe.callback=z),M=Fs(O,pe,G),M!==null&&(Vi(M,O,G),ji(M,O,G))},enqueueForceUpdate:function(O,M){O=O._reactInternals;var z=fo(),G=si(z);G.tag=2,M!=null&&(G.callback=M),M=Fs(O,G,z),M!==null&&(Vi(M,O,z),ji(M,O,z))}};function Rc(O,M,z,G,pe,je,Ve){return O=O.stateNode,typeof O.shouldComponentUpdate=="function"?O.shouldComponentUpdate(G,je,Ve):M.prototype&&M.prototype.isPureReactComponent?!_i(z,G)||!_i(pe,je):!0}function nu(O,M,z,G){O=M.state,typeof M.componentWillReceiveProps=="function"&&M.componentWillReceiveProps(z,G),typeof M.UNSAFE_componentWillReceiveProps=="function"&&M.UNSAFE_componentWillReceiveProps(z,G),M.state!==O&&Tu.enqueueReplaceState(M,M.state,null)}function co(O,M){var z=M;if("ref"in M){z={};for(var G in M)G!=="ref"&&(z[G]=M[G])}if(O=O.defaultProps){z===M&&(z=te({},z));for(var pe in O)z[pe]===void 0&&(z[pe]=O[pe])}return z}function md(O){Dr(O)}function dl(O){console.error(O)}function xd(O){Dr(O)}function au(O,M){try{var z=O.onUncaughtError;z(M.value,{componentStack:M.stack})}catch(G){setTimeout(function(){throw G})}}function Dl(O,M,z){try{var G=O.onCaughtError;G(z.value,{componentStack:z.stack,errorBoundary:M.tag===1?M.stateNode:null})}catch(pe){setTimeout(function(){throw pe})}}function Ou(O,M,z){return z=si(z),z.tag=3,z.payload={element:null},z.callback=function(){au(O,M)},z}function su(O){return O=si(O),O.tag=3,O}function Du(O,M,z,G){var pe=z.type.getDerivedStateFromError;if(typeof pe=="function"){var je=G.value;O.payload=function(){return pe(je)},O.callback=function(){Dl(M,z,G)}}var Ve=z.stateNode;Ve!==null&&typeof Ve.componentDidCatch=="function"&&(O.callback=function(){Dl(M,z,G),typeof pe!="function"&&(Oc===null?Oc=new Set([this]):Oc.add(this));var tt=G.stack;this.componentDidCatch(G.value,{componentStack:tt!==null?tt:""})})}function iu(O,M,z,G,pe){if(z.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){if(M=z.alternate,M!==null&&Ts(M,z,pe,!0),z=Rt.current,z!==null){switch(z.tag){case 31:case 13:return xt===null?nm():z.alternate===null&&ws===0&&(ws=3),z.flags&=-257,z.flags|=65536,z.lanes=pe,G===So?z.flags|=16384:(M=z.updateQueue,M===null?z.updateQueue=new Set([G]):M.add(G),Um(O,G,pe)),!1;case 22:return z.flags|=65536,G===So?z.flags|=16384:(M=z.updateQueue,M===null?(M={transitions:null,markerInstances:null,retryQueue:new Set([G])},z.updateQueue=M):(z=M.retryQueue,z===null?M.retryQueue=new Set([G]):z.add(G)),Um(O,G,pe)),!1}throw Error(T(435,z.tag))}return Um(O,G,pe),nm(),!1}if(Wn)return M=Rt.current,M!==null?((M.flags&65536)===0&&(M.flags|=256),M.flags|=65536,M.lanes=pe,G!==Qo&&(O=Error(T(422),{cause:G}),Qi(Bs(O,z)))):(G!==Qo&&(M=Error(T(423),{cause:G}),Qi(Bs(M,z))),O=O.current.alternate,O.flags|=65536,pe&=-pe,O.lanes|=pe,G=Bs(G,z),pe=Ou(O.stateNode,G,pe),ii(O,pe),ws!==4&&(ws=2)),!1;var je=Error(T(520),{cause:G});if(je=Bs(je,z),wd===null?wd=[je]:wd.push(je),ws!==4&&(ws=2),M===null)return!0;G=Bs(G,z),z=M;do{switch(z.tag){case 3:return z.flags|=65536,O=pe&-pe,z.lanes|=O,O=Ou(z.stateNode,G,O),ii(z,O),!1;case 1:if(M=z.type,je=z.stateNode,(z.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||je!==null&&typeof je.componentDidCatch=="function"&&(Oc===null||!Oc.has(je))))return z.flags|=65536,pe&=-pe,z.lanes|=pe,pe=su(pe),Du(pe,O,z,G),ii(z,pe),!1}z=z.return}while(z!==null);return!1}var fd=Error(T(461)),Rs=!1;function qs(O,M,z,G){M.child=O===null?dc(M,null,z,G):Zs(M,O.child,z,G)}function wc(O,M,z,G,pe){z=z.render;var je=M.ref;if("ref"in G){var Ve={};for(var tt in G)tt!=="ref"&&(Ve[tt]=G[tt])}else Ve=G;return ui(M),G=Si(O,M,z,Ve,je,pe),tt=Uo(),O!==null&&!Rs?(io(O,M,pe),Ri(O,M,pe)):(Wn&&tt&&El(M),M.flags|=1,qs(O,M,G,pe),M.child)}function Nc(O,M,z,G,pe){if(O===null){var je=z.type;return typeof je=="function"&&!ua(je)&&je.defaultProps===void 0&&z.compare===null?(M.tag=15,M.type=je,_c(O,M,je,G,pe)):(O=es(z.type,null,G,M,M.mode,pe),O.ref=M.ref,O.return=M,M.child=O)}if(je=O.child,!ki(O,pe)){var Ve=je.memoizedProps;if(z=z.compare,z=z!==null?z:_i,z(Ve,G)&&O.ref===M.ref)return Ri(O,M,pe)}return M.flags|=1,O=cs(je,G),O.ref=M.ref,O.return=M,M.child=O}function _c(O,M,z,G,pe){if(O!==null){var je=O.memoizedProps;if(_i(je,G)&&O.ref===M.ref)if(Rs=!1,M.pendingProps=G=je,ki(O,pe))(O.flags&131072)!==0&&(Rs=!0);else return M.lanes=O.lanes,Ri(O,M,pe)}return lu(O,M,z,G,pe)}function ou(O,M,z,G){var pe=G.children,je=O!==null?O.memoizedState:null;if(O===null&&M.stateNode===null&&(M.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),G.mode==="hidden"){if((M.flags&128)!==0){if(je=je!==null?je.baseLanes|z:z,O!==null){for(G=M.child=O.child,pe=0;G!==null;)pe=pe|G.lanes|G.childLanes,G=G.sibling;G=pe&~je}else G=0,M.child=null;return Kd(O,M,je,z,G)}if((z&536870912)!==0)M.memoizedState={baseLanes:0,cachePool:null},O!==null&&nl(M,je!==null?je.cachePool:null),je!==null?Ke(M,je):Ze(),Jt(M);else return G=M.lanes=536870912,Kd(O,M,je!==null?je.baseLanes|z:z,z,G)}else je!==null?(nl(M,je.cachePool),Ke(M,je),Cr(),M.memoizedState=null):(O!==null&&nl(M,null),Ze(),Cr());return qs(O,M,pe,z),M.child}function uo(O,M){return O!==null&&O.tag===22||M.stateNode!==null||(M.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),M.sibling}function Kd(O,M,z,G,pe){var je=rl();return je=je===null?null:{parent:Ya._currentValue,pool:je},M.memoizedState={baseLanes:z,cachePool:je},O!==null&&nl(M,null),Ze(),Jt(M),O!==null&&Ts(O,M,G,!0),M.childLanes=pe,null}function ks(O,M){return M=mu({mode:M.mode,children:M.children},O.mode),M.ref=O.ref,O.child=M,M.return=O,M}function Hs(O,M,z){return Zs(M,O.child,null,z),O=ks(M,M.pendingProps),O.flags|=2,Tr(M),M.memoizedState=null,O}function Vd(O,M,z){var G=M.pendingProps,pe=(M.flags&128)!==0;if(M.flags&=-129,O===null){if(Wn){if(G.mode==="hidden")return O=ks(M,G),M.lanes=536870912,uo(null,O);if(Ht(M),(O=Fa)?(O=vf(O,js),O=O!==null&&O.data==="&"?O:null,O!==null&&(M.memoizedState={dehydrated:O,treeContext:Ys!==null?{id:Pa,overflow:Us}:null,retryLane:536870912,hydrationErrors:null},z=Ls(O),z.return=M,M.child=z,ds=M,Fa=null)):O=null,O===null)throw Xs(M);return M.lanes=536870912,null}return ks(M,G)}var je=O.memoizedState;if(je!==null){var Ve=je.dehydrated;if(Ht(M),pe)if(M.flags&256)M.flags&=-257,M=Hs(O,M,z);else if(M.memoizedState!==null)M.child=O.child,M.flags|=128,M=null;else throw Error(T(558));else if(Rs||Ts(O,M,z,!1),pe=(z&O.childLanes)!==0,Rs||pe){if(G=ts,G!==null&&(Ve=Jr(G,z),Ve!==0&&Ve!==je.retryLane))throw je.retryLane=Ve,Ea(O,Ve),Vi(G,O,Ve),fd;nm(),M=Hs(O,M,z)}else O=je.treeContext,Fa=wo(Ve.nextSibling),ds=M,Wn=!0,Cs=null,js=!1,O!==null&&ic(M,O),M=ks(M,G),M.flags|=4096;return M}return O=cs(O.child,{mode:G.mode,children:G.children}),O.ref=M.ref,M.child=O,O.return=M,O}function qo(O,M){var z=M.ref;if(z===null)O!==null&&O.ref!==null&&(M.flags|=4194816);else{if(typeof z!="function"&&typeof z!="object")throw Error(T(284));(O===null||O.ref!==z)&&(M.flags|=4194816)}}function lu(O,M,z,G,pe){return ui(M),z=Si(O,M,z,G,void 0,pe),G=Uo(),O!==null&&!Rs?(io(O,M,pe),Ri(O,M,pe)):(Wn&&G&&El(M),M.flags|=1,qs(O,M,z,pe),M.child)}function ml(O,M,z,G,pe,je){return ui(M),M.updateQueue=null,z=fi(M,G,z,pe),Ss(O),G=Uo(),O!==null&&!Rs?(io(O,M,je),Ri(O,M,je)):(Wn&&G&&El(M),M.flags|=1,qs(O,M,z,je),M.child)}function Iu(O,M,z,G,pe){if(ui(M),M.stateNode===null){var je=oa,Ve=z.contextType;typeof Ve=="object"&&Ve!==null&&(je=_a(Ve)),je=new z(G,je),M.memoizedState=je.state!==null&&je.state!==void 0?je.state:null,je.updater=Tu,M.stateNode=je,je._reactInternals=M,je=M.stateNode,je.props=G,je.state=M.memoizedState,je.refs={},Pi(M),Ve=z.contextType,je.context=typeof Ve=="object"&&Ve!==null?_a(Ve):oa,je.state=M.memoizedState,Ve=z.getDerivedStateFromProps,typeof Ve=="function"&&(ul(M,z,Ve,G),je.state=M.memoizedState),typeof z.getDerivedStateFromProps=="function"||typeof je.getSnapshotBeforeUpdate=="function"||typeof je.UNSAFE_componentWillMount!="function"&&typeof je.componentWillMount!="function"||(Ve=je.state,typeof je.componentWillMount=="function"&&je.componentWillMount(),typeof je.UNSAFE_componentWillMount=="function"&&je.UNSAFE_componentWillMount(),Ve!==je.state&&Tu.enqueueReplaceState(je,je.state,null),Fi(M,G,je,pe),Bo(),je.state=M.memoizedState),typeof je.componentDidMount=="function"&&(M.flags|=4194308),G=!0}else if(O===null){je=M.stateNode;var tt=M.memoizedProps,ht=co(z,tt);je.props=ht;var qt=je.context,dr=z.contextType;Ve=oa,typeof dr=="object"&&dr!==null&&(Ve=_a(dr));var vr=z.getDerivedStateFromProps;dr=typeof vr=="function"||typeof je.getSnapshotBeforeUpdate=="function",tt=M.pendingProps!==tt,dr||typeof je.UNSAFE_componentWillReceiveProps!="function"&&typeof je.componentWillReceiveProps!="function"||(tt||qt!==Ve)&&nu(M,je,G,Ve),zi=!1;var Kt=M.memoizedState;je.state=Kt,Fi(M,G,je,pe),Bo(),qt=M.memoizedState,tt||Kt!==qt||zi?(typeof vr=="function"&&(ul(M,z,vr,G),qt=M.memoizedState),(ht=zi||Rc(M,z,ht,G,Kt,qt,Ve))?(dr||typeof je.UNSAFE_componentWillMount!="function"&&typeof je.componentWillMount!="function"||(typeof je.componentWillMount=="function"&&je.componentWillMount(),typeof je.UNSAFE_componentWillMount=="function"&&je.UNSAFE_componentWillMount()),typeof je.componentDidMount=="function"&&(M.flags|=4194308)):(typeof je.componentDidMount=="function"&&(M.flags|=4194308),M.memoizedProps=G,M.memoizedState=qt),je.props=G,je.state=qt,je.context=Ve,G=ht):(typeof je.componentDidMount=="function"&&(M.flags|=4194308),G=!1)}else{je=M.stateNode,Lo(O,M),Ve=M.memoizedProps,dr=co(z,Ve),je.props=dr,vr=M.pendingProps,Kt=je.context,qt=z.contextType,ht=oa,typeof qt=="object"&&qt!==null&&(ht=_a(qt)),tt=z.getDerivedStateFromProps,(qt=typeof tt=="function"||typeof je.getSnapshotBeforeUpdate=="function")||typeof je.UNSAFE_componentWillReceiveProps!="function"&&typeof je.componentWillReceiveProps!="function"||(Ve!==vr||Kt!==ht)&&nu(M,je,G,ht),zi=!1,Kt=M.memoizedState,je.state=Kt,Fi(M,G,je,pe),Bo();var rr=M.memoizedState;Ve!==vr||Kt!==rr||zi||O!==null&&O.dependencies!==null&&Oi(O.dependencies)?(typeof tt=="function"&&(ul(M,z,tt,G),rr=M.memoizedState),(dr=zi||Rc(M,z,dr,G,Kt,rr,ht)||O!==null&&O.dependencies!==null&&Oi(O.dependencies))?(qt||typeof je.UNSAFE_componentWillUpdate!="function"&&typeof je.componentWillUpdate!="function"||(typeof je.componentWillUpdate=="function"&&je.componentWillUpdate(G,rr,ht),typeof je.UNSAFE_componentWillUpdate=="function"&&je.UNSAFE_componentWillUpdate(G,rr,ht)),typeof je.componentDidUpdate=="function"&&(M.flags|=4),typeof je.getSnapshotBeforeUpdate=="function"&&(M.flags|=1024)):(typeof je.componentDidUpdate!="function"||Ve===O.memoizedProps&&Kt===O.memoizedState||(M.flags|=4),typeof je.getSnapshotBeforeUpdate!="function"||Ve===O.memoizedProps&&Kt===O.memoizedState||(M.flags|=1024),M.memoizedProps=G,M.memoizedState=rr),je.props=G,je.state=rr,je.context=ht,G=dr):(typeof je.componentDidUpdate!="function"||Ve===O.memoizedProps&&Kt===O.memoizedState||(M.flags|=4),typeof je.getSnapshotBeforeUpdate!="function"||Ve===O.memoizedProps&&Kt===O.memoizedState||(M.flags|=1024),G=!1)}return je=G,qo(O,M),G=(M.flags&128)!==0,je||G?(je=M.stateNode,z=G&&typeof z.getDerivedStateFromError!="function"?null:je.render(),M.flags|=1,O!==null&&G?(M.child=Zs(M,O.child,null,pe),M.child=Zs(M,null,z,pe)):qs(O,M,z,pe),M.memoizedState=je.state,O=M.child):O=Ri(O,M,pe),O}function pd(O,M,z,G){return vi(),M.flags|=256,qs(O,M,z,G),M.child}var Ho={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cu(O){return{baseLanes:O,cachePool:as()}}function uu(O,M,z){return O=O!==null?O.childLanes&~z:0,M&&(O|=xo),O}function hd(O,M,z){var G=M.pendingProps,pe=!1,je=(M.flags&128)!==0,Ve;if((Ve=je)||(Ve=O!==null&&O.memoizedState===null?!1:(gn.current&2)!==0),Ve&&(pe=!0,M.flags&=-129),Ve=(M.flags&32)!==0,M.flags&=-33,O===null){if(Wn){if(pe?_t(M):Cr(),(O=Fa)?(O=vf(O,js),O=O!==null&&O.data!=="&"?O:null,O!==null&&(M.memoizedState={dehydrated:O,treeContext:Ys!==null?{id:Pa,overflow:Us}:null,retryLane:536870912,hydrationErrors:null},z=Ls(O),z.return=M,M.child=z,ds=M,Fa=null)):O=null,O===null)throw Xs(M);return tx(O)?M.lanes=32:M.lanes=536870912,null}var tt=G.children;return G=G.fallback,pe?(Cr(),pe=M.mode,tt=mu({mode:"hidden",children:tt},pe),G=$a(G,pe,z,null),tt.return=M,G.return=M,tt.sibling=G,M.child=tt,G=M.child,G.memoizedState=cu(z),G.childLanes=uu(O,Ve,z),M.memoizedState=Ho,uo(null,G)):(_t(M),du(M,tt))}var ht=O.memoizedState;if(ht!==null&&(tt=ht.dehydrated,tt!==null)){if(je)M.flags&256?(_t(M),M.flags&=-257,M=xu(O,M,z)):M.memoizedState!==null?(Cr(),M.child=O.child,M.flags|=128,M=null):(Cr(),tt=G.fallback,pe=M.mode,G=mu({mode:"visible",children:G.children},pe),tt=$a(tt,pe,z,null),tt.flags|=2,G.return=M,tt.return=M,G.sibling=tt,M.child=G,Zs(M,O.child,null,z),G=M.child,G.memoizedState=cu(z),G.childLanes=uu(O,Ve,z),M.memoizedState=Ho,M=uo(null,G));else if(_t(M),tx(tt)){if(Ve=tt.nextSibling&&tt.nextSibling.dataset,Ve)var qt=Ve.dgst;Ve=qt,G=Error(T(419)),G.stack="",G.digest=Ve,Qi({value:G,source:null,stack:null}),M=xu(O,M,z)}else if(Rs||Ts(O,M,z,!1),Ve=(z&O.childLanes)!==0,Rs||Ve){if(Ve=ts,Ve!==null&&(G=Jr(Ve,z),G!==0&&G!==ht.retryLane))throw ht.retryLane=G,Ea(O,G),Vi(Ve,O,G),fd;ex(tt)||nm(),M=xu(O,M,z)}else ex(tt)?(M.flags|=192,M.child=O.child,M=null):(O=ht.treeContext,Fa=wo(tt.nextSibling),ds=M,Wn=!0,Cs=null,js=!1,O!==null&&ic(M,O),M=du(M,G.children),M.flags|=4096);return M}return pe?(Cr(),tt=G.fallback,pe=M.mode,ht=O.child,qt=ht.sibling,G=cs(ht,{mode:"hidden",children:G.children}),G.subtreeFlags=ht.subtreeFlags&65011712,qt!==null?tt=cs(qt,tt):(tt=$a(tt,pe,z,null),tt.flags|=2),tt.return=M,G.return=M,G.sibling=tt,M.child=G,uo(null,G),G=M.child,tt=O.child.memoizedState,tt===null?tt=cu(z):(pe=tt.cachePool,pe!==null?(ht=Ya._currentValue,pe=pe.parent!==ht?{parent:ht,pool:ht}:pe):pe=as(),tt={baseLanes:tt.baseLanes|z,cachePool:pe}),G.memoizedState=tt,G.childLanes=uu(O,Ve,z),M.memoizedState=Ho,uo(O.child,G)):(_t(M),z=O.child,O=z.sibling,z=cs(z,{mode:"visible",children:G.children}),z.return=M,z.sibling=null,O!==null&&(Ve=M.deletions,Ve===null?(M.deletions=[O],M.flags|=16):Ve.push(O)),M.child=z,M.memoizedState=null,z)}function du(O,M){return M=mu({mode:"visible",children:M},O.mode),M.return=O,O.child=M}function mu(O,M){return O=Ua(22,O,null,M),O.lanes=0,O}function xu(O,M,z){return Zs(M,O.child,null,z),O=du(M,M.pendingProps.children),O.flags|=2,M.memoizedState=null,O}function gd(O,M,z){O.lanes|=M;var G=O.alternate;G!==null&&(G.lanes|=M),Ui(O.return,M,z)}function fu(O,M,z,G,pe,je){var Ve=O.memoizedState;Ve===null?O.memoizedState={isBackwards:M,rendering:null,renderingStartTime:0,last:G,tail:z,tailMode:pe,treeForkCount:je}:(Ve.isBackwards=M,Ve.rendering=null,Ve.renderingStartTime=0,Ve.last=G,Ve.tail=z,Ve.tailMode=pe,Ve.treeForkCount=je)}function yd(O,M,z){var G=M.pendingProps,pe=G.revealOrder,je=G.tail;G=G.children;var Ve=gn.current,tt=(Ve&2)!==0;if(tt?(Ve=Ve&1|2,M.flags|=128):Ve&=1,Zt(gn,Ve),qs(O,M,G,z),G=Wn?Ws:0,!tt&&O!==null&&(O.flags&128)!==0)e:for(O=M.child;O!==null;){if(O.tag===13)O.memoizedState!==null&&gd(O,z,M);else if(O.tag===19)gd(O,z,M);else if(O.child!==null){O.child.return=O,O=O.child;continue}if(O===M)break e;for(;O.sibling===null;){if(O.return===null||O.return===M)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}switch(pe){case"forwards":for(z=M.child,pe=null;z!==null;)O=z.alternate,O!==null&&qn(O)===null&&(pe=z),z=z.sibling;z=pe,z===null?(pe=M.child,M.child=null):(pe=z.sibling,z.sibling=null),fu(M,!1,pe,z,je,G);break;case"backwards":case"unstable_legacy-backwards":for(z=null,pe=M.child,M.child=null;pe!==null;){if(O=pe.alternate,O!==null&&qn(O)===null){M.child=pe;break}O=pe.sibling,pe.sibling=z,z=pe,pe=O}fu(M,!0,z,null,je,G);break;case"together":fu(M,!1,null,null,void 0,G);break;default:M.memoizedState=null}return M.child}function Ri(O,M,z){if(O!==null&&(M.dependencies=O.dependencies),Tc|=M.lanes,(z&M.childLanes)===0)if(O!==null){if(Ts(O,M,z,!1),(z&M.childLanes)===0)return null}else return null;if(O!==null&&M.child!==O.child)throw Error(T(153));if(M.child!==null){for(O=M.child,z=cs(O,O.pendingProps),M.child=z,z.return=M;O.sibling!==null;)O=O.sibling,z=z.sibling=cs(O,O.pendingProps),z.return=M;z.sibling=null}return M.child}function ki(O,M){return(O.lanes&M)!==0?!0:(O=O.dependencies,!!(O!==null&&Oi(O)))}function Wd(O,M,z){switch(M.tag){case 3:xr(M,M.stateNode.containerInfo),Js(M,Ya,O.memoizedState.cache),vi();break;case 27:case 5:Ft(M);break;case 4:xr(M,M.stateNode.containerInfo);break;case 10:Js(M,M.type,M.memoizedProps.value);break;case 31:if(M.memoizedState!==null)return M.flags|=128,Ht(M),null;break;case 13:var G=M.memoizedState;if(G!==null)return G.dehydrated!==null?(_t(M),M.flags|=128,null):(z&M.child.childLanes)!==0?hd(O,M,z):(_t(M),O=Ri(O,M,z),O!==null?O.sibling:null);_t(M);break;case 19:var pe=(O.flags&128)!==0;if(G=(z&M.childLanes)!==0,G||(Ts(O,M,z,!1),G=(z&M.childLanes)!==0),pe){if(G)return yd(O,M,z);M.flags|=128}if(pe=M.memoizedState,pe!==null&&(pe.rendering=null,pe.tail=null,pe.lastEffect=null),Zt(gn,gn.current),G)break;return null;case 22:return M.lanes=0,ou(O,M,z,M.pendingProps);case 24:Js(M,Ya,O.memoizedState.cache)}return Ri(O,M,z)}function mx(O,M,z){if(O!==null)if(O.memoizedProps!==M.pendingProps)Rs=!0;else{if(!ki(O,z)&&(M.flags&128)===0)return Rs=!1,Wd(O,M,z);Rs=(O.flags&131072)!==0}else Rs=!1,Wn&&(M.flags&1048576)!==0&&ac(M,Ws,M.index);switch(M.lanes=0,M.tag){case 16:e:{var G=M.pendingProps;if(O=Di(M.elementType),M.type=O,typeof O=="function")ua(O)?(G=co(O,G),M.tag=1,M=Iu(null,M,O,G,z)):(M.tag=0,M=lu(null,M,O,G,z));else{if(O!=null){var pe=O.$$typeof;if(pe===Xe){M.tag=11,M=wc(null,M,O,G,z);break e}else if(pe===st){M.tag=14,M=Nc(null,M,O,G,z);break e}}throw M=At(O)||O,Error(T(306,M,""))}}return M;case 0:return lu(O,M,M.type,M.pendingProps,z);case 1:return G=M.type,pe=co(G,M.pendingProps),Iu(O,M,G,pe,z);case 3:e:{if(xr(M,M.stateNode.containerInfo),O===null)throw Error(T(387));G=M.pendingProps;var je=M.memoizedState;pe=je.element,Lo(O,M),Fi(M,G,null,z);var Ve=M.memoizedState;if(G=Ve.cache,Js(M,Ya,G),G!==je.cache&&Zo(M,[Ya],z,!0),Bo(),G=Ve.element,je.isDehydrated)if(je={element:G,isDehydrated:!1,cache:Ve.cache},M.updateQueue.baseState=je,M.memoizedState=je,M.flags&256){M=pd(O,M,G,z);break e}else if(G!==pe){pe=Bs(Error(T(424)),M),Qi(pe),M=pd(O,M,G,z);break e}else{switch(O=M.stateNode.containerInfo,O.nodeType){case 9:O=O.body;break;default:O=O.nodeName==="HTML"?O.ownerDocument.body:O}for(Fa=wo(O.firstChild),ds=M,Wn=!0,Cs=null,js=!0,z=dc(M,null,G,z),M.child=z;z;)z.flags=z.flags&-3|4096,z=z.sibling}else{if(vi(),G===pe){M=Ri(O,M,z);break e}qs(O,M,G,z)}M=M.child}return M;case 26:return qo(O,M),O===null?(z=wf(M.type,null,M.pendingProps,null))?M.memoizedState=z:Wn||(z=M.type,O=M.pendingProps,G=um(mt.current).createElement(z),G[Tn]=M,G[Sn]=O,hi(G,z,O),jr(G),M.stateNode=G):M.memoizedState=wf(M.type,O.memoizedProps,M.pendingProps,O.memoizedState),null;case 27:return Ft(M),O===null&&Wn&&(G=M.stateNode=jf(M.type,M.pendingProps,mt.current),ds=M,js=!0,pe=Fa,kc(M.type)?(rx=pe,Fa=wo(G.firstChild)):Fa=pe),qs(O,M,M.pendingProps.children,z),qo(O,M),O===null&&(M.flags|=4194304),M.child;case 5:return O===null&&Wn&&((pe=G=Fa)&&(G=vp(G,M.type,M.pendingProps,js),G!==null?(M.stateNode=G,ds=M,Fa=wo(G.firstChild),js=!1,pe=!0):pe=!1),pe||Xs(M)),Ft(M),pe=M.type,je=M.pendingProps,Ve=O!==null?O.memoizedProps:null,G=je.children,Jm(pe,je)?G=null:Ve!==null&&Jm(pe,Ve)&&(M.flags|=32),M.memoizedState!==null&&(pe=Si(O,M,wl,null,null,z),Id._currentValue=pe),qo(O,M),qs(O,M,G,z),M.child;case 6:return O===null&&Wn&&((O=z=Fa)&&(z=bp(z,M.pendingProps,js),z!==null?(M.stateNode=z,ds=M,Fa=null,O=!0):O=!1),O||Xs(M)),null;case 13:return hd(O,M,z);case 4:return xr(M,M.stateNode.containerInfo),G=M.pendingProps,O===null?M.child=Zs(M,null,G,z):qs(O,M,G,z),M.child;case 11:return wc(O,M,M.type,M.pendingProps,z);case 7:return qs(O,M,M.pendingProps,z),M.child;case 8:return qs(O,M,M.pendingProps.children,z),M.child;case 12:return qs(O,M,M.pendingProps.children,z),M.child;case 10:return G=M.pendingProps,Js(M,M.type,G.value),qs(O,M,G.children,z),M.child;case 9:return pe=M.type._context,G=M.pendingProps.children,ui(M),pe=_a(pe),G=G(pe),M.flags|=1,qs(O,M,G,z),M.child;case 14:return Nc(O,M,M.type,M.pendingProps,z);case 15:return _c(O,M,M.type,M.pendingProps,z);case 19:return yd(O,M,z);case 31:return Vd(O,M,z);case 22:return ou(O,M,z,M.pendingProps);case 24:return ui(M),G=_a(Ya),O===null?(pe=rl(),pe===null&&(pe=ts,je=lc(),pe.pooledCache=je,je.refCount++,je!==null&&(pe.pooledCacheLanes|=z),pe=je),M.memoizedState={parent:G,cache:pe},Pi(M),Js(M,Ya,pe)):((O.lanes&z)!==0&&(Lo(O,M),Fi(M,null,null,z),Bo()),pe=O.memoizedState,je=M.memoizedState,pe.parent!==G?(pe={parent:G,cache:G},M.memoizedState=pe,M.lanes===0&&(M.memoizedState=M.updateQueue.baseState=pe),Js(M,Ya,G)):(G=je.cache,Js(M,Ya,G),G!==pe.cache&&Zo(M,[Ya],z,!0))),qs(O,M,M.pendingProps.children,z),M.child;case 29:throw M.pendingProps}throw Error(T(156,M.tag))}function Il(O){O.flags|=4}function Rm(O,M,z,G,pe){if((M=(O.mode&32)!==0)&&(M=!1),M){if(O.flags|=16777216,(pe&335544128)===pe)if(O.stateNode.complete)O.flags|=8192;else if(zx())O.flags|=8192;else throw Qs=So,jo}else O.flags&=-16777217}function xx(O,M){if(M.type!=="stylesheet"||(M.state.loading&4)!==0)O.flags&=-16777217;else if(O.flags|=16777216,!Tf(M))if(zx())O.flags|=8192;else throw Qs=So,jo}function Yd(O,M){M!==null&&(O.flags|=4),O.flags&16384&&(M=O.tag!==22?kn():536870912,O.lanes|=M,Lu|=M)}function vd(O,M){if(!Wn)switch(O.tailMode){case"hidden":M=O.tail;for(var z=null;M!==null;)M.alternate!==null&&(z=M),M=M.sibling;z===null?O.tail=null:z.sibling=null;break;case"collapsed":z=O.tail;for(var G=null;z!==null;)z.alternate!==null&&(G=z),z=z.sibling;G===null?M||O.tail===null?O.tail=null:O.tail.sibling=null:G.sibling=null}}function ms(O){var M=O.alternate!==null&&O.alternate.child===O.child,z=0,G=0;if(M)for(var pe=O.child;pe!==null;)z|=pe.lanes|pe.childLanes,G|=pe.subtreeFlags&65011712,G|=pe.flags&65011712,pe.return=O,pe=pe.sibling;else for(pe=O.child;pe!==null;)z|=pe.lanes|pe.childLanes,G|=pe.subtreeFlags,G|=pe.flags,pe.return=O,pe=pe.sibling;return O.subtreeFlags|=G,O.childLanes=z,M}function $f(O,M,z){var G=M.pendingProps;switch(sc(M),M.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ms(M),null;case 1:return ms(M),null;case 3:return z=M.stateNode,G=null,O!==null&&(G=O.memoizedState.cache),M.memoizedState.cache!==G&&(M.flags|=2048),ni(Ya),er(),z.pendingContext&&(z.context=z.pendingContext,z.pendingContext=null),(O===null||O.child===null)&&(Bi(M)?Il(M):O===null||O.memoizedState.isDehydrated&&(M.flags&256)===0||(M.flags|=1024,Eo())),ms(M),null;case 26:var pe=M.type,je=M.memoizedState;return O===null?(Il(M),je!==null?(ms(M),xx(M,je)):(ms(M),Rm(M,pe,null,G,z))):je?je!==O.memoizedState?(Il(M),ms(M),xx(M,je)):(ms(M),M.flags&=-16777217):(O=O.memoizedProps,O!==G&&Il(M),ms(M),Rm(M,pe,O,G,z)),null;case 27:if(Xt(M),z=mt.current,pe=M.type,O!==null&&M.stateNode!=null)O.memoizedProps!==G&&Il(M);else{if(!G){if(M.stateNode===null)throw Error(T(166));return ms(M),null}O=Ar.current,Bi(M)?oc(M):(O=jf(pe,G,z),M.stateNode=O,Il(M))}return ms(M),null;case 5:if(Xt(M),pe=M.type,O!==null&&M.stateNode!=null)O.memoizedProps!==G&&Il(M);else{if(!G){if(M.stateNode===null)throw Error(T(166));return ms(M),null}if(je=Ar.current,Bi(M))oc(M);else{var Ve=um(mt.current);switch(je){case 1:je=Ve.createElementNS("http://www.w3.org/2000/svg",pe);break;case 2:je=Ve.createElementNS("http://www.w3.org/1998/Math/MathML",pe);break;default:switch(pe){case"svg":je=Ve.createElementNS("http://www.w3.org/2000/svg",pe);break;case"math":je=Ve.createElementNS("http://www.w3.org/1998/Math/MathML",pe);break;case"script":je=Ve.createElement("div"),je.innerHTML="<script><\/script>",je=je.removeChild(je.firstChild);break;case"select":je=typeof G.is=="string"?Ve.createElement("select",{is:G.is}):Ve.createElement("select"),G.multiple?je.multiple=!0:G.size&&(je.size=G.size);break;default:je=typeof G.is=="string"?Ve.createElement(pe,{is:G.is}):Ve.createElement(pe)}}je[Tn]=M,je[Sn]=G;e:for(Ve=M.child;Ve!==null;){if(Ve.tag===5||Ve.tag===6)je.appendChild(Ve.stateNode);else if(Ve.tag!==4&&Ve.tag!==27&&Ve.child!==null){Ve.child.return=Ve,Ve=Ve.child;continue}if(Ve===M)break e;for(;Ve.sibling===null;){if(Ve.return===null||Ve.return===M)break e;Ve=Ve.return}Ve.sibling.return=Ve.return,Ve=Ve.sibling}M.stateNode=je;e:switch(hi(je,pe,G),pe){case"button":case"input":case"select":case"textarea":G=!!G.autoFocus;break e;case"img":G=!0;break e;default:G=!1}G&&Il(M)}}return ms(M),Rm(M,M.type,O===null?null:O.memoizedProps,M.pendingProps,z),null;case 6:if(O&&M.stateNode!=null)O.memoizedProps!==G&&Il(M);else{if(typeof G!="string"&&M.stateNode===null)throw Error(T(166));if(O=mt.current,Bi(M)){if(O=M.stateNode,z=M.memoizedProps,G=null,pe=ds,pe!==null)switch(pe.tag){case 27:case 5:G=pe.memoizedProps}O[Tn]=M,O=!!(O.nodeValue===z||G!==null&&G.suppressHydrationWarning===!0||df(O.nodeValue,z)),O||Xs(M,!0)}else O=um(O).createTextNode(G),O[Tn]=M,M.stateNode=O}return ms(M),null;case 31:if(z=M.memoizedState,O===null||O.memoizedState!==null){if(G=Bi(M),z!==null){if(O===null){if(!G)throw Error(T(318));if(O=M.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(T(557));O[Tn]=M}else vi(),(M.flags&128)===0&&(M.memoizedState=null),M.flags|=4;ms(M),O=!1}else z=Eo(),O!==null&&O.memoizedState!==null&&(O.memoizedState.hydrationErrors=z),O=!0;if(!O)return M.flags&256?(Tr(M),M):(Tr(M),null);if((M.flags&128)!==0)throw Error(T(558))}return ms(M),null;case 13:if(G=M.memoizedState,O===null||O.memoizedState!==null&&O.memoizedState.dehydrated!==null){if(pe=Bi(M),G!==null&&G.dehydrated!==null){if(O===null){if(!pe)throw Error(T(318));if(pe=M.memoizedState,pe=pe!==null?pe.dehydrated:null,!pe)throw Error(T(317));pe[Tn]=M}else vi(),(M.flags&128)===0&&(M.memoizedState=null),M.flags|=4;ms(M),pe=!1}else pe=Eo(),O!==null&&O.memoizedState!==null&&(O.memoizedState.hydrationErrors=pe),pe=!0;if(!pe)return M.flags&256?(Tr(M),M):(Tr(M),null)}return Tr(M),(M.flags&128)!==0?(M.lanes=z,M):(z=G!==null,O=O!==null&&O.memoizedState!==null,z&&(G=M.child,pe=null,G.alternate!==null&&G.alternate.memoizedState!==null&&G.alternate.memoizedState.cachePool!==null&&(pe=G.alternate.memoizedState.cachePool.pool),je=null,G.memoizedState!==null&&G.memoizedState.cachePool!==null&&(je=G.memoizedState.cachePool.pool),je!==pe&&(G.flags|=2048)),z!==O&&z&&(M.child.flags|=8192),Yd(M,M.updateQueue),ms(M),null);case 4:return er(),O===null&&Km(M.stateNode.containerInfo),ms(M),null;case 10:return ni(M.type),ms(M),null;case 19:if(kt(gn),G=M.memoizedState,G===null)return ms(M),null;if(pe=(M.flags&128)!==0,je=G.rendering,je===null)if(pe)vd(G,!1);else{if(ws!==0||O!==null&&(O.flags&128)!==0)for(O=M.child;O!==null;){if(je=qn(O),je!==null){for(M.flags|=128,vd(G,!1),O=je.updateQueue,M.updateQueue=O,Yd(M,O),M.subtreeFlags=0,O=z,z=M.child;z!==null;)ja(z,O),z=z.sibling;return Zt(gn,gn.current&1|2),Wn&&li(M,G.treeForkCount),M.child}O=O.sibling}G.tail!==null&&vn()>em&&(M.flags|=128,pe=!0,vd(G,!1),M.lanes=4194304)}else{if(!pe)if(O=qn(je),O!==null){if(M.flags|=128,pe=!0,O=O.updateQueue,M.updateQueue=O,Yd(M,O),vd(G,!0),G.tail===null&&G.tailMode==="hidden"&&!je.alternate&&!Wn)return ms(M),null}else 2*vn()-G.renderingStartTime>em&&z!==536870912&&(M.flags|=128,pe=!0,vd(G,!1),M.lanes=4194304);G.isBackwards?(je.sibling=M.child,M.child=je):(O=G.last,O!==null?O.sibling=je:M.child=je,G.last=je)}return G.tail!==null?(O=G.tail,G.rendering=O,G.tail=O.sibling,G.renderingStartTime=vn(),O.sibling=null,z=gn.current,Zt(gn,pe?z&1|2:z&1),Wn&&li(M,G.treeForkCount),O):(ms(M),null);case 22:case 23:return Tr(M),ot(),G=M.memoizedState!==null,O!==null?O.memoizedState!==null!==G&&(M.flags|=8192):G&&(M.flags|=8192),G?(z&536870912)!==0&&(M.flags&128)===0&&(ms(M),M.subtreeFlags&6&&(M.flags|=8192)):ms(M),z=M.updateQueue,z!==null&&Yd(M,z.retryQueue),z=null,O!==null&&O.memoizedState!==null&&O.memoizedState.cachePool!==null&&(z=O.memoizedState.cachePool.pool),G=null,M.memoizedState!==null&&M.memoizedState.cachePool!==null&&(G=M.memoizedState.cachePool.pool),G!==z&&(M.flags|=2048),O!==null&&kt(ro),null;case 24:return z=null,O!==null&&(z=O.memoizedState.cache),M.memoizedState.cache!==z&&(M.flags|=2048),ni(Ya),ms(M),null;case 25:return null;case 30:return null}throw Error(T(156,M.tag))}function Gf(O,M){switch(sc(M),M.tag){case 1:return O=M.flags,O&65536?(M.flags=O&-65537|128,M):null;case 3:return ni(Ya),er(),O=M.flags,(O&65536)!==0&&(O&128)===0?(M.flags=O&-65537|128,M):null;case 26:case 27:case 5:return Xt(M),null;case 31:if(M.memoizedState!==null){if(Tr(M),M.alternate===null)throw Error(T(340));vi()}return O=M.flags,O&65536?(M.flags=O&-65537|128,M):null;case 13:if(Tr(M),O=M.memoizedState,O!==null&&O.dehydrated!==null){if(M.alternate===null)throw Error(T(340));vi()}return O=M.flags,O&65536?(M.flags=O&-65537|128,M):null;case 19:return kt(gn),null;case 4:return er(),null;case 10:return ni(M.type),null;case 22:case 23:return Tr(M),ot(),O!==null&&kt(ro),O=M.flags,O&65536?(M.flags=O&-65537|128,M):null;case 24:return ni(Ya),null;case 25:return null;default:return null}}function fx(O,M){switch(sc(M),M.tag){case 3:ni(Ya),er();break;case 26:case 27:case 5:Xt(M);break;case 4:er();break;case 31:M.memoizedState!==null&&Tr(M);break;case 13:Tr(M);break;case 19:kt(gn);break;case 10:ni(M.type);break;case 22:case 23:Tr(M),ot(),O!==null&&kt(ro);break;case 24:ni(Ya)}}function bd(O,M){try{var z=M.updateQueue,G=z!==null?z.lastEffect:null;if(G!==null){var pe=G.next;z=pe;do{if((z.tag&O)===O){G=void 0;var je=z.create,Ve=z.inst;G=je(),Ve.destroy=G}z=z.next}while(z!==pe)}}catch(tt){Ka(M,M.return,tt)}}function Ac(O,M,z){try{var G=M.updateQueue,pe=G!==null?G.lastEffect:null;if(pe!==null){var je=pe.next;G=je;do{if((G.tag&O)===O){var Ve=G.inst,tt=Ve.destroy;if(tt!==void 0){Ve.destroy=void 0,pe=M;var ht=z,qt=tt;try{qt()}catch(dr){Ka(pe,ht,dr)}}}G=G.next}while(G!==je)}}catch(dr){Ka(M,M.return,dr)}}function px(O){var M=O.updateQueue;if(M!==null){var z=O.stateNode;try{oe(M,z)}catch(G){Ka(O,O.return,G)}}}function hx(O,M,z){z.props=co(O.type,O.memoizedProps),z.state=O.memoizedState;try{z.componentWillUnmount()}catch(G){Ka(O,M,G)}}function Ed(O,M){try{var z=O.ref;if(z!==null){switch(O.tag){case 26:case 27:case 5:var G=O.stateNode;break;case 30:G=O.stateNode;break;default:G=O.stateNode}typeof z=="function"?O.refCleanup=z(G):z.current=G}}catch(pe){Ka(O,M,pe)}}function xl(O,M){var z=O.ref,G=O.refCleanup;if(z!==null)if(typeof G=="function")try{G()}catch(pe){Ka(O,M,pe)}finally{O.refCleanup=null,O=O.alternate,O!=null&&(O.refCleanup=null)}else if(typeof z=="function")try{z(null)}catch(pe){Ka(O,M,pe)}else z.current=null}function gx(O){var M=O.type,z=O.memoizedProps,G=O.stateNode;try{e:switch(M){case"button":case"input":case"select":case"textarea":z.autoFocus&&G.focus();break e;case"img":z.src?G.src=z.src:z.srcSet&&(G.srcset=z.srcSet)}}catch(pe){Ka(O,O.return,pe)}}function wm(O,M,z){try{var G=O.stateNode;xp(G,O.type,z,M),G[Sn]=M}catch(pe){Ka(O,O.return,pe)}}function yx(O){return O.tag===5||O.tag===3||O.tag===26||O.tag===27&&kc(O.type)||O.tag===4}function Nm(O){e:for(;;){for(;O.sibling===null;){if(O.return===null||yx(O.return))return null;O=O.return}for(O.sibling.return=O.return,O=O.sibling;O.tag!==5&&O.tag!==6&&O.tag!==18;){if(O.tag===27&&kc(O.type)||O.flags&2||O.child===null||O.tag===4)continue e;O.child.return=O,O=O.child}if(!(O.flags&2))return O.stateNode}}function _m(O,M,z){var G=O.tag;if(G===5||G===6)O=O.stateNode,M?(z.nodeType===9?z.body:z.nodeName==="HTML"?z.ownerDocument.body:z).insertBefore(O,M):(M=z.nodeType===9?z.body:z.nodeName==="HTML"?z.ownerDocument.body:z,M.appendChild(O),z=z._reactRootContainer,z!=null||M.onclick!==null||(M.onclick=Jn));else if(G!==4&&(G===27&&kc(O.type)&&(z=O.stateNode,M=null),O=O.child,O!==null))for(_m(O,M,z),O=O.sibling;O!==null;)_m(O,M,z),O=O.sibling}function Xd(O,M,z){var G=O.tag;if(G===5||G===6)O=O.stateNode,M?z.insertBefore(O,M):z.appendChild(O);else if(G!==4&&(G===27&&kc(O.type)&&(z=O.stateNode),O=O.child,O!==null))for(Xd(O,M,z),O=O.sibling;O!==null;)Xd(O,M,z),O=O.sibling}function vx(O){var M=O.stateNode,z=O.memoizedProps;try{for(var G=O.type,pe=M.attributes;pe.length;)M.removeAttributeNode(pe[0]);hi(M,G,z),M[Tn]=O,M[Sn]=z}catch(je){Ka(O,O.return,je)}}var Pl=!1,$s=!1,Am=!1,bx=typeof WeakSet=="function"?WeakSet:Set,oi=null;function Kf(O,M){if(O=O.containerInfo,Ym=gm,O=rc(O),nc(O)){if("selectionStart"in O)var z={start:O.selectionStart,end:O.selectionEnd};else e:{z=(z=O.ownerDocument)&&z.defaultView||window;var G=z.getSelection&&z.getSelection();if(G&&G.rangeCount!==0){z=G.anchorNode;var pe=G.anchorOffset,je=G.focusNode;G=G.focusOffset;try{z.nodeType,je.nodeType}catch{z=null;break e}var Ve=0,tt=-1,ht=-1,qt=0,dr=0,vr=O,Kt=null;t:for(;;){for(var rr;vr!==z||pe!==0&&vr.nodeType!==3||(tt=Ve+pe),vr!==je||G!==0&&vr.nodeType!==3||(ht=Ve+G),vr.nodeType===3&&(Ve+=vr.nodeValue.length),(rr=vr.firstChild)!==null;)Kt=vr,vr=rr;for(;;){if(vr===O)break t;if(Kt===z&&++qt===pe&&(tt=Ve),Kt===je&&++dr===G&&(ht=Ve),(rr=vr.nextSibling)!==null)break;vr=Kt,Kt=vr.parentNode}vr=rr}z=tt===-1||ht===-1?null:{start:tt,end:ht}}else z=null}z=z||{start:0,end:0}}else z=null;for(Xm={focusedElem:O,selectionRange:z},gm=!1,oi=M;oi!==null;)if(M=oi,O=M.child,(M.subtreeFlags&1028)!==0&&O!==null)O.return=M,oi=O;else for(;oi!==null;){switch(M=oi,je=M.alternate,O=M.flags,M.tag){case 0:if((O&4)!==0&&(O=M.updateQueue,O=O!==null?O.events:null,O!==null))for(z=0;z<O.length;z++)pe=O[z],pe.ref.impl=pe.nextImpl;break;case 11:case 15:break;case 1:if((O&1024)!==0&&je!==null){O=void 0,z=M,pe=je.memoizedProps,je=je.memoizedState,G=z.stateNode;try{var cn=co(z.type,pe);O=G.getSnapshotBeforeUpdate(cn,je),G.__reactInternalSnapshotBeforeUpdate=O}catch(An){Ka(z,z.return,An)}}break;case 3:if((O&1024)!==0){if(O=M.stateNode.containerInfo,z=O.nodeType,z===9)Zm(O);else if(z===1)switch(O.nodeName){case"HEAD":case"HTML":case"BODY":Zm(O);break;default:O.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((O&1024)!==0)throw Error(T(163))}if(O=M.sibling,O!==null){O.return=M.return,oi=O;break}oi=M.return}}function Ex(O,M,z){var G=z.flags;switch(z.tag){case 0:case 11:case 15:Ml(O,z),G&4&&bd(5,z);break;case 1:if(Ml(O,z),G&4)if(O=z.stateNode,M===null)try{O.componentDidMount()}catch(Ve){Ka(z,z.return,Ve)}else{var pe=co(z.type,M.memoizedProps);M=M.memoizedState;try{O.componentDidUpdate(pe,M,O.__reactInternalSnapshotBeforeUpdate)}catch(Ve){Ka(z,z.return,Ve)}}G&64&&px(z),G&512&&Ed(z,z.return);break;case 3:if(Ml(O,z),G&64&&(O=z.updateQueue,O!==null)){if(M=null,z.child!==null)switch(z.child.tag){case 27:case 5:M=z.child.stateNode;break;case 1:M=z.child.stateNode}try{oe(O,M)}catch(Ve){Ka(z,z.return,Ve)}}break;case 27:M===null&&G&4&&vx(z);case 26:case 5:Ml(O,z),M===null&&G&4&&gx(z),G&512&&Ed(z,z.return);break;case 12:Ml(O,z);break;case 31:Ml(O,z),G&4&&Rx(O,z);break;case 13:Ml(O,z),G&4&&wx(O,z),G&64&&(O=z.memoizedState,O!==null&&(O=O.dehydrated,O!==null&&(z=tp.bind(null,z),Ep(O,z))));break;case 22:if(G=z.memoizedState!==null||Pl,!G){M=M!==null&&M.memoizedState!==null||$s,pe=Pl;var je=$s;Pl=G,($s=M)&&!je?Ll(O,z,(z.subtreeFlags&8772)!==0):Ml(O,z),Pl=pe,$s=je}break;case 30:break;default:Ml(O,z)}}function jx(O){var M=O.alternate;M!==null&&(O.alternate=null,jx(M)),O.child=null,O.deletions=null,O.sibling=null,O.tag===5&&(M=O.stateNode,M!==null&&Oa(M)),O.stateNode=null,O.return=null,O.dependencies=null,O.memoizedProps=null,O.memoizedState=null,O.pendingProps=null,O.stateNode=null,O.updateQueue=null}var gs=null,Hi=!1;function kl(O,M,z){for(z=z.child;z!==null;)Sx(O,M,z),z=z.sibling}function Sx(O,M,z){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount($t,z)}catch{}switch(z.tag){case 26:$s||xl(z,M),kl(O,M,z),z.memoizedState?z.memoizedState.count--:z.stateNode&&(z=z.stateNode,z.parentNode.removeChild(z));break;case 27:$s||xl(z,M);var G=gs,pe=Hi;kc(z.type)&&(gs=z.stateNode,Hi=!1),kl(O,M,z),Td(z.stateNode),gs=G,Hi=pe;break;case 5:$s||xl(z,M);case 6:if(G=gs,pe=Hi,gs=null,kl(O,M,z),gs=G,Hi=pe,gs!==null)if(Hi)try{(gs.nodeType===9?gs.body:gs.nodeName==="HTML"?gs.ownerDocument.body:gs).removeChild(z.stateNode)}catch(je){Ka(z,M,je)}else try{gs.removeChild(z.stateNode)}catch(je){Ka(z,M,je)}break;case 18:gs!==null&&(Hi?(O=gs,gf(O.nodeType===9?O.body:O.nodeName==="HTML"?O.ownerDocument.body:O,z.stateNode),Gu(O)):gf(gs,z.stateNode));break;case 4:G=gs,pe=Hi,gs=z.stateNode.containerInfo,Hi=!0,kl(O,M,z),gs=G,Hi=pe;break;case 0:case 11:case 14:case 15:Ac(2,z,M),$s||Ac(4,z,M),kl(O,M,z);break;case 1:$s||(xl(z,M),G=z.stateNode,typeof G.componentWillUnmount=="function"&&hx(z,M,G)),kl(O,M,z);break;case 21:kl(O,M,z);break;case 22:$s=(G=$s)||z.memoizedState!==null,kl(O,M,z),$s=G;break;default:kl(O,M,z)}}function Rx(O,M){if(M.memoizedState===null&&(O=M.alternate,O!==null&&(O=O.memoizedState,O!==null))){O=O.dehydrated;try{Gu(O)}catch(z){Ka(M,M.return,z)}}}function wx(O,M){if(M.memoizedState===null&&(O=M.alternate,O!==null&&(O=O.memoizedState,O!==null&&(O=O.dehydrated,O!==null))))try{Gu(O)}catch(z){Ka(M,M.return,z)}}function Vf(O){switch(O.tag){case 31:case 13:case 19:var M=O.stateNode;return M===null&&(M=O.stateNode=new bx),M;case 22:return O=O.stateNode,M=O._retryCache,M===null&&(M=O._retryCache=new bx),M;default:throw Error(T(435,O.tag))}}function Jd(O,M){var z=Vf(O);M.forEach(function(G){if(!z.has(G)){z.add(G);var pe=rp.bind(null,O,G);G.then(pe,pe)}})}function $i(O,M){var z=M.deletions;if(z!==null)for(var G=0;G<z.length;G++){var pe=z[G],je=O,Ve=M,tt=Ve;e:for(;tt!==null;){switch(tt.tag){case 27:if(kc(tt.type)){gs=tt.stateNode,Hi=!1;break e}break;case 5:gs=tt.stateNode,Hi=!1;break e;case 3:case 4:gs=tt.stateNode.containerInfo,Hi=!0;break e}tt=tt.return}if(gs===null)throw Error(T(160));Sx(je,Ve,pe),gs=null,Hi=!1,je=pe.alternate,je!==null&&(je.return=null),pe.return=null}if(M.subtreeFlags&13886)for(M=M.child;M!==null;)Nx(M,O),M=M.sibling}var $o=null;function Nx(O,M){var z=O.alternate,G=O.flags;switch(O.tag){case 0:case 11:case 14:case 15:$i(M,O),Gi(O),G&4&&(Ac(3,O,O.return),bd(3,O),Ac(5,O,O.return));break;case 1:$i(M,O),Gi(O),G&512&&($s||z===null||xl(z,z.return)),G&64&&Pl&&(O=O.updateQueue,O!==null&&(G=O.callbacks,G!==null&&(z=O.shared.hiddenCallbacks,O.shared.hiddenCallbacks=z===null?G:z.concat(G))));break;case 26:var pe=$o;if($i(M,O),Gi(O),G&512&&($s||z===null||xl(z,z.return)),G&4){var je=z!==null?z.memoizedState:null;if(G=O.memoizedState,z===null)if(G===null)if(O.stateNode===null){e:{G=O.type,z=O.memoizedProps,pe=pe.ownerDocument||pe;t:switch(G){case"title":je=pe.getElementsByTagName("title")[0],(!je||je[ea]||je[Tn]||je.namespaceURI==="http://www.w3.org/2000/svg"||je.hasAttribute("itemprop"))&&(je=pe.createElement(G),pe.head.insertBefore(je,pe.querySelector("head > title"))),hi(je,G,z),je[Tn]=O,jr(je),G=je;break e;case"link":var Ve=Af("link","href",pe).get(G+(z.href||""));if(Ve){for(var tt=0;tt<Ve.length;tt++)if(je=Ve[tt],je.getAttribute("href")===(z.href==null||z.href===""?null:z.href)&&je.getAttribute("rel")===(z.rel==null?null:z.rel)&&je.getAttribute("title")===(z.title==null?null:z.title)&&je.getAttribute("crossorigin")===(z.crossOrigin==null?null:z.crossOrigin)){Ve.splice(tt,1);break t}}je=pe.createElement(G),hi(je,G,z),pe.head.appendChild(je);break;case"meta":if(Ve=Af("meta","content",pe).get(G+(z.content||""))){for(tt=0;tt<Ve.length;tt++)if(je=Ve[tt],je.getAttribute("content")===(z.content==null?null:""+z.content)&&je.getAttribute("name")===(z.name==null?null:z.name)&&je.getAttribute("property")===(z.property==null?null:z.property)&&je.getAttribute("http-equiv")===(z.httpEquiv==null?null:z.httpEquiv)&&je.getAttribute("charset")===(z.charSet==null?null:z.charSet)){Ve.splice(tt,1);break t}}je=pe.createElement(G),hi(je,G,z),pe.head.appendChild(je);break;default:throw Error(T(468,G))}je[Tn]=O,jr(je),G=je}O.stateNode=G}else Cf(pe,O.type,O.stateNode);else O.stateNode=_f(pe,G,O.memoizedProps);else je!==G?(je===null?z.stateNode!==null&&(z=z.stateNode,z.parentNode.removeChild(z)):je.count--,G===null?Cf(pe,O.type,O.stateNode):_f(pe,G,O.memoizedProps)):G===null&&O.stateNode!==null&&wm(O,O.memoizedProps,z.memoizedProps)}break;case 27:$i(M,O),Gi(O),G&512&&($s||z===null||xl(z,z.return)),z!==null&&G&4&&wm(O,O.memoizedProps,z.memoizedProps);break;case 5:if($i(M,O),Gi(O),G&512&&($s||z===null||xl(z,z.return)),O.flags&32){pe=O.stateNode;try{sr(pe,"")}catch(cn){Ka(O,O.return,cn)}}G&4&&O.stateNode!=null&&(pe=O.memoizedProps,wm(O,pe,z!==null?z.memoizedProps:pe)),G&1024&&(Am=!0);break;case 6:if($i(M,O),Gi(O),G&4){if(O.stateNode===null)throw Error(T(162));G=O.memoizedProps,z=O.stateNode;try{z.nodeValue=G}catch(cn){Ka(O,O.return,cn)}}break;case 3:if(xm=null,pe=$o,$o=dm(M.containerInfo),$i(M,O),$o=pe,Gi(O),G&4&&z!==null&&z.memoizedState.isDehydrated)try{Gu(M.containerInfo)}catch(cn){Ka(O,O.return,cn)}Am&&(Am=!1,_x(O));break;case 4:G=$o,$o=dm(O.stateNode.containerInfo),$i(M,O),Gi(O),$o=G;break;case 12:$i(M,O),Gi(O);break;case 31:$i(M,O),Gi(O),G&4&&(G=O.updateQueue,G!==null&&(O.updateQueue=null,Jd(O,G)));break;case 13:$i(M,O),Gi(O),O.child.flags&8192&&O.memoizedState!==null!=(z!==null&&z.memoizedState!==null)&&(Zd=vn()),G&4&&(G=O.updateQueue,G!==null&&(O.updateQueue=null,Jd(O,G)));break;case 22:pe=O.memoizedState!==null;var ht=z!==null&&z.memoizedState!==null,qt=Pl,dr=$s;if(Pl=qt||pe,$s=dr||ht,$i(M,O),$s=dr,Pl=qt,Gi(O),G&8192)e:for(M=O.stateNode,M._visibility=pe?M._visibility&-2:M._visibility|1,pe&&(z===null||ht||Pl||$s||pu(O)),z=null,M=O;;){if(M.tag===5||M.tag===26){if(z===null){ht=z=M;try{if(je=ht.stateNode,pe)Ve=je.style,typeof Ve.setProperty=="function"?Ve.setProperty("display","none","important"):Ve.display="none";else{tt=ht.stateNode;var vr=ht.memoizedProps.style,Kt=vr!=null&&vr.hasOwnProperty("display")?vr.display:null;tt.style.display=Kt==null||typeof Kt=="boolean"?"":(""+Kt).trim()}}catch(cn){Ka(ht,ht.return,cn)}}}else if(M.tag===6){if(z===null){ht=M;try{ht.stateNode.nodeValue=pe?"":ht.memoizedProps}catch(cn){Ka(ht,ht.return,cn)}}}else if(M.tag===18){if(z===null){ht=M;try{var rr=ht.stateNode;pe?yf(rr,!0):yf(ht.stateNode,!1)}catch(cn){Ka(ht,ht.return,cn)}}}else if((M.tag!==22&&M.tag!==23||M.memoizedState===null||M===O)&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===O)break e;for(;M.sibling===null;){if(M.return===null||M.return===O)break e;z===M&&(z=null),M=M.return}z===M&&(z=null),M.sibling.return=M.return,M=M.sibling}G&4&&(G=O.updateQueue,G!==null&&(z=G.retryQueue,z!==null&&(G.retryQueue=null,Jd(O,z))));break;case 19:$i(M,O),Gi(O),G&4&&(G=O.updateQueue,G!==null&&(O.updateQueue=null,Jd(O,G)));break;case 30:break;case 21:break;default:$i(M,O),Gi(O)}}function Gi(O){var M=O.flags;if(M&2){try{for(var z,G=O.return;G!==null;){if(yx(G)){z=G;break}G=G.return}if(z==null)throw Error(T(160));switch(z.tag){case 27:var pe=z.stateNode,je=Nm(O);Xd(O,je,pe);break;case 5:var Ve=z.stateNode;z.flags&32&&(sr(Ve,""),z.flags&=-33);var tt=Nm(O);Xd(O,tt,Ve);break;case 3:case 4:var ht=z.stateNode.containerInfo,qt=Nm(O);_m(O,qt,ht);break;default:throw Error(T(161))}}catch(dr){Ka(O,O.return,dr)}O.flags&=-3}M&4096&&(O.flags&=-4097)}function _x(O){if(O.subtreeFlags&1024)for(O=O.child;O!==null;){var M=O;_x(M),M.tag===5&&M.flags&1024&&M.stateNode.reset(),O=O.sibling}}function Ml(O,M){if(M.subtreeFlags&8772)for(M=M.child;M!==null;)Ex(O,M.alternate,M),M=M.sibling}function pu(O){for(O=O.child;O!==null;){var M=O;switch(M.tag){case 0:case 11:case 14:case 15:Ac(4,M,M.return),pu(M);break;case 1:xl(M,M.return);var z=M.stateNode;typeof z.componentWillUnmount=="function"&&hx(M,M.return,z),pu(M);break;case 27:Td(M.stateNode);case 26:case 5:xl(M,M.return),pu(M);break;case 22:M.memoizedState===null&&pu(M);break;case 30:pu(M);break;default:pu(M)}O=O.sibling}}function Ll(O,M,z){for(z=z&&(M.subtreeFlags&8772)!==0,M=M.child;M!==null;){var G=M.alternate,pe=O,je=M,Ve=je.flags;switch(je.tag){case 0:case 11:case 15:Ll(pe,je,z),bd(4,je);break;case 1:if(Ll(pe,je,z),G=je,pe=G.stateNode,typeof pe.componentDidMount=="function")try{pe.componentDidMount()}catch(qt){Ka(G,G.return,qt)}if(G=je,pe=G.updateQueue,pe!==null){var tt=G.stateNode;try{var ht=pe.shared.hiddenCallbacks;if(ht!==null)for(pe.shared.hiddenCallbacks=null,pe=0;pe<ht.length;pe++)ne(ht[pe],tt)}catch(qt){Ka(G,G.return,qt)}}z&&Ve&64&&px(je),Ed(je,je.return);break;case 27:vx(je);case 26:case 5:Ll(pe,je,z),z&&G===null&&Ve&4&&gx(je),Ed(je,je.return);break;case 12:Ll(pe,je,z);break;case 31:Ll(pe,je,z),z&&Ve&4&&Rx(pe,je);break;case 13:Ll(pe,je,z),z&&Ve&4&&wx(pe,je);break;case 22:je.memoizedState===null&&Ll(pe,je,z),Ed(je,je.return);break;case 30:break;default:Ll(pe,je,z)}M=M.sibling}}function Cm(O,M){var z=null;O!==null&&O.memoizedState!==null&&O.memoizedState.cachePool!==null&&(z=O.memoizedState.cachePool.pool),O=null,M.memoizedState!==null&&M.memoizedState.cachePool!==null&&(O=M.memoizedState.cachePool.pool),O!==z&&(O!=null&&O.refCount++,z!=null&&el(z))}function Tm(O,M){O=null,M.alternate!==null&&(O=M.alternate.memoizedState.cache),M=M.memoizedState.cache,M!==O&&(M.refCount++,O!=null&&el(O))}function Go(O,M,z,G){if(M.subtreeFlags&10256)for(M=M.child;M!==null;)Ax(O,M,z,G),M=M.sibling}function Ax(O,M,z,G){var pe=M.flags;switch(M.tag){case 0:case 11:case 15:Go(O,M,z,G),pe&2048&&bd(9,M);break;case 1:Go(O,M,z,G);break;case 3:Go(O,M,z,G),pe&2048&&(O=null,M.alternate!==null&&(O=M.alternate.memoizedState.cache),M=M.memoizedState.cache,M!==O&&(M.refCount++,O!=null&&el(O)));break;case 12:if(pe&2048){Go(O,M,z,G),O=M.stateNode;try{var je=M.memoizedProps,Ve=je.id,tt=je.onPostCommit;typeof tt=="function"&&tt(Ve,M.alternate===null?"mount":"update",O.passiveEffectDuration,-0)}catch(ht){Ka(M,M.return,ht)}}else Go(O,M,z,G);break;case 31:Go(O,M,z,G);break;case 13:Go(O,M,z,G);break;case 23:break;case 22:je=M.stateNode,Ve=M.alternate,M.memoizedState!==null?je._visibility&2?Go(O,M,z,G):jd(O,M):je._visibility&2?Go(O,M,z,G):(je._visibility|=2,Pu(O,M,z,G,(M.subtreeFlags&10256)!==0||!1)),pe&2048&&Cm(Ve,M);break;case 24:Go(O,M,z,G),pe&2048&&Tm(M.alternate,M);break;default:Go(O,M,z,G)}}function Pu(O,M,z,G,pe){for(pe=pe&&((M.subtreeFlags&10256)!==0||!1),M=M.child;M!==null;){var je=O,Ve=M,tt=z,ht=G,qt=Ve.flags;switch(Ve.tag){case 0:case 11:case 15:Pu(je,Ve,tt,ht,pe),bd(8,Ve);break;case 23:break;case 22:var dr=Ve.stateNode;Ve.memoizedState!==null?dr._visibility&2?Pu(je,Ve,tt,ht,pe):jd(je,Ve):(dr._visibility|=2,Pu(je,Ve,tt,ht,pe)),pe&&qt&2048&&Cm(Ve.alternate,Ve);break;case 24:Pu(je,Ve,tt,ht,pe),pe&&qt&2048&&Tm(Ve.alternate,Ve);break;default:Pu(je,Ve,tt,ht,pe)}M=M.sibling}}function jd(O,M){if(M.subtreeFlags&10256)for(M=M.child;M!==null;){var z=O,G=M,pe=G.flags;switch(G.tag){case 22:jd(z,G),pe&2048&&Cm(G.alternate,G);break;case 24:jd(z,G),pe&2048&&Tm(G.alternate,G);break;default:jd(z,G)}M=M.sibling}}var Sd=8192;function ku(O,M,z){if(O.subtreeFlags&Sd)for(O=O.child;O!==null;)Cx(O,M,z),O=O.sibling}function Cx(O,M,z){switch(O.tag){case 26:ku(O,M,z),O.flags&Sd&&O.memoizedState!==null&&Ip(z,$o,O.memoizedState,O.memoizedProps);break;case 5:ku(O,M,z);break;case 3:case 4:var G=$o;$o=dm(O.stateNode.containerInfo),ku(O,M,z),$o=G;break;case 22:O.memoizedState===null&&(G=O.alternate,G!==null&&G.memoizedState!==null?(G=Sd,Sd=16777216,ku(O,M,z),Sd=G):ku(O,M,z));break;default:ku(O,M,z)}}function Tx(O){var M=O.alternate;if(M!==null&&(O=M.child,O!==null)){M.child=null;do M=O.sibling,O.sibling=null,O=M;while(O!==null)}}function Rd(O){var M=O.deletions;if((O.flags&16)!==0){if(M!==null)for(var z=0;z<M.length;z++){var G=M[z];oi=G,Dx(G,O)}Tx(O)}if(O.subtreeFlags&10256)for(O=O.child;O!==null;)Ox(O),O=O.sibling}function Ox(O){switch(O.tag){case 0:case 11:case 15:Rd(O),O.flags&2048&&Ac(9,O,O.return);break;case 3:Rd(O);break;case 12:Rd(O);break;case 22:var M=O.stateNode;O.memoizedState!==null&&M._visibility&2&&(O.return===null||O.return.tag!==13)?(M._visibility&=-3,Qd(O)):Rd(O);break;default:Rd(O)}}function Qd(O){var M=O.deletions;if((O.flags&16)!==0){if(M!==null)for(var z=0;z<M.length;z++){var G=M[z];oi=G,Dx(G,O)}Tx(O)}for(O=O.child;O!==null;){switch(M=O,M.tag){case 0:case 11:case 15:Ac(8,M,M.return),Qd(M);break;case 22:z=M.stateNode,z._visibility&2&&(z._visibility&=-3,Qd(M));break;default:Qd(M)}O=O.sibling}}function Dx(O,M){for(;oi!==null;){var z=oi;switch(z.tag){case 0:case 11:case 15:Ac(8,z,M);break;case 23:case 22:if(z.memoizedState!==null&&z.memoizedState.cachePool!==null){var G=z.memoizedState.cachePool.pool;G!=null&&G.refCount++}break;case 24:el(z.memoizedState.cache)}if(G=z.child,G!==null)G.return=z,oi=G;else e:for(z=O;oi!==null;){G=oi;var pe=G.sibling,je=G.return;if(jx(G),G===z){oi=null;break e}if(pe!==null){pe.return=je,oi=pe;break e}oi=je}}}var Wf={getCacheForType:function(O){var M=_a(Ya),z=M.data.get(O);return z===void 0&&(z=O(),M.data.set(O,z)),z},cacheSignal:function(){return _a(Ya).controller.signal}},Yf=typeof WeakMap=="function"?WeakMap:Map,La=0,ts=null,xa=null,ha=0,Ga=0,mo=null,Cc=!1,Mu=!1,Om=!1,Bl=0,ws=0,Tc=0,hu=0,Dm=0,xo=0,Lu=0,wd=null,Ki=null,Im=!1,Zd=0,Ix=0,em=1/0,tm=null,Oc=null,ei=0,Dc=null,Bu=null,Ul=0,Pm=0,km=null,Px=null,Nd=0,Mm=null;function fo(){return(La&2)!==0&&ha!==0?ha&-ha:Je.T!==null?qm():Pr()}function Mx(){if(xo===0)if((ha&536870912)===0||Wn){var O=Ur;Ur<<=1,(Ur&3932160)===0&&(Ur=262144),xo=O}else xo=536870912;return O=Rt.current,O!==null&&(O.flags|=32),xo}function Vi(O,M,z){(O===ts&&(Ga===2||Ga===9)||O.cancelPendingCommit!==null)&&(Uu(O,0),Ic(O,ha,xo,!1)),Hr(O,z),((La&2)===0||O!==ts)&&(O===ts&&((La&2)===0&&(hu|=z),ws===4&&Ic(O,ha,xo,!1)),fl(O))}function Lx(O,M,z){if((La&6)!==0)throw Error(T(327));var G=!z&&(M&127)===0&&(M&O.expiredLanes)===0||Rr(O,M),pe=G?Qf(O,M):Bm(O,M,!0),je=G;do{if(pe===0){Mu&&!G&&Ic(O,M,0,!1);break}else{if(z=O.current.alternate,je&&!Xf(z)){pe=Bm(O,M,!1),je=!1;continue}if(pe===2){if(je=M,O.errorRecoveryDisabledLanes&je)var Ve=0;else Ve=O.pendingLanes&-536870913,Ve=Ve!==0?Ve:Ve&536870912?536870912:0;if(Ve!==0){M=Ve;e:{var tt=O;pe=wd;var ht=tt.current.memoizedState.isDehydrated;if(ht&&(Uu(tt,Ve).flags|=256),Ve=Bm(tt,Ve,!1),Ve!==2){if(Om&&!ht){tt.errorRecoveryDisabledLanes|=je,hu|=je,pe=4;break e}je=Ki,Ki=pe,je!==null&&(Ki===null?Ki=je:Ki.push.apply(Ki,je))}pe=Ve}if(je=!1,pe!==2)continue}}if(pe===1){Uu(O,0),Ic(O,M,0,!0);break}e:{switch(G=O,je=pe,je){case 0:case 1:throw Error(T(345));case 4:if((M&4194048)!==M)break;case 6:Ic(G,M,xo,!Cc);break e;case 2:Ki=null;break;case 3:case 5:break;default:throw Error(T(329))}if((M&62914560)===M&&(pe=Zd+300-vn(),10<pe)){if(Ic(G,M,xo,!Cc),gr(G,0,!0)!==0)break e;Ul=M,G.timeoutHandle=pf(Bx.bind(null,G,z,Ki,tm,Im,M,xo,hu,Lu,Cc,je,"Throttled",-0,0),pe);break e}Bx(G,z,Ki,tm,Im,M,xo,hu,Lu,Cc,je,null,-0,0)}}break}while(!0);fl(O)}function Bx(O,M,z,G,pe,je,Ve,tt,ht,qt,dr,vr,Kt,rr){if(O.timeoutHandle=-1,vr=M.subtreeFlags,vr&8192||(vr&16785408)===16785408){vr={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},Cx(M,je,vr);var cn=(je&62914560)===je?Zd-vn():(je&4194048)===je?Ix-vn():0;if(cn=Pp(vr,cn),cn!==null){Ul=je,O.cancelPendingCommit=cn(Kx.bind(null,O,M,je,z,G,pe,Ve,tt,ht,dr,vr,null,Kt,rr)),Ic(O,je,Ve,!qt);return}}Kx(O,M,je,z,G,pe,Ve,tt,ht)}function Xf(O){for(var M=O;;){var z=M.tag;if((z===0||z===11||z===15)&&M.flags&16384&&(z=M.updateQueue,z!==null&&(z=z.stores,z!==null)))for(var G=0;G<z.length;G++){var pe=z[G],je=pe.getSnapshot;pe=pe.value;try{if(!As(je(),pe))return!1}catch{return!1}}if(z=M.child,M.subtreeFlags&16384&&z!==null)z.return=M,M=z;else{if(M===O)break;for(;M.sibling===null;){if(M.return===null||M.return===O)return!0;M=M.return}M.sibling.return=M.return,M=M.sibling}}return!0}function Ic(O,M,z,G){M&=~Dm,M&=~hu,O.suspendedLanes|=M,O.pingedLanes&=~M,G&&(O.warmLanes|=M),G=O.expirationTimes;for(var pe=M;0<pe;){var je=31-Wt(pe),Ve=1<<je;G[je]=-1,pe&=~Ve}z!==0&&tn(O,z,M)}function rm(){return(La&6)===0?(_d(0),!1):!0}function Lm(){if(xa!==null){if(Ga===0)var O=xa.return;else O=xa,Ma=Zi=null,zo(O),xi=null,ko=0,O=xa;for(;O!==null;)fx(O.alternate,O),O=O.return;xa=null}}function Uu(O,M){var z=O.timeoutHandle;z!==-1&&(O.timeoutHandle=-1,hp(z)),z=O.cancelPendingCommit,z!==null&&(O.cancelPendingCommit=null,z()),Ul=0,Lm(),ts=O,xa=z=cs(O.current,null),ha=M,Ga=0,mo=null,Cc=!1,Mu=Rr(O,M),Om=!1,Lu=xo=Dm=hu=Tc=ws=0,Ki=wd=null,Im=!1,(M&8)!==0&&(M|=M&32);var G=O.entangledLanes;if(G!==0)for(O=O.entanglements,G&=M;0<G;){var pe=31-Wt(G),je=1<<pe;M|=O[pe],G&=~je}return Bl=M,In(),z}function Ux(O,M){en=null,Je.H=tu,M===no||M===ao?(M=ai(),Ga=3):M===jo?(M=ai(),Ga=4):Ga=M===fd?8:M!==null&&typeof M=="object"&&typeof M.then=="function"?6:1,mo=M,xa===null&&(ws=1,au(O,Bs(M,O.current)))}function zx(){var O=Rt.current;return O===null?!0:(ha&4194048)===ha?xt===null:(ha&62914560)===ha||(ha&536870912)!==0?O===xt:!1}function Fx(){var O=Je.H;return Je.H=tu,O===null?tu:O}function qx(){var O=Je.A;return Je.A=Wf,O}function nm(){ws=4,Cc||(ha&4194048)!==ha&&Rt.current!==null||(Mu=!0),(Tc&134217727)===0&&(hu&134217727)===0||ts===null||Ic(ts,ha,xo,!1)}function Bm(O,M,z){var G=La;La|=2;var pe=Fx(),je=qx();(ts!==O||ha!==M)&&(tm=null,Uu(O,M)),M=!1;var Ve=ws;e:do try{if(Ga!==0&&xa!==null){var tt=xa,ht=mo;switch(Ga){case 8:Lm(),Ve=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(M=!0);var qt=Ga;if(Ga=0,mo=null,zu(O,tt,ht,qt),z&&Mu){Ve=0;break e}break;default:qt=Ga,Ga=0,mo=null,zu(O,tt,ht,qt)}}Jf(),Ve=ws;break}catch(dr){Ux(O,dr)}while(!0);return M&&O.shellSuspendCounter++,Ma=Zi=null,La=G,Je.H=pe,Je.A=je,xa===null&&(ts=null,ha=0,In()),Ve}function Jf(){for(;xa!==null;)Hx(xa)}function Qf(O,M){var z=La;La|=2;var G=Fx(),pe=qx();ts!==O||ha!==M?(tm=null,em=vn()+500,Uu(O,M)):Mu=Rr(O,M);e:do try{if(Ga!==0&&xa!==null){M=xa;var je=mo;t:switch(Ga){case 1:Ga=0,mo=null,zu(O,M,je,1);break;case 2:case 9:if(Rl(je)){Ga=0,mo=null,$x(M);break}M=function(){Ga!==2&&Ga!==9||ts!==O||(Ga=7),fl(O)},je.then(M,M);break e;case 3:Ga=7;break e;case 4:Ga=5;break e;case 7:Rl(je)?(Ga=0,mo=null,$x(M)):(Ga=0,mo=null,zu(O,M,je,7));break;case 5:var Ve=null;switch(xa.tag){case 26:Ve=xa.memoizedState;case 5:case 27:var tt=xa;if(Ve?Tf(Ve):tt.stateNode.complete){Ga=0,mo=null;var ht=tt.sibling;if(ht!==null)xa=ht;else{var qt=tt.return;qt!==null?(xa=qt,am(qt)):xa=null}break t}}Ga=0,mo=null,zu(O,M,je,5);break;case 6:Ga=0,mo=null,zu(O,M,je,6);break;case 8:Lm(),ws=6;break e;default:throw Error(T(462))}}Zf();break}catch(dr){Ux(O,dr)}while(!0);return Ma=Zi=null,Je.H=G,Je.A=pe,La=z,xa!==null?0:(ts=null,ha=0,In(),ws)}function Zf(){for(;xa!==null&&!Xr();)Hx(xa)}function Hx(O){var M=mx(O.alternate,O,Bl);O.memoizedProps=O.pendingProps,M===null?am(O):xa=M}function $x(O){var M=O,z=M.alternate;switch(M.tag){case 15:case 0:M=ml(z,M,M.pendingProps,M.type,void 0,ha);break;case 11:M=ml(z,M,M.pendingProps,M.type.render,M.ref,ha);break;case 5:zo(M);default:fx(z,M),M=xa=ja(M,Bl),M=mx(z,M,Bl)}O.memoizedProps=O.pendingProps,M===null?am(O):xa=M}function zu(O,M,z,G){Ma=Zi=null,zo(M),xi=null,ko=0;var pe=M.return;try{if(iu(O,pe,M,z,ha)){ws=1,au(O,Bs(z,O.current)),xa=null;return}}catch(je){if(pe!==null)throw xa=pe,je;ws=1,au(O,Bs(z,O.current)),xa=null;return}M.flags&32768?(Wn||G===1?O=!0:Mu||(ha&536870912)!==0?O=!1:(Cc=O=!0,(G===2||G===9||G===3||G===6)&&(G=Rt.current,G!==null&&G.tag===13&&(G.flags|=16384))),Gx(M,O)):am(M)}function am(O){var M=O;do{if((M.flags&32768)!==0){Gx(M,Cc);return}O=M.return;var z=$f(M.alternate,M,Bl);if(z!==null){xa=z;return}if(M=M.sibling,M!==null){xa=M;return}xa=M=O}while(M!==null);ws===0&&(ws=5)}function Gx(O,M){do{var z=Gf(O.alternate,O);if(z!==null){z.flags&=32767,xa=z;return}if(z=O.return,z!==null&&(z.flags|=32768,z.subtreeFlags=0,z.deletions=null),!M&&(O=O.sibling,O!==null)){xa=O;return}xa=O=z}while(O!==null);ws=6,xa=null}function Kx(O,M,z,G,pe,je,Ve,tt,ht){O.cancelPendingCommit=null;do sm();while(ei!==0);if((La&6)!==0)throw Error(T(327));if(M!==null){if(M===O.current)throw Error(T(177));if(je=M.lanes|M.childLanes,je|=Mn,Ir(O,z,je,Ve,tt,ht),O===ts&&(xa=ts=null,ha=0),Bu=M,Dc=O,Ul=z,Pm=je,km=pe,Px=G,(M.subtreeFlags&10256)!==0||(M.flags&10256)!==0?(O.callbackNode=null,O.callbackPriority=0,np(Hn,function(){return Jx(),null})):(O.callbackNode=null,O.callbackPriority=0),G=(M.flags&13878)!==0,(M.subtreeFlags&13878)!==0||G){G=Je.T,Je.T=null,pe=ut.p,ut.p=2,Ve=La,La|=4;try{Kf(O,M,z)}finally{La=Ve,ut.p=pe,Je.T=G}}ei=1,Vx(),Wx(),Yx()}}function Vx(){if(ei===1){ei=0;var O=Dc,M=Bu,z=(M.flags&13878)!==0;if((M.subtreeFlags&13878)!==0||z){z=Je.T,Je.T=null;var G=ut.p;ut.p=2;var pe=La;La|=4;try{Nx(M,O);var je=Xm,Ve=rc(O.containerInfo),tt=je.focusedElem,ht=je.selectionRange;if(Ve!==tt&&tt&&tt.ownerDocument&&bo(tt.ownerDocument.documentElement,tt)){if(ht!==null&&nc(tt)){var qt=ht.start,dr=ht.end;if(dr===void 0&&(dr=qt),"selectionStart"in tt)tt.selectionStart=qt,tt.selectionEnd=Math.min(dr,tt.value.length);else{var vr=tt.ownerDocument||document,Kt=vr&&vr.defaultView||window;if(Kt.getSelection){var rr=Kt.getSelection(),cn=tt.textContent.length,An=Math.min(ht.start,cn),Ja=ht.end===void 0?An:Math.min(ht.end,cn);!rr.extend&&An>Ja&&(Ve=Ja,Ja=An,An=Ve);var Dt=vo(tt,An),St=vo(tt,Ja);if(Dt&&St&&(rr.rangeCount!==1||rr.anchorNode!==Dt.node||rr.anchorOffset!==Dt.offset||rr.focusNode!==St.node||rr.focusOffset!==St.offset)){var Ut=vr.createRange();Ut.setStart(Dt.node,Dt.offset),rr.removeAllRanges(),An>Ja?(rr.addRange(Ut),rr.extend(St.node,St.offset)):(Ut.setEnd(St.node,St.offset),rr.addRange(Ut))}}}}for(vr=[],rr=tt;rr=rr.parentNode;)rr.nodeType===1&&vr.push({element:rr,left:rr.scrollLeft,top:rr.scrollTop});for(typeof tt.focus=="function"&&tt.focus(),tt=0;tt<vr.length;tt++){var fr=vr[tt];fr.element.scrollLeft=fr.left,fr.element.scrollTop=fr.top}}gm=!!Ym,Xm=Ym=null}finally{La=pe,ut.p=G,Je.T=z}}O.current=M,ei=2}}function Wx(){if(ei===2){ei=0;var O=Dc,M=Bu,z=(M.flags&8772)!==0;if((M.subtreeFlags&8772)!==0||z){z=Je.T,Je.T=null;var G=ut.p;ut.p=2;var pe=La;La|=4;try{Ex(O,M.alternate,M)}finally{La=pe,ut.p=G,Je.T=z}}ei=3}}function Yx(){if(ei===4||ei===3){ei=0,an();var O=Dc,M=Bu,z=Ul,G=Px;(M.subtreeFlags&10256)!==0||(M.flags&10256)!==0?ei=5:(ei=0,Bu=Dc=null,Xx(O,O.pendingLanes));var pe=O.pendingLanes;if(pe===0&&(Oc=null),Qt(z),M=M.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot($t,M,void 0,(M.current.flags&128)===128)}catch{}if(G!==null){M=Je.T,pe=ut.p,ut.p=2,Je.T=null;try{for(var je=O.onRecoverableError,Ve=0;Ve<G.length;Ve++){var tt=G[Ve];je(tt.value,{componentStack:tt.stack})}}finally{Je.T=M,ut.p=pe}}(Ul&3)!==0&&sm(),fl(O),pe=O.pendingLanes,(z&261930)!==0&&(pe&42)!==0?O===Mm?Nd++:(Nd=0,Mm=O):Nd=0,_d(0)}}function Xx(O,M){(O.pooledCacheLanes&=M)===0&&(M=O.pooledCache,M!=null&&(O.pooledCache=null,el(M)))}function sm(){return Vx(),Wx(),Yx(),Jx()}function Jx(){if(ei!==5)return!1;var O=Dc,M=Pm;Pm=0;var z=Qt(Ul),G=Je.T,pe=ut.p;try{ut.p=32>z?32:z,Je.T=null,z=km,km=null;var je=Dc,Ve=Ul;if(ei=0,Bu=Dc=null,Ul=0,(La&6)!==0)throw Error(T(331));var tt=La;if(La|=4,Ox(je.current),Ax(je,je.current,Ve,z),La=tt,_d(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot($t,je)}catch{}return!0}finally{ut.p=pe,Je.T=G,Xx(O,M)}}function Qx(O,M,z){M=Bs(z,M),M=Ou(O.stateNode,M,2),O=Fs(O,M,2),O!==null&&(Hr(O,2),fl(O))}function Ka(O,M,z){if(O.tag===3)Qx(O,O,z);else for(;M!==null;){if(M.tag===3){Qx(M,O,z);break}else if(M.tag===1){var G=M.stateNode;if(typeof M.type.getDerivedStateFromError=="function"||typeof G.componentDidCatch=="function"&&(Oc===null||!Oc.has(G))){O=Bs(z,O),z=su(2),G=Fs(M,z,2),G!==null&&(Du(z,G,M,O),Hr(G,2),fl(G));break}}M=M.return}}function Um(O,M,z){var G=O.pingCache;if(G===null){G=O.pingCache=new Yf;var pe=new Set;G.set(M,pe)}else pe=G.get(M),pe===void 0&&(pe=new Set,G.set(M,pe));pe.has(z)||(Om=!0,pe.add(z),O=ep.bind(null,O,M,z),M.then(O,O))}function ep(O,M,z){var G=O.pingCache;G!==null&&G.delete(M),O.pingedLanes|=O.suspendedLanes&z,O.warmLanes&=~z,ts===O&&(ha&z)===z&&(ws===4||ws===3&&(ha&62914560)===ha&&300>vn()-Zd?(La&2)===0&&Uu(O,0):Dm|=z,Lu===ha&&(Lu=0)),fl(O)}function Zx(O,M){M===0&&(M=kn()),O=Ea(O,M),O!==null&&(Hr(O,M),fl(O))}function tp(O){var M=O.memoizedState,z=0;M!==null&&(z=M.retryLane),Zx(O,z)}function rp(O,M){var z=0;switch(O.tag){case 31:case 13:var G=O.stateNode,pe=O.memoizedState;pe!==null&&(z=pe.retryLane);break;case 19:G=O.stateNode;break;case 22:G=O.stateNode._retryCache;break;default:throw Error(T(314))}G!==null&&G.delete(M),Zx(O,z)}function np(O,M){return Zr(O,M)}var im=null,Fu=null,zm=!1,om=!1,Fm=!1,Pc=0;function fl(O){O!==Fu&&O.next===null&&(Fu===null?im=Fu=O:Fu=Fu.next=O),om=!0,zm||(zm=!0,sp())}function _d(O,M){if(!Fm&&om){Fm=!0;do for(var z=!1,G=im;G!==null;){if(O!==0){var pe=G.pendingLanes;if(pe===0)var je=0;else{var Ve=G.suspendedLanes,tt=G.pingedLanes;je=(1<<31-Wt(42|O)+1)-1,je&=pe&~(Ve&~tt),je=je&201326741?je&201326741|1:je?je|2:0}je!==0&&(z=!0,nf(G,je))}else je=ha,je=gr(G,G===ts?je:0,G.cancelPendingCommit!==null||G.timeoutHandle!==-1),(je&3)===0||Rr(G,je)||(z=!0,nf(G,je));G=G.next}while(z);Fm=!1}}function ap(){ef()}function ef(){om=zm=!1;var O=0;Pc!==0&&pp()&&(O=Pc);for(var M=vn(),z=null,G=im;G!==null;){var pe=G.next,je=tf(G,M);je===0?(G.next=null,z===null?im=pe:z.next=pe,pe===null&&(Fu=z)):(z=G,(O!==0||(je&3)!==0)&&(om=!0)),G=pe}ei!==0&&ei!==5||_d(O),Pc!==0&&(Pc=0)}function tf(O,M){for(var z=O.suspendedLanes,G=O.pingedLanes,pe=O.expirationTimes,je=O.pendingLanes&-62914561;0<je;){var Ve=31-Wt(je),tt=1<<Ve,ht=pe[Ve];ht===-1?((tt&z)===0||(tt&G)!==0)&&(pe[Ve]=Qr(tt,M)):ht<=M&&(O.expiredLanes|=tt),je&=~tt}if(M=ts,z=ha,z=gr(O,O===M?z:0,O.cancelPendingCommit!==null||O.timeoutHandle!==-1),G=O.callbackNode,z===0||O===M&&(Ga===2||Ga===9)||O.cancelPendingCommit!==null)return G!==null&&G!==null&&un(G),O.callbackNode=null,O.callbackPriority=0;if((z&3)===0||Rr(O,z)){if(M=z&-z,M===O.callbackPriority)return M;switch(G!==null&&un(G),Qt(z)){case 2:case 8:z=sa;break;case 32:z=Hn;break;case 268435456:z=nr;break;default:z=Hn}return G=rf.bind(null,O),z=Zr(z,G),O.callbackPriority=M,O.callbackNode=z,M}return G!==null&&G!==null&&un(G),O.callbackPriority=2,O.callbackNode=null,2}function rf(O,M){if(ei!==0&&ei!==5)return O.callbackNode=null,O.callbackPriority=0,null;var z=O.callbackNode;if(sm()&&O.callbackNode!==z)return null;var G=ha;return G=gr(O,O===ts?G:0,O.cancelPendingCommit!==null||O.timeoutHandle!==-1),G===0?null:(Lx(O,G,M),tf(O,vn()),O.callbackNode!=null&&O.callbackNode===z?rf.bind(null,O):null)}function nf(O,M){if(sm())return null;Lx(O,M,!0)}function sp(){gp(function(){(La&6)!==0?Zr(pn,ap):ef()})}function qm(){if(Pc===0){var O=mi;O===0&&(O=ur,ur<<=1,(ur&261888)===0&&(ur=256)),Pc=O}return Pc}function af(O){return O==null||typeof O=="symbol"||typeof O=="boolean"?null:typeof O=="function"?O:sn(""+O)}function sf(O,M){var z=M.ownerDocument.createElement("input");return z.name=M.name,z.value=M.value,O.id&&z.setAttribute("form",O.id),M.parentNode.insertBefore(z,M),O=new FormData(O),z.parentNode.removeChild(z),O}function ip(O,M,z,G,pe){if(M==="submit"&&z&&z.stateNode===pe){var je=af((pe[Sn]||null).action),Ve=G.submitter;Ve&&(M=(M=Ve[Sn]||null)?af(M.formAction):Ve.getAttribute("formAction"),M!==null&&(je=M,Ve=null));var tt=new ra("action","action",null,G,pe);O.push({event:tt,listeners:[{instance:null,listener:function(){if(G.defaultPrevented){if(Pc!==0){var ht=Ve?sf(pe,Ve):new FormData(pe);bc(z,{pending:!0,data:ht,method:pe.method,action:je},null,ht)}}else typeof je=="function"&&(tt.preventDefault(),ht=Ve?sf(pe,Ve):new FormData(pe),bc(z,{pending:!0,data:ht,method:pe.method,action:je},je,ht))},currentTarget:pe}]})}}for(var Hm=0;Hm<hr.length;Hm++){var $m=hr[Hm],op=$m.toLowerCase(),lp=$m[0].toUpperCase()+$m.slice(1);ar(op,"on"+lp)}ar(_e,"onAnimationEnd"),ar(ze,"onAnimationIteration"),ar(We,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(at,"onTransitionRun"),ar(dt,"onTransitionStart"),ar(Vt,"onTransitionCancel"),ar(bt,"onTransitionEnd"),Sa("onMouseEnter",["mouseout","mouseover"]),Sa("onMouseLeave",["mouseout","mouseover"]),Sa("onPointerEnter",["pointerout","pointerover"]),Sa("onPointerLeave",["pointerout","pointerover"]),hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ad="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ad));function of(O,M){M=(M&4)!==0;for(var z=0;z<O.length;z++){var G=O[z],pe=G.event;G=G.listeners;e:{var je=void 0;if(M)for(var Ve=G.length-1;0<=Ve;Ve--){var tt=G[Ve],ht=tt.instance,qt=tt.currentTarget;if(tt=tt.listener,ht!==je&&pe.isPropagationStopped())break e;je=tt,pe.currentTarget=qt;try{je(pe)}catch(dr){Dr(dr)}pe.currentTarget=null,je=ht}else for(Ve=0;Ve<G.length;Ve++){if(tt=G[Ve],ht=tt.instance,qt=tt.currentTarget,tt=tt.listener,ht!==je&&pe.isPropagationStopped())break e;je=tt,pe.currentTarget=qt;try{je(pe)}catch(dr){Dr(dr)}pe.currentTarget=null,je=ht}}}}function fa(O,M){var z=M[Qa];z===void 0&&(z=M[Qa]=new Set);var G=O+"__bubble";z.has(G)||(lf(M,O,2,!1),z.add(G))}function Gm(O,M,z){var G=0;M&&(G|=4),lf(z,O,G,M)}var lm="_reactListening"+Math.random().toString(36).slice(2);function Km(O){if(!O[lm]){O[lm]=!0,wn.forEach(function(z){z!=="selectionchange"&&(cp.has(z)||Gm(z,!1,O),Gm(z,!0,O))});var M=O.nodeType===9?O:O.ownerDocument;M===null||M[lm]||(M[lm]=!0,Gm("selectionchange",!1,M))}}function lf(O,M,z,G){switch(Lf(M)){case 2:var pe=Lp;break;case 8:pe=Bp;break;default:pe=ox}z=pe.bind(null,M,z,O),pe=void 0,!Vr||M!=="touchstart"&&M!=="touchmove"&&M!=="wheel"||(pe=!0),G?pe!==void 0?O.addEventListener(M,z,{capture:!0,passive:pe}):O.addEventListener(M,z,!0):pe!==void 0?O.addEventListener(M,z,{passive:pe}):O.addEventListener(M,z,!1)}function Vm(O,M,z,G,pe){var je=G;if((M&1)===0&&(M&2)===0&&G!==null)e:for(;;){if(G===null)return;var Ve=G.tag;if(Ve===3||Ve===4){var tt=G.stateNode.containerInfo;if(tt===pe)break;if(Ve===4)for(Ve=G.return;Ve!==null;){var ht=Ve.tag;if((ht===3||ht===4)&&Ve.stateNode.containerInfo===pe)return;Ve=Ve.return}for(;tt!==null;){if(Ve=Gn(tt),Ve===null)return;if(ht=Ve.tag,ht===5||ht===6||ht===26||ht===27){G=je=Ve;continue e}tt=tt.parentNode}}G=G.return}pa(function(){var qt=je,dr=wa(z),vr=[];e:{var Kt=Yt.get(O);if(Kt!==void 0){var rr=ra,cn=O;switch(O){case"keypress":if(_r(z)===0)break e;case"keydown":case"keyup":rr=Xu;break;case"focusin":cn="focus",rr=pl;break;case"focusout":cn="blur",rr=pl;break;case"beforeblur":case"afterblur":rr=pl;break;case"click":if(z.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rr=gi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rr=Ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rr=Wo;break;case _e:case ze:case We:rr=Wu;break;case bt:rr=Gl;break;case"scroll":case"scrollend":rr=Zn;break;case"wheel":rr=_o;break;case"copy":case"cut":case"paste":rr=Fl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rr=bu;break;case"toggle":case"beforetoggle":rr=hl}var An=(M&4)!==0,Ja=!An&&(O==="scroll"||O==="scrollend"),Dt=An?Kt!==null?Kt+"Capture":null:Kt;An=[];for(var St=qt,Ut;St!==null;){var fr=St;if(Ut=fr.stateNode,fr=fr.tag,fr!==5&&fr!==26&&fr!==27||Ut===null||Dt===null||(fr=xn(St,Dt),fr!=null&&An.push(Cd(St,fr,Ut))),Ja)break;St=St.return}0<An.length&&(Kt=new rr(Kt,cn,null,z,dr),vr.push({event:Kt,listeners:An}))}}if((M&7)===0){e:{if(Kt=O==="mouseover"||O==="pointerover",rr=O==="mouseout"||O==="pointerout",Kt&&z!==Un&&(cn=z.relatedTarget||z.fromElement)&&(Gn(cn)||cn[Va]))break e;if((rr||Kt)&&(Kt=dr.window===dr?dr:(Kt=dr.ownerDocument)?Kt.defaultView||Kt.parentWindow:window,rr?(cn=z.relatedTarget||z.toElement,rr=qt,cn=cn?Gn(cn):null,cn!==null&&(Ja=B(cn),An=cn.tag,cn!==Ja||An!==5&&An!==27&&An!==6)&&(cn=null)):(rr=null,cn=qt),rr!==cn)){if(An=gi,fr="onMouseLeave",Dt="onMouseEnter",St="mouse",(O==="pointerout"||O==="pointerover")&&(An=bu,fr="onPointerLeave",Dt="onPointerEnter",St="pointer"),Ja=rr==null?Kt:Et(rr),Ut=cn==null?Kt:Et(cn),Kt=new An(fr,St+"leave",rr,z,dr),Kt.target=Ja,Kt.relatedTarget=Ut,fr=null,Gn(dr)===qt&&(An=new An(Dt,St+"enter",cn,z,dr),An.target=Ut,An.relatedTarget=Ja,fr=An),Ja=fr,rr&&cn)t:{for(An=up,Dt=rr,St=cn,Ut=0,fr=Dt;fr;fr=An(fr))Ut++;fr=0;for(var jn=St;jn;jn=An(jn))fr++;for(;0<Ut-fr;)Dt=An(Dt),Ut--;for(;0<fr-Ut;)St=An(St),fr--;for(;Ut--;){if(Dt===St||St!==null&&Dt===St.alternate){An=Dt;break t}Dt=An(Dt),St=An(St)}An=null}else An=null;rr!==null&&cf(vr,Kt,rr,An,!1),cn!==null&&Ja!==null&&cf(vr,Ja,cn,An,!0)}}e:{if(Kt=qt?Et(qt):window,rr=Kt.nodeName&&Kt.nodeName.toLowerCase(),rr==="select"||rr==="input"&&Kt.type==="file")var Ca=yl;else if(Xl(Kt))if(ys)Ca=ju;else{Ca=vl;var fn=tc}else rr=Kt.nodeName,!rr||rr.toLowerCase()!=="input"||Kt.type!=="checkbox"&&Kt.type!=="radio"?qt&&$r(qt.elementType)&&(Ca=yl):Ca=yo;if(Ca&&(Ca=Ca(O,qt))){gl(vr,Ca,z,dr);break e}fn&&fn(O,Kt,qt),O==="focusout"&&qt&&Kt.type==="number"&&qt.memoizedProps.value!=null&&wt(Kt,"number",Kt.value)}switch(fn=qt?Et(qt):window,O){case"focusin":(Xl(fn)||fn.contentEditable==="true")&&(Li=fn,Xo=qt,Ai=null);break;case"focusout":Ai=Xo=Li=null;break;case"mousedown":Jo=!0;break;case"contextmenu":case"mouseup":case"dragend":Jo=!1,Kc(vr,z,dr);break;case"selectionchange":if(Do)break;case"keydown":case"keyup":Kc(vr,z,dr)}var aa;if(Es)e:{switch(O){case"compositionstart":var ga="onCompositionStart";break e;case"compositionend":ga="onCompositionEnd";break e;case"compositionupdate":ga="onCompositionUpdate";break e}ga=void 0}else Ao?$c(O,z)&&(ga="onCompositionEnd"):O==="keydown"&&z.keyCode===229&&(ga="onCompositionStart");ga&&(Ni&&z.locale!=="ko"&&(Ao||ga!=="onCompositionStart"?ga==="onCompositionEnd"&&Ao&&(aa=br()):(yt=dr,vt="value"in yt?yt.value:yt.textContent,Ao=!0)),fn=cm(qt,ga),0<fn.length&&(ga=new ql(ga,O,null,z,dr),vr.push({event:ga,listeners:fn}),aa?ga.data=aa:(aa=Vl(z),aa!==null&&(ga.data=aa)))),(aa=Ba?Wl(O,z):Yl(O,z))&&(ga=cm(qt,"onBeforeInput"),0<ga.length&&(fn=new ql("onBeforeInput","beforeinput",null,z,dr),vr.push({event:fn,listeners:ga}),fn.data=aa)),ip(vr,O,qt,z,dr)}of(vr,M)})}function Cd(O,M,z){return{instance:O,listener:M,currentTarget:z}}function cm(O,M){for(var z=M+"Capture",G=[];O!==null;){var pe=O,je=pe.stateNode;if(pe=pe.tag,pe!==5&&pe!==26&&pe!==27||je===null||(pe=xn(O,z),pe!=null&&G.unshift(Cd(O,pe,je)),pe=xn(O,M),pe!=null&&G.push(Cd(O,pe,je))),O.tag===3)return G;O=O.return}return[]}function up(O){if(O===null)return null;do O=O.return;while(O&&O.tag!==5&&O.tag!==27);return O||null}function cf(O,M,z,G,pe){for(var je=M._reactName,Ve=[];z!==null&&z!==G;){var tt=z,ht=tt.alternate,qt=tt.stateNode;if(tt=tt.tag,ht!==null&&ht===G)break;tt!==5&&tt!==26&&tt!==27||qt===null||(ht=qt,pe?(qt=xn(z,je),qt!=null&&Ve.unshift(Cd(z,qt,ht))):pe||(qt=xn(z,je),qt!=null&&Ve.push(Cd(z,qt,ht)))),z=z.return}Ve.length!==0&&O.push({event:M,listeners:Ve})}var dp=/\r\n?/g,mp=/\u0000|\uFFFD/g;function uf(O){return(typeof O=="string"?O:""+O).replace(dp,`
`).replace(mp,"")}function df(O,M){return M=uf(M),uf(O)===M}function Xa(O,M,z,G,pe,je){switch(z){case"children":typeof G=="string"?M==="body"||M==="textarea"&&G===""||sr(O,G):(typeof G=="number"||typeof G=="bigint")&&M!=="body"&&sr(O,""+G);break;case"className":Ra(O,"class",G);break;case"tabIndex":Ra(O,"tabindex",G);break;case"dir":case"role":case"viewBox":case"width":case"height":Ra(O,z,G);break;case"style":yr(O,G,je);break;case"data":if(M!=="object"){Ra(O,"data",G);break}case"src":case"href":if(G===""&&(M!=="a"||z!=="href")){O.removeAttribute(z);break}if(G==null||typeof G=="function"||typeof G=="symbol"||typeof G=="boolean"){O.removeAttribute(z);break}G=sn(""+G),O.setAttribute(z,G);break;case"action":case"formAction":if(typeof G=="function"){O.setAttribute(z,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof je=="function"&&(z==="formAction"?(M!=="input"&&Xa(O,M,"name",pe.name,pe,null),Xa(O,M,"formEncType",pe.formEncType,pe,null),Xa(O,M,"formMethod",pe.formMethod,pe,null),Xa(O,M,"formTarget",pe.formTarget,pe,null)):(Xa(O,M,"encType",pe.encType,pe,null),Xa(O,M,"method",pe.method,pe,null),Xa(O,M,"target",pe.target,pe,null)));if(G==null||typeof G=="symbol"||typeof G=="boolean"){O.removeAttribute(z);break}G=sn(""+G),O.setAttribute(z,G);break;case"onClick":G!=null&&(O.onclick=Jn);break;case"onScroll":G!=null&&fa("scroll",O);break;case"onScrollEnd":G!=null&&fa("scrollend",O);break;case"dangerouslySetInnerHTML":if(G!=null){if(typeof G!="object"||!("__html"in G))throw Error(T(61));if(z=G.__html,z!=null){if(pe.children!=null)throw Error(T(60));O.innerHTML=z}}break;case"multiple":O.multiple=G&&typeof G!="function"&&typeof G!="symbol";break;case"muted":O.muted=G&&typeof G!="function"&&typeof G!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(G==null||typeof G=="function"||typeof G=="boolean"||typeof G=="symbol"){O.removeAttribute("xlink:href");break}z=sn(""+G),O.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",z);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":G!=null&&typeof G!="function"&&typeof G!="symbol"?O.setAttribute(z,""+G):O.removeAttribute(z);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":G&&typeof G!="function"&&typeof G!="symbol"?O.setAttribute(z,""):O.removeAttribute(z);break;case"capture":case"download":G===!0?O.setAttribute(z,""):G!==!1&&G!=null&&typeof G!="function"&&typeof G!="symbol"?O.setAttribute(z,G):O.removeAttribute(z);break;case"cols":case"rows":case"size":case"span":G!=null&&typeof G!="function"&&typeof G!="symbol"&&!isNaN(G)&&1<=G?O.setAttribute(z,G):O.removeAttribute(z);break;case"rowSpan":case"start":G==null||typeof G=="function"||typeof G=="symbol"||isNaN(G)?O.removeAttribute(z):O.setAttribute(z,G);break;case"popover":fa("beforetoggle",O),fa("toggle",O),Gs(O,"popover",G);break;case"xlinkActuate":xs(O,"http://www.w3.org/1999/xlink","xlink:actuate",G);break;case"xlinkArcrole":xs(O,"http://www.w3.org/1999/xlink","xlink:arcrole",G);break;case"xlinkRole":xs(O,"http://www.w3.org/1999/xlink","xlink:role",G);break;case"xlinkShow":xs(O,"http://www.w3.org/1999/xlink","xlink:show",G);break;case"xlinkTitle":xs(O,"http://www.w3.org/1999/xlink","xlink:title",G);break;case"xlinkType":xs(O,"http://www.w3.org/1999/xlink","xlink:type",G);break;case"xmlBase":xs(O,"http://www.w3.org/XML/1998/namespace","xml:base",G);break;case"xmlLang":xs(O,"http://www.w3.org/XML/1998/namespace","xml:lang",G);break;case"xmlSpace":xs(O,"http://www.w3.org/XML/1998/namespace","xml:space",G);break;case"is":Gs(O,"is",G);break;case"innerText":case"textContent":break;default:(!(2<z.length)||z[0]!=="o"&&z[0]!=="O"||z[1]!=="n"&&z[1]!=="N")&&(z=Gr.get(z)||z,Gs(O,z,G))}}function Wm(O,M,z,G,pe,je){switch(z){case"style":yr(O,G,je);break;case"dangerouslySetInnerHTML":if(G!=null){if(typeof G!="object"||!("__html"in G))throw Error(T(61));if(z=G.__html,z!=null){if(pe.children!=null)throw Error(T(60));O.innerHTML=z}}break;case"children":typeof G=="string"?sr(O,G):(typeof G=="number"||typeof G=="bigint")&&sr(O,""+G);break;case"onScroll":G!=null&&fa("scroll",O);break;case"onScrollEnd":G!=null&&fa("scrollend",O);break;case"onClick":G!=null&&(O.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bn.hasOwnProperty(z))e:{if(z[0]==="o"&&z[1]==="n"&&(pe=z.endsWith("Capture"),M=z.slice(2,pe?z.length-7:void 0),je=O[Sn]||null,je=je!=null?je[z]:null,typeof je=="function"&&O.removeEventListener(M,je,pe),typeof G=="function")){typeof je!="function"&&je!==null&&(z in O?O[z]=null:O.hasAttribute(z)&&O.removeAttribute(z)),O.addEventListener(M,G,pe);break e}z in O?O[z]=G:G===!0?O.setAttribute(z,""):Gs(O,z,G)}}}function hi(O,M,z){switch(M){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fa("error",O),fa("load",O);var G=!1,pe=!1,je;for(je in z)if(z.hasOwnProperty(je)){var Ve=z[je];if(Ve!=null)switch(je){case"src":G=!0;break;case"srcSet":pe=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(T(137,M));default:Xa(O,M,je,Ve,z,null)}}pe&&Xa(O,M,"srcSet",z.srcSet,z,null),G&&Xa(O,M,"src",z.src,z,null);return;case"input":fa("invalid",O);var tt=je=Ve=pe=null,ht=null,qt=null;for(G in z)if(z.hasOwnProperty(G)){var dr=z[G];if(dr!=null)switch(G){case"name":pe=dr;break;case"type":Ve=dr;break;case"checked":ht=dr;break;case"defaultChecked":qt=dr;break;case"value":je=dr;break;case"defaultValue":tt=dr;break;case"children":case"dangerouslySetInnerHTML":if(dr!=null)throw Error(T(137,M));break;default:Xa(O,M,G,dr,z,null)}}ti(O,je,tt,ht,qt,Ve,pe,!1);return;case"select":fa("invalid",O),G=Ve=je=null;for(pe in z)if(z.hasOwnProperty(pe)&&(tt=z[pe],tt!=null))switch(pe){case"value":je=tt;break;case"defaultValue":Ve=tt;break;case"multiple":G=tt;default:Xa(O,M,pe,tt,z,null)}M=je,z=Ve,O.multiple=!!G,M!=null?Lt(O,!!G,M,!1):z!=null&&Lt(O,!!G,z,!0);return;case"textarea":fa("invalid",O),je=pe=G=null;for(Ve in z)if(z.hasOwnProperty(Ve)&&(tt=z[Ve],tt!=null))switch(Ve){case"value":G=tt;break;case"defaultValue":pe=tt;break;case"children":je=tt;break;case"dangerouslySetInnerHTML":if(tt!=null)throw Error(T(91));break;default:Xa(O,M,Ve,tt,z,null)}Nr(O,G,pe,je);return;case"option":for(ht in z)if(z.hasOwnProperty(ht)&&(G=z[ht],G!=null))switch(ht){case"selected":O.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Xa(O,M,ht,G,z,null)}return;case"dialog":fa("beforetoggle",O),fa("toggle",O),fa("cancel",O),fa("close",O);break;case"iframe":case"object":fa("load",O);break;case"video":case"audio":for(G=0;G<Ad.length;G++)fa(Ad[G],O);break;case"image":fa("error",O),fa("load",O);break;case"details":fa("toggle",O);break;case"embed":case"source":case"link":fa("error",O),fa("load",O);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(qt in z)if(z.hasOwnProperty(qt)&&(G=z[qt],G!=null))switch(qt){case"children":case"dangerouslySetInnerHTML":throw Error(T(137,M));default:Xa(O,M,qt,G,z,null)}return;default:if($r(M)){for(dr in z)z.hasOwnProperty(dr)&&(G=z[dr],G!==void 0&&Wm(O,M,dr,G,z,void 0));return}}for(tt in z)z.hasOwnProperty(tt)&&(G=z[tt],G!=null&&Xa(O,M,tt,G,z,null))}function xp(O,M,z,G){switch(M){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var pe=null,je=null,Ve=null,tt=null,ht=null,qt=null,dr=null;for(rr in z){var vr=z[rr];if(z.hasOwnProperty(rr)&&vr!=null)switch(rr){case"checked":break;case"value":break;case"defaultValue":ht=vr;default:G.hasOwnProperty(rr)||Xa(O,M,rr,null,G,vr)}}for(var Kt in G){var rr=G[Kt];if(vr=z[Kt],G.hasOwnProperty(Kt)&&(rr!=null||vr!=null))switch(Kt){case"type":je=rr;break;case"name":pe=rr;break;case"checked":qt=rr;break;case"defaultChecked":dr=rr;break;case"value":Ve=rr;break;case"defaultValue":tt=rr;break;case"children":case"dangerouslySetInnerHTML":if(rr!=null)throw Error(T(137,M));break;default:rr!==vr&&Xa(O,M,Kt,rr,G,vr)}}wi(O,Ve,tt,ht,qt,dr,je,pe);return;case"select":rr=Ve=tt=Kt=null;for(je in z)if(ht=z[je],z.hasOwnProperty(je)&&ht!=null)switch(je){case"value":break;case"multiple":rr=ht;default:G.hasOwnProperty(je)||Xa(O,M,je,null,G,ht)}for(pe in G)if(je=G[pe],ht=z[pe],G.hasOwnProperty(pe)&&(je!=null||ht!=null))switch(pe){case"value":Kt=je;break;case"defaultValue":tt=je;break;case"multiple":Ve=je;default:je!==ht&&Xa(O,M,pe,je,G,ht)}M=tt,z=Ve,G=rr,Kt!=null?Lt(O,!!z,Kt,!1):!!G!=!!z&&(M!=null?Lt(O,!!z,M,!0):Lt(O,!!z,z?[]:"",!1));return;case"textarea":rr=Kt=null;for(tt in z)if(pe=z[tt],z.hasOwnProperty(tt)&&pe!=null&&!G.hasOwnProperty(tt))switch(tt){case"value":break;case"children":break;default:Xa(O,M,tt,null,G,pe)}for(Ve in G)if(pe=G[Ve],je=z[Ve],G.hasOwnProperty(Ve)&&(pe!=null||je!=null))switch(Ve){case"value":Kt=pe;break;case"defaultValue":rr=pe;break;case"children":break;case"dangerouslySetInnerHTML":if(pe!=null)throw Error(T(91));break;default:pe!==je&&Xa(O,M,Ve,pe,G,je)}tr(O,Kt,rr);return;case"option":for(var cn in z)if(Kt=z[cn],z.hasOwnProperty(cn)&&Kt!=null&&!G.hasOwnProperty(cn))switch(cn){case"selected":O.selected=!1;break;default:Xa(O,M,cn,null,G,Kt)}for(ht in G)if(Kt=G[ht],rr=z[ht],G.hasOwnProperty(ht)&&Kt!==rr&&(Kt!=null||rr!=null))switch(ht){case"selected":O.selected=Kt&&typeof Kt!="function"&&typeof Kt!="symbol";break;default:Xa(O,M,ht,Kt,G,rr)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var An in z)Kt=z[An],z.hasOwnProperty(An)&&Kt!=null&&!G.hasOwnProperty(An)&&Xa(O,M,An,null,G,Kt);for(qt in G)if(Kt=G[qt],rr=z[qt],G.hasOwnProperty(qt)&&Kt!==rr&&(Kt!=null||rr!=null))switch(qt){case"children":case"dangerouslySetInnerHTML":if(Kt!=null)throw Error(T(137,M));break;default:Xa(O,M,qt,Kt,G,rr)}return;default:if($r(M)){for(var Ja in z)Kt=z[Ja],z.hasOwnProperty(Ja)&&Kt!==void 0&&!G.hasOwnProperty(Ja)&&Wm(O,M,Ja,void 0,G,Kt);for(dr in G)Kt=G[dr],rr=z[dr],!G.hasOwnProperty(dr)||Kt===rr||Kt===void 0&&rr===void 0||Wm(O,M,dr,Kt,G,rr);return}}for(var Dt in z)Kt=z[Dt],z.hasOwnProperty(Dt)&&Kt!=null&&!G.hasOwnProperty(Dt)&&Xa(O,M,Dt,null,G,Kt);for(vr in G)Kt=G[vr],rr=z[vr],!G.hasOwnProperty(vr)||Kt===rr||Kt==null&&rr==null||Xa(O,M,vr,Kt,G,rr)}function mf(O){switch(O){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fp(){if(typeof performance.getEntriesByType=="function"){for(var O=0,M=0,z=performance.getEntriesByType("resource"),G=0;G<z.length;G++){var pe=z[G],je=pe.transferSize,Ve=pe.initiatorType,tt=pe.duration;if(je&&tt&&mf(Ve)){for(Ve=0,tt=pe.responseEnd,G+=1;G<z.length;G++){var ht=z[G],qt=ht.startTime;if(qt>tt)break;var dr=ht.transferSize,vr=ht.initiatorType;dr&&mf(vr)&&(ht=ht.responseEnd,Ve+=dr*(ht<tt?1:(tt-qt)/(ht-qt)))}if(--G,M+=8*(je+Ve)/(pe.duration/1e3),O++,10<O)break}}if(0<O)return M/O/1e6}return navigator.connection&&(O=navigator.connection.downlink,typeof O=="number")?O:5}var Ym=null,Xm=null;function um(O){return O.nodeType===9?O:O.ownerDocument}function xf(O){switch(O){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ff(O,M){if(O===0)switch(M){case"svg":return 1;case"math":return 2;default:return 0}return O===1&&M==="foreignObject"?0:O}function Jm(O,M){return O==="textarea"||O==="noscript"||typeof M.children=="string"||typeof M.children=="number"||typeof M.children=="bigint"||typeof M.dangerouslySetInnerHTML=="object"&&M.dangerouslySetInnerHTML!==null&&M.dangerouslySetInnerHTML.__html!=null}var Qm=null;function pp(){var O=window.event;return O&&O.type==="popstate"?O===Qm?!1:(Qm=O,!0):(Qm=null,!1)}var pf=typeof setTimeout=="function"?setTimeout:void 0,hp=typeof clearTimeout=="function"?clearTimeout:void 0,hf=typeof Promise=="function"?Promise:void 0,gp=typeof queueMicrotask=="function"?queueMicrotask:typeof hf<"u"?function(O){return hf.resolve(null).then(O).catch(yp)}:pf;function yp(O){setTimeout(function(){throw O})}function kc(O){return O==="head"}function gf(O,M){var z=M,G=0;do{var pe=z.nextSibling;if(O.removeChild(z),pe&&pe.nodeType===8)if(z=pe.data,z==="/$"||z==="/&"){if(G===0){O.removeChild(pe),Gu(M);return}G--}else if(z==="$"||z==="$?"||z==="$~"||z==="$!"||z==="&")G++;else if(z==="html")Td(O.ownerDocument.documentElement);else if(z==="head"){z=O.ownerDocument.head,Td(z);for(var je=z.firstChild;je;){var Ve=je.nextSibling,tt=je.nodeName;je[ea]||tt==="SCRIPT"||tt==="STYLE"||tt==="LINK"&&je.rel.toLowerCase()==="stylesheet"||z.removeChild(je),je=Ve}}else z==="body"&&Td(O.ownerDocument.body);z=pe}while(z);Gu(M)}function yf(O,M){var z=O;O=0;do{var G=z.nextSibling;if(z.nodeType===1?M?(z._stashedDisplay=z.style.display,z.style.display="none"):(z.style.display=z._stashedDisplay||"",z.getAttribute("style")===""&&z.removeAttribute("style")):z.nodeType===3&&(M?(z._stashedText=z.nodeValue,z.nodeValue=""):z.nodeValue=z._stashedText||""),G&&G.nodeType===8)if(z=G.data,z==="/$"){if(O===0)break;O--}else z!=="$"&&z!=="$?"&&z!=="$~"&&z!=="$!"||O++;z=G}while(z)}function Zm(O){var M=O.firstChild;for(M&&M.nodeType===10&&(M=M.nextSibling);M;){var z=M;switch(M=M.nextSibling,z.nodeName){case"HTML":case"HEAD":case"BODY":Zm(z),Oa(z);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(z.rel.toLowerCase()==="stylesheet")continue}O.removeChild(z)}}function vp(O,M,z,G){for(;O.nodeType===1;){var pe=z;if(O.nodeName.toLowerCase()!==M.toLowerCase()){if(!G&&(O.nodeName!=="INPUT"||O.type!=="hidden"))break}else if(G){if(!O[ea])switch(M){case"meta":if(!O.hasAttribute("itemprop"))break;return O;case"link":if(je=O.getAttribute("rel"),je==="stylesheet"&&O.hasAttribute("data-precedence"))break;if(je!==pe.rel||O.getAttribute("href")!==(pe.href==null||pe.href===""?null:pe.href)||O.getAttribute("crossorigin")!==(pe.crossOrigin==null?null:pe.crossOrigin)||O.getAttribute("title")!==(pe.title==null?null:pe.title))break;return O;case"style":if(O.hasAttribute("data-precedence"))break;return O;case"script":if(je=O.getAttribute("src"),(je!==(pe.src==null?null:pe.src)||O.getAttribute("type")!==(pe.type==null?null:pe.type)||O.getAttribute("crossorigin")!==(pe.crossOrigin==null?null:pe.crossOrigin))&&je&&O.hasAttribute("async")&&!O.hasAttribute("itemprop"))break;return O;default:return O}}else if(M==="input"&&O.type==="hidden"){var je=pe.name==null?null:""+pe.name;if(pe.type==="hidden"&&O.getAttribute("name")===je)return O}else return O;if(O=wo(O.nextSibling),O===null)break}return null}function bp(O,M,z){if(M==="")return null;for(;O.nodeType!==3;)if((O.nodeType!==1||O.nodeName!=="INPUT"||O.type!=="hidden")&&!z||(O=wo(O.nextSibling),O===null))return null;return O}function vf(O,M){for(;O.nodeType!==8;)if((O.nodeType!==1||O.nodeName!=="INPUT"||O.type!=="hidden")&&!M||(O=wo(O.nextSibling),O===null))return null;return O}function ex(O){return O.data==="$?"||O.data==="$~"}function tx(O){return O.data==="$!"||O.data==="$?"&&O.ownerDocument.readyState!=="loading"}function Ep(O,M){var z=O.ownerDocument;if(O.data==="$~")O._reactRetry=M;else if(O.data!=="$?"||z.readyState!=="loading")M();else{var G=function(){M(),z.removeEventListener("DOMContentLoaded",G)};z.addEventListener("DOMContentLoaded",G),O._reactRetry=G}}function wo(O){for(;O!=null;O=O.nextSibling){var M=O.nodeType;if(M===1||M===3)break;if(M===8){if(M=O.data,M==="$"||M==="$!"||M==="$?"||M==="$~"||M==="&"||M==="F!"||M==="F")break;if(M==="/$"||M==="/&")return null}}return O}var rx=null;function bf(O){O=O.nextSibling;for(var M=0;O;){if(O.nodeType===8){var z=O.data;if(z==="/$"||z==="/&"){if(M===0)return wo(O.nextSibling);M--}else z!=="$"&&z!=="$!"&&z!=="$?"&&z!=="$~"&&z!=="&"||M++}O=O.nextSibling}return null}function Ef(O){O=O.previousSibling;for(var M=0;O;){if(O.nodeType===8){var z=O.data;if(z==="$"||z==="$!"||z==="$?"||z==="$~"||z==="&"){if(M===0)return O;M--}else z!=="/$"&&z!=="/&"||M++}O=O.previousSibling}return null}function jf(O,M,z){switch(M=um(z),O){case"html":if(O=M.documentElement,!O)throw Error(T(452));return O;case"head":if(O=M.head,!O)throw Error(T(453));return O;case"body":if(O=M.body,!O)throw Error(T(454));return O;default:throw Error(T(451))}}function Td(O){for(var M=O.attributes;M.length;)O.removeAttributeNode(M[0]);Oa(O)}var No=new Map,Sf=new Set;function dm(O){return typeof O.getRootNode=="function"?O.getRootNode():O.nodeType===9?O:O.ownerDocument}var zl=ut.d;ut.d={f:jp,r:Sp,D:Rp,C:wp,L:Np,m:_p,X:Cp,S:Ap,M:Tp};function jp(){var O=zl.f(),M=rm();return O||M}function Sp(O){var M=Da(O);M!==null&&M.tag===5&&M.type==="form"?Nu(M):zl.r(O)}var qu=typeof document>"u"?null:document;function Rf(O,M,z){var G=qu;if(G&&typeof M=="string"&&M){var pe=Na(M);pe='link[rel="'+O+'"][href="'+pe+'"]',typeof z=="string"&&(pe+='[crossorigin="'+z+'"]'),Sf.has(pe)||(Sf.add(pe),O={rel:O,crossOrigin:z,href:M},G.querySelector(pe)===null&&(M=G.createElement("link"),hi(M,"link",O),jr(M),G.head.appendChild(M)))}}function Rp(O){zl.D(O),Rf("dns-prefetch",O,null)}function wp(O,M){zl.C(O,M),Rf("preconnect",O,M)}function Np(O,M,z){zl.L(O,M,z);var G=qu;if(G&&O&&M){var pe='link[rel="preload"][as="'+Na(M)+'"]';M==="image"&&z&&z.imageSrcSet?(pe+='[imagesrcset="'+Na(z.imageSrcSet)+'"]',typeof z.imageSizes=="string"&&(pe+='[imagesizes="'+Na(z.imageSizes)+'"]')):pe+='[href="'+Na(O)+'"]';var je=pe;switch(M){case"style":je=Hu(O);break;case"script":je=$u(O)}No.has(je)||(O=te({rel:"preload",href:M==="image"&&z&&z.imageSrcSet?void 0:O,as:M},z),No.set(je,O),G.querySelector(pe)!==null||M==="style"&&G.querySelector(Od(je))||M==="script"&&G.querySelector(Dd(je))||(M=G.createElement("link"),hi(M,"link",O),jr(M),G.head.appendChild(M)))}}function _p(O,M){zl.m(O,M);var z=qu;if(z&&O){var G=M&&typeof M.as=="string"?M.as:"script",pe='link[rel="modulepreload"][as="'+Na(G)+'"][href="'+Na(O)+'"]',je=pe;switch(G){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":je=$u(O)}if(!No.has(je)&&(O=te({rel:"modulepreload",href:O},M),No.set(je,O),z.querySelector(pe)===null)){switch(G){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(z.querySelector(Dd(je)))return}G=z.createElement("link"),hi(G,"link",O),jr(G),z.head.appendChild(G)}}}function Ap(O,M,z){zl.S(O,M,z);var G=qu;if(G&&O){var pe=pr(G).hoistableStyles,je=Hu(O);M=M||"default";var Ve=pe.get(je);if(!Ve){var tt={loading:0,preload:null};if(Ve=G.querySelector(Od(je)))tt.loading=5;else{O=te({rel:"stylesheet",href:O,"data-precedence":M},z),(z=No.get(je))&&nx(O,z);var ht=Ve=G.createElement("link");jr(ht),hi(ht,"link",O),ht._p=new Promise(function(qt,dr){ht.onload=qt,ht.onerror=dr}),ht.addEventListener("load",function(){tt.loading|=1}),ht.addEventListener("error",function(){tt.loading|=2}),tt.loading|=4,mm(Ve,M,G)}Ve={type:"stylesheet",instance:Ve,count:1,state:tt},pe.set(je,Ve)}}}function Cp(O,M){zl.X(O,M);var z=qu;if(z&&O){var G=pr(z).hoistableScripts,pe=$u(O),je=G.get(pe);je||(je=z.querySelector(Dd(pe)),je||(O=te({src:O,async:!0},M),(M=No.get(pe))&&ax(O,M),je=z.createElement("script"),jr(je),hi(je,"link",O),z.head.appendChild(je)),je={type:"script",instance:je,count:1,state:null},G.set(pe,je))}}function Tp(O,M){zl.M(O,M);var z=qu;if(z&&O){var G=pr(z).hoistableScripts,pe=$u(O),je=G.get(pe);je||(je=z.querySelector(Dd(pe)),je||(O=te({src:O,async:!0,type:"module"},M),(M=No.get(pe))&&ax(O,M),je=z.createElement("script"),jr(je),hi(je,"link",O),z.head.appendChild(je)),je={type:"script",instance:je,count:1,state:null},G.set(pe,je))}}function wf(O,M,z,G){var pe=(pe=mt.current)?dm(pe):null;if(!pe)throw Error(T(446));switch(O){case"meta":case"title":return null;case"style":return typeof z.precedence=="string"&&typeof z.href=="string"?(M=Hu(z.href),z=pr(pe).hoistableStyles,G=z.get(M),G||(G={type:"style",instance:null,count:0,state:null},z.set(M,G)),G):{type:"void",instance:null,count:0,state:null};case"link":if(z.rel==="stylesheet"&&typeof z.href=="string"&&typeof z.precedence=="string"){O=Hu(z.href);var je=pr(pe).hoistableStyles,Ve=je.get(O);if(Ve||(pe=pe.ownerDocument||pe,Ve={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},je.set(O,Ve),(je=pe.querySelector(Od(O)))&&!je._p&&(Ve.instance=je,Ve.state.loading=5),No.has(O)||(z={rel:"preload",as:"style",href:z.href,crossOrigin:z.crossOrigin,integrity:z.integrity,media:z.media,hrefLang:z.hrefLang,referrerPolicy:z.referrerPolicy},No.set(O,z),je||Op(pe,O,z,Ve.state))),M&&G===null)throw Error(T(528,""));return Ve}if(M&&G!==null)throw Error(T(529,""));return null;case"script":return M=z.async,z=z.src,typeof z=="string"&&M&&typeof M!="function"&&typeof M!="symbol"?(M=$u(z),z=pr(pe).hoistableScripts,G=z.get(M),G||(G={type:"script",instance:null,count:0,state:null},z.set(M,G)),G):{type:"void",instance:null,count:0,state:null};default:throw Error(T(444,O))}}function Hu(O){return'href="'+Na(O)+'"'}function Od(O){return'link[rel="stylesheet"]['+O+"]"}function Nf(O){return te({},O,{"data-precedence":O.precedence,precedence:null})}function Op(O,M,z,G){O.querySelector('link[rel="preload"][as="style"]['+M+"]")?G.loading=1:(M=O.createElement("link"),G.preload=M,M.addEventListener("load",function(){return G.loading|=1}),M.addEventListener("error",function(){return G.loading|=2}),hi(M,"link",z),jr(M),O.head.appendChild(M))}function $u(O){return'[src="'+Na(O)+'"]'}function Dd(O){return"script[async]"+O}function _f(O,M,z){if(M.count++,M.instance===null)switch(M.type){case"style":var G=O.querySelector('style[data-href~="'+Na(z.href)+'"]');if(G)return M.instance=G,jr(G),G;var pe=te({},z,{"data-href":z.href,"data-precedence":z.precedence,href:null,precedence:null});return G=(O.ownerDocument||O).createElement("style"),jr(G),hi(G,"style",pe),mm(G,z.precedence,O),M.instance=G;case"stylesheet":pe=Hu(z.href);var je=O.querySelector(Od(pe));if(je)return M.state.loading|=4,M.instance=je,jr(je),je;G=Nf(z),(pe=No.get(pe))&&nx(G,pe),je=(O.ownerDocument||O).createElement("link"),jr(je);var Ve=je;return Ve._p=new Promise(function(tt,ht){Ve.onload=tt,Ve.onerror=ht}),hi(je,"link",G),M.state.loading|=4,mm(je,z.precedence,O),M.instance=je;case"script":return je=$u(z.src),(pe=O.querySelector(Dd(je)))?(M.instance=pe,jr(pe),pe):(G=z,(pe=No.get(je))&&(G=te({},z),ax(G,pe)),O=O.ownerDocument||O,pe=O.createElement("script"),jr(pe),hi(pe,"link",G),O.head.appendChild(pe),M.instance=pe);case"void":return null;default:throw Error(T(443,M.type))}else M.type==="stylesheet"&&(M.state.loading&4)===0&&(G=M.instance,M.state.loading|=4,mm(G,z.precedence,O));return M.instance}function mm(O,M,z){for(var G=z.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),pe=G.length?G[G.length-1]:null,je=pe,Ve=0;Ve<G.length;Ve++){var tt=G[Ve];if(tt.dataset.precedence===M)je=tt;else if(je!==pe)break}je?je.parentNode.insertBefore(O,je.nextSibling):(M=z.nodeType===9?z.head:z,M.insertBefore(O,M.firstChild))}function nx(O,M){O.crossOrigin==null&&(O.crossOrigin=M.crossOrigin),O.referrerPolicy==null&&(O.referrerPolicy=M.referrerPolicy),O.title==null&&(O.title=M.title)}function ax(O,M){O.crossOrigin==null&&(O.crossOrigin=M.crossOrigin),O.referrerPolicy==null&&(O.referrerPolicy=M.referrerPolicy),O.integrity==null&&(O.integrity=M.integrity)}var xm=null;function Af(O,M,z){if(xm===null){var G=new Map,pe=xm=new Map;pe.set(z,G)}else pe=xm,G=pe.get(z),G||(G=new Map,pe.set(z,G));if(G.has(O))return G;for(G.set(O,null),z=z.getElementsByTagName(O),pe=0;pe<z.length;pe++){var je=z[pe];if(!(je[ea]||je[Tn]||O==="link"&&je.getAttribute("rel")==="stylesheet")&&je.namespaceURI!=="http://www.w3.org/2000/svg"){var Ve=je.getAttribute(M)||"";Ve=O+Ve;var tt=G.get(Ve);tt?tt.push(je):G.set(Ve,[je])}}return G}function Cf(O,M,z){O=O.ownerDocument||O,O.head.insertBefore(z,M==="title"?O.querySelector("head > title"):null)}function Dp(O,M,z){if(z===1||M.itemProp!=null)return!1;switch(O){case"meta":case"title":return!0;case"style":if(typeof M.precedence!="string"||typeof M.href!="string"||M.href==="")break;return!0;case"link":if(typeof M.rel!="string"||typeof M.href!="string"||M.href===""||M.onLoad||M.onError)break;switch(M.rel){case"stylesheet":return O=M.disabled,typeof M.precedence=="string"&&O==null;default:return!0}case"script":if(M.async&&typeof M.async!="function"&&typeof M.async!="symbol"&&!M.onLoad&&!M.onError&&M.src&&typeof M.src=="string")return!0}return!1}function Tf(O){return!(O.type==="stylesheet"&&(O.state.loading&3)===0)}function Ip(O,M,z,G){if(z.type==="stylesheet"&&(typeof G.media!="string"||matchMedia(G.media).matches!==!1)&&(z.state.loading&4)===0){if(z.instance===null){var pe=Hu(G.href),je=M.querySelector(Od(pe));if(je){M=je._p,M!==null&&typeof M=="object"&&typeof M.then=="function"&&(O.count++,O=fm.bind(O),M.then(O,O)),z.state.loading|=4,z.instance=je,jr(je);return}je=M.ownerDocument||M,G=Nf(G),(pe=No.get(pe))&&nx(G,pe),je=je.createElement("link"),jr(je);var Ve=je;Ve._p=new Promise(function(tt,ht){Ve.onload=tt,Ve.onerror=ht}),hi(je,"link",G),z.instance=je}O.stylesheets===null&&(O.stylesheets=new Map),O.stylesheets.set(z,M),(M=z.state.preload)&&(z.state.loading&3)===0&&(O.count++,z=fm.bind(O),M.addEventListener("load",z),M.addEventListener("error",z))}}var sx=0;function Pp(O,M){return O.stylesheets&&O.count===0&&hm(O,O.stylesheets),0<O.count||0<O.imgCount?function(z){var G=setTimeout(function(){if(O.stylesheets&&hm(O,O.stylesheets),O.unsuspend){var je=O.unsuspend;O.unsuspend=null,je()}},6e4+M);0<O.imgBytes&&sx===0&&(sx=62500*fp());var pe=setTimeout(function(){if(O.waitingForImages=!1,O.count===0&&(O.stylesheets&&hm(O,O.stylesheets),O.unsuspend)){var je=O.unsuspend;O.unsuspend=null,je()}},(O.imgBytes>sx?50:800)+M);return O.unsuspend=z,function(){O.unsuspend=null,clearTimeout(G),clearTimeout(pe)}}:null}function fm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hm(this,this.stylesheets);else if(this.unsuspend){var O=this.unsuspend;this.unsuspend=null,O()}}}var pm=null;function hm(O,M){O.stylesheets=null,O.unsuspend!==null&&(O.count++,pm=new Map,M.forEach(kp,O),pm=null,fm.call(O))}function kp(O,M){if(!(M.state.loading&4)){var z=pm.get(O);if(z)var G=z.get(null);else{z=new Map,pm.set(O,z);for(var pe=O.querySelectorAll("link[data-precedence],style[data-precedence]"),je=0;je<pe.length;je++){var Ve=pe[je];(Ve.nodeName==="LINK"||Ve.getAttribute("media")!=="not all")&&(z.set(Ve.dataset.precedence,Ve),G=Ve)}G&&z.set(null,G)}pe=M.instance,Ve=pe.getAttribute("data-precedence"),je=z.get(Ve)||G,je===G&&z.set(null,pe),z.set(Ve,pe),this.count++,G=fm.bind(this),pe.addEventListener("load",G),pe.addEventListener("error",G),je?je.parentNode.insertBefore(pe,je.nextSibling):(O=O.nodeType===9?O.head:O,O.insertBefore(pe,O.firstChild)),M.state.loading|=4}}var Id={$$typeof:$e,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function Mp(O,M,z,G,pe,je,Ve,tt,ht){this.tag=1,this.containerInfo=O,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yn(0),this.hiddenUpdates=Yn(null),this.identifierPrefix=G,this.onUncaughtError=pe,this.onCaughtError=je,this.onRecoverableError=Ve,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ht,this.incompleteTransitions=new Map}function Of(O,M,z,G,pe,je,Ve,tt,ht,qt,dr,vr){return O=new Mp(O,M,z,Ve,ht,qt,dr,vr,tt),M=1,je===!0&&(M|=24),je=Ua(3,null,null,M),O.current=je,je.stateNode=O,M=lc(),M.refCount++,O.pooledCache=M,M.refCount++,je.memoizedState={element:G,isDehydrated:z,cache:M},Pi(je),O}function Df(O){return O?(O=oa,O):oa}function If(O,M,z,G,pe,je){pe=Df(pe),G.context===null?G.context=pe:G.pendingContext=pe,G=si(M),G.payload={element:z},je=je===void 0?null:je,je!==null&&(G.callback=je),z=Fs(O,G,M),z!==null&&(Vi(z,O,M),ji(z,O,M))}function Pf(O,M){if(O=O.memoizedState,O!==null&&O.dehydrated!==null){var z=O.retryLane;O.retryLane=z!==0&&z<M?z:M}}function ix(O,M){Pf(O,M),(O=O.alternate)&&Pf(O,M)}function kf(O){if(O.tag===13||O.tag===31){var M=Ea(O,67108864);M!==null&&Vi(M,O,67108864),ix(O,67108864)}}function Mf(O){if(O.tag===13||O.tag===31){var M=fo();M=mn(M);var z=Ea(O,M);z!==null&&Vi(z,O,M),ix(O,M)}}var gm=!0;function Lp(O,M,z,G){var pe=Je.T;Je.T=null;var je=ut.p;try{ut.p=2,ox(O,M,z,G)}finally{ut.p=je,Je.T=pe}}function Bp(O,M,z,G){var pe=Je.T;Je.T=null;var je=ut.p;try{ut.p=8,ox(O,M,z,G)}finally{ut.p=je,Je.T=pe}}function ox(O,M,z,G){if(gm){var pe=lx(G);if(pe===null)Vm(O,M,G,ym,z),Bf(O,G);else if(zp(pe,O,M,z,G))G.stopPropagation();else if(Bf(O,G),M&4&&-1<Up.indexOf(O)){for(;pe!==null;){var je=Da(pe);if(je!==null)switch(je.tag){case 3:if(je=je.stateNode,je.current.memoizedState.isDehydrated){var Ve=Kr(je.pendingLanes);if(Ve!==0){var tt=je;for(tt.pendingLanes|=2,tt.entangledLanes|=2;Ve;){var ht=1<<31-Wt(Ve);tt.entanglements[1]|=ht,Ve&=~ht}fl(je),(La&6)===0&&(em=vn()+500,_d(0))}}break;case 31:case 13:tt=Ea(je,2),tt!==null&&Vi(tt,je,2),rm(),ix(je,2)}if(je=lx(G),je===null&&Vm(O,M,G,ym,z),je===pe)break;pe=je}pe!==null&&G.stopPropagation()}else Vm(O,M,G,null,z)}}function lx(O){return O=wa(O),cx(O)}var ym=null;function cx(O){if(ym=null,O=Gn(O),O!==null){var M=B(O);if(M===null)O=null;else{var z=M.tag;if(z===13){if(O=U(M),O!==null)return O;O=null}else if(z===31){if(O=q(M),O!==null)return O;O=null}else if(z===3){if(M.stateNode.current.memoizedState.isDehydrated)return M.tag===3?M.stateNode.containerInfo:null;O=null}else M!==O&&(O=null)}}return ym=O,null}function Lf(O){switch(O){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rn()){case pn:return 2;case sa:return 8;case Hn:case bn:return 32;case nr:return 268435456;default:return 32}default:return 32}}var ux=!1,Mc=null,Lc=null,Bc=null,Pd=new Map,kd=new Map,Uc=[],Up="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bf(O,M){switch(O){case"focusin":case"focusout":Mc=null;break;case"dragenter":case"dragleave":Lc=null;break;case"mouseover":case"mouseout":Bc=null;break;case"pointerover":case"pointerout":Pd.delete(M.pointerId);break;case"gotpointercapture":case"lostpointercapture":kd.delete(M.pointerId)}}function Md(O,M,z,G,pe,je){return O===null||O.nativeEvent!==je?(O={blockedOn:M,domEventName:z,eventSystemFlags:G,nativeEvent:je,targetContainers:[pe]},M!==null&&(M=Da(M),M!==null&&kf(M)),O):(O.eventSystemFlags|=G,M=O.targetContainers,pe!==null&&M.indexOf(pe)===-1&&M.push(pe),O)}function zp(O,M,z,G,pe){switch(M){case"focusin":return Mc=Md(Mc,O,M,z,G,pe),!0;case"dragenter":return Lc=Md(Lc,O,M,z,G,pe),!0;case"mouseover":return Bc=Md(Bc,O,M,z,G,pe),!0;case"pointerover":var je=pe.pointerId;return Pd.set(je,Md(Pd.get(je)||null,O,M,z,G,pe)),!0;case"gotpointercapture":return je=pe.pointerId,kd.set(je,Md(kd.get(je)||null,O,M,z,G,pe)),!0}return!1}function Uf(O){var M=Gn(O.target);if(M!==null){var z=B(M);if(z!==null){if(M=z.tag,M===13){if(M=U(z),M!==null){O.blockedOn=M,Fr(O.priority,function(){Mf(z)});return}}else if(M===31){if(M=q(z),M!==null){O.blockedOn=M,Fr(O.priority,function(){Mf(z)});return}}else if(M===3&&z.stateNode.current.memoizedState.isDehydrated){O.blockedOn=z.tag===3?z.stateNode.containerInfo:null;return}}}O.blockedOn=null}function vm(O){if(O.blockedOn!==null)return!1;for(var M=O.targetContainers;0<M.length;){var z=lx(O.nativeEvent);if(z===null){z=O.nativeEvent;var G=new z.constructor(z.type,z);Un=G,z.target.dispatchEvent(G),Un=null}else return M=Da(z),M!==null&&kf(M),O.blockedOn=z,!1;M.shift()}return!0}function zf(O,M,z){vm(O)&&z.delete(M)}function Fp(){ux=!1,Mc!==null&&vm(Mc)&&(Mc=null),Lc!==null&&vm(Lc)&&(Lc=null),Bc!==null&&vm(Bc)&&(Bc=null),Pd.forEach(zf),kd.forEach(zf)}function bm(O,M){O.blockedOn===M&&(O.blockedOn=null,ux||(ux=!0,b.unstable_scheduleCallback(b.unstable_NormalPriority,Fp)))}var Em=null;function Ff(O){Em!==O&&(Em=O,b.unstable_scheduleCallback(b.unstable_NormalPriority,function(){Em===O&&(Em=null);for(var M=0;M<O.length;M+=3){var z=O[M],G=O[M+1],pe=O[M+2];if(typeof G!="function"){if(cx(G||z)===null)continue;break}var je=Da(z);je!==null&&(O.splice(M,3),M-=3,bc(je,{pending:!0,data:pe,method:z.method,action:G},G,pe))}}))}function Gu(O){function M(ht){return bm(ht,O)}Mc!==null&&bm(Mc,O),Lc!==null&&bm(Lc,O),Bc!==null&&bm(Bc,O),Pd.forEach(M),kd.forEach(M);for(var z=0;z<Uc.length;z++){var G=Uc[z];G.blockedOn===O&&(G.blockedOn=null)}for(;0<Uc.length&&(z=Uc[0],z.blockedOn===null);)Uf(z),z.blockedOn===null&&Uc.shift();if(z=(O.ownerDocument||O).$$reactFormReplay,z!=null)for(G=0;G<z.length;G+=3){var pe=z[G],je=z[G+1],Ve=pe[Sn]||null;if(typeof je=="function")Ve||Ff(z);else if(Ve){var tt=null;if(je&&je.hasAttribute("formAction")){if(pe=je,Ve=je[Sn]||null)tt=Ve.formAction;else if(cx(pe)!==null)continue}else tt=Ve.action;typeof tt=="function"?z[G+1]=tt:(z.splice(G,3),G-=3),Ff(z)}}}function qf(){function O(je){je.canIntercept&&je.info==="react-transition"&&je.intercept({handler:function(){return new Promise(function(Ve){return pe=Ve})},focusReset:"manual",scroll:"manual"})}function M(){pe!==null&&(pe(),pe=null),G||setTimeout(z,20)}function z(){if(!G&&!navigation.transition){var je=navigation.currentEntry;je&&je.url!=null&&navigation.navigate(je.url,{state:je.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var G=!1,pe=null;return navigation.addEventListener("navigate",O),navigation.addEventListener("navigatesuccess",M),navigation.addEventListener("navigateerror",M),setTimeout(z,100),function(){G=!0,navigation.removeEventListener("navigate",O),navigation.removeEventListener("navigatesuccess",M),navigation.removeEventListener("navigateerror",M),pe!==null&&(pe(),pe=null)}}}function dx(O){this._internalRoot=O}jm.prototype.render=dx.prototype.render=function(O){var M=this._internalRoot;if(M===null)throw Error(T(409));var z=M.current,G=fo();If(z,G,O,M,null,null)},jm.prototype.unmount=dx.prototype.unmount=function(){var O=this._internalRoot;if(O!==null){this._internalRoot=null;var M=O.containerInfo;If(O.current,2,null,O,null,null),rm(),M[Va]=null}};function jm(O){this._internalRoot=O}jm.prototype.unstable_scheduleHydration=function(O){if(O){var M=Pr();O={blockedOn:null,target:O,priority:M};for(var z=0;z<Uc.length&&M!==0&&M<Uc[z].priority;z++);Uc.splice(z,0,O),z===0&&Uf(O)}};var Hf=R.version;if(Hf!=="19.2.0")throw Error(T(527,Hf,"19.2.0"));ut.findDOMNode=function(O){var M=O._reactInternals;if(M===void 0)throw typeof O.render=="function"?Error(T(188)):(O=Object.keys(O).join(","),Error(T(268,O)));return O=J(M),O=O!==null?ee(O):null,O=O===null?null:O.stateNode,O};var qp={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Je,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sm.isDisabled&&Sm.supportsFiber)try{$t=Sm.inject(qp),Bt=Sm}catch{}}return reactDomClient_production.createRoot=function(O,M){if(!I(O))throw Error(T(299));var z=!1,G="",pe=md,je=dl,Ve=xd;return M!=null&&(M.unstable_strictMode===!0&&(z=!0),M.identifierPrefix!==void 0&&(G=M.identifierPrefix),M.onUncaughtError!==void 0&&(pe=M.onUncaughtError),M.onCaughtError!==void 0&&(je=M.onCaughtError),M.onRecoverableError!==void 0&&(Ve=M.onRecoverableError)),M=Of(O,1,!1,null,null,z,G,null,pe,je,Ve,qf),O[Va]=M.current,Km(O),new dx(M)},reactDomClient_production.hydrateRoot=function(O,M,z){if(!I(O))throw Error(T(299));var G=!1,pe="",je=md,Ve=dl,tt=xd,ht=null;return z!=null&&(z.unstable_strictMode===!0&&(G=!0),z.identifierPrefix!==void 0&&(pe=z.identifierPrefix),z.onUncaughtError!==void 0&&(je=z.onUncaughtError),z.onCaughtError!==void 0&&(Ve=z.onCaughtError),z.onRecoverableError!==void 0&&(tt=z.onRecoverableError),z.formState!==void 0&&(ht=z.formState)),M=Of(O,1,!0,M,z??null,G,pe,ht,je,Ve,tt,qf),M.context=Df(null),z=M.current,G=fo(),G=mn(G),pe=si(G),pe.callback=null,Fs(z,pe,G),z=G,M.current.lanes=z,Hr(M,z),fl(M),O[Va]=M.current,Km(O),new jm(M)},reactDomClient_production.version="19.2.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function b(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b)}catch(R){console.error(R)}}return b(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const isString=b=>typeof b=="string",defer=()=>{let b,R;const A=new Promise((T,I)=>{b=T,R=I});return A.resolve=b,A.reject=R,A},makeString=b=>b==null?"":""+b,copy$2=(b,R,A)=>{b.forEach(T=>{R[T]&&(A[T]=R[T])})},lastOfPathSeparatorRegExp=/###/g,cleanKey=b=>b&&b.indexOf("###")>-1?b.replace(lastOfPathSeparatorRegExp,"."):b,canNotTraverseDeeper=b=>!b||isString(b),getLastOfPath=(b,R,A)=>{const T=isString(R)?R.split("."):R;let I=0;for(;I<T.length-1;){if(canNotTraverseDeeper(b))return{};const B=cleanKey(T[I]);!b[B]&&A&&(b[B]=new A),Object.prototype.hasOwnProperty.call(b,B)?b=b[B]:b={},++I}return canNotTraverseDeeper(b)?{}:{obj:b,k:cleanKey(T[I])}},setPath=(b,R,A)=>{const{obj:T,k:I}=getLastOfPath(b,R,Object);if(T!==void 0||R.length===1){T[I]=A;return}let B=R[R.length-1],U=R.slice(0,R.length-1),q=getLastOfPath(b,U,Object);for(;q.obj===void 0&&U.length;)B=`${U[U.length-1]}.${B}`,U=U.slice(0,U.length-1),q=getLastOfPath(b,U,Object),q?.obj&&typeof q.obj[`${q.k}.${B}`]<"u"&&(q.obj=void 0);q.obj[`${q.k}.${B}`]=A},pushPath=(b,R,A,T)=>{const{obj:I,k:B}=getLastOfPath(b,R,Object);I[B]=I[B]||[],I[B].push(A)},getPath$2=(b,R)=>{const{obj:A,k:T}=getLastOfPath(b,R);if(A&&Object.prototype.hasOwnProperty.call(A,T))return A[T]},getPathWithDefaults=(b,R,A)=>{const T=getPath$2(b,A);return T!==void 0?T:getPath$2(R,A)},deepExtend=(b,R,A)=>{for(const T in R)T!=="__proto__"&&T!=="constructor"&&(T in b?isString(b[T])||b[T]instanceof String||isString(R[T])||R[T]instanceof String?A&&(b[T]=R[T]):deepExtend(b[T],R[T],A):b[T]=R[T]);return b},regexEscape=b=>b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const escape=b=>isString(b)?b.replace(/[&<>"'\/]/g,R=>_entityMap[R]):b;class RegExpCache{constructor(R){this.capacity=R,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(R){const A=this.regExpMap.get(R);if(A!==void 0)return A;const T=new RegExp(R);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(R,T),this.regExpQueue.push(R),T}}const chars=[" ",",","?","!",";"],looksLikeObjectPathRegExpCache=new RegExpCache(20),looksLikeObjectPath=(b,R,A)=>{R=R||"",A=A||"";const T=chars.filter(U=>R.indexOf(U)<0&&A.indexOf(U)<0);if(T.length===0)return!0;const I=looksLikeObjectPathRegExpCache.getRegExp(`(${T.map(U=>U==="?"?"\\?":U).join("|")})`);let B=!I.test(b);if(!B){const U=b.indexOf(A);U>0&&!I.test(b.substring(0,U))&&(B=!0)}return B},deepFind=(b,R,A=".")=>{if(!b)return;if(b[R])return Object.prototype.hasOwnProperty.call(b,R)?b[R]:void 0;const T=R.split(A);let I=b;for(let B=0;B<T.length;){if(!I||typeof I!="object")return;let U,q="";for(let K=B;K<T.length;++K)if(K!==B&&(q+=A),q+=T[K],U=I[q],U!==void 0){if(["string","number","boolean"].indexOf(typeof U)>-1&&K<T.length-1)continue;B+=K-B+1;break}I=U}return I},getCleanedCode=b=>b?.replace("_","-"),consoleLogger={type:"logger",log(b){this.output("log",b)},warn(b){this.output("warn",b)},error(b){this.output("error",b)},output(b,R){console?.[b]?.apply?.(console,R)}};class Logger{constructor(R,A={}){this.init(R,A)}init(R,A={}){this.prefix=A.prefix||"i18next:",this.logger=R||consoleLogger,this.options=A,this.debug=A.debug}log(...R){return this.forward(R,"log","",!0)}warn(...R){return this.forward(R,"warn","",!0)}error(...R){return this.forward(R,"error","")}deprecate(...R){return this.forward(R,"warn","WARNING DEPRECATED: ",!0)}forward(R,A,T,I){return I&&!this.debug?null:(isString(R[0])&&(R[0]=`${T}${this.prefix} ${R[0]}`),this.logger[A](R))}create(R){return new Logger(this.logger,{prefix:`${this.prefix}:${R}:`,...this.options})}clone(R){return R=R||this.options,R.prefix=R.prefix||this.prefix,new Logger(this.logger,R)}}var baseLogger=new Logger;let EventEmitter$1=class{constructor(){this.observers={}}on(R,A){return R.split(" ").forEach(T=>{this.observers[T]||(this.observers[T]=new Map);const I=this.observers[T].get(A)||0;this.observers[T].set(A,I+1)}),this}off(R,A){if(this.observers[R]){if(!A){delete this.observers[R];return}this.observers[R].delete(A)}}emit(R,...A){this.observers[R]&&Array.from(this.observers[R].entries()).forEach(([I,B])=>{for(let U=0;U<B;U++)I(...A)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([I,B])=>{for(let U=0;U<B;U++)I.apply(I,[R,...A])})}};class ResourceStore extends EventEmitter$1{constructor(R,A={ns:["translation"],defaultNS:"translation"}){super(),this.data=R||{},this.options=A,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(R){this.options.ns.indexOf(R)<0&&this.options.ns.push(R)}removeNamespaces(R){const A=this.options.ns.indexOf(R);A>-1&&this.options.ns.splice(A,1)}getResource(R,A,T,I={}){const B=I.keySeparator!==void 0?I.keySeparator:this.options.keySeparator,U=I.ignoreJSONStructure!==void 0?I.ignoreJSONStructure:this.options.ignoreJSONStructure;let q;R.indexOf(".")>-1?q=R.split("."):(q=[R,A],T&&(Array.isArray(T)?q.push(...T):isString(T)&&B?q.push(...T.split(B)):q.push(T)));const K=getPath$2(this.data,q);return!K&&!A&&!T&&R.indexOf(".")>-1&&(R=q[0],A=q[1],T=q.slice(2).join(".")),K||!U||!isString(T)?K:deepFind(this.data?.[R]?.[A],T,B)}addResource(R,A,T,I,B={silent:!1}){const U=B.keySeparator!==void 0?B.keySeparator:this.options.keySeparator;let q=[R,A];T&&(q=q.concat(U?T.split(U):T)),R.indexOf(".")>-1&&(q=R.split("."),I=A,A=q[1]),this.addNamespaces(A),setPath(this.data,q,I),B.silent||this.emit("added",R,A,T,I)}addResources(R,A,T,I={silent:!1}){for(const B in T)(isString(T[B])||Array.isArray(T[B]))&&this.addResource(R,A,B,T[B],{silent:!0});I.silent||this.emit("added",R,A,T)}addResourceBundle(R,A,T,I,B,U={silent:!1,skipCopy:!1}){let q=[R,A];R.indexOf(".")>-1&&(q=R.split("."),I=T,T=A,A=q[1]),this.addNamespaces(A);let K=getPath$2(this.data,q)||{};U.skipCopy||(T=JSON.parse(JSON.stringify(T))),I?deepExtend(K,T,B):K={...K,...T},setPath(this.data,q,K),U.silent||this.emit("added",R,A,T)}removeResourceBundle(R,A){this.hasResourceBundle(R,A)&&delete this.data[R][A],this.removeNamespaces(A),this.emit("removed",R,A)}hasResourceBundle(R,A){return this.getResource(R,A)!==void 0}getResourceBundle(R,A){return A||(A=this.options.defaultNS),this.getResource(R,A)}getDataByLanguage(R){return this.data[R]}hasLanguageSomeTranslations(R){const A=this.getDataByLanguage(R);return!!(A&&Object.keys(A)||[]).find(I=>A[I]&&Object.keys(A[I]).length>0)}toJSON(){return this.data}}var postProcessor={processors:{},addPostProcessor(b){this.processors[b.name]=b},handle(b,R,A,T,I){return b.forEach(B=>{R=this.processors[B]?.process(R,A,T,I)??R}),R}};const PATH_KEY=Symbol("i18next/PATH_KEY");function createProxy$1(){const b=[],R=Object.create(null);let A;return R.get=(T,I)=>(A?.revoke?.(),I===PATH_KEY?b:(b.push(I),A=Proxy.revocable(T,R),A.proxy)),Proxy.revocable(Object.create(null),R).proxy}function keysFromSelector(b,R){const{[PATH_KEY]:A}=b(createProxy$1());return A.join(R?.keySeparator??".")}const checkedLoadedFor={},shouldHandleAsObject=b=>!isString(b)&&typeof b!="boolean"&&typeof b!="number";class Translator extends EventEmitter$1{constructor(R,A={}){super(),copy$2(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],R,this),this.options=A,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=baseLogger.create("translator")}changeLanguage(R){R&&(this.language=R)}exists(R,A={interpolation:{}}){const T={...A};if(R==null)return!1;const I=this.resolve(R,T);if(I?.res===void 0)return!1;const B=shouldHandleAsObject(I.res);return!(T.returnObjects===!1&&B)}extractFromKey(R,A){let T=A.nsSeparator!==void 0?A.nsSeparator:this.options.nsSeparator;T===void 0&&(T=":");const I=A.keySeparator!==void 0?A.keySeparator:this.options.keySeparator;let B=A.ns||this.options.defaultNS||[];const U=T&&R.indexOf(T)>-1,q=!this.options.userDefinedKeySeparator&&!A.keySeparator&&!this.options.userDefinedNsSeparator&&!A.nsSeparator&&!looksLikeObjectPath(R,T,I);if(U&&!q){const K=R.match(this.interpolator.nestingRegexp);if(K&&K.length>0)return{key:R,namespaces:isString(B)?[B]:B};const J=R.split(T);(T!==I||T===I&&this.options.ns.indexOf(J[0])>-1)&&(B=J.shift()),R=J.join(I)}return{key:R,namespaces:isString(B)?[B]:B}}translate(R,A,T){let I=typeof A=="object"?{...A}:A;if(typeof I!="object"&&this.options.overloadTranslationOptionHandler&&(I=this.options.overloadTranslationOptionHandler(arguments)),typeof I=="object"&&(I={...I}),I||(I={}),R==null)return"";typeof R=="function"&&(R=keysFromSelector(R,{...this.options,...I})),Array.isArray(R)||(R=[String(R)]);const B=I.returnDetails!==void 0?I.returnDetails:this.options.returnDetails,U=I.keySeparator!==void 0?I.keySeparator:this.options.keySeparator,{key:q,namespaces:K}=this.extractFromKey(R[R.length-1],I),J=K[K.length-1];let ee=I.nsSeparator!==void 0?I.nsSeparator:this.options.nsSeparator;ee===void 0&&(ee=":");const te=I.lng||this.language,xe=I.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(te?.toLowerCase()==="cimode")return xe?B?{res:`${J}${ee}${q}`,usedKey:q,exactUsedKey:q,usedLng:te,usedNS:J,usedParams:this.getUsedParamsDetails(I)}:`${J}${ee}${q}`:B?{res:q,usedKey:q,exactUsedKey:q,usedLng:te,usedNS:J,usedParams:this.getUsedParamsDetails(I)}:q;const fe=this.resolve(R,I);let ye=fe?.res;const Be=fe?.usedKey||q,Le=fe?.exactUsedKey||q,qe=["[object Number]","[object Function]","[object RegExp]"],Ge=I.joinArrays!==void 0?I.joinArrays:this.options.joinArrays,$e=!this.i18nFormat||this.i18nFormat.handleAsObject,Xe=I.count!==void 0&&!isString(I.count),He=Translator.hasDefaultValue(I),Qe=Xe?this.pluralResolver.getSuffix(te,I.count,I):"",st=I.ordinal&&Xe?this.pluralResolver.getSuffix(te,I.count,{ordinal:!1}):"",ct=Xe&&!I.ordinal&&I.count===0,gt=ct&&I[`defaultValue${this.options.pluralSeparator}zero`]||I[`defaultValue${Qe}`]||I[`defaultValue${st}`]||I.defaultValue;let Nt=ye;$e&&!ye&&He&&(Nt=gt);const Ot=shouldHandleAsObject(Nt),Tt=Object.prototype.toString.apply(Nt);if($e&&Nt&&Ot&&qe.indexOf(Tt)<0&&!(isString(Ge)&&Array.isArray(Nt))){if(!I.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ir=this.options.returnedObjectHandler?this.options.returnedObjectHandler(Be,Nt,{...I,ns:K}):`key '${q} (${this.language})' returned an object instead of string.`;return B?(fe.res=ir,fe.usedParams=this.getUsedParamsDetails(I),fe):ir}if(U){const ir=Array.isArray(Nt),At=ir?[]:{},It=ir?Le:Be;for(const Je in Nt)if(Object.prototype.hasOwnProperty.call(Nt,Je)){const ut=`${It}${U}${Je}`;He&&!ye?At[Je]=this.translate(ut,{...I,defaultValue:shouldHandleAsObject(gt)?gt[Je]:void 0,joinArrays:!1,ns:K}):At[Je]=this.translate(ut,{...I,joinArrays:!1,ns:K}),At[Je]===ut&&(At[Je]=Nt[Je])}ye=At}}else if($e&&isString(Ge)&&Array.isArray(ye))ye=ye.join(Ge),ye&&(ye=this.extendTranslation(ye,R,I,T));else{let ir=!1,At=!1;!this.isValidLookup(ye)&&He&&(ir=!0,ye=gt),this.isValidLookup(ye)||(At=!0,ye=q);const Je=(I.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&At?void 0:ye,ut=He&&gt!==ye&&this.options.updateMissing;if(At||ir||ut){if(this.logger.log(ut?"updateKey":"missingKey",te,J,q,ut?gt:ye),U){const nt=this.resolve(q,{...I,keySeparator:!1});nt&&nt.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let et=[];const lt=this.languageUtils.getFallbackCodes(this.options.fallbackLng,I.lng||this.language);if(this.options.saveMissingTo==="fallback"&&lt&&lt[0])for(let nt=0;nt<lt.length;nt++)et.push(lt[nt]);else this.options.saveMissingTo==="all"?et=this.languageUtils.toResolveHierarchy(I.lng||this.language):et.push(I.lng||this.language);const rt=(nt,kt,Zt)=>{const Ar=He&&Zt!==ye?Zt:Je;this.options.missingKeyHandler?this.options.missingKeyHandler(nt,J,kt,Ar,ut,I):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(nt,J,kt,Ar,ut,I),this.emit("missingKey",nt,J,kt,ye)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Xe?et.forEach(nt=>{const kt=this.pluralResolver.getSuffixes(nt,I);ct&&I[`defaultValue${this.options.pluralSeparator}zero`]&&kt.indexOf(`${this.options.pluralSeparator}zero`)<0&&kt.push(`${this.options.pluralSeparator}zero`),kt.forEach(Zt=>{rt([nt],q+Zt,I[`defaultValue${Zt}`]||gt)})}):rt(et,q,gt))}ye=this.extendTranslation(ye,R,I,fe,T),At&&ye===q&&this.options.appendNamespaceToMissingKey&&(ye=`${J}${ee}${q}`),(At||ir)&&this.options.parseMissingKeyHandler&&(ye=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${J}${ee}${q}`:q,ir?ye:void 0,I))}return B?(fe.res=ye,fe.usedParams=this.getUsedParamsDetails(I),fe):ye}extendTranslation(R,A,T,I,B){if(this.i18nFormat?.parse)R=this.i18nFormat.parse(R,{...this.options.interpolation.defaultVariables,...T},T.lng||this.language||I.usedLng,I.usedNS,I.usedKey,{resolved:I});else if(!T.skipInterpolation){T.interpolation&&this.interpolator.init({...T,interpolation:{...this.options.interpolation,...T.interpolation}});const K=isString(R)&&(T?.interpolation?.skipOnVariables!==void 0?T.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let J;if(K){const te=R.match(this.interpolator.nestingRegexp);J=te&&te.length}let ee=T.replace&&!isString(T.replace)?T.replace:T;if(this.options.interpolation.defaultVariables&&(ee={...this.options.interpolation.defaultVariables,...ee}),R=this.interpolator.interpolate(R,ee,T.lng||this.language||I.usedLng,T),K){const te=R.match(this.interpolator.nestingRegexp),xe=te&&te.length;J<xe&&(T.nest=!1)}!T.lng&&I&&I.res&&(T.lng=this.language||I.usedLng),T.nest!==!1&&(R=this.interpolator.nest(R,(...te)=>B?.[0]===te[0]&&!T.context?(this.logger.warn(`It seems you are nesting recursively key: ${te[0]} in key: ${A[0]}`),null):this.translate(...te,A),T)),T.interpolation&&this.interpolator.reset()}const U=T.postProcess||this.options.postProcess,q=isString(U)?[U]:U;return R!=null&&q?.length&&T.applyPostProcessor!==!1&&(R=postProcessor.handle(q,R,A,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...I,usedParams:this.getUsedParamsDetails(T)},...T}:T,this)),R}resolve(R,A={}){let T,I,B,U,q;return isString(R)&&(R=[R]),R.forEach(K=>{if(this.isValidLookup(T))return;const J=this.extractFromKey(K,A),ee=J.key;I=ee;let te=J.namespaces;this.options.fallbackNS&&(te=te.concat(this.options.fallbackNS));const xe=A.count!==void 0&&!isString(A.count),fe=xe&&!A.ordinal&&A.count===0,ye=A.context!==void 0&&(isString(A.context)||typeof A.context=="number")&&A.context!=="",Be=A.lngs?A.lngs:this.languageUtils.toResolveHierarchy(A.lng||this.language,A.fallbackLng);te.forEach(Le=>{this.isValidLookup(T)||(q=Le,!checkedLoadedFor[`${Be[0]}-${Le}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(q)&&(checkedLoadedFor[`${Be[0]}-${Le}`]=!0,this.logger.warn(`key "${I}" for languages "${Be.join(", ")}" won't get resolved as namespace "${q}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),Be.forEach(qe=>{if(this.isValidLookup(T))return;U=qe;const Ge=[ee];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(Ge,ee,qe,Le,A);else{let Xe;xe&&(Xe=this.pluralResolver.getSuffix(qe,A.count,A));const He=`${this.options.pluralSeparator}zero`,Qe=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(xe&&(A.ordinal&&Xe.indexOf(Qe)===0&&Ge.push(ee+Xe.replace(Qe,this.options.pluralSeparator)),Ge.push(ee+Xe),fe&&Ge.push(ee+He)),ye){const st=`${ee}${this.options.contextSeparator||"_"}${A.context}`;Ge.push(st),xe&&(A.ordinal&&Xe.indexOf(Qe)===0&&Ge.push(st+Xe.replace(Qe,this.options.pluralSeparator)),Ge.push(st+Xe),fe&&Ge.push(st+He))}}let $e;for(;$e=Ge.pop();)this.isValidLookup(T)||(B=$e,T=this.getResource(qe,Le,$e,A))}))})}),{res:T,usedKey:I,exactUsedKey:B,usedLng:U,usedNS:q}}isValidLookup(R){return R!==void 0&&!(!this.options.returnNull&&R===null)&&!(!this.options.returnEmptyString&&R==="")}getResource(R,A,T,I={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(R,A,T,I):this.resourceStore.getResource(R,A,T,I)}getUsedParamsDetails(R={}){const A=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],T=R.replace&&!isString(R.replace);let I=T?R.replace:R;if(T&&typeof R.count<"u"&&(I.count=R.count),this.options.interpolation.defaultVariables&&(I={...this.options.interpolation.defaultVariables,...I}),!T){I={...I};for(const B of A)delete I[B]}return I}static hasDefaultValue(R){const A="defaultValue";for(const T in R)if(Object.prototype.hasOwnProperty.call(R,T)&&A===T.substring(0,A.length)&&R[T]!==void 0)return!0;return!1}}class LanguageUtil{constructor(R){this.options=R,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}getScriptPartFromCode(R){if(R=getCleanedCode(R),!R||R.indexOf("-")<0)return null;const A=R.split("-");return A.length===2||(A.pop(),A[A.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(A.join("-"))}getLanguagePartFromCode(R){if(R=getCleanedCode(R),!R||R.indexOf("-")<0)return R;const A=R.split("-");return this.formatLanguageCode(A[0])}formatLanguageCode(R){if(isString(R)&&R.indexOf("-")>-1){let A;try{A=Intl.getCanonicalLocales(R)[0]}catch{}return A&&this.options.lowerCaseLng&&(A=A.toLowerCase()),A||(this.options.lowerCaseLng?R.toLowerCase():R)}return this.options.cleanCode||this.options.lowerCaseLng?R.toLowerCase():R}isSupportedCode(R){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(R=this.getLanguagePartFromCode(R)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(R)>-1}getBestMatchFromCodes(R){if(!R)return null;let A;return R.forEach(T=>{if(A)return;const I=this.formatLanguageCode(T);(!this.options.supportedLngs||this.isSupportedCode(I))&&(A=I)}),!A&&this.options.supportedLngs&&R.forEach(T=>{if(A)return;const I=this.getScriptPartFromCode(T);if(this.isSupportedCode(I))return A=I;const B=this.getLanguagePartFromCode(T);if(this.isSupportedCode(B))return A=B;A=this.options.supportedLngs.find(U=>{if(U===B)return U;if(!(U.indexOf("-")<0&&B.indexOf("-")<0)&&(U.indexOf("-")>0&&B.indexOf("-")<0&&U.substring(0,U.indexOf("-"))===B||U.indexOf(B)===0&&B.length>1))return U})}),A||(A=this.getFallbackCodes(this.options.fallbackLng)[0]),A}getFallbackCodes(R,A){if(!R)return[];if(typeof R=="function"&&(R=R(A)),isString(R)&&(R=[R]),Array.isArray(R))return R;if(!A)return R.default||[];let T=R[A];return T||(T=R[this.getScriptPartFromCode(A)]),T||(T=R[this.formatLanguageCode(A)]),T||(T=R[this.getLanguagePartFromCode(A)]),T||(T=R.default),T||[]}toResolveHierarchy(R,A){const T=this.getFallbackCodes((A===!1?[]:A)||this.options.fallbackLng||[],R),I=[],B=U=>{U&&(this.isSupportedCode(U)?I.push(U):this.logger.warn(`rejecting language code not found in supportedLngs: ${U}`))};return isString(R)&&(R.indexOf("-")>-1||R.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&B(this.formatLanguageCode(R)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&B(this.getScriptPartFromCode(R)),this.options.load!=="currentOnly"&&B(this.getLanguagePartFromCode(R))):isString(R)&&B(this.formatLanguageCode(R)),T.forEach(U=>{I.indexOf(U)<0&&B(this.formatLanguageCode(U))}),I}}const suffixesOrder={zero:0,one:1,two:2,few:3,many:4,other:5},dummyRule={select:b=>b===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class PluralResolver{constructor(R,A={}){this.languageUtils=R,this.options=A,this.logger=baseLogger.create("pluralResolver"),this.pluralRulesCache={}}addRule(R,A){this.rules[R]=A}clearCache(){this.pluralRulesCache={}}getRule(R,A={}){const T=getCleanedCode(R==="dev"?"en":R),I=A.ordinal?"ordinal":"cardinal",B=JSON.stringify({cleanedCode:T,type:I});if(B in this.pluralRulesCache)return this.pluralRulesCache[B];let U;try{U=new Intl.PluralRules(T,{type:I})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),dummyRule;if(!R.match(/-|_/))return dummyRule;const K=this.languageUtils.getLanguagePartFromCode(R);U=this.getRule(K,A)}return this.pluralRulesCache[B]=U,U}needsPlural(R,A={}){let T=this.getRule(R,A);return T||(T=this.getRule("dev",A)),T?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(R,A,T={}){return this.getSuffixes(R,T).map(I=>`${A}${I}`)}getSuffixes(R,A={}){let T=this.getRule(R,A);return T||(T=this.getRule("dev",A)),T?T.resolvedOptions().pluralCategories.sort((I,B)=>suffixesOrder[I]-suffixesOrder[B]).map(I=>`${this.options.prepend}${A.ordinal?`ordinal${this.options.prepend}`:""}${I}`):[]}getSuffix(R,A,T={}){const I=this.getRule(R,T);return I?`${this.options.prepend}${T.ordinal?`ordinal${this.options.prepend}`:""}${I.select(A)}`:(this.logger.warn(`no plural rule found for: ${R}`),this.getSuffix("dev",A,T))}}const deepFindWithDefaults=(b,R,A,T=".",I=!0)=>{let B=getPathWithDefaults(b,R,A);return!B&&I&&isString(A)&&(B=deepFind(b,A,T),B===void 0&&(B=deepFind(R,A,T))),B},regexSafe=b=>b.replace(/\$/g,"$$$$");class Interpolator{constructor(R={}){this.logger=baseLogger.create("interpolator"),this.options=R,this.format=R?.interpolation?.format||(A=>A),this.init(R)}init(R={}){R.interpolation||(R.interpolation={escapeValue:!0});const{escape:A,escapeValue:T,useRawValueToEscape:I,prefix:B,prefixEscaped:U,suffix:q,suffixEscaped:K,formatSeparator:J,unescapeSuffix:ee,unescapePrefix:te,nestingPrefix:xe,nestingPrefixEscaped:fe,nestingSuffix:ye,nestingSuffixEscaped:Be,nestingOptionsSeparator:Le,maxReplaces:qe,alwaysFormat:Ge}=R.interpolation;this.escape=A!==void 0?A:escape,this.escapeValue=T!==void 0?T:!0,this.useRawValueToEscape=I!==void 0?I:!1,this.prefix=B?regexEscape(B):U||"{{",this.suffix=q?regexEscape(q):K||"}}",this.formatSeparator=J||",",this.unescapePrefix=ee?"":te||"-",this.unescapeSuffix=this.unescapePrefix?"":ee||"",this.nestingPrefix=xe?regexEscape(xe):fe||regexEscape("$t("),this.nestingSuffix=ye?regexEscape(ye):Be||regexEscape(")"),this.nestingOptionsSeparator=Le||",",this.maxReplaces=qe||1e3,this.alwaysFormat=Ge!==void 0?Ge:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const R=(A,T)=>A?.source===T?(A.lastIndex=0,A):new RegExp(T,"g");this.regexp=R(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=R(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=R(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(R,A,T,I){let B,U,q;const K=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},J=fe=>{if(fe.indexOf(this.formatSeparator)<0){const qe=deepFindWithDefaults(A,K,fe,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(qe,void 0,T,{...I,...A,interpolationkey:fe}):qe}const ye=fe.split(this.formatSeparator),Be=ye.shift().trim(),Le=ye.join(this.formatSeparator).trim();return this.format(deepFindWithDefaults(A,K,Be,this.options.keySeparator,this.options.ignoreJSONStructure),Le,T,{...I,...A,interpolationkey:Be})};this.resetRegExp();const ee=I?.missingInterpolationHandler||this.options.missingInterpolationHandler,te=I?.interpolation?.skipOnVariables!==void 0?I.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:fe=>regexSafe(fe)},{regex:this.regexp,safeValue:fe=>this.escapeValue?regexSafe(this.escape(fe)):regexSafe(fe)}].forEach(fe=>{for(q=0;B=fe.regex.exec(R);){const ye=B[1].trim();if(U=J(ye),U===void 0)if(typeof ee=="function"){const Le=ee(R,B,I);U=isString(Le)?Le:""}else if(I&&Object.prototype.hasOwnProperty.call(I,ye))U="";else if(te){U=B[0];continue}else this.logger.warn(`missed to pass in variable ${ye} for interpolating ${R}`),U="";else!isString(U)&&!this.useRawValueToEscape&&(U=makeString(U));const Be=fe.safeValue(U);if(R=R.replace(B[0],Be),te?(fe.regex.lastIndex+=U.length,fe.regex.lastIndex-=B[0].length):fe.regex.lastIndex=0,q++,q>=this.maxReplaces)break}}),R}nest(R,A,T={}){let I,B,U;const q=(K,J)=>{const ee=this.nestingOptionsSeparator;if(K.indexOf(ee)<0)return K;const te=K.split(new RegExp(`${ee}[ ]*{`));let xe=`{${te[1]}`;K=te[0],xe=this.interpolate(xe,U);const fe=xe.match(/'/g),ye=xe.match(/"/g);((fe?.length??0)%2===0&&!ye||ye.length%2!==0)&&(xe=xe.replace(/'/g,'"'));try{U=JSON.parse(xe),J&&(U={...J,...U})}catch(Be){return this.logger.warn(`failed parsing options string in nesting for key ${K}`,Be),`${K}${ee}${xe}`}return U.defaultValue&&U.defaultValue.indexOf(this.prefix)>-1&&delete U.defaultValue,K};for(;I=this.nestingRegexp.exec(R);){let K=[];U={...T},U=U.replace&&!isString(U.replace)?U.replace:U,U.applyPostProcessor=!1,delete U.defaultValue;const J=/{.*}/.test(I[1])?I[1].lastIndexOf("}")+1:I[1].indexOf(this.formatSeparator);if(J!==-1&&(K=I[1].slice(J).split(this.formatSeparator).map(ee=>ee.trim()).filter(Boolean),I[1]=I[1].slice(0,J)),B=A(q.call(this,I[1].trim(),U),U),B&&I[0]===R&&!isString(B))return B;isString(B)||(B=makeString(B)),B||(this.logger.warn(`missed to resolve ${I[1]} for nesting ${R}`),B=""),K.length&&(B=K.reduce((ee,te)=>this.format(ee,te,T.lng,{...T,interpolationkey:I[1].trim()}),B.trim())),R=R.replace(I[0],B),this.regexp.lastIndex=0}return R}}const parseFormatStr=b=>{let R=b.toLowerCase().trim();const A={};if(b.indexOf("(")>-1){const T=b.split("(");R=T[0].toLowerCase().trim();const I=T[1].substring(0,T[1].length-1);R==="currency"&&I.indexOf(":")<0?A.currency||(A.currency=I.trim()):R==="relativetime"&&I.indexOf(":")<0?A.range||(A.range=I.trim()):I.split(";").forEach(U=>{if(U){const[q,...K]=U.split(":"),J=K.join(":").trim().replace(/^'+|'+$/g,""),ee=q.trim();A[ee]||(A[ee]=J),J==="false"&&(A[ee]=!1),J==="true"&&(A[ee]=!0),isNaN(J)||(A[ee]=parseInt(J,10))}})}return{formatName:R,formatOptions:A}},createCachedFormatter=b=>{const R={};return(A,T,I)=>{let B=I;I&&I.interpolationkey&&I.formatParams&&I.formatParams[I.interpolationkey]&&I[I.interpolationkey]&&(B={...B,[I.interpolationkey]:void 0});const U=T+JSON.stringify(B);let q=R[U];return q||(q=b(getCleanedCode(T),I),R[U]=q),q(A)}},createNonCachedFormatter=b=>(R,A,T)=>b(getCleanedCode(A),T)(R);class Formatter{constructor(R={}){this.logger=baseLogger.create("formatter"),this.options=R,this.init(R)}init(R,A={interpolation:{}}){this.formatSeparator=A.interpolation.formatSeparator||",";const T=A.cacheInBuiltFormats?createCachedFormatter:createNonCachedFormatter;this.formats={number:T((I,B)=>{const U=new Intl.NumberFormat(I,{...B});return q=>U.format(q)}),currency:T((I,B)=>{const U=new Intl.NumberFormat(I,{...B,style:"currency"});return q=>U.format(q)}),datetime:T((I,B)=>{const U=new Intl.DateTimeFormat(I,{...B});return q=>U.format(q)}),relativetime:T((I,B)=>{const U=new Intl.RelativeTimeFormat(I,{...B});return q=>U.format(q,B.range||"day")}),list:T((I,B)=>{const U=new Intl.ListFormat(I,{...B});return q=>U.format(q)})}}add(R,A){this.formats[R.toLowerCase().trim()]=A}addCached(R,A){this.formats[R.toLowerCase().trim()]=createCachedFormatter(A)}format(R,A,T,I={}){const B=A.split(this.formatSeparator);if(B.length>1&&B[0].indexOf("(")>1&&B[0].indexOf(")")<0&&B.find(q=>q.indexOf(")")>-1)){const q=B.findIndex(K=>K.indexOf(")")>-1);B[0]=[B[0],...B.splice(1,q)].join(this.formatSeparator)}return B.reduce((q,K)=>{const{formatName:J,formatOptions:ee}=parseFormatStr(K);if(this.formats[J]){let te=q;try{const xe=I?.formatParams?.[I.interpolationkey]||{},fe=xe.locale||xe.lng||I.locale||I.lng||T;te=this.formats[J](q,fe,{...ee,...I,...xe})}catch(xe){this.logger.warn(xe)}return te}else this.logger.warn(`there was no format function for ${J}`);return q},R)}}const removePending=(b,R)=>{b.pending[R]!==void 0&&(delete b.pending[R],b.pendingCount--)};class Connector extends EventEmitter$1{constructor(R,A,T,I={}){super(),this.backend=R,this.store=A,this.services=T,this.languageUtils=T.languageUtils,this.options=I,this.logger=baseLogger.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=I.maxParallelReads||10,this.readingCalls=0,this.maxRetries=I.maxRetries>=0?I.maxRetries:5,this.retryTimeout=I.retryTimeout>=1?I.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(T,I.backend,I)}queueLoad(R,A,T,I){const B={},U={},q={},K={};return R.forEach(J=>{let ee=!0;A.forEach(te=>{const xe=`${J}|${te}`;!T.reload&&this.store.hasResourceBundle(J,te)?this.state[xe]=2:this.state[xe]<0||(this.state[xe]===1?U[xe]===void 0&&(U[xe]=!0):(this.state[xe]=1,ee=!1,U[xe]===void 0&&(U[xe]=!0),B[xe]===void 0&&(B[xe]=!0),K[te]===void 0&&(K[te]=!0)))}),ee||(q[J]=!0)}),(Object.keys(B).length||Object.keys(U).length)&&this.queue.push({pending:U,pendingCount:Object.keys(U).length,loaded:{},errors:[],callback:I}),{toLoad:Object.keys(B),pending:Object.keys(U),toLoadLanguages:Object.keys(q),toLoadNamespaces:Object.keys(K)}}loaded(R,A,T){const I=R.split("|"),B=I[0],U=I[1];A&&this.emit("failedLoading",B,U,A),!A&&T&&this.store.addResourceBundle(B,U,T,void 0,void 0,{skipCopy:!0}),this.state[R]=A?-1:2,A&&T&&(this.state[R]=0);const q={};this.queue.forEach(K=>{pushPath(K.loaded,[B],U),removePending(K,R),A&&K.errors.push(A),K.pendingCount===0&&!K.done&&(Object.keys(K.loaded).forEach(J=>{q[J]||(q[J]={});const ee=K.loaded[J];ee.length&&ee.forEach(te=>{q[J][te]===void 0&&(q[J][te]=!0)})}),K.done=!0,K.errors.length?K.callback(K.errors):K.callback())}),this.emit("loaded",q),this.queue=this.queue.filter(K=>!K.done)}read(R,A,T,I=0,B=this.retryTimeout,U){if(!R.length)return U(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:R,ns:A,fcName:T,tried:I,wait:B,callback:U});return}this.readingCalls++;const q=(J,ee)=>{if(this.readingCalls--,this.waitingReads.length>0){const te=this.waitingReads.shift();this.read(te.lng,te.ns,te.fcName,te.tried,te.wait,te.callback)}if(J&&ee&&I<this.maxRetries){setTimeout(()=>{this.read.call(this,R,A,T,I+1,B*2,U)},B);return}U(J,ee)},K=this.backend[T].bind(this.backend);if(K.length===2){try{const J=K(R,A);J&&typeof J.then=="function"?J.then(ee=>q(null,ee)).catch(q):q(null,J)}catch(J){q(J)}return}return K(R,A,q)}prepareLoading(R,A,T={},I){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),I&&I();isString(R)&&(R=this.languageUtils.toResolveHierarchy(R)),isString(A)&&(A=[A]);const B=this.queueLoad(R,A,T,I);if(!B.toLoad.length)return B.pending.length||I(),null;B.toLoad.forEach(U=>{this.loadOne(U)})}load(R,A,T){this.prepareLoading(R,A,{},T)}reload(R,A,T){this.prepareLoading(R,A,{reload:!0},T)}loadOne(R,A=""){const T=R.split("|"),I=T[0],B=T[1];this.read(I,B,"read",void 0,void 0,(U,q)=>{U&&this.logger.warn(`${A}loading namespace ${B} for language ${I} failed`,U),!U&&q&&this.logger.log(`${A}loaded namespace ${B} for language ${I}`,q),this.loaded(R,U,q)})}saveMissing(R,A,T,I,B,U={},q=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(A)){this.logger.warn(`did not save key "${T}" as the namespace "${A}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(T==null||T==="")){if(this.backend?.create){const K={...U,isUpdate:B},J=this.backend.create.bind(this.backend);if(J.length<6)try{let ee;J.length===5?ee=J(R,A,T,I,K):ee=J(R,A,T,I),ee&&typeof ee.then=="function"?ee.then(te=>q(null,te)).catch(q):q(null,ee)}catch(ee){q(ee)}else J(R,A,T,I,q,K)}!R||!R[0]||this.store.addResource(R[0],A,T,I)}}}const get$3=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:b=>{let R={};if(typeof b[1]=="object"&&(R=b[1]),isString(b[1])&&(R.defaultValue=b[1]),isString(b[2])&&(R.tDescription=b[2]),typeof b[2]=="object"||typeof b[3]=="object"){const A=b[3]||b[2];Object.keys(A).forEach(T=>{R[T]=A[T]})}return R},interpolation:{escapeValue:!0,format:b=>b,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),transformOptions=b=>(isString(b.ns)&&(b.ns=[b.ns]),isString(b.fallbackLng)&&(b.fallbackLng=[b.fallbackLng]),isString(b.fallbackNS)&&(b.fallbackNS=[b.fallbackNS]),b.supportedLngs?.indexOf?.("cimode")<0&&(b.supportedLngs=b.supportedLngs.concat(["cimode"])),typeof b.initImmediate=="boolean"&&(b.initAsync=b.initImmediate),b),noop$6=()=>{},bindMemberFunctions=b=>{Object.getOwnPropertyNames(Object.getPrototypeOf(b)).forEach(A=>{typeof b[A]=="function"&&(b[A]=b[A].bind(b))})};class I18n extends EventEmitter$1{constructor(R={},A){if(super(),this.options=transformOptions(R),this.services={},this.logger=baseLogger,this.modules={external:[]},bindMemberFunctions(this),A&&!this.isInitialized&&!R.isClone){if(!this.options.initAsync)return this.init(R,A),this;setTimeout(()=>{this.init(R,A)},0)}}init(R={},A){this.isInitializing=!0,typeof R=="function"&&(A=R,R={}),R.defaultNS==null&&R.ns&&(isString(R.ns)?R.defaultNS=R.ns:R.ns.indexOf("translation")<0&&(R.defaultNS=R.ns[0]));const T=get$3();this.options={...T,...this.options,...transformOptions(R)},this.options.interpolation={...T.interpolation,...this.options.interpolation},R.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=R.keySeparator),R.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=R.nsSeparator);const I=J=>J?typeof J=="function"?new J:J:null;if(!this.options.isClone){this.modules.logger?baseLogger.init(I(this.modules.logger),this.options):baseLogger.init(null,this.options);let J;this.modules.formatter?J=this.modules.formatter:J=Formatter;const ee=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);const te=this.services;te.logger=baseLogger,te.resourceStore=this.store,te.languageUtils=ee,te.pluralResolver=new PluralResolver(ee,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==T.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),J&&(!this.options.interpolation.format||this.options.interpolation.format===T.interpolation.format)&&(te.formatter=I(J),te.formatter.init&&te.formatter.init(te,this.options),this.options.interpolation.format=te.formatter.format.bind(te.formatter)),te.interpolator=new Interpolator(this.options),te.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},te.backendConnector=new Connector(I(this.modules.backend),te.resourceStore,te,this.options),te.backendConnector.on("*",(fe,...ye)=>{this.emit(fe,...ye)}),this.modules.languageDetector&&(te.languageDetector=I(this.modules.languageDetector),te.languageDetector.init&&te.languageDetector.init(te,this.options.detection,this.options)),this.modules.i18nFormat&&(te.i18nFormat=I(this.modules.i18nFormat),te.i18nFormat.init&&te.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",(fe,...ye)=>{this.emit(fe,...ye)}),this.modules.external.forEach(fe=>{fe.init&&fe.init(this)})}if(this.format=this.options.interpolation.format,A||(A=noop$6),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const J=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);J.length>0&&J[0]!=="dev"&&(this.options.lng=J[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(J=>{this[J]=(...ee)=>this.store[J](...ee)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(J=>{this[J]=(...ee)=>(this.store[J](...ee),this)});const q=defer(),K=()=>{const J=(ee,te)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),q.resolve(te),A(ee,te)};if(this.languages&&!this.isInitialized)return J(null,this.t.bind(this));this.changeLanguage(this.options.lng,J)};return this.options.resources||!this.options.initAsync?K():setTimeout(K,0),q}loadResources(R,A=noop$6){let T=A;const I=isString(R)?R:this.language;if(typeof R=="function"&&(T=R),!this.options.resources||this.options.partialBundledLanguages){if(I?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return T();const B=[],U=q=>{if(!q||q==="cimode")return;this.services.languageUtils.toResolveHierarchy(q).forEach(J=>{J!=="cimode"&&B.indexOf(J)<0&&B.push(J)})};I?U(I):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(K=>U(K)),this.options.preload?.forEach?.(q=>U(q)),this.services.backendConnector.load(B,this.options.ns,q=>{!q&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),T(q)})}else T(null)}reloadResources(R,A,T){const I=defer();return typeof R=="function"&&(T=R,R=void 0),typeof A=="function"&&(T=A,A=void 0),R||(R=this.languages),A||(A=this.options.ns),T||(T=noop$6),this.services.backendConnector.reload(R,A,B=>{I.resolve(),T(B)}),I}use(R){if(!R)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!R.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return R.type==="backend"&&(this.modules.backend=R),(R.type==="logger"||R.log&&R.warn&&R.error)&&(this.modules.logger=R),R.type==="languageDetector"&&(this.modules.languageDetector=R),R.type==="i18nFormat"&&(this.modules.i18nFormat=R),R.type==="postProcessor"&&postProcessor.addPostProcessor(R),R.type==="formatter"&&(this.modules.formatter=R),R.type==="3rdParty"&&this.modules.external.push(R),this}setResolvedLanguage(R){if(!(!R||!this.languages)&&!(["cimode","dev"].indexOf(R)>-1)){for(let A=0;A<this.languages.length;A++){const T=this.languages[A];if(!(["cimode","dev"].indexOf(T)>-1)&&this.store.hasLanguageSomeTranslations(T)){this.resolvedLanguage=T;break}}!this.resolvedLanguage&&this.languages.indexOf(R)<0&&this.store.hasLanguageSomeTranslations(R)&&(this.resolvedLanguage=R,this.languages.unshift(R))}}changeLanguage(R,A){this.isLanguageChangingTo=R;const T=defer();this.emit("languageChanging",R);const I=q=>{this.language=q,this.languages=this.services.languageUtils.toResolveHierarchy(q),this.resolvedLanguage=void 0,this.setResolvedLanguage(q)},B=(q,K)=>{K?this.isLanguageChangingTo===R&&(I(K),this.translator.changeLanguage(K),this.isLanguageChangingTo=void 0,this.emit("languageChanged",K),this.logger.log("languageChanged",K)):this.isLanguageChangingTo=void 0,T.resolve((...J)=>this.t(...J)),A&&A(q,(...J)=>this.t(...J))},U=q=>{!R&&!q&&this.services.languageDetector&&(q=[]);const K=isString(q)?q:q&&q[0],J=this.store.hasLanguageSomeTranslations(K)?K:this.services.languageUtils.getBestMatchFromCodes(isString(q)?[q]:q);J&&(this.language||I(J),this.translator.language||this.translator.changeLanguage(J),this.services.languageDetector?.cacheUserLanguage?.(J)),this.loadResources(J,ee=>{B(ee,J)})};return!R&&this.services.languageDetector&&!this.services.languageDetector.async?U(this.services.languageDetector.detect()):!R&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(U):this.services.languageDetector.detect(U):U(R),T}getFixedT(R,A,T){const I=(B,U,...q)=>{let K;typeof U!="object"?K=this.options.overloadTranslationOptionHandler([B,U].concat(q)):K={...U},K.lng=K.lng||I.lng,K.lngs=K.lngs||I.lngs,K.ns=K.ns||I.ns,K.keyPrefix!==""&&(K.keyPrefix=K.keyPrefix||T||I.keyPrefix);const J=this.options.keySeparator||".";let ee;return K.keyPrefix&&Array.isArray(B)?ee=B.map(te=>(typeof te=="function"&&(te=keysFromSelector(te,{...this.options,...U})),`${K.keyPrefix}${J}${te}`)):(typeof B=="function"&&(B=keysFromSelector(B,{...this.options,...U})),ee=K.keyPrefix?`${K.keyPrefix}${J}${B}`:B),this.t(ee,K)};return isString(R)?I.lng=R:I.lngs=R,I.ns=A,I.keyPrefix=T,I}t(...R){return this.translator?.translate(...R)}exists(...R){return this.translator?.exists(...R)}setDefaultNamespace(R){this.options.defaultNS=R}hasLoadedNamespace(R,A={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const T=A.lng||this.resolvedLanguage||this.languages[0],I=this.options?this.options.fallbackLng:!1,B=this.languages[this.languages.length-1];if(T.toLowerCase()==="cimode")return!0;const U=(q,K)=>{const J=this.services.backendConnector.state[`${q}|${K}`];return J===-1||J===0||J===2};if(A.precheck){const q=A.precheck(this,U);if(q!==void 0)return q}return!!(this.hasResourceBundle(T,R)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||U(T,R)&&(!I||U(B,R)))}loadNamespaces(R,A){const T=defer();return this.options.ns?(isString(R)&&(R=[R]),R.forEach(I=>{this.options.ns.indexOf(I)<0&&this.options.ns.push(I)}),this.loadResources(I=>{T.resolve(),A&&A(I)}),T):(A&&A(),Promise.resolve())}loadLanguages(R,A){const T=defer();isString(R)&&(R=[R]);const I=this.options.preload||[],B=R.filter(U=>I.indexOf(U)<0&&this.services.languageUtils.isSupportedCode(U));return B.length?(this.options.preload=I.concat(B),this.loadResources(U=>{T.resolve(),A&&A(U)}),T):(A&&A(),Promise.resolve())}dir(R){if(R||(R=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!R)return"rtl";try{const I=new Intl.Locale(R);if(I&&I.getTextInfo){const B=I.getTextInfo();if(B&&B.direction)return B.direction}}catch{}const A=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],T=this.services?.languageUtils||new LanguageUtil(get$3());return R.toLowerCase().indexOf("-latn")>1?"ltr":A.indexOf(T.getLanguagePartFromCode(R))>-1||R.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(R={},A){return new I18n(R,A)}cloneInstance(R={},A=noop$6){const T=R.forkResourceStore;T&&delete R.forkResourceStore;const I={...this.options,...R,isClone:!0},B=new I18n(I);if((R.debug!==void 0||R.prefix!==void 0)&&(B.logger=B.logger.clone(R)),["store","services","language"].forEach(q=>{B[q]=this[q]}),B.services={...this.services},B.services.utils={hasLoadedNamespace:B.hasLoadedNamespace.bind(B)},T){const q=Object.keys(this.store.data).reduce((K,J)=>(K[J]={...this.store.data[J]},K[J]=Object.keys(K[J]).reduce((ee,te)=>(ee[te]={...K[J][te]},ee),K[J]),K),{});B.store=new ResourceStore(q,I),B.services.resourceStore=B.store}return B.translator=new Translator(B.services,I),B.translator.on("*",(q,...K)=>{B.emit(q,...K)}),B.init(I,A),B.translator.options=I,B.translator.backendConnector.services.utils={hasLoadedNamespace:B.hasLoadedNamespace.bind(B)},B}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const instance=I18n.createInstance();instance.createInstance=I18n.createInstance;instance.createInstance;instance.dir;instance.init;instance.loadResources;instance.reloadResources;instance.use;instance.changeLanguage;instance.getFixedT;instance.t;instance.exists;instance.setDefaultNamespace;instance.hasLoadedNamespace;instance.loadNamespaces;instance.loadLanguages;const matchHtmlEntity=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,htmlEntities={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},unescapeHtmlEntity=b=>htmlEntities[b],unescape=b=>b.replace(matchHtmlEntity,unescapeHtmlEntity);let defaultOptions={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape};const setDefaults=(b={})=>{defaultOptions={...defaultOptions,...b}},initReactI18next={type:"3rdParty",init(b){setDefaults(b.options.react)}},{slice,forEach}=[];function defaults$1(b){return forEach.call(slice.call(arguments,1),R=>{if(R)for(const A in R)b[A]===void 0&&(b[A]=R[A])}),b}function hasXSS(b){return typeof b!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(A=>A.test(b))}const fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,serializeCookie=function(b,R){const T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},I=encodeURIComponent(R);let B=`${b}=${I}`;if(T.maxAge>0){const U=T.maxAge-0;if(Number.isNaN(U))throw new Error("maxAge should be a Number");B+=`; Max-Age=${Math.floor(U)}`}if(T.domain){if(!fieldContentRegExp.test(T.domain))throw new TypeError("option domain is invalid");B+=`; Domain=${T.domain}`}if(T.path){if(!fieldContentRegExp.test(T.path))throw new TypeError("option path is invalid");B+=`; Path=${T.path}`}if(T.expires){if(typeof T.expires.toUTCString!="function")throw new TypeError("option expires is invalid");B+=`; Expires=${T.expires.toUTCString()}`}if(T.httpOnly&&(B+="; HttpOnly"),T.secure&&(B+="; Secure"),T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"strict":B+="; SameSite=Strict";break;case"none":B+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return T.partitioned&&(B+="; Partitioned"),B},cookie={create(b,R,A,T){let I=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};A&&(I.expires=new Date,I.expires.setTime(I.expires.getTime()+A*60*1e3)),T&&(I.domain=T),document.cookie=serializeCookie(b,R,I)},read(b){const R=`${b}=`,A=document.cookie.split(";");for(let T=0;T<A.length;T++){let I=A[T];for(;I.charAt(0)===" ";)I=I.substring(1,I.length);if(I.indexOf(R)===0)return I.substring(R.length,I.length)}return null},remove(b,R){this.create(b,"",-1,R)}};var cookie$1={name:"cookie",lookup(b){let{lookupCookie:R}=b;if(R&&typeof document<"u")return cookie.read(R)||void 0},cacheUserLanguage(b,R){let{lookupCookie:A,cookieMinutes:T,cookieDomain:I,cookieOptions:B}=R;A&&typeof document<"u"&&cookie.create(A,b,T,I,B)}},querystring={name:"querystring",lookup(b){let{lookupQuerystring:R}=b,A;if(typeof window<"u"){let{search:T}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(T=window.location.hash.substring(window.location.hash.indexOf("?")));const B=T.substring(1).split("&");for(let U=0;U<B.length;U++){const q=B[U].indexOf("=");q>0&&B[U].substring(0,q)===R&&(A=B[U].substring(q+1))}}return A}},hash={name:"hash",lookup(b){let{lookupHash:R,lookupFromHashIndex:A}=b,T;if(typeof window<"u"){const{hash:I}=window.location;if(I&&I.length>2){const B=I.substring(1);if(R){const U=B.split("&");for(let q=0;q<U.length;q++){const K=U[q].indexOf("=");K>0&&U[q].substring(0,K)===R&&(T=U[q].substring(K+1))}}if(T)return T;if(!T&&A>-1){const U=I.match(/\/([a-zA-Z-]*)/g);return Array.isArray(U)?U[typeof A=="number"?A:0]?.replace("/",""):void 0}}}return T}};let hasLocalStorageSupport=null;const localStorageAvailable=()=>{if(hasLocalStorageSupport!==null)return hasLocalStorageSupport;try{if(hasLocalStorageSupport=typeof window<"u"&&window.localStorage!==null,!hasLocalStorageSupport)return!1;const b="i18next.translate.boo";window.localStorage.setItem(b,"foo"),window.localStorage.removeItem(b)}catch{hasLocalStorageSupport=!1}return hasLocalStorageSupport};var localStorage$1={name:"localStorage",lookup(b){let{lookupLocalStorage:R}=b;if(R&&localStorageAvailable())return window.localStorage.getItem(R)||void 0},cacheUserLanguage(b,R){let{lookupLocalStorage:A}=R;A&&localStorageAvailable()&&window.localStorage.setItem(A,b)}};let hasSessionStorageSupport=null;const sessionStorageAvailable=()=>{if(hasSessionStorageSupport!==null)return hasSessionStorageSupport;try{if(hasSessionStorageSupport=typeof window<"u"&&window.sessionStorage!==null,!hasSessionStorageSupport)return!1;const b="i18next.translate.boo";window.sessionStorage.setItem(b,"foo"),window.sessionStorage.removeItem(b)}catch{hasSessionStorageSupport=!1}return hasSessionStorageSupport};var sessionStorage$1={name:"sessionStorage",lookup(b){let{lookupSessionStorage:R}=b;if(R&&sessionStorageAvailable())return window.sessionStorage.getItem(R)||void 0},cacheUserLanguage(b,R){let{lookupSessionStorage:A}=R;A&&sessionStorageAvailable()&&window.sessionStorage.setItem(A,b)}},navigator$1={name:"navigator",lookup(b){const R=[];if(typeof navigator<"u"){const{languages:A,userLanguage:T,language:I}=navigator;if(A)for(let B=0;B<A.length;B++)R.push(A[B]);T&&R.push(T),I&&R.push(I)}return R.length>0?R:void 0}},htmlTag={name:"htmlTag",lookup(b){let{htmlTag:R}=b,A;const T=R||(typeof document<"u"?document.documentElement:null);return T&&typeof T.getAttribute=="function"&&(A=T.getAttribute("lang")),A}},path={name:"path",lookup(b){let{lookupFromPathIndex:R}=b;if(typeof window>"u")return;const A=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(A)?A[typeof R=="number"?R:0]?.replace("/",""):void 0}},subdomain={name:"subdomain",lookup(b){let{lookupFromSubdomainIndex:R}=b;const A=typeof R=="number"?R+1:1,T=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(T)return T[A]}};let canCookies=!1;try{document.cookie,canCookies=!0}catch{}const order=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];canCookies||order.splice(1,1);const getDefaults=()=>({order,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:b=>b});class Browser{constructor(R){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(R,A)}init(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=R,this.options=defaults$1(A,this.options||{},getDefaults()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=I=>I.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=T,this.addDetector(cookie$1),this.addDetector(querystring),this.addDetector(localStorage$1),this.addDetector(sessionStorage$1),this.addDetector(navigator$1),this.addDetector(htmlTag),this.addDetector(path),this.addDetector(subdomain),this.addDetector(hash)}addDetector(R){return this.detectors[R.name]=R,this}detect(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,A=[];return R.forEach(T=>{if(this.detectors[T]){let I=this.detectors[T].lookup(this.options);I&&typeof I=="string"&&(I=[I]),I&&(A=A.concat(I))}}),A=A.filter(T=>T!=null&&!hasXSS(T)).map(T=>this.options.convertDetectedLanguage(T)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?A:A.length>0?A[0]:null}cacheUserLanguage(R){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;A&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(R)>-1||A.forEach(T=>{this.detectors[T]&&this.detectors[T].cacheUserLanguage(R,this.options)}))}}Browser.type="languageDetector";const modules$1=Object.assign({}),messages={};Object.keys(modules$1).forEach(b=>{const R=b.match(/\.\/([^/]+)\/([^/]+)\.ts$/);if(R){const[,A]=R,T=modules$1[b];messages[A]||(messages[A]={translation:{}}),T.default&&(messages[A].translation={...messages[A].translation,...T.default})}});instance.use(Browser).use(initReactI18next).init({lng:"en",fallbackLng:"en",debug:!1,resources:messages,interpolation:{escapeValue:!1}});function useLocalStorage(b,R){const A=()=>{try{const U=window.localStorage.getItem(b);return U?JSON.parse(U):R}catch(U){return console.error(`Error reading localStorage key "${b}":`,U),R}},[T,I]=reactExports.useState(A);reactExports.useEffect(()=>{try{if(window.localStorage.getItem(b)==null){window.localStorage.setItem(b,JSON.stringify(T));const q=new StorageEvent("storage",{key:b,newValue:JSON.stringify(T),oldValue:null,url:window.location.href,storageArea:window.localStorage});window.dispatchEvent(q)}}catch{}},[b]);const B=reactExports.useCallback(U=>{try{I(q=>{const K=U instanceof Function?U(q):U;window.localStorage.setItem(b,JSON.stringify(K));const J=new StorageEvent("storage",{key:b,newValue:JSON.stringify(K),oldValue:JSON.stringify(q),url:window.location.href,storageArea:window.localStorage});return window.dispatchEvent(J),K})}catch(q){console.error(`Error setting localStorage key "${b}":`,q)}},[b]);return reactExports.useEffect(()=>{const U=q=>{q.key===b&&I(A())};return window.addEventListener("storage",U),()=>{window.removeEventListener("storage",U)}},[b]),[T,B]}const mockStores=[{id:"store_1",name:"Matriz - Centro",address:"Rua Principal, 100"},{id:"store_2",name:"Filial - Shopping",address:"Av. Comercial, 500"}],mockRoles=[{id:"role_master",name:"Administrador Master",permissions:["CAIXA","COZINHA","GESTAO","MASTER","TAREFAS","CHECKLIST","PROCEDIMENTOS","RH","ESTOQUE"]},{id:"role_cashier",name:"Operador de Caixa",permissions:["CAIXA"]},{id:"role_kitchen",name:"Cozinheiro",permissions:["COZINHA"]},{id:"role_manager",name:"Gerente",permissions:["CAIXA","COZINHA","GESTAO","TAREFAS","CHECKLIST","PROCEDIMENTOS","RH","ESTOQUE"]}],mockUsers=[{id:"user_1",username:"master",name:"Admin Master",passwordHash:"123456",storeId:"store_1",roleId:"role_master"},{id:"user_2",username:"caixa",name:"Operador Caixa",passwordHash:"111",storeId:"store_1",roleId:"role_cashier"},{id:"user_3",username:"cozinha",name:"Chef Cozinha",passwordHash:"222",storeId:"store_2",roleId:"role_kitchen"},{id:"user_4",username:"gerente",name:"Gerente Geral",passwordHash:"333",storeId:"store_1",roleId:"role_manager"}],defaultAuthContext={user:null,store:null,role:null,isAuthenticated:!1,login:()=>!1,logout:()=>{},hasPermission:()=>!1,preferredModule:null,setPreferredModule:()=>{}},AuthContext=reactExports.createContext(defaultAuthContext);function AuthProvider({children:b}){const[R,A]=useLocalStorage("auth_user",null),[T,I]=useLocalStorage("auth_store_id",null),[B,U]=useLocalStorage("preferred_module",null),q=reactExports.useMemo(()=>!!R&&!!T,[R,T]),K=reactExports.useMemo(()=>R&&mockRoles.find(ye=>ye.id===R.roleId)||null,[R]),J=reactExports.useMemo(()=>T&&mockStores.find(ye=>ye.id===T)||null,[T]),ee=reactExports.useCallback((ye,Be)=>{const Le=mockUsers.find(qe=>qe.username===ye&&qe.passwordHash===Be);if(Le){const qe=mockRoles.find($e=>$e.id===Le.roleId);if(mockStores.find($e=>$e.id===Le.storeId)&&qe)return A(Le),I(Le.storeId),!0}return!1},[A,I]),te=reactExports.useCallback(()=>{A(null),I(null),U(null)},[A,I,U]),xe=reactExports.useCallback(ye=>K?K.permissions.includes(ye):!1,[K]),fe=reactExports.useMemo(()=>({user:R,store:J,role:K,isAuthenticated:q,login:ee,logout:te,hasPermission:xe,preferredModule:B,setPreferredModule:U}),[R,J,K,q,ee,te,xe,B,U]);return jsxRuntimeExports.jsx(AuthContext.Provider,{value:fe,children:b})}const useAuth=()=>reactExports.useContext(AuthContext),Input=reactExports.forwardRef(({label:b,error:R,className:A="",type:T,...I},B)=>{const U=q=>{T==="number"&&q.currentTarget.blur()};return jsxRuntimeExports.jsxs("div",{className:"w-full",children:[b&&jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:b}),jsxRuntimeExports.jsx("input",{ref:B,type:T,onWheel:U,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm ${R?"border-red-500":""} ${A}`,...I}),R&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-600",children:R})]})});Input.displayName="Input";function Button({variant:b="primary",size:R="md",children:A,className:T="",...I}){const B="font-medium rounded-lg transition-colors whitespace-nowrap cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",U={primary:"bg-amber-500 hover:bg-amber-600 text-white",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-800",danger:"bg-red-500 hover:bg-red-600 text-white",success:"bg-green-500 hover:bg-green-600 text-white",info:"bg-blue-500 hover:bg-blue-600 text-white"},q={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return jsxRuntimeExports.jsx("button",{className:`${B} ${U[b]} ${q[R]} ${T}`,...I,children:A})}function Modal({isOpen:b,onClose:R,title:A,children:T,size:I="md",disableClose:B=!1,zIndex:U="z-[100]",hideCloseButton:q=!1,overlayClassName:K="bg-gray-900 bg-opacity-75",draggable:J=!0}){const ee=reactExports.useRef(null),te=reactExports.useRef(null),[xe,fe]=reactExports.useState(!1),[ye,Be]=reactExports.useState({x:0,y:0}),Le=reactExports.useRef({x:0,y:0});if(reactExports.useEffect(()=>{if(b){document.body.style.overflow="hidden";const Ge=$e=>{$e.key==="Escape"&&!B&&R()};return window.addEventListener("keydown",Ge),()=>{document.body.style.overflow="unset",window.removeEventListener("keydown",Ge)}}else document.body.style.overflow="unset";return()=>{document.body.style.overflow="unset"}},[b,R,B]),reactExports.useEffect(()=>{if(!b||!J)return;const Ge=Qe=>{fe(!0),Le.current={x:Qe.clientX-ye.x,y:Qe.clientY-ye.y},document.body.style.userSelect="none"},$e=Qe=>{if(!xe)return;const st={x:Qe.clientX-Le.current.x,y:Qe.clientY-Le.current.y};Be(st)},Xe=()=>{xe&&(fe(!1),document.body.style.userSelect="")},He=te.current;return He&&He.addEventListener("mousedown",Ge),window.addEventListener("mousemove",$e),window.addEventListener("mouseup",Xe),()=>{He&&He.removeEventListener("mousedown",Ge),window.removeEventListener("mousemove",$e),window.removeEventListener("mouseup",Xe)}},[b,J,xe,ye.x,ye.y]),!b)return null;const qe={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl","2xl":"max-w-6xl","3xl":"max-w-7xl","4xl":"max-w-[1500px]",full:"max-w-[100vw]"};return jsxRuntimeExports.jsx("div",{className:`fixed inset-0 ${U} overflow-y-auto`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[jsxRuntimeExports.jsx("div",{className:`fixed inset-0 transition-opacity ${K}`,onClick:B?void 0:R}),jsxRuntimeExports.jsxs("div",{ref:ee,className:`inline-block w-full ${qe[I]} p-6 my-8 text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl`,style:{transform:`translate(${ye.x}px, ${ye.y}px)`},children:[A&&jsxRuntimeExports.jsxs("div",{ref:te,className:"flex items-center justify-between mb-4 cursor-move",title:J?"Arraste para mover":void 0,children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900",children:A}),!q&&jsxRuntimeExports.jsx("button",{onClick:R,className:"text-gray-400 hover:text-gray-600 cursor-pointer",children:jsxRuntimeExports.jsx("i",{className:"ri-close-line text-xl"})})]}),T]})]})})}function AlertModal({isOpen:b,onClose:R,title:A,message:T,variant:I="info"}){reactExports.useEffect(()=>{if(b){const q=K=>{(K.key==="Enter"||K.key==="Escape")&&R()};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)}},[b,R]);const B={info:"ri-information-line text-blue-500",error:"ri-close-circle-line text-red-500",success:"ri-check-line text-green-500"},U=I==="error"?"danger":"primary";return jsxRuntimeExports.jsx(Modal,{isOpen:b,onClose:R,title:A,size:"sm",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4 text-center",children:[jsxRuntimeExports.jsx("i",{className:`${B[I]} text-5xl mx-auto`}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm",children:T}),jsxRuntimeExports.jsx("div",{className:"pt-4 border-t",children:jsxRuntimeExports.jsxs(Button,{onClick:R,className:"w-full",variant:U,autoFocus:!0,children:[jsxRuntimeExports.jsx("i",{className:"ri-check-line mr-2"}),"OK (ENTER)"]})})]})})}function LoginPage(){const{login:b,preferredModule:R}=useAuth(),A=useNavigate(),[T,I]=reactExports.useState(""),[B,U]=reactExports.useState(""),[q,K]=reactExports.useState(!1),[J,ee]=reactExports.useState(!1),[te,xe]=reactExports.useState(""),fe=async ye=>{if(ye.preventDefault(),!T||!B){xe("Preencha todos os campos."),ee(!0);return}K(!0);try{await new Promise(Le=>setTimeout(Le,500)),b(T,B)?A("/module-selector",{replace:!0}):(xe("Credenciais invlidas."),ee(!0))}finally{K(!1)}};return jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-xl shadow-2xl border border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-store-line text-5xl text-amber-600 mb-2"}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Acesso ao Sistema"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Faa login para acessar os mdulos"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:fe,className:"space-y-4",children:[jsxRuntimeExports.jsx(Input,{label:"Usurio:",type:"text",value:T,onChange:ye=>I(ye.target.value),placeholder:"Nome de usurio",required:!0,autoFocus:!0}),jsxRuntimeExports.jsx(Input,{label:"Senha:",type:"password",value:B,onChange:ye=>U(ye.target.value),placeholder:"Senha",required:!0}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"w-full",size:"lg",disabled:q,children:q?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("i",{className:"ri-loader-4-line mr-2 animate-spin"}),"Entrar"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("i",{className:"ri-login-circle-line mr-2"}),"Entrar"]})})]})]}),jsxRuntimeExports.jsx(AlertModal,{isOpen:J,onClose:()=>ee(!1),title:"Erro de Login",message:te,variant:"error"})]})}const modules=[{id:"caixa",title:"CAIXA",subtitle:"PDV",description:"Registro de vendas, abertura e fechamento de caixa, pagamentos",icon:"ri-shopping-cart-2-fill",path:"/caixa",color:"amber",bgGradient:"from-amber-500 to-orange-600",hoverGradient:"from-amber-600 to-orange-700"},{id:"cozinha",title:"COZINHA",subtitle:"KDS",description:"Visualizao e gerenciamento de pedidos em preparo",icon:"ri-restaurant-2-fill",path:"/cozinha",color:"emerald",bgGradient:"from-emerald-500 to-green-600",hoverGradient:"from-emerald-600 to-green-700"},{id:"tarefas",title:"TAREFAS",subtitle:"E POP's",description:"Gerenciamento de tarefas operacionais e procedimentos",icon:"ri-task-fill",path:"/tarefas",color:"blue",bgGradient:"from-blue-500 to-indigo-600",hoverGradient:"from-blue-600 to-indigo-700"},{id:"adm",title:"ADM",subtitle:"Administrao",description:"Relatrios, configuraes, RH, estoque e mais",icon:"ri-settings-4-fill",path:"/adm",color:"purple",bgGradient:"from-purple-500 to-violet-600",hoverGradient:"from-purple-600 to-violet-700"},{id:"cliente",title:"CLIENTE",subtitle:"PDV",description:"Terminal de autoatendimento para clientes",icon:"ri-user-heart-fill",path:"/cliente-pdv",color:"rose",bgGradient:"from-rose-500 to-pink-600",hoverGradient:"from-rose-600 to-pink-700"}];function ModuleSelectorPage(){const b=useNavigate(),{user:R,store:A,isAuthenticated:T,logout:I}=useAuth(),[B,U]=reactExports.useState(null),[q,K]=reactExports.useState(new Date);reactExports.useEffect(()=>{const xe=setInterval(()=>K(new Date),1e3);return()=>clearInterval(xe)},[]);const J=xe=>{window?.api&&(xe.id==="caixa"||xe.id),b(xe.path)},ee=xe=>xe.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),te=xe=>xe.toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long",year:"numeric"});return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-5",children:jsxRuntimeExports.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),jsxRuntimeExports.jsx("header",{className:"relative z-10 px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col sm:flex-row justify-between items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-2xl bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center shadow-lg shadow-amber-500/30",children:jsxRuntimeExports.jsx("i",{className:"ri-store-3-fill text-2xl sm:text-3xl text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-white tracking-tight",children:A?.name||"Sistema PDV"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-400 capitalize",children:te(q)})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 sm:gap-6",children:[jsxRuntimeExports.jsx("div",{className:"text-right hidden sm:block",children:jsxRuntimeExports.jsx("p",{className:"text-3xl sm:text-4xl font-bold text-white font-mono tracking-wider",children:ee(q)})}),T&&R&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 bg-white/10 backdrop-blur-sm rounded-xl px-4 py-2",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-slate-600 to-slate-700 flex items-center justify-center",children:jsxRuntimeExports.jsx("i",{className:"ri-user-fill text-white"})}),jsxRuntimeExports.jsxs("div",{className:"hidden sm:block",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-white",children:R.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-400",children:A?.name})]}),jsxRuntimeExports.jsx("button",{onClick:I,className:"ml-2 p-2 rounded-lg hover:bg-white/10 transition-colors",title:"Sair",children:jsxRuntimeExports.jsx("i",{className:"ri-logout-circle-line text-slate-400 hover:text-white"})})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 text-center px-4 py-4 sm:py-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white mb-2",children:"Selecione o Mdulo"}),jsxRuntimeExports.jsx("p",{className:"text-slate-400 text-sm sm:text-base",children:"Escolha qual sistema deseja acessar"})]}),jsxRuntimeExports.jsx("main",{className:"relative z-10 flex-1 px-4 sm:px-6 lg:px-8 pb-8 overflow-y-auto",children:jsxRuntimeExports.jsx("div",{className:"max-w-6xl mx-auto",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 sm:gap-6",children:modules.map(xe=>jsxRuntimeExports.jsxs("button",{onClick:()=>J(xe),onMouseEnter:()=>U(xe.id),onMouseLeave:()=>U(null),className:`
                  group relative overflow-hidden rounded-2xl sm:rounded-3xl
                  bg-gradient-to-br ${B===xe.id?xe.hoverGradient:xe.bgGradient}
                  p-6 sm:p-8 text-left transition-all duration-300 ease-out
                  hover:scale-[1.02] hover:shadow-2xl hover:shadow-${xe.color}-500/30
                  focus:outline-none focus:ring-4 focus:ring-${xe.color}-500/50
                  min-h-[200px] sm:min-h-[280px] flex flex-col justify-between
                `,children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 sm:w-40 sm:h-40 bg-white/10 rounded-full -translate-y-1/2 translate-x-1/2 group-hover:scale-110 transition-transform duration-500"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 sm:w-32 sm:h-32 bg-black/10 rounded-full translate-y-1/2 -translate-x-1/2 group-hover:scale-110 transition-transform duration-500"}),jsxRuntimeExports.jsxs("div",{className:"relative z-10",children:[jsxRuntimeExports.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300",children:jsxRuntimeExports.jsx("i",{className:`${xe.icon} text-3xl sm:text-4xl text-white`})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl sm:text-3xl font-black text-white tracking-tight",children:xe.title}),jsxRuntimeExports.jsx("p",{className:"text-lg sm:text-xl font-medium text-white/80 -mt-1",children:xe.subtitle})]}),jsxRuntimeExports.jsxs("div",{className:"relative z-10",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-white/70 line-clamp-2 group-hover:text-white/90 transition-colors",children:xe.description}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex items-center text-white/80 group-hover:text-white transition-colors",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Acessar"}),jsxRuntimeExports.jsx("i",{className:"ri-arrow-right-line ml-2 group-hover:translate-x-1 transition-transform"})]})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})})]},xe.id))})})}),jsxRuntimeExports.jsx("footer",{className:"relative z-10 px-4 py-4 text-center",children:jsxRuntimeExports.jsxs("p",{className:"text-xs text-slate-500",children:["Sistema PDV  v1.0.0  ",new Date().getFullYear()]})})]})}function NotFound(){return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-center px-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-5xl md:text-5xl font-semibold text-gray-100",children:"404"}),jsxRuntimeExports.jsx("h1",{className:"text-2xl md:text-3xl font-semibold mt-6",children:"This page has not been generated"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-xl md:text-2xl text-gray-500",children:"Tell me what you would like on this page"})]})}function SplashPage(){const b=useNavigate();return reactExports.useEffect(()=>{const R=setTimeout(()=>{b("/dashboard",{replace:!0})},3e3);return()=>clearTimeout(R)},[b]),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"PDV-KDS"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Carregando..."})]})})}function CategorySidebar({categories:b,selectedCategory:R,onSelectCategory:A,onReorderCategory:T,kitchens:I=[],selectedKitchenId:B=null,onKitchenChange:U,categoryIdsByKitchen:q={}}){const J=b.filter(ee=>B?(q[B]||[]).includes(String(ee.id)):!0).filter(ee=>ee.active??!0).sort((ee,te)=>ee.order-te.order);return jsxRuntimeExports.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 h-full flex flex-col flex-shrink-0",children:[I.length>0&&U&&jsxRuntimeExports.jsxs("div",{className:"px-3 py-2 border-b border-gray-200 bg-gray-50",children:[jsxRuntimeExports.jsxs("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:[jsxRuntimeExports.jsx("i",{className:"ri-restaurant-line mr-1"}),"Filtrar por Cozinha"]}),jsxRuntimeExports.jsxs("select",{value:B||"",onChange:ee=>U(ee.target.value||null),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Todas as Cozinhas"}),I.map(ee=>jsxRuntimeExports.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),jsxRuntimeExports.jsxs("div",{className:"h-12 px-4 border-b border-gray-200 flex items-center flex-shrink-0",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Categorias"}),B&&jsxRuntimeExports.jsx("span",{className:"ml-2 text-xs text-amber-600 bg-amber-50 px-2 py-0.5 rounded-full",children:"Filtrado"})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 min-h-0",children:jsxRuntimeExports.jsxs("div",{className:"h-full overflow-y-auto p-2 space-y-1",children:[J.map((ee,te)=>jsxRuntimeExports.jsxs("div",{className:`group relative flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors ${R===ee.id?"bg-amber-100 text-amber-800 border border-amber-200":"hover:bg-gray-50 text-gray-700"}`,onClick:()=>A(ee.id),children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-sm",children:ee.name}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[jsxRuntimeExports.jsx("button",{onClick:xe=>{xe.stopPropagation(),T(ee.id,"up")},disabled:te===0,className:`w-5 h-5 flex items-center justify-center rounded text-xs ${te===0?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:text-gray-700 hover:bg-gray-200 cursor-pointer"}`,children:jsxRuntimeExports.jsx("i",{className:"ri-arrow-up-line"})}),jsxRuntimeExports.jsx("button",{onClick:xe=>{xe.stopPropagation(),T(ee.id,"down")},disabled:te===J.length-1,className:`w-5 h-5 flex items-center justify-center rounded text-xs ${te===J.length-1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:text-gray-700 hover:bg-gray-200 cursor-pointer"}`,children:jsxRuntimeExports.jsx("i",{className:"ri-arrow-down-line"})})]})]},ee.id)),J.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-8 text-gray-500",children:[jsxRuntimeExports.jsx("i",{className:"ri-folder-line text-3xl mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"Nenhuma categoria ativa"})]})]})})]})}const query$7=async(b,R)=>{const A=window?.api?.db?.query;if(typeof A!="function")throw new Error("Canal de DB indisponvel");const T=await A(b,R);if(T?.error)throw new Error(String(T.error));return T},uuid$5=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`${Date.now()}-${Math.random().toString(16).slice(2)}`;async function listIngredients(){try{return(await query$7("SELECT * FROM ingredients ORDER BY name")).rows??[]}catch{const b=localStorage.getItem("ingredients");return b?JSON.parse(b):[]}}async function upsertIngredient(b){const R=new Date().toISOString();try{const A=await query$7("SELECT id FROM ingredients WHERE name = ?",[b.name]),T=A.rows&&A.rows[0]?.id;if(T)return String(T);const I=b.id??uuid$5();return await query$7("INSERT INTO ingredients (id, name, updated_at) VALUES (?, ?, ?)",[I,b.name,R]),I}catch{const A=localStorage.getItem("ingredients"),T=A?JSON.parse(A):[],I=(T||[]).find(q=>String(q.name).toLowerCase()===String(b.name).toLowerCase());if(I)return String(I.id);const B=b.id??uuid$5(),U=[{id:B,name:b.name,updated_at:R},...T];return localStorage.setItem("ingredients",JSON.stringify(U)),B}}async function listPrices(){try{return(await query$7("SELECT * FROM ingredient_prices ORDER BY updated_at DESC")).rows??[]}catch{const b=localStorage.getItem("ingredientPrices");return b?JSON.parse(b):[]}}async function upsertPrice(b){const R=new Date().toISOString(),A=Math.max(0,b.pricePerUnitCents);try{const T=await query$7("SELECT id, price_per_unit_cents FROM ingredient_prices WHERE ingredient_id = ? AND unit = ?",[b.ingredientId,b.unit]),I=T.rows&&T.rows[0],B=I?.id,U=I?.price_per_unit_cents;if(B){if(await query$7("UPDATE ingredient_prices SET price_per_unit_cents = ?, updated_at = ? WHERE id = ?",[A,R,B]),typeof U=="number"&&U!==A){const q=uuid$5();await query$7("INSERT INTO ingredient_price_history (id, ingredient_id, unit, old_price_cents, new_price_cents, changed_at) VALUES (?, ?, ?, ?, ?, ?)",[q,b.ingredientId,b.unit,U,A,R])}return B}else{const q=b.id??uuid$5();return await query$7("INSERT INTO ingredient_prices (id, ingredient_id, unit, price_per_unit_cents, updated_at) VALUES (?, ?, ?, ?, ?)",[q,b.ingredientId,b.unit,A,R]),q}}catch{const T=await listPrices(),I=T.findIndex(J=>String(J.ingredient_id)===String(b.ingredientId)&&String(J.unit).toLowerCase()===String(b.unit).toLowerCase()),B=I>=0?T[I]:null,U=B?.id||b.id||uuid$5(),q=T.filter(J=>!(String(J.ingredient_id)===String(b.ingredientId)&&String(J.unit).toLowerCase()===String(b.unit).toLowerCase())),K=[{id:U,ingredient_id:b.ingredientId,unit:b.unit,price_per_unit_cents:A,updated_at:R},...q];localStorage.setItem("ingredientPrices",JSON.stringify(K));try{if(B&&B.price_per_unit_cents!==A){const J=localStorage.getItem("ingredientPriceHistory"),ee=J?JSON.parse(J):[];ee.push({id:uuid$5(),ingredient_id:b.ingredientId,unit:b.unit,old_price_cents:B.price_per_unit_cents,new_price_cents:A,changed_at:R}),localStorage.setItem("ingredientPriceHistory",JSON.stringify(ee))}}catch{}return U}}async function deletePrice(b){try{await query$7("DELETE FROM ingredient_prices WHERE id = ?",[b])}catch{const R=localStorage.getItem("ingredientPrices"),A=R?JSON.parse(R):[];localStorage.setItem("ingredientPrices",JSON.stringify(A.filter(T=>String(T.id)!==String(b))))}}async function listRecipeByProduct(b){try{return(await query$7("SELECT * FROM product_ingredients WHERE product_id = ?",[b])).rows??[]}catch{const R=localStorage.getItem("recipes"),A=R?JSON.parse(R):[];return Array.isArray(A)?A.filter(T=>String(T.product_id)===String(b)):[]}}async function upsertRecipeLine(b){const R=b.id??uuid$5(),A=new Date().toISOString();try{let T=null;try{const I=await query$7("SELECT quantity, unit FROM product_ingredients WHERE id = ?",[R]);T=I.rows&&I.rows[0]?I.rows[0]:null}catch{}await query$7("INSERT INTO product_ingredients (id, product_id, ingredient_id, quantity, unit, updated_at) VALUES (?, ?, ?, ?, ?, ?) ON CONFLICT(id) DO UPDATE SET product_id=excluded.product_id, ingredient_id=excluded.ingredient_id, quantity=excluded.quantity, unit=excluded.unit, updated_at=excluded.updated_at",[R,b.productId,b.ingredientId,Math.max(0,Number(b.quantity||0)),b.unit,A]),T&&(Number(T.quantity||0)!==Math.max(0,Number(b.quantity||0))||String(T.unit)!==String(b.unit))&&await query$7("INSERT INTO recipe_history (id, product_id, ingredient_id, action, old_quantity, old_unit, new_quantity, new_unit, changed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)",[uuid$5(),b.productId,b.ingredientId,"update",Number(T.quantity||0),String(T.unit||""),Math.max(0,Number(b.quantity||0)),String(b.unit),A])}catch{const T=localStorage.getItem("recipes"),I=T?JSON.parse(T):[],B=[{id:R,product_id:b.productId,ingredient_id:b.ingredientId,quantity:Math.max(0,Number(b.quantity||0)),unit:b.unit,updated_at:A},...I.filter(U=>U.id!==R)];localStorage.setItem("recipes",JSON.stringify(B));try{const U=localStorage.getItem("recipeHistory"),q=U?JSON.parse(U):[],K=I.find(J=>String(J.id)===String(R));K&&(Number(K.quantity||0)!==Math.max(0,Number(b.quantity||0))||String(K.unit)!==String(b.unit))&&(q.push({id:uuid$5(),product_id:b.productId,ingredient_id:b.ingredientId,action:"update",old_quantity:Number(K.quantity||0),old_unit:String(K.unit||""),new_quantity:Math.max(0,Number(b.quantity||0)),new_unit:String(b.unit),changed_at:A}),localStorage.setItem("recipeHistory",JSON.stringify(q)))}catch{}}return R}async function deleteRecipeLine(b){try{await query$7("DELETE FROM product_ingredients WHERE id = ?",[b]);try{await query$7("INSERT INTO recipe_history (id, product_id, ingredient_id, action, changed_at) SELECT ?, product_id, ingredient_id, ?, ? FROM product_ingredients WHERE id = ?",[uuid$5(),"delete",new Date().toISOString(),b])}catch{}}catch{const R=localStorage.getItem("recipes"),A=R?JSON.parse(R):[];localStorage.setItem("recipes",JSON.stringify(A.filter(T=>String(T.id)!==String(b))));try{const T=localStorage.getItem("recipeHistory"),I=T?JSON.parse(T):[],B=A.find(U=>String(U.id)===String(b));B&&(I.push({id:uuid$5(),product_id:B.product_id,ingredient_id:B.ingredient_id,action:"delete",changed_at:new Date().toISOString()}),localStorage.setItem("recipeHistory",JSON.stringify(I)))}catch{}}}function convert(b,R,A){const T=b.toLowerCase(),I=R.toLowerCase();return T===I?A:T==="g"&&I==="kg"?A/1e3:T==="kg"&&I==="g"?A*1e3:T==="ml"&&I==="l"?A/1e3:T==="l"&&I==="ml"?A*1e3:A}const inventory=Object.freeze(Object.defineProperty({__proto__:null,convert,deletePrice,deleteRecipeLine,listIngredients,listPrices,listRecipeByProduct,upsertIngredient,upsertPrice,upsertRecipeLine},Symbol.toStringTag,{value:"Module"}));function MenuGrid({items:b,onAddToCart:R,selectedIndex:A=0,onSelectIndex:T}){const[I,B]=reactExports.useState(!1),[U,q]=reactExports.useState(null),[K,J]=reactExports.useState(0),[ee,te]=reactExports.useState({}),[xe,fe]=reactExports.useState([]),[ye,Be]=reactExports.useState(""),[Le]=useLocalStorage("globalObservations",[]),[qe,Ge]=reactExports.useState(!1),[$e,Xe]=reactExports.useState([]),[He,Qe]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{try{const et=await listIngredients();Qe(et)}catch{}})()},[]);const st=async et=>{try{const lt=await listRecipeByProduct(String(et.id));Xe(lt),Ge(!0)}catch{Xe([]),Ge(!0)}},ct=et=>!et||!Array.isArray(et.requiredModifierGroups)?[]:et.requiredModifierGroups.filter(lt=>lt.active),gt=et=>{q(et),te({}),fe([]),Be(""),J(0),B(!0)},Nt=(et,lt)=>{te(rt=>({...rt,[et]:rt[et]===lt?"":lt}))},Ot=et=>{fe(lt=>lt.includes(et)?lt.filter(rt=>rt!==et):[...lt,et])},Tt=()=>{if(!U)return;const et=ct(U),lt=et.every(ft=>!!ee[ft.id]);if(et.length>0&&!lt){alert("Selecione uma opo para todos os campos obrigatrios.");return}const rt=et.map(ft=>{const mt=ee[ft.id];return mt?`[OBRIGATRIO] ${ft.name}: ${mt}`:""}).filter(ft=>ft.length>0).join(", "),nt=xe.join(", "),kt=ye.trim(),Zt=[rt,nt,kt].filter(ft=>ft.length>0),Ar=Zt.length>0?Zt.join(", "):void 0;R(U,Ar,K),B(!1),q(null)},ir=et=>{if(!et)return[];const lt=et.observations||[];return[...new Set([...Le,...lt])]},At=et=>et?ir(et).length>0:!1,It=et=>ct(et).length>0,[Je,ut]=reactExports.useState({});return b.length===0?jsxRuntimeExports.jsx("div",{className:"flex-1 p-4 lg:p-6 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-gray-500",children:[jsxRuntimeExports.jsx("i",{className:"ri-restaurant-line text-4xl lg:text-6xl mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-base lg:text-lg",children:"Nenhuma categoria selecionada"})]})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"flex-1 px-4 lg:px-6 pb-4 lg:pb-6 overflow-y-auto bg-gray-50",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-3 lg:gap-4",children:b.map((et,lt)=>jsxRuntimeExports.jsxs("div",{className:`bg-white rounded-lg shadow-sm border overflow-hidden hover:shadow-md transition-shadow ${lt===A?"border-amber-400 ring-2 ring-amber-300":"border-gray-200"}`,onClick:()=>T?.(lt),children:[et.image&&jsxRuntimeExports.jsx("img",{src:et.image,alt:et.name,className:"w-full h-32 lg:h-40 object-cover object-top"}),jsxRuntimeExports.jsxs("div",{className:"p-3 lg:p-4",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 text-sm lg:text-base line-clamp-2 flex items-center",children:[et.name,et.code&&jsxRuntimeExports.jsxs("span",{className:"ml-2 text-blue-600 text-xs font-semibold",children:["#",et.code]})]}),jsxRuntimeExports.jsxs("p",{className:"text-lg font-bold text-amber-600 mb-3",children:["R$ ",et.price.toFixed(2)]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2 items-center",children:[It(et)?jsxRuntimeExports.jsxs(Button,{onClick:()=>gt(et),className:"flex-1",size:"sm",variant:"danger",children:[jsxRuntimeExports.jsx("i",{className:"ri-checkbox-circle-line mr-2"}),"Opes Obrigatrias"]}):jsxRuntimeExports.jsx(Button,{onClick:()=>R(et,void 0,0),className:"flex-1",size:"sm",children:"Adicionar"}),jsxRuntimeExports.jsx(Button,{onClick:()=>st(et),variant:"secondary",size:"sm",className:"w-8 h-8 lg:w-10 lg:h-10 flex items-center justify-center p-0",children:jsxRuntimeExports.jsx("i",{className:"ri-file-list-3-line text-base lg:text-lg"})}),jsxRuntimeExports.jsx(Button,{onClick:()=>gt(et),variant:"secondary",size:"sm",className:"w-8 h-8 lg:w-10 lg:h-10 flex items-center justify-center p-0",children:jsxRuntimeExports.jsx("i",{className:"ri-add-line text-base lg:text-lg"})})]})]})]},et.id))})}),jsxRuntimeExports.jsx(Modal,{isOpen:I,onClose:()=>B(!1),title:`Opes e Observaes - ${U?.name}`,size:"lg",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[U&&It(U)&&jsxRuntimeExports.jsxs("div",{className:"p-4 border border-red-300 rounded-lg bg-red-50 space-y-4",children:[jsxRuntimeExports.jsxs("h4",{className:"font-bold text-red-800 flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-alert-line mr-2"}),"Opes Obrigatrias (Selecione 1 por grupo): *"]}),ct(U).map(et=>jsxRuntimeExports.jsxs("div",{className:"border border-red-200 rounded-lg p-3",children:[jsxRuntimeExports.jsxs("h5",{className:"font-medium text-red-700 mb-2",children:[et.name,":"]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-2",children:et.options.map(lt=>jsxRuntimeExports.jsx("button",{onClick:()=>Nt(et.id,lt),className:`p-3 text-sm rounded-lg border-2 transition-colors cursor-pointer whitespace-nowrap ${ee[et.id]===lt?"bg-red-100 border-red-500 text-red-800 font-medium":"bg-white border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:lt},lt))}),!ee[et.id]&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-600 mt-2",children:"Seleo obrigatria."})]},et.id))]}),U&&At(U)&&jsxRuntimeExports.jsxs("div",{className:"p-4 border border-amber-300 rounded-lg bg-amber-50",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-amber-800 mb-3",children:"Observaes Opcionais:"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-2",children:ir(U).map(et=>jsxRuntimeExports.jsx("button",{onClick:()=>Ot(et),className:`p-2 text-sm rounded-lg border transition-colors cursor-pointer whitespace-nowrap ${xe.includes(et)?"bg-amber-100 border-amber-500 text-amber-800":"bg-white border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:et},et))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observao personalizada:"}),jsxRuntimeExports.jsx("textarea",{value:ye,onChange:et=>Be(et.target.value),placeholder:"Digite uma observao especfica...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent resize-none",rows:3,maxLength:500}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[ye.length,"/500 caracteres"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Desconto (%):"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Input,{type:"number",value:K.toString(),onChange:et=>J(Math.max(0,Math.min(100,parseFloat(et.target.value)||0))),className:"w-24",step:"1",min:"0",max:"100"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"%"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3 pt-4 border-t",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>B(!1),className:"flex-1",children:"Cancelar"}),jsxRuntimeExports.jsx(Button,{onClick:Tt,className:"flex-1",disabled:U&&It(U)&&ct(U).some(et=>!ee[et.id]),children:"Adicionar ao Carrinho"})]})]})}),jsxRuntimeExports.jsx(Modal,{isOpen:qe,onClose:()=>Ge(!1),title:"Ficha Tcnica",size:"md",children:jsxRuntimeExports.jsx("div",{className:"space-y-2",children:$e.length===0?jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Nenhum insumo cadastrado"}):jsxRuntimeExports.jsx("div",{className:"divide-y",children:$e.map(et=>jsxRuntimeExports.jsxs("div",{className:"py-1 flex items-center justify-between",children:[jsxRuntimeExports.jsx("div",{className:"text-sm",children:He.find(lt=>String(lt.id)===String(et.ingredient_id))?.name||et.ingredient_id}),jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[et.quantity," ",et.unit]})]},String(et.id)))})})})]})}const mockCategories=[{id:"cat_burritos",name:"Burritos",icon:"ri-cake-3-line",order:1,active:!0},{id:"cat_quesadillas",name:"Quesadillas",icon:"ri-cake-2-line",order:2,active:!0},{id:"cat_tacos",name:"Tacos",icon:"ri-restaurant-line",order:3,active:!0},{id:"cat_nachos",name:"Nachos",icon:"ri-bowl-line",order:4,active:!0},{id:"cat_extras",name:"Extras",icon:"ri-add-circle-line",order:5,active:!0},{id:"cat_bebidas",name:"Bebidas",icon:"ri-drop-line",order:6,active:!0},{id:"cat_drinks_na",name:"Drinks No Alcolicos",icon:"ri-glass-line",order:7,active:!0},{id:"cat_drinks_a",name:"Drinks Alcolicos",icon:"ri-goblet-line",order:8,active:!0},{id:"cat_chope",name:"Chope",icon:"ri-beer-line",order:9,active:!0}];let codeCounter=1;const createItem=(b,R,A,T,I,B=!0,U,q=!1)=>({id:Date.now().toString()+codeCounter,name:b,price:R,sla:A,categoryId:T,observations:I,active:B,code:(codeCounter++).toString(),image:U,skipKitchen:q}),mockMenuItems=[createItem("Classic Burrito",38,8,"cat_burritos",["Tortilla de Trigo","Chilli com Carne","Bacon Crocante","Cheddar","Barbecue","Alface","Tomate","Pimenta Jalapeo","Molho de Pimenta"]),createItem("4 Quesos Burrito",38,8,"cat_burritos",["Tortilla de Trigo","Molho 4 Queijos","Frango","Tomate","Rcula","Bacon","Molho de Pimenta"]),createItem("Al Pastor Burrito",38,8,"cat_burritos",["Tortilla de Trigo","Pernil em Cubos","Bacon Crocante","Pasta de Feijo","Abacaxi","Cheddar","Barbecue","Alface","Tomate","Molho de Pimenta"]),createItem("Barbacoa Burrito",41,8,"cat_burritos",["Tortilla de Trigo","Barbacoa (carne bovina desfiada com molho apimentado)","Mussarela","Jalapeo","Pico de Gallo (contm pimenta)","Alface","Rcula"]),createItem("Chilli con Carne Quesadilla",21,8,"cat_quesadillas",["Tortilla de Trigo","Chilli com Carne","Mussarela","Cheddar","Molho de Pimenta"]),createItem("Pollo Quesadilla",21,8,"cat_quesadillas",["Tortilla de Trigo","Tiras de Frango","Bacon Crocante","Mussarela","Cheddar","Molho de Pimenta"]),createItem("Al Pastor Quesadilla",21,8,"cat_quesadillas",["Tortilla de Trigo","Pernil em Cubos","Abacaxi","Barbecue","Mussarela","Cheddar","Molho de Pimenta"]),createItem("Barbacoa Quesadilla",21,8,"cat_quesadillas",["Tortilla de Trigo","Barbacoa (carne bovina desfiada com molho apimentado)","Pico de Gallo (contm pimenta)","Mussarela"]),createItem("Ovomaltine Quesadilla",18,5,"cat_quesadillas",["Tortilla de Trigo","Chocolate Branco","Ovomaltine","Mussarela"]),createItem("Chilli con Carne Nachos",38,8,"cat_nachos",["Tortilla Chips original ou Doritos","Chilli con Carne","Cheddar","Mussarela","Molho de Pimenta","Guacamole","Sour Cream"]),createItem("Trio de Tacos Sortidos",44,8,"cat_tacos",["1 unidade de Taco Pollo Caliente","1 unidade de Taco Al Pastor","1 unidade de Taco Classic"]),createItem("Guacamole 50ml",5,3,"cat_extras",["Acompanhamento"]),createItem("Sour Cream 50ml",5,3,"cat_extras",["Acompanhamento"]),createItem("Guacamole 50ml + Sour Cream 50ml + Tortilla Chips 30g",12,3,"cat_extras",["Combo de Acompanhamentos"]),createItem("gua Mineral (Com ou Sem Gs)",5,3,"cat_bebidas",["Com Gs","Sem Gs"],!0,void 0,!0),createItem("Refrigerante Lata (Coca-Cola, Coca-Cola Zero e Fanta Guaran)",8,3,"cat_bebidas",["Coca-Cola","Coca-Cola Zero","Fanta Guaran"],!0,void 0,!0),createItem("Del Valle Lata (Uva ou Maracuj)",8,3,"cat_bebidas",["Uva","Maracuj"],!0,void 0,!0),createItem("Sucos Naturais (Morango, Maracuj ou Abacaxi com Hortel)",12,3,"cat_bebidas",["Morango","Maracuj","Abacaxi com Hortel"],!0,void 0,!0),createItem("Soda Italiana (Ma Verde ou Blueberry) 500ml",20,3,"cat_drinks_na",["Ma Verde","Blueberry","gua Gaseificada"],!0,void 0,!0),createItem("Pink Lemonade 500ml",20,3,"cat_drinks_na",["Limo","Frutas Vermelhas","gua Gaseificada"],!0,void 0,!0),createItem("Pink Lemonade Alcolico 500ml",25,3,"cat_drinks_a",["Limo","Frutas Vermelhas","Vodka","gua Gaseificada"],!0,void 0,!0),createItem("Soda Italiana Alcolica 500ml",25,3,"cat_drinks_a",["Ma Verde","Blueberry","Vodka","gua Gaseificada"],!0,void 0,!0),createItem("Chope Pilsen 500ml",15,3,"cat_chope",["Pilsen"],!0,void 0,!0),createItem("Chope IPA 500ml",20,3,"cat_chope",["IPA"],!0,void 0,!0),createItem("Dupla Chope Pilsen 500ml",25,3,"cat_chope",["Pilsen"],!0,void 0,!0),createItem("Dupla Chope IPA 500ml",35,3,"cat_chope",["IPA"],!0,void 0,!0)],mockPaymentMethods=["PIX","Dinheiro","Carto de Dbito","Carto de Crdito"];var server_browser={},reactDomServerLegacy_browser_production={};/**
 * @license React
 * react-dom-server-legacy.browser.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomServerLegacy_browser_production;function requireReactDomServerLegacy_browser_production(){if(hasRequiredReactDomServerLegacy_browser_production)return reactDomServerLegacy_browser_production;hasRequiredReactDomServerLegacy_browser_production=1;var b=requireReact(),R=requireReactDom();function A(ae){var ue="https://react.dev/errors/"+ae;if(1<arguments.length){ue+="?args[]="+encodeURIComponent(arguments[1]);for(var _e=2;_e<arguments.length;_e++)ue+="&args[]="+encodeURIComponent(arguments[_e])}return"Minified React error #"+ae+"; visit "+ue+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var T=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),Be=Symbol.for("react.scope"),Le=Symbol.for("react.activity"),qe=Symbol.for("react.legacy_hidden"),Ge=Symbol.for("react.memo_cache_sentinel"),$e=Symbol.for("react.view_transition"),Xe=Symbol.iterator;function He(ae){return ae===null||typeof ae!="object"?null:(ae=Xe&&ae[Xe]||ae["@@iterator"],typeof ae=="function"?ae:null)}var Qe=Array.isArray;function st(ae,ue){var _e=ae.length&3,ze=ae.length-_e,We=ue;for(ue=0;ue<ze;){var at=ae.charCodeAt(ue)&255|(ae.charCodeAt(++ue)&255)<<8|(ae.charCodeAt(++ue)&255)<<16|(ae.charCodeAt(++ue)&255)<<24;++ue,at=3432918353*(at&65535)+((3432918353*(at>>>16)&65535)<<16)&4294967295,at=at<<15|at>>>17,at=461845907*(at&65535)+((461845907*(at>>>16)&65535)<<16)&4294967295,We^=at,We=We<<13|We>>>19,We=5*(We&65535)+((5*(We>>>16)&65535)<<16)&4294967295,We=(We&65535)+27492+(((We>>>16)+58964&65535)<<16)}switch(at=0,_e){case 3:at^=(ae.charCodeAt(ue+2)&255)<<16;case 2:at^=(ae.charCodeAt(ue+1)&255)<<8;case 1:at^=ae.charCodeAt(ue)&255,at=3432918353*(at&65535)+((3432918353*(at>>>16)&65535)<<16)&4294967295,at=at<<15|at>>>17,We^=461845907*(at&65535)+((461845907*(at>>>16)&65535)<<16)&4294967295}return We^=ae.length,We^=We>>>16,We=2246822507*(We&65535)+((2246822507*(We>>>16)&65535)<<16)&4294967295,We^=We>>>13,We=3266489909*(We&65535)+((3266489909*(We>>>16)&65535)<<16)&4294967295,(We^We>>>16)>>>0}var ct=Object.assign,gt=Object.prototype.hasOwnProperty,Nt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ot={},Tt={};function ir(ae){return gt.call(Tt,ae)?!0:gt.call(Ot,ae)?!1:Nt.test(ae)?Tt[ae]=!0:(Ot[ae]=!0,!1)}var At=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),It=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Je=/["'&<>]/;function ut(ae){if(typeof ae=="boolean"||typeof ae=="number"||typeof ae=="bigint")return""+ae;ae=""+ae;var ue=Je.exec(ae);if(ue){var _e="",ze,We=0;for(ze=ue.index;ze<ae.length;ze++){switch(ae.charCodeAt(ze)){case 34:ue="&quot;";break;case 38:ue="&amp;";break;case 39:ue="&#x27;";break;case 60:ue="&lt;";break;case 62:ue="&gt;";break;default:continue}We!==ze&&(_e+=ae.slice(We,ze)),We=ze+1,_e+=ue}ae=We!==ze?_e+ae.slice(We,ze):_e}return ae}var et=/([A-Z])/g,lt=/^ms-/,rt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nt(ae){return rt.test(""+ae)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":ae}var kt=b.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Zt=R.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ar={pending:!1,data:null,method:null,action:null},ft=Zt.d;Zt.d={f:ft.f,r:ft.r,D:Oa,C:Gn,L:Da,m:Et,X:jr,S:pr,M:wn};var mt=[],Ct=null,xr=/(<\/|<)(s)(cript)/gi;function er(ae,ue,_e,ze){return""+ue+(_e==="s"?"\\u0073":"\\u0053")+ze}function Ft(ae,ue,_e,ze,We){return{idPrefix:ae===void 0?"":ae,nextFormID:0,streamingFormat:0,bootstrapScriptContent:_e,bootstrapScripts:ze,bootstrapModules:We,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}}}function Xt(ae,ue,_e,ze){return{insertionMode:ae,selectedValue:ue,tagScope:_e,viewTransition:ze}}function it(ae,ue,_e){var ze=ae.tagScope&-25;switch(ue){case"noscript":return Xt(2,null,ze|1,null);case"select":return Xt(2,_e.value!=null?_e.value:_e.defaultValue,ze,null);case"svg":return Xt(4,null,ze,null);case"picture":return Xt(2,null,ze|2,null);case"math":return Xt(5,null,ze,null);case"foreignObject":return Xt(2,null,ze,null);case"table":return Xt(6,null,ze,null);case"thead":case"tbody":case"tfoot":return Xt(7,null,ze,null);case"colgroup":return Xt(9,null,ze,null);case"tr":return Xt(8,null,ze,null);case"head":if(2>ae.insertionMode)return Xt(3,null,ze,null);break;case"html":if(ae.insertionMode===0)return Xt(1,null,ze,null)}return 6<=ae.insertionMode||2>ae.insertionMode?Xt(2,null,ze,null):ae.tagScope!==ze?Xt(ae.insertionMode,ae.selectedValue,ze,null):ae}function jt(ae){return ae===null?null:{update:ae.update,enter:"none",exit:"none",share:ae.update,name:ae.autoName,autoName:ae.autoName,nameIdx:0}}function or(ae,ue){return ue.tagScope&32&&(ae.instructions|=128),Xt(ue.insertionMode,ue.selectedValue,ue.tagScope|12,jt(ue.viewTransition))}function Er(ae,ue){ae=jt(ue.viewTransition);var _e=ue.tagScope|16;return ae!==null&&ae.share!=="none"&&(_e|=64),Xt(ue.insertionMode,ue.selectedValue,_e,ae)}var mr=new Map;function zr(ae,ue){if(typeof ue!="object")throw Error(A(62));var _e=!0,ze;for(ze in ue)if(gt.call(ue,ze)){var We=ue[ze];if(We!=null&&typeof We!="boolean"&&We!==""){if(ze.indexOf("--")===0){var at=ut(ze);We=ut((""+We).trim())}else at=mr.get(ze),at===void 0&&(at=ut(ze.replace(et,"-$1").toLowerCase().replace(lt,"-ms-")),mr.set(ze,at)),We=typeof We=="number"?We===0||At.has(ze)?""+We:We+"px":ut((""+We).trim());_e?(_e=!1,ae.push(' style="',at,":",We)):ae.push(";",at,":",We)}}_e||ae.push('"')}function nn(ae,ue,_e){_e&&typeof _e!="function"&&typeof _e!="symbol"&&ae.push(" ",ue,'=""')}function Sr(ae,ue,_e){typeof _e!="function"&&typeof _e!="symbol"&&typeof _e!="boolean"&&ae.push(" ",ue,'="',ut(_e),'"')}var Zr=ut("javascript:throw new Error('React form unexpectedly submitted.')");function un(ae,ue){this.push('<input type="hidden"'),Xr(ae),Sr(this,"name",ue),Sr(this,"value",ae),this.push("/>")}function Xr(ae){if(typeof ae!="string")throw Error(A(480))}function an(ae,ue){if(typeof ue.$$FORM_ACTION=="function"){var _e=ae.nextFormID++;ae=ae.idPrefix+_e;try{var ze=ue.$$FORM_ACTION(ae);if(ze){var We=ze.data;We?.forEach(Xr)}return ze}catch(at){if(typeof at=="object"&&at!==null&&typeof at.then=="function")throw at}}return null}function vn(ae,ue,_e,ze,We,at,dt,Vt){var bt=null;if(typeof ze=="function"){var Yt=an(ue,ze);Yt!==null?(Vt=Yt.name,ze=Yt.action||"",We=Yt.encType,at=Yt.method,dt=Yt.target,bt=Yt.data):(ae.push(" ","formAction",'="',Zr,'"'),dt=at=We=ze=Vt=null,Hn(ue,_e))}return Vt!=null&&rn(ae,"name",Vt),ze!=null&&rn(ae,"formAction",ze),We!=null&&rn(ae,"formEncType",We),at!=null&&rn(ae,"formMethod",at),dt!=null&&rn(ae,"formTarget",dt),bt}function rn(ae,ue,_e){switch(ue){case"className":Sr(ae,"class",_e);break;case"tabIndex":Sr(ae,"tabindex",_e);break;case"dir":case"role":case"viewBox":case"width":case"height":Sr(ae,ue,_e);break;case"style":zr(ae,_e);break;case"src":case"href":if(_e==="")break;case"action":case"formAction":if(_e==null||typeof _e=="function"||typeof _e=="symbol"||typeof _e=="boolean")break;_e=nt(""+_e),ae.push(" ",ue,'="',ut(_e),'"');break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":nn(ae,ue.toLowerCase(),_e);break;case"xlinkHref":if(typeof _e=="function"||typeof _e=="symbol"||typeof _e=="boolean")break;_e=nt(""+_e),ae.push(" ","xlink:href",'="',ut(_e),'"');break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":typeof _e!="function"&&typeof _e!="symbol"&&ae.push(" ",ue,'="',ut(_e),'"');break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":_e&&typeof _e!="function"&&typeof _e!="symbol"&&ae.push(" ",ue,'=""');break;case"capture":case"download":_e===!0?ae.push(" ",ue,'=""'):_e!==!1&&typeof _e!="function"&&typeof _e!="symbol"&&ae.push(" ",ue,'="',ut(_e),'"');break;case"cols":case"rows":case"size":case"span":typeof _e!="function"&&typeof _e!="symbol"&&!isNaN(_e)&&1<=_e&&ae.push(" ",ue,'="',ut(_e),'"');break;case"rowSpan":case"start":typeof _e=="function"||typeof _e=="symbol"||isNaN(_e)||ae.push(" ",ue,'="',ut(_e),'"');break;case"xlinkActuate":Sr(ae,"xlink:actuate",_e);break;case"xlinkArcrole":Sr(ae,"xlink:arcrole",_e);break;case"xlinkRole":Sr(ae,"xlink:role",_e);break;case"xlinkShow":Sr(ae,"xlink:show",_e);break;case"xlinkTitle":Sr(ae,"xlink:title",_e);break;case"xlinkType":Sr(ae,"xlink:type",_e);break;case"xmlBase":Sr(ae,"xml:base",_e);break;case"xmlLang":Sr(ae,"xml:lang",_e);break;case"xmlSpace":Sr(ae,"xml:space",_e);break;default:if((!(2<ue.length)||ue[0]!=="o"&&ue[0]!=="O"||ue[1]!=="n"&&ue[1]!=="N")&&(ue=It.get(ue)||ue,ir(ue))){switch(typeof _e){case"function":case"symbol":return;case"boolean":var ze=ue.toLowerCase().slice(0,5);if(ze!=="data-"&&ze!=="aria-")return}ae.push(" ",ue,'="',ut(_e),'"')}}}function pn(ae,ue,_e){if(ue!=null){if(_e!=null)throw Error(A(60));if(typeof ue!="object"||!("__html"in ue))throw Error(A(61));ue=ue.__html,ue!=null&&ae.push(""+ue)}}function sa(ae){var ue="";return b.Children.forEach(ae,function(_e){_e!=null&&(ue+=_e)}),ue}function Hn(ae,ue){if((ae.instructions&16)===0){ae.instructions|=16;var _e=ue.preamble,ze=ue.bootstrapChunks;(_e.htmlChunks||_e.headChunks)&&ze.length===0?(ze.push(ue.startInlineScript),Dn(ze,ae),ze.push(">",`addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error('React form unexpectedly submitted.')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});`,"<\/script>")):ze.unshift(ue.startInlineScript,">",`addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error('React form unexpectedly submitted.')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});`,"<\/script>")}}function bn(ae,ue){ae.push(Or("link"));for(var _e in ue)if(gt.call(ue,_e)){var ze=ue[_e];if(ze!=null)switch(_e){case"children":case"dangerouslySetInnerHTML":throw Error(A(399,"link"));default:rn(ae,_e,ze)}}return ae.push("/>"),null}var nr=/(<\/|<)(s)(tyle)/gi;function Br(ae,ue,_e,ze){return""+ue+(_e==="s"?"\\73 ":"\\53 ")+ze}function pt(ae,ue,_e){ae.push(Or(_e));for(var ze in ue)if(gt.call(ue,ze)){var We=ue[ze];if(We!=null)switch(ze){case"children":case"dangerouslySetInnerHTML":throw Error(A(399,_e));default:rn(ae,ze,We)}}return ae.push("/>"),null}function $t(ae,ue){ae.push(Or("title"));var _e=null,ze=null,We;for(We in ue)if(gt.call(ue,We)){var at=ue[We];if(at!=null)switch(We){case"children":_e=at;break;case"dangerouslySetInnerHTML":ze=at;break;default:rn(ae,We,at)}}return ae.push(">"),ue=Array.isArray(_e)?2>_e.length?_e[0]:null:_e,typeof ue!="function"&&typeof ue!="symbol"&&ue!==null&&ue!==void 0&&ae.push(ut(""+ue)),pn(ae,ze,_e),ae.push(Wr("title")),null}function Bt(ae,ue){ae.push(Or("script"));var _e=null,ze=null,We;for(We in ue)if(gt.call(ue,We)){var at=ue[We];if(at!=null)switch(We){case"children":_e=at;break;case"dangerouslySetInnerHTML":ze=at;break;default:rn(ae,We,at)}}return ae.push(">"),pn(ae,ze,_e),typeof _e=="string"&&ae.push((""+_e).replace(xr,er)),ae.push(Wr("script")),null}function Pt(ae,ue,_e){ae.push(Or(_e));var ze=_e=null,We;for(We in ue)if(gt.call(ue,We)){var at=ue[We];if(at!=null)switch(We){case"children":_e=at;break;case"dangerouslySetInnerHTML":ze=at;break;default:rn(ae,We,at)}}return ae.push(">"),pn(ae,ze,_e),_e}function Wt(ae,ue,_e){ae.push(Or(_e));var ze=_e=null,We;for(We in ue)if(gt.call(ue,We)){var at=ue[We];if(at!=null)switch(We){case"children":_e=at;break;case"dangerouslySetInnerHTML":ze=at;break;default:rn(ae,We,at)}}return ae.push(">"),pn(ae,ze,_e),typeof _e=="string"?(ae.push(ut(_e)),null):_e}var Mt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,wr=new Map;function Or(ae){var ue=wr.get(ae);if(ue===void 0){if(!Mt.test(ae))throw Error(A(65,ae));ue="<"+ae,wr.set(ae,ue)}return ue}function ur(ae,ue,_e,ze,We,at,dt,Vt,bt){switch(ue){case"div":case"span":case"svg":case"path":break;case"a":ae.push(Or("a"));var Yt=null,hr=null,ar;for(ar in _e)if(gt.call(_e,ar)){var Dr=_e[ar];if(Dr!=null)switch(ar){case"children":Yt=Dr;break;case"dangerouslySetInnerHTML":hr=Dr;break;case"href":Dr===""?Sr(ae,"href",""):rn(ae,ar,Dr);break;default:rn(ae,ar,Dr)}}if(ae.push(">"),pn(ae,hr,Yt),typeof Yt=="string"){ae.push(ut(Yt));var on=null}else on=Yt;return on;case"g":case"p":case"li":break;case"select":ae.push(Or("select"));var Xn=null,Mn=null,In;for(In in _e)if(gt.call(_e,In)){var On=_e[In];if(On!=null)switch(In){case"children":Xn=On;break;case"dangerouslySetInnerHTML":Mn=On;break;case"defaultValue":case"value":break;default:rn(ae,In,On)}}return ae.push(">"),pn(ae,Mn,Xn),Xn;case"option":var Fn=Vt.selectedValue;ae.push(Or("option"));var Ea=null,Wa=null,ia=null,oa=null,da;for(da in _e)if(gt.call(_e,da)){var Ua=_e[da];if(Ua!=null)switch(da){case"children":Ea=Ua;break;case"selected":ia=Ua;break;case"dangerouslySetInnerHTML":oa=Ua;break;case"value":Wa=Ua;default:rn(ae,da,Ua)}}if(Fn!=null){var ua=Wa!==null?""+Wa:sa(Ea);if(Qe(Fn)){for(var cs=0;cs<Fn.length;cs++)if(""+Fn[cs]===ua){ae.push(' selected=""');break}}else""+Fn===ua&&ae.push(' selected=""')}else ia&&ae.push(' selected=""');return ae.push(">"),pn(ae,oa,Ea),Ea;case"textarea":ae.push(Or("textarea"));var ja=null,es=null,$a=null,za;for(za in _e)if(gt.call(_e,za)){var Ls=_e[za];if(Ls!=null)switch(za){case"children":$a=Ls;break;case"value":ja=Ls;break;case"defaultValue":es=Ls;break;case"dangerouslySetInnerHTML":throw Error(A(91));default:rn(ae,za,Ls)}}if(ja===null&&es!==null&&(ja=es),ae.push(">"),$a!=null){if(ja!=null)throw Error(A(92));if(Qe($a)){if(1<$a.length)throw Error(A(93));ja=""+$a[0]}ja=""+$a}return typeof ja=="string"&&ja[0]===`
`&&ae.push(`
`),ja!==null&&ae.push(ut(""+ja)),null;case"input":ae.push(Or("input"));var Ji=null,ri=null,Bs=null,Ci=null,us=null,Vs=null,Ws=null,rs=null,fs=null,Ys;for(Ys in _e)if(gt.call(_e,Ys)){var Pa=_e[Ys];if(Pa!=null)switch(Ys){case"children":case"dangerouslySetInnerHTML":throw Error(A(399,"input"));case"name":Ji=Pa;break;case"formAction":ri=Pa;break;case"formEncType":Bs=Pa;break;case"formMethod":Ci=Pa;break;case"formTarget":us=Pa;break;case"defaultChecked":fs=Pa;break;case"defaultValue":Ws=Pa;break;case"checked":rs=Pa;break;case"value":Vs=Pa;break;default:rn(ae,Ys,Pa)}}var Us=vn(ae,ze,We,ri,Bs,Ci,us,Ji);return rs!==null?nn(ae,"checked",rs):fs!==null&&nn(ae,"checked",fs),Vs!==null?rn(ae,"value",Vs):Ws!==null&&rn(ae,"value",Ws),ae.push("/>"),Us?.forEach(un,ae),null;case"button":ae.push(Or("button"));var li=null,ac=null,El=null,sc=null,ic=null,ds=null,Fa=null,Wn;for(Wn in _e)if(gt.call(_e,Wn)){var Cs=_e[Wn];if(Cs!=null)switch(Wn){case"children":li=Cs;break;case"dangerouslySetInnerHTML":ac=Cs;break;case"name":El=Cs;break;case"formAction":sc=Cs;break;case"formEncType":ic=Cs;break;case"formMethod":ds=Cs;break;case"formTarget":Fa=Cs;break;default:rn(ae,Wn,Cs)}}var js=vn(ae,ze,We,sc,ic,ds,Fa,El);if(ae.push(">"),js?.forEach(un,ae),pn(ae,ac,li),typeof li=="string"){ae.push(ut(li));var Qo=null}else Qo=li;return Qo;case"form":ae.push(Or("form"));var Xs=null,oc=null,ci=null,Bi=null,vi=null,Eo=null,Qi;for(Qi in _e)if(gt.call(_e,Qi)){var Ti=_e[Qi];if(Ti!=null)switch(Qi){case"children":Xs=Ti;break;case"dangerouslySetInnerHTML":oc=Ti;break;case"action":ci=Ti;break;case"encType":Bi=Ti;break;case"method":vi=Ti;break;case"target":Eo=Ti;break;default:rn(ae,Qi,Ti)}}var Zi=null,Ma=null;if(typeof ci=="function"){var Js=an(ze,ci);Js!==null?(ci=Js.action||"",Bi=Js.encType,vi=Js.method,Eo=Js.target,Zi=Js.data,Ma=Js.name):(ae.push(" ","action",'="',Zr,'"'),Eo=vi=Bi=ci=null,Hn(ze,We))}if(ci!=null&&rn(ae,"action",ci),Bi!=null&&rn(ae,"encType",Bi),vi!=null&&rn(ae,"method",vi),Eo!=null&&rn(ae,"target",Eo),ae.push(">"),Ma!==null&&(ae.push('<input type="hidden"'),Sr(ae,"name",Ma),ae.push("/>"),Zi?.forEach(un,ae)),pn(ae,oc,Xs),typeof Xs=="string"){ae.push(ut(Xs));var ni=null}else ni=Xs;return ni;case"menuitem":ae.push(Or("menuitem"));for(var Ui in _e)if(gt.call(_e,Ui)){var Zo=_e[Ui];if(Zo!=null)switch(Ui){case"children":case"dangerouslySetInnerHTML":throw Error(A(400));default:rn(ae,Ui,Zo)}}return ae.push(">"),null;case"object":ae.push(Or("object"));var Ts=null,Oi=null,ui;for(ui in _e)if(gt.call(_e,ui)){var _a=_e[ui];if(_a!=null)switch(ui){case"children":Ts=_a;break;case"dangerouslySetInnerHTML":Oi=_a;break;case"data":var ps=nt(""+_a);if(ps==="")break;ae.push(" ","data",'="',ut(ps),'"');break;default:rn(ae,ui,_a)}}if(ae.push(">"),pn(ae,Oi,Ts),typeof Ts=="string"){ae.push(ut(Ts));var Io=null}else Io=Ts;return Io;case"title":var zs=Vt.tagScope&1,Vc=Vt.tagScope&4;if(Vt.insertionMode===4||zs||_e.itemProp!=null)var jl=$t(ae,_e);else Vc?jl=null:($t(We.hoistableChunks,_e),jl=void 0);return jl;case"link":var Ya=Vt.tagScope&1,lc=Vt.tagScope&4,el=_e.rel,di=_e.href,eo=_e.precedence;if(Vt.insertionMode===4||Ya||_e.itemProp!=null||typeof el!="string"||typeof di!="string"||di===""){bn(ae,_e);var mi=null}else if(_e.rel==="stylesheet")if(typeof eo!="string"||_e.disabled!=null||_e.onLoad||_e.onError)mi=bn(ae,_e);else{var ns=We.styles.get(eo),tl=ze.styleResources.hasOwnProperty(di)?ze.styleResources[di]:void 0;if(tl!==null){ze.styleResources[di]=null,ns||(ns={precedence:ut(eo),rules:[],hrefs:[],sheets:new Map},We.styles.set(eo,ns));var Po={state:0,props:ct({},_e,{"data-precedence":_e.precedence,precedence:null})};if(tl){tl.length===2&&Bn(Po.props,tl);var cc=We.preloads.stylesheets.get(di);cc&&0<cc.length?cc.length=0:Po.state=1}ns.sheets.set(di,Po),dt&&dt.stylesheets.add(Po)}else if(ns){var Sl=ns.sheets.get(di);Sl&&dt&&dt.stylesheets.add(Sl)}bt&&ae.push("<!-- -->"),mi=null}else _e.onLoad||_e.onError?mi=bn(ae,_e):(bt&&ae.push("<!-- -->"),mi=lc?null:bn(We.hoistableChunks,_e));return mi;case"script":var ro=Vt.tagScope&1,rl=_e.async;if(typeof _e.src!="string"||!_e.src||!rl||typeof rl=="function"||typeof rl=="symbol"||_e.onLoad||_e.onError||Vt.insertionMode===4||ro||_e.itemProp!=null)var nl=Bt(ae,_e);else{var as=_e.src;if(_e.type==="module")var no=ze.moduleScriptResources,jo=We.preloads.moduleScripts;else no=ze.scriptResources,jo=We.preloads.scripts;var ao=no.hasOwnProperty(as)?no[as]:void 0;if(ao!==null){no[as]=null;var So=_e;if(ao){ao.length===2&&(So=ct({},_e),Bn(So,ao));var Rl=jo.get(as);Rl&&(Rl.length=0)}var al=[];We.scripts.add(al),Bt(al,So)}bt&&ae.push("<!-- -->"),nl=null}return nl;case"style":var Di=Vt.tagScope&1,Qs=_e.precedence,ai=_e.href,uc=_e.nonce;if(Vt.insertionMode===4||Di||_e.itemProp!=null||typeof Qs!="string"||typeof ai!="string"||ai===""){ae.push(Or("style"));var xi=null,ko=null,bi;for(bi in _e)if(gt.call(_e,bi)){var Ii=_e[bi];if(Ii!=null)switch(bi){case"children":xi=Ii;break;case"dangerouslySetInnerHTML":ko=Ii;break;default:rn(ae,bi,Ii)}}ae.push(">");var Ei=Array.isArray(xi)?2>xi.length?xi[0]:null:xi;typeof Ei!="function"&&typeof Ei!="symbol"&&Ei!==null&&Ei!==void 0&&ae.push((""+Ei).replace(nr,Br)),pn(ae,ko,xi),ae.push(Wr("style"));var Mo=null}else{var Zs=We.styles.get(Qs);if((ze.styleResources.hasOwnProperty(ai)?ze.styleResources[ai]:void 0)!==null){ze.styleResources[ai]=null,Zs||(Zs={precedence:ut(Qs),rules:[],hrefs:[],sheets:new Map},We.styles.set(Qs,Zs));var dc=We.nonce.style;if(!dc||dc===uc){Zs.hrefs.push(ut(ai));var zi=Zs.rules,Pi=null,Lo=null,si;for(si in _e)if(gt.call(_e,si)){var Fs=_e[si];if(Fs!=null)switch(si){case"children":Pi=Fs;break;case"dangerouslySetInnerHTML":Lo=Fs}}var ji=Array.isArray(Pi)?2>Pi.length?Pi[0]:null:Pi;typeof ji!="function"&&typeof ji!="symbol"&&ji!==null&&ji!==void 0&&zi.push((""+ji).replace(nr,Br)),pn(zi,Lo,Pi)}}Zs&&dt&&dt.styles.add(Zs),bt&&ae.push("<!-- -->"),Mo=void 0}return Mo;case"meta":var ii=Vt.tagScope&1,sl=Vt.tagScope&4;if(Vt.insertionMode===4||ii||_e.itemProp!=null)var Bo=pt(ae,_e,"meta");else bt&&ae.push("<!-- -->"),Bo=sl?null:typeof _e.charSet=="string"?pt(We.charsetChunks,_e,"meta"):_e.name==="viewport"?pt(We.viewportChunks,_e,"meta"):pt(We.hoistableChunks,_e,"meta");return Bo;case"listing":case"pre":ae.push(Or(ue));var Fi=null,ne=null,oe;for(oe in _e)if(gt.call(_e,oe)){var Ne=_e[oe];if(Ne!=null)switch(oe){case"children":Fi=Ne;break;case"dangerouslySetInnerHTML":ne=Ne;break;default:rn(ae,oe,Ne)}}if(ae.push(">"),ne!=null){if(Fi!=null)throw Error(A(60));if(typeof ne!="object"||!("__html"in ne))throw Error(A(61));var Ue=ne.__html;Ue!=null&&(typeof Ue=="string"&&0<Ue.length&&Ue[0]===`
`?ae.push(`
`,Ue):ae.push(""+Ue))}return typeof Fi=="string"&&Fi[0]===`
`&&ae.push(`
`),Fi;case"img":var Ke=Vt.tagScope&3,Ze=_e.src,ot=_e.srcSet;if(!(_e.loading==="lazy"||!Ze&&!ot||typeof Ze!="string"&&Ze!=null||typeof ot!="string"&&ot!=null||_e.fetchPriority==="low"||Ke)&&(typeof Ze!="string"||Ze[4]!==":"||Ze[0]!=="d"&&Ze[0]!=="D"||Ze[1]!=="a"&&Ze[1]!=="A"||Ze[2]!=="t"&&Ze[2]!=="T"||Ze[3]!=="a"&&Ze[3]!=="A")&&(typeof ot!="string"||ot[4]!==":"||ot[0]!=="d"&&ot[0]!=="D"||ot[1]!=="a"&&ot[1]!=="A"||ot[2]!=="t"&&ot[2]!=="T"||ot[3]!=="a"&&ot[3]!=="A")){dt!==null&&Vt.tagScope&64&&(dt.suspenseyImages=!0);var Rt=typeof _e.sizes=="string"?_e.sizes:void 0,xt=ot?ot+`
`+(Rt||""):Ze,_t=We.preloads.images,Ht=_t.get(xt);if(Ht)(_e.fetchPriority==="high"||10>We.highImagePreloads.size)&&(_t.delete(xt),We.highImagePreloads.add(Ht));else if(!ze.imageResources.hasOwnProperty(xt)){ze.imageResources[xt]=mt;var Jt=_e.crossOrigin,Cr=typeof Jt=="string"?Jt==="use-credentials"?Jt:"":void 0,Tr=We.headers,gn;Tr&&0<Tr.remainingCapacity&&typeof _e.srcSet!="string"&&(_e.fetchPriority==="high"||500>Tr.highImagePreloads.length)&&(gn=hn(Ze,"image",{imageSrcSet:_e.srcSet,imageSizes:_e.sizes,crossOrigin:Cr,integrity:_e.integrity,nonce:_e.nonce,type:_e.type,fetchPriority:_e.fetchPriority,referrerPolicy:_e.refererPolicy}),0<=(Tr.remainingCapacity-=gn.length+2))?(We.resets.image[xt]=mt,Tr.highImagePreloads&&(Tr.highImagePreloads+=", "),Tr.highImagePreloads+=gn):(Ht=[],bn(Ht,{rel:"preload",as:"image",href:ot?void 0:Ze,imageSrcSet:ot,imageSizes:Rt,crossOrigin:Cr,integrity:_e.integrity,type:_e.type,fetchPriority:_e.fetchPriority,referrerPolicy:_e.referrerPolicy}),_e.fetchPriority==="high"||10>We.highImagePreloads.size?We.highImagePreloads.add(Ht):(We.bulkPreloads.add(Ht),_t.set(xt,Ht)))}}return pt(ae,_e,"img");case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return pt(ae,_e,ue);case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"head":if(2>Vt.insertionMode){var qn=at||We.preamble;if(qn.headChunks)throw Error(A(545,"`<head>`"));at!==null&&ae.push("<!--head-->"),qn.headChunks=[];var Pn=Pt(qn.headChunks,_e,"head")}else Pn=Wt(ae,_e,"head");return Pn;case"body":if(2>Vt.insertionMode){var en=at||We.preamble;if(en.bodyChunks)throw Error(A(545,"`<body>`"));at!==null&&ae.push("<!--body-->"),en.bodyChunks=[];var yn=Pt(en.bodyChunks,_e,"body")}else yn=Wt(ae,_e,"body");return yn;case"html":if(Vt.insertionMode===0){var la=at||We.preamble;if(la.htmlChunks)throw Error(A(545,"`<html>`"));at!==null&&ae.push("<!--html-->"),la.htmlChunks=[""];var Os=Pt(la.htmlChunks,_e,"html")}else Os=Wt(ae,_e,"html");return Os;default:if(ue.indexOf("-")!==-1){ae.push(Or(ue));var Ds=null,En=null,vs;for(vs in _e)if(gt.call(_e,vs)){var qa=_e[vs];if(qa!=null){var hs=vs;switch(vs){case"children":Ds=qa;break;case"dangerouslySetInnerHTML":En=qa;break;case"style":zr(ae,qa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"className":hs="class";default:if(ir(vs)&&typeof qa!="function"&&typeof qa!="symbol"&&qa!==!1){if(qa===!0)qa="";else if(typeof qa=="object")continue;ae.push(" ",hs,'="',ut(qa),'"')}}}}return ae.push(">"),pn(ae,En,Ds),Ds}}return Wt(ae,_e,ue)}var Ur=new Map;function Wr(ae){var ue=Ur.get(ae);return ue===void 0&&(ue="</"+ae+">",Ur.set(ae,ue)),ue}function Kr(ae,ue){ae=ae.preamble,ae.htmlChunks===null&&ue.htmlChunks&&(ae.htmlChunks=ue.htmlChunks),ae.headChunks===null&&ue.headChunks&&(ae.headChunks=ue.headChunks),ae.bodyChunks===null&&ue.bodyChunks&&(ae.bodyChunks=ue.bodyChunks)}function gr(ae,ue){ue=ue.bootstrapChunks;for(var _e=0;_e<ue.length-1;_e++)ae.push(ue[_e]);return _e<ue.length?(_e=ue[_e],ue.length=0,ae.push(_e)):!0}function Rr(ae,ue,_e){if(ae.push('<!--$?--><template id="'),_e===null)throw Error(A(395));return ae.push(ue.boundaryPrefix),ue=_e.toString(16),ae.push(ue),ae.push('"></template>')}function Qr(ae,ue,_e,ze){switch(_e.insertionMode){case 0:case 1:case 3:case 2:return ae.push('<div hidden id="'),ae.push(ue.segmentPrefix),ue=ze.toString(16),ae.push(ue),ae.push('">');case 4:return ae.push('<svg aria-hidden="true" style="display:none" id="'),ae.push(ue.segmentPrefix),ue=ze.toString(16),ae.push(ue),ae.push('">');case 5:return ae.push('<math aria-hidden="true" style="display:none" id="'),ae.push(ue.segmentPrefix),ue=ze.toString(16),ae.push(ue),ae.push('">');case 6:return ae.push('<table hidden id="'),ae.push(ue.segmentPrefix),ue=ze.toString(16),ae.push(ue),ae.push('">');case 7:return ae.push('<table hidden><tbody id="'),ae.push(ue.segmentPrefix),ue=ze.toString(16),ae.push(ue),ae.push('">');case 8:return ae.push('<table hidden><tr id="'),ae.push(ue.segmentPrefix),ue=ze.toString(16),ae.push(ue),ae.push('">');case 9:return ae.push('<table hidden><colgroup id="'),ae.push(ue.segmentPrefix),ue=ze.toString(16),ae.push(ue),ae.push('">');default:throw Error(A(397))}}function kn(ae,ue){switch(ue.insertionMode){case 0:case 1:case 3:case 2:return ae.push("</div>");case 4:return ae.push("</svg>");case 5:return ae.push("</math>");case 6:return ae.push("</table>");case 7:return ae.push("</tbody></table>");case 8:return ae.push("</tr></table>");case 9:return ae.push("</colgroup></table>");default:throw Error(A(397))}}var Yn=/[<\u2028\u2029]/g;function Hr(ae){return JSON.stringify(ae).replace(Yn,function(ue){switch(ue){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Ir=/[&><\u2028\u2029]/g;function tn(ae){return JSON.stringify(ae).replace(Ir,function(ue){switch(ue){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Mr=!1,Jr=!0;function mn(ae){var ue=ae.rules,_e=ae.hrefs,ze=0;if(_e.length){for(this.push(Ct.startInlineStyle),this.push(' media="not all" data-precedence="'),this.push(ae.precedence),this.push('" data-href="');ze<_e.length-1;ze++)this.push(_e[ze]),this.push(" ");for(this.push(_e[ze]),this.push('">'),ze=0;ze<ue.length;ze++)this.push(ue[ze]);Jr=this.push("</style>"),Mr=!0,ue.length=0,_e.length=0}}function Qt(ae){return ae.state!==2?Mr=!0:!1}function Pr(ae,ue,_e){return Mr=!1,Jr=!0,Ct=_e,ue.styles.forEach(mn,ae),Ct=null,ue.stylesheets.forEach(Qt),Mr&&(_e.stylesToHoist=!0),Jr}function Fr(ae){for(var ue=0;ue<ae.length;ue++)this.push(ae[ue]);ae.length=0}var Yr=[];function Tn(ae){bn(Yr,ae.props);for(var ue=0;ue<Yr.length;ue++)this.push(Yr[ue]);Yr.length=0,ae.state=2}function Sn(ae){var ue=0<ae.sheets.size;ae.sheets.forEach(Tn,this),ae.sheets.clear();var _e=ae.rules,ze=ae.hrefs;if(!ue||ze.length){if(this.push(Ct.startInlineStyle),this.push(' data-precedence="'),this.push(ae.precedence),ae=0,ze.length){for(this.push('" data-href="');ae<ze.length-1;ae++)this.push(ze[ae]),this.push(" ");this.push(ze[ae])}for(this.push('">'),ae=0;ae<_e.length;ae++)this.push(_e[ae]);this.push("</style>"),_e.length=0,ze.length=0}}function Va(ae){if(ae.state===0){ae.state=1;var ue=ae.props;for(bn(Yr,{rel:"preload",as:"style",href:ae.props.href,crossOrigin:ue.crossOrigin,fetchPriority:ue.fetchPriority,integrity:ue.integrity,media:ue.media,hrefLang:ue.hrefLang,referrerPolicy:ue.referrerPolicy}),ae=0;ae<Yr.length;ae++)this.push(Yr[ae]);Yr.length=0}}function Qa(ae){ae.sheets.forEach(Va,this),ae.sheets.clear()}function Dn(ae,ue){(ue.instructions&32)===0&&(ue.instructions|=32,ae.push(' id="',ut("_"+ue.idPrefix+"R_"),'"'))}function ss(ae,ue){ae.push("[");var _e="[";ue.stylesheets.forEach(function(ze){if(ze.state!==2)if(ze.state===3)ae.push(_e),ze=tn(""+ze.props.href),ae.push(ze),ae.push("]"),_e=",[";else{ae.push(_e);var We=ze.props["data-precedence"],at=ze.props,dt=nt(""+ze.props.href);dt=tn(dt),ae.push(dt),We=""+We,ae.push(","),We=tn(We),ae.push(We);for(var Vt in at)if(gt.call(at,Vt)&&(We=at[Vt],We!=null))switch(Vt){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error(A(399,"link"));default:$n(ae,Vt,We)}ae.push("]"),_e=",[",ze.state=3}}),ae.push("]")}function $n(ae,ue,_e){var ze=ue.toLowerCase();switch(typeof _e){case"function":case"symbol":return}switch(ue){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":return;case"className":ze="class",ue=""+_e;break;case"hidden":if(_e===!1)return;ue="";break;case"src":case"href":_e=nt(_e),ue=""+_e;break;default:if(2<ue.length&&(ue[0]==="o"||ue[0]==="O")&&(ue[1]==="n"||ue[1]==="N")||!ir(ue))return;ue=""+_e}ae.push(","),ze=tn(ze),ae.push(ze),ae.push(","),ze=tn(ue),ae.push(ze)}function ea(){return{styles:new Set,stylesheets:new Set,suspenseyImages:!1}}function Oa(ae){var ue=_s||null;if(ue){var _e=ue.resumableState,ze=ue.renderState;if(typeof ae=="string"&&ae){if(!_e.dnsResources.hasOwnProperty(ae)){_e.dnsResources[ae]=null,_e=ze.headers;var We,at;(at=_e&&0<_e.remainingCapacity)&&(at=(We="<"+(""+ae).replace(Sa,va)+">; rel=dns-prefetch",0<=(_e.remainingCapacity-=We.length+2))),at?(ze.resets.dns[ae]=null,_e.preconnects&&(_e.preconnects+=", "),_e.preconnects+=We):(We=[],bn(We,{href:ae,rel:"dns-prefetch"}),ze.preconnects.add(We))}Ai(ue)}}else ft.D(ae)}function Gn(ae,ue){var _e=_s||null;if(_e){var ze=_e.resumableState,We=_e.renderState;if(typeof ae=="string"&&ae){var at=ue==="use-credentials"?"credentials":typeof ue=="string"?"anonymous":"default";if(!ze.connectResources[at].hasOwnProperty(ae)){ze.connectResources[at][ae]=null,ze=We.headers;var dt,Vt;if(Vt=ze&&0<ze.remainingCapacity){if(Vt="<"+(""+ae).replace(Sa,va)+">; rel=preconnect",typeof ue=="string"){var bt=(""+ue).replace(ya,Ns);Vt+='; crossorigin="'+bt+'"'}Vt=(dt=Vt,0<=(ze.remainingCapacity-=dt.length+2))}Vt?(We.resets.connect[at][ae]=null,ze.preconnects&&(ze.preconnects+=", "),ze.preconnects+=dt):(at=[],bn(at,{rel:"preconnect",href:ae,crossOrigin:ue}),We.preconnects.add(at))}Ai(_e)}}else ft.C(ae,ue)}function Da(ae,ue,_e){var ze=_s||null;if(ze){var We=ze.resumableState,at=ze.renderState;if(ue&&ae){switch(ue){case"image":if(_e)var dt=_e.imageSrcSet,Vt=_e.imageSizes,bt=_e.fetchPriority;var Yt=dt?dt+`
`+(Vt||""):ae;if(We.imageResources.hasOwnProperty(Yt))return;We.imageResources[Yt]=mt,We=at.headers;var hr;We&&0<We.remainingCapacity&&typeof dt!="string"&&bt==="high"&&(hr=hn(ae,ue,_e),0<=(We.remainingCapacity-=hr.length+2))?(at.resets.image[Yt]=mt,We.highImagePreloads&&(We.highImagePreloads+=", "),We.highImagePreloads+=hr):(We=[],bn(We,ct({rel:"preload",href:dt?void 0:ae,as:ue},_e)),bt==="high"?at.highImagePreloads.add(We):(at.bulkPreloads.add(We),at.preloads.images.set(Yt,We)));break;case"style":if(We.styleResources.hasOwnProperty(ae))return;dt=[],bn(dt,ct({rel:"preload",href:ae,as:ue},_e)),We.styleResources[ae]=!_e||typeof _e.crossOrigin!="string"&&typeof _e.integrity!="string"?mt:[_e.crossOrigin,_e.integrity],at.preloads.stylesheets.set(ae,dt),at.bulkPreloads.add(dt);break;case"script":if(We.scriptResources.hasOwnProperty(ae))return;dt=[],at.preloads.scripts.set(ae,dt),at.bulkPreloads.add(dt),bn(dt,ct({rel:"preload",href:ae,as:ue},_e)),We.scriptResources[ae]=!_e||typeof _e.crossOrigin!="string"&&typeof _e.integrity!="string"?mt:[_e.crossOrigin,_e.integrity];break;default:if(We.unknownResources.hasOwnProperty(ue)){if(dt=We.unknownResources[ue],dt.hasOwnProperty(ae))return}else dt={},We.unknownResources[ue]=dt;if(dt[ae]=mt,(We=at.headers)&&0<We.remainingCapacity&&ue==="font"&&(Yt=hn(ae,ue,_e),0<=(We.remainingCapacity-=Yt.length+2)))at.resets.font[ae]=mt,We.fontPreloads&&(We.fontPreloads+=", "),We.fontPreloads+=Yt;else switch(We=[],ae=ct({rel:"preload",href:ae,as:ue},_e),bn(We,ae),ue){case"font":at.fontPreloads.add(We);break;default:at.bulkPreloads.add(We)}}Ai(ze)}}else ft.L(ae,ue,_e)}function Et(ae,ue){var _e=_s||null;if(_e){var ze=_e.resumableState,We=_e.renderState;if(ae){var at=ue&&typeof ue.as=="string"?ue.as:"script";switch(at){case"script":if(ze.moduleScriptResources.hasOwnProperty(ae))return;at=[],ze.moduleScriptResources[ae]=!ue||typeof ue.crossOrigin!="string"&&typeof ue.integrity!="string"?mt:[ue.crossOrigin,ue.integrity],We.preloads.moduleScripts.set(ae,at);break;default:if(ze.moduleUnknownResources.hasOwnProperty(at)){var dt=ze.unknownResources[at];if(dt.hasOwnProperty(ae))return}else dt={},ze.moduleUnknownResources[at]=dt;at=[],dt[ae]=mt}bn(at,ct({rel:"modulepreload",href:ae},ue)),We.bulkPreloads.add(at),Ai(_e)}}else ft.m(ae,ue)}function pr(ae,ue,_e){var ze=_s||null;if(ze){var We=ze.resumableState,at=ze.renderState;if(ae){ue=ue||"default";var dt=at.styles.get(ue),Vt=We.styleResources.hasOwnProperty(ae)?We.styleResources[ae]:void 0;Vt!==null&&(We.styleResources[ae]=null,dt||(dt={precedence:ut(ue),rules:[],hrefs:[],sheets:new Map},at.styles.set(ue,dt)),ue={state:0,props:ct({rel:"stylesheet",href:ae,"data-precedence":ue},_e)},Vt&&(Vt.length===2&&Bn(ue.props,Vt),(at=at.preloads.stylesheets.get(ae))&&0<at.length?at.length=0:ue.state=1),dt.sheets.set(ae,ue),Ai(ze))}}else ft.S(ae,ue,_e)}function jr(ae,ue){var _e=_s||null;if(_e){var ze=_e.resumableState,We=_e.renderState;if(ae){var at=ze.scriptResources.hasOwnProperty(ae)?ze.scriptResources[ae]:void 0;at!==null&&(ze.scriptResources[ae]=null,ue=ct({src:ae,async:!0},ue),at&&(at.length===2&&Bn(ue,at),ae=We.preloads.scripts.get(ae))&&(ae.length=0),ae=[],We.scripts.add(ae),Bt(ae,ue),Ai(_e))}}else ft.X(ae,ue)}function wn(ae,ue){var _e=_s||null;if(_e){var ze=_e.resumableState,We=_e.renderState;if(ae){var at=ze.moduleScriptResources.hasOwnProperty(ae)?ze.moduleScriptResources[ae]:void 0;at!==null&&(ze.moduleScriptResources[ae]=null,ue=ct({src:ae,type:"module",async:!0},ue),at&&(at.length===2&&Bn(ue,at),ae=We.preloads.moduleScripts.get(ae))&&(ae.length=0),ae=[],We.scripts.add(ae),Bt(ae,ue),Ai(_e))}}else ft.M(ae,ue)}function Bn(ae,ue){ae.crossOrigin==null&&(ae.crossOrigin=ue[0]),ae.integrity==null&&(ae.integrity=ue[1])}function hn(ae,ue,_e){ae=(""+ae).replace(Sa,va),ue=(""+ue).replace(ya,Ns),ue="<"+ae+'>; rel=preload; as="'+ue+'"';for(var ze in _e)gt.call(_e,ze)&&(ae=_e[ze],typeof ae=="string"&&(ue+="; "+ze.toLowerCase()+'="'+(""+ae).replace(ya,Ns)+'"'));return ue}var Sa=/[<>\r\n]/g;function va(ae){switch(ae){case"<":return"%3C";case">":return"%3E";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var ya=/["';,\r\n]/g;function Ns(ae){switch(ae){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function os(ae){this.styles.add(ae)}function Gs(ae){this.stylesheets.add(ae)}function Ra(ae,ue){ue.styles.forEach(os,ae),ue.stylesheets.forEach(Gs,ae),ue.suspenseyImages&&(ae.suspenseyImages=!0)}function xs(ae,ue){var _e=ae.idPrefix,ze=[],We=ae.bootstrapScriptContent,at=ae.bootstrapScripts,dt=ae.bootstrapModules;We!==void 0&&(ze.push("<script"),Dn(ze,ae),ze.push(">",(""+We).replace(xr,er),"<\/script>")),We=_e+"P:";var Vt=_e+"S:";_e+="B:";var bt=new Set,Yt=new Set,hr=new Set,ar=new Map,Dr=new Set,on=new Set,Xn=new Set,Mn={images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map};if(at!==void 0)for(var In=0;In<at.length;In++){var On=at[In],Fn,Ea=void 0,Wa=void 0,ia={rel:"preload",as:"script",fetchPriority:"low",nonce:void 0};typeof On=="string"?ia.href=Fn=On:(ia.href=Fn=On.src,ia.integrity=Wa=typeof On.integrity=="string"?On.integrity:void 0,ia.crossOrigin=Ea=typeof On=="string"||On.crossOrigin==null?void 0:On.crossOrigin==="use-credentials"?"use-credentials":""),On=ae;var oa=Fn;On.scriptResources[oa]=null,On.moduleScriptResources[oa]=null,On=[],bn(On,ia),Dr.add(On),ze.push('<script src="',ut(Fn),'"'),typeof Wa=="string"&&ze.push(' integrity="',ut(Wa),'"'),typeof Ea=="string"&&ze.push(' crossorigin="',ut(Ea),'"'),Dn(ze,ae),ze.push(' async=""><\/script>')}if(dt!==void 0)for(at=0;at<dt.length;at++)ia=dt[at],Ea=Fn=void 0,Wa={rel:"modulepreload",fetchPriority:"low",nonce:void 0},typeof ia=="string"?Wa.href=In=ia:(Wa.href=In=ia.src,Wa.integrity=Ea=typeof ia.integrity=="string"?ia.integrity:void 0,Wa.crossOrigin=Fn=typeof ia=="string"||ia.crossOrigin==null?void 0:ia.crossOrigin==="use-credentials"?"use-credentials":""),ia=ae,On=In,ia.scriptResources[On]=null,ia.moduleScriptResources[On]=null,ia=[],bn(ia,Wa),Dr.add(ia),ze.push('<script type="module" src="',ut(In),'"'),typeof Ea=="string"&&ze.push(' integrity="',ut(Ea),'"'),typeof Fn=="string"&&ze.push(' crossorigin="',ut(Fn),'"'),Dn(ze,ae),ze.push(' async=""><\/script>');return{placeholderPrefix:We,segmentPrefix:Vt,boundaryPrefix:_e,startInlineScript:"<script",startInlineStyle:"<style",preamble:{htmlChunks:null,headChunks:null,bodyChunks:null},externalRuntimeScript:null,bootstrapChunks:ze,importMapChunks:[],onHeaders:void 0,headers:null,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:bt,fontPreloads:Yt,highImagePreloads:hr,styles:ar,bootstrapScripts:Dr,scripts:on,bulkPreloads:Xn,preloads:Mn,nonce:{script:void 0,style:void 0},stylesToHoist:!1,generateStaticMarkup:ue}}function ls(ae,ue,_e,ze){return _e.generateStaticMarkup?(ae.push(ut(ue)),!1):(ue===""?ae=ze:(ze&&ae.push("<!-- -->"),ae.push(ut(ue)),ae=!0),ae)}function Ks(ae,ue,_e,ze){ue.generateStaticMarkup||_e&&ze&&ae.push("<!-- -->")}var Kn=Function.prototype.bind,Nn=Symbol.for("react.client.reference");function ba(ae){if(ae==null)return null;if(typeof ae=="function")return ae.$$typeof===Nn?null:ae.displayName||ae.name||null;if(typeof ae=="string")return ae;switch(ae){case B:return"Fragment";case q:return"Profiler";case U:return"StrictMode";case te:return"Suspense";case xe:return"SuspenseList";case Le:return"Activity"}if(typeof ae=="object")switch(ae.$$typeof){case I:return"Portal";case J:return ae.displayName||"Context";case K:return(ae._context.displayName||"Context")+".Consumer";case ee:var ue=ae.render;return ae=ae.displayName,ae||(ae=ue.displayName||ue.name||"",ae=ae!==""?"ForwardRef("+ae+")":"ForwardRef"),ae;case fe:return ue=ae.displayName||null,ue!==null?ue:ba(ae.type)||"Memo";case ye:ue=ae._payload,ae=ae._init;try{return ba(ae(ue))}catch{}}return null}var ma={},bs=null;function Na(ae,ue){if(ae!==ue){ae.context._currentValue2=ae.parentValue,ae=ae.parent;var _e=ue.parent;if(ae===null){if(_e!==null)throw Error(A(401))}else{if(_e===null)throw Error(A(401));Na(ae,_e)}ue.context._currentValue2=ue.value}}function wi(ae){ae.context._currentValue2=ae.parentValue,ae=ae.parent,ae!==null&&wi(ae)}function ti(ae){var ue=ae.parent;ue!==null&&ti(ue),ae.context._currentValue2=ae.value}function wt(ae,ue){if(ae.context._currentValue2=ae.parentValue,ae=ae.parent,ae===null)throw Error(A(402));ae.depth===ue.depth?Na(ae,ue):wt(ae,ue)}function Lt(ae,ue){var _e=ue.parent;if(_e===null)throw Error(A(402));ae.depth===_e.depth?Na(ae,_e):Lt(ae,_e),ue.context._currentValue2=ue.value}function tr(ae){var ue=bs;ue!==ae&&(ue===null?ti(ae):ae===null?wi(ue):ue.depth===ae.depth?Na(ue,ae):ue.depth>ae.depth?wt(ue,ae):Lt(ue,ae),bs=ae)}var Nr={enqueueSetState:function(ae,ue){ae=ae._reactInternals,ae.queue!==null&&ae.queue.push(ue)},enqueueReplaceState:function(ae,ue){ae=ae._reactInternals,ae.replace=!0,ae.queue=[ue]},enqueueForceUpdate:function(){}},sr={id:1,overflow:""};function lr(ae,ue,_e){var ze=ae.id;ae=ae.overflow;var We=32-cr(ze)-1;ze&=~(1<<We),_e+=1;var at=32-cr(ue)+We;if(30<at){var dt=We-We%5;return at=(ze&(1<<dt)-1).toString(32),ze>>=dt,We-=dt,{id:1<<32-cr(ue)+We|_e<<We|ze,overflow:at+ae}}return{id:1<<at|_e<<We|ze,overflow:ae}}var cr=Math.clz32?Math.clz32:Gr,yr=Math.log,$r=Math.LN2;function Gr(ae){return ae>>>=0,ae===0?32:31-(yr(ae)/$r|0)|0}function qr(){}var sn=Error(A(460));function Jn(ae,ue,_e){switch(_e=ae[_e],_e===void 0?ae.push(ue):_e!==ue&&(ue.then(qr,qr),ue=_e),ue.status){case"fulfilled":return ue.value;case"rejected":throw ue.reason;default:switch(typeof ue.status=="string"?ue.then(qr,qr):(ae=ue,ae.status="pending",ae.then(function(ze){if(ue.status==="pending"){var We=ue;We.status="fulfilled",We.value=ze}},function(ze){if(ue.status==="pending"){var We=ue;We.status="rejected",We.reason=ze}})),ue.status){case"fulfilled":return ue.value;case"rejected":throw ue.reason}throw Un=ue,sn}}var Un=null;function wa(){if(Un===null)throw Error(A(459));var ae=Un;return Un=null,ae}function Ha(ae,ue){return ae===ue&&(ae!==0||1/ae===1/ue)||ae!==ae&&ue!==ue}var Za=typeof Object.is=="function"?Object.is:Ha,Qn=null,ta=null,pa=null,xn=null,ca=null,Vr=null,Ye=!1,yt=!1,vt=0,Gt=0,br=-1,_r=0,Lr=null,Rn=null,Cn=0;function zn(){if(Qn===null)throw Error(A(321));return Qn}function ra(){if(0<Cn)throw Error(A(312));return{memoizedState:null,queue:null,next:null}}function na(){return Vr===null?ca===null?(Ye=!1,ca=Vr=ra()):(Ye=!0,Vr=ca):Vr.next===null?(Ye=!1,Vr=Vr.next=ra()):(Ye=!0,Vr=Vr.next),Vr}function Zn(){var ae=Lr;return Lr=null,ae}function Ia(){xn=pa=ta=Qn=null,yt=!1,ca=null,Cn=0,Vr=Rn=null}function _n(ae,ue){return typeof ue=="function"?ue(ae):ue}function dn(ae,ue,_e){if(Qn=zn(),Vr=na(),Ye){var ze=Vr.queue;if(ue=ze.dispatch,Rn!==null&&(_e=Rn.get(ze),_e!==void 0)){Rn.delete(ze),ze=Vr.memoizedState;do ze=ae(ze,_e.action),_e=_e.next;while(_e!==null);return Vr.memoizedState=ze,[ze,ue]}return[Vr.memoizedState,ue]}return ae=ae===_n?typeof ue=="function"?ue():ue:_e!==void 0?_e(ue):ue,Vr.memoizedState=ae,ae=Vr.queue={last:null,dispatch:null},ae=ae.dispatch=gi.bind(null,Qn,ae),[Vr.memoizedState,ae]}function Vn(ae,ue){if(Qn=zn(),Vr=na(),ue=ue===void 0?null:ue,Vr!==null){var _e=Vr.memoizedState;if(_e!==null&&ue!==null){var ze=_e[1];e:if(ze===null)ze=!1;else{for(var We=0;We<ze.length&&We<ue.length;We++)if(!Za(ue[We],ze[We])){ze=!1;break e}ze=!0}if(ze)return _e[0]}}return ae=ae(),Vr.memoizedState=[ae,ue],ae}function gi(ae,ue,_e){if(25<=Cn)throw Error(A(301));if(ae===Qn)if(yt=!0,ae={action:_e,next:null},Rn===null&&(Rn=new Map),_e=Rn.get(ue),_e===void 0)Rn.set(ue,ae);else{for(ue=_e;ue.next!==null;)ue=ue.next;ue.next=ae}}function Fc(){throw Error(A(440))}function Ku(){throw Error(A(394))}function Vu(){throw Error(A(479))}function pl(ae,ue,_e){zn();var ze=Gt++,We=pa;if(typeof ae.$$FORM_ACTION=="function"){var at=null,dt=xn;We=We.formState;var Vt=ae.$$IS_SIGNATURE_EQUAL;if(We!==null&&typeof Vt=="function"){var bt=We[1];Vt.call(ae,We[2],We[3])&&(at=_e!==void 0?"p"+_e:"k"+st(JSON.stringify([dt,null,ze]),0),bt===at&&(br=ze,ue=We[0]))}var Yt=ae.bind(null,ue);return ae=function(ar){Yt(ar)},typeof Yt.$$FORM_ACTION=="function"&&(ae.$$FORM_ACTION=function(ar){ar=Yt.$$FORM_ACTION(ar),_e!==void 0&&(_e+="",ar.action=_e);var Dr=ar.data;return Dr&&(at===null&&(at=_e!==void 0?"p"+_e:"k"+st(JSON.stringify([dt,null,ze]),0)),Dr.append("$ACTION_KEY",at)),ar}),[ue,ae,!1]}var hr=ae.bind(null,ue);return[ue,function(ar){hr(ar)},!1]}function gu(ae){var ue=_r;return _r+=1,Lr===null&&(Lr=[]),Jn(Lr,ae,ue)}function Wu(){throw Error(A(393))}var yu={readContext:function(ae){return ae._currentValue2},use:function(ae){if(ae!==null&&typeof ae=="object"){if(typeof ae.then=="function")return gu(ae);if(ae.$$typeof===J)return ae._currentValue2}throw Error(A(438,String(ae)))},useContext:function(ae){return zn(),ae._currentValue2},useMemo:Vn,useReducer:dn,useRef:function(ae){Qn=zn(),Vr=na();var ue=Vr.memoizedState;return ue===null?(ae={current:ae},Vr.memoizedState=ae):ue},useState:function(ae){return dn(_n,ae)},useInsertionEffect:qr,useLayoutEffect:qr,useCallback:function(ae,ue){return Vn(function(){return ae},ue)},useImperativeHandle:qr,useEffect:qr,useDebugValue:qr,useDeferredValue:function(ae,ue){return zn(),ue!==void 0?ue:ae},useTransition:function(){return zn(),[!1,Ku]},useId:function(){var ae=ta.treeContext,ue=ae.overflow;ae=ae.id,ae=(ae&~(1<<32-cr(ae)-1)).toString(32)+ue;var _e=Fl;if(_e===null)throw Error(A(404));return ue=vt++,ae="_"+_e.idPrefix+"R_"+ae,0<ue&&(ae+="H"+ue.toString(32)),ae+"_"},useSyncExternalStore:function(ae,ue,_e){if(_e===void 0)throw Error(A(407));return _e()},useOptimistic:function(ae){return zn(),[ae,Vu]},useActionState:pl,useFormState:pl,useHostTransitionStatus:function(){return zn(),Ar},useMemoCache:function(ae){for(var ue=Array(ae),_e=0;_e<ae;_e++)ue[_e]=Ge;return ue},useCacheRefresh:function(){return Wu},useEffectEvent:function(){return Fc}},Fl=null,Yu={getCacheForType:function(){throw Error(A(248))},cacheSignal:function(){throw Error(A(248))}},ql,vu;function Ko(ae){if(ql===void 0)try{throw Error()}catch(_e){var ue=_e.stack.trim().match(/\n( *(at )?)/);ql=ue&&ue[1]||"",vu=-1<_e.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_e.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ql+ae+vu}var qc=!1;function Hl(ae,ue){if(!ae||qc)return"";qc=!0;var _e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var ze={DetermineComponentFrameRoot:function(){try{if(ue){var ar=function(){throw Error()};if(Object.defineProperty(ar.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ar,[])}catch(on){var Dr=on}Reflect.construct(ae,[],ar)}else{try{ar.call()}catch(on){Dr=on}ae.call(ar.prototype)}}else{try{throw Error()}catch(on){Dr=on}(ar=ae())&&typeof ar.catch=="function"&&ar.catch(function(){})}}catch(on){if(on&&Dr&&typeof on.stack=="string")return[on.stack,Dr.stack]}return[null,null]}};ze.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var We=Object.getOwnPropertyDescriptor(ze.DetermineComponentFrameRoot,"name");We&&We.configurable&&Object.defineProperty(ze.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var at=ze.DetermineComponentFrameRoot(),dt=at[0],Vt=at[1];if(dt&&Vt){var bt=dt.split(`
`),Yt=Vt.split(`
`);for(We=ze=0;ze<bt.length&&!bt[ze].includes("DetermineComponentFrameRoot");)ze++;for(;We<Yt.length&&!Yt[We].includes("DetermineComponentFrameRoot");)We++;if(ze===bt.length||We===Yt.length)for(ze=bt.length-1,We=Yt.length-1;1<=ze&&0<=We&&bt[ze]!==Yt[We];)We--;for(;1<=ze&&0<=We;ze--,We--)if(bt[ze]!==Yt[We]){if(ze!==1||We!==1)do if(ze--,We--,0>We||bt[ze]!==Yt[We]){var hr=`
`+bt[ze].replace(" at new "," at ");return ae.displayName&&hr.includes("<anonymous>")&&(hr=hr.replace("<anonymous>",ae.displayName)),hr}while(1<=ze&&0<=We);break}}}finally{qc=!1,Error.prepareStackTrace=_e}return(_e=ae?ae.displayName||ae.name:"")?Ko(_e):""}function $l(ae){if(typeof ae=="string")return Ko(ae);if(typeof ae=="function")return ae.prototype&&ae.prototype.isReactComponent?Hl(ae,!0):Hl(ae,!1);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case ee:return Hl(ae.render,!1);case fe:return Hl(ae.type,!1);case ye:var ue=ae,_e=ue._payload;ue=ue._init;try{ae=ue(_e)}catch{return Ko("Lazy")}return $l(ae)}if(typeof ae.name=="string"){e:{_e=ae.name,ue=ae.env;var ze=ae.debugLocation;if(ze!=null&&(ae=Error.prepareStackTrace,Error.prepareStackTrace=void 0,ze=ze.stack,Error.prepareStackTrace=ae,ze.startsWith(`Error: react-stack-top-frame
`)&&(ze=ze.slice(29)),ae=ze.indexOf(`
`),ae!==-1&&(ze=ze.slice(ae+1)),ae=ze.indexOf("react_stack_bottom_frame"),ae!==-1&&(ae=ze.lastIndexOf(`
`,ae)),ae=ae!==-1?ze=ze.slice(0,ae):"",ze=ae.lastIndexOf(`
`),ae=ze===-1?ae:ae.slice(ze+1),ae.indexOf(_e)!==-1)){_e=`
`+ae;break e}_e=Ko(_e+(ue?" ["+ue+"]":""))}return _e}}switch(ae){case xe:return Ko("SuspenseList");case te:return Ko("Suspense")}return""}function Vo(ae,ue){return(500<ue.byteSize||!1)&&ue.contentPreamble===null}function Xu(ae){if(typeof ae=="object"&&ae!==null&&typeof ae.environmentName=="string"){var ue=ae.environmentName;ae=[ae].slice(0),typeof ae[0]=="string"?ae.splice(0,1,"[%s] "+ae[0]," "+ue+" "):ae.splice(0,0,"[%s]"," "+ue+" "),ae.unshift(console),ue=Kn.apply(console.error,ae),ue()}else console.error(ae);return null}function Ju(ae,ue,_e,ze,We,at,dt,Vt,bt,Yt,hr){var ar=new Set;this.destination=null,this.flushScheduled=!1,this.resumableState=ae,this.renderState=ue,this.rootFormatContext=_e,this.progressiveChunkSize=ze===void 0?12800:ze,this.status=10,this.fatalError=null,this.pendingRootTasks=this.allPendingTasks=this.nextSegmentId=0,this.completedPreambleSegments=this.completedRootSegment=null,this.byteSize=0,this.abortableTasks=ar,this.pingedTasks=[],this.clientRenderedBoundaries=[],this.completedBoundaries=[],this.partialBoundaries=[],this.trackedPostpones=null,this.onError=We===void 0?Xu:We,this.onPostpone=Yt===void 0?qr:Yt,this.onAllReady=at===void 0?qr:at,this.onShellReady=dt===void 0?qr:dt,this.onShellError=Vt===void 0?qr:Vt,this.onFatalError=bt===void 0?qr:bt,this.formState=hr===void 0?null:hr}function bu(ae,ue,_e,ze,We,at,dt,Vt,bt,Yt,hr,ar){return ue=new Ju(ue,_e,ze,We,at,dt,Vt,bt,Yt,hr,ar),_e=_o(ue,0,null,ze,!1,!1),_e.parentFlushed=!0,ae=Gl(ue,null,ae,-1,null,_e,null,null,ue.abortableTasks,null,ze,null,sr,null,null),po(ae),ue.pingedTasks.push(ae),ue}var _s=null;function Wo(ae,ue){ae.pingedTasks.push(ue),ae.pingedTasks.length===1&&(ae.flushScheduled=ae.destination!==null,ju(ae))}function Hc(ae,ue,_e,ze,We){return _e={status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,row:ue,completedSegments:[],byteSize:0,fallbackAbortableTasks:_e,errorDigest:null,contentState:ea(),fallbackState:ea(),contentPreamble:ze,fallbackPreamble:We,trackedContentKeyPath:null,trackedFallbackNode:null},ue!==null&&(ue.pendingTasks++,ze=ue.boundaries,ze!==null&&(ae.allPendingTasks++,_e.pendingTasks++,ze.push(_e)),ae=ue.inheritedHoistables,ae!==null&&Ra(_e.contentState,ae)),_e}function Gl(ae,ue,_e,ze,We,at,dt,Vt,bt,Yt,hr,ar,Dr,on,Xn){ae.allPendingTasks++,We===null?ae.pendingRootTasks++:We.pendingTasks++,on!==null&&on.pendingTasks++;var Mn={replay:null,node:_e,childIndex:ze,ping:function(){return Wo(ae,Mn)},blockedBoundary:We,blockedSegment:at,blockedPreamble:dt,hoistableState:Vt,abortSet:bt,keyPath:Yt,formatContext:hr,context:ar,treeContext:Dr,row:on,componentStack:Xn,thenableState:ue};return bt.add(Mn),Mn}function Eu(ae,ue,_e,ze,We,at,dt,Vt,bt,Yt,hr,ar,Dr,on){ae.allPendingTasks++,at===null?ae.pendingRootTasks++:at.pendingTasks++,Dr!==null&&Dr.pendingTasks++,_e.pendingTasks++;var Xn={replay:_e,node:ze,childIndex:We,ping:function(){return Wo(ae,Xn)},blockedBoundary:at,blockedSegment:null,blockedPreamble:null,hoistableState:dt,abortSet:Vt,keyPath:bt,formatContext:Yt,context:hr,treeContext:ar,row:Dr,componentStack:on,thenableState:ue};return Vt.add(Xn),Xn}function _o(ae,ue,_e,ze,We,at){return{status:0,parentFlushed:!1,id:-1,index:ue,chunks:[],children:[],preambleChildren:[],parentFormatContext:ze,boundary:_e,lastPushedText:We,textEmbedded:at}}function po(ae){var ue=ae.node;if(typeof ue=="object"&&ue!==null)switch(ue.$$typeof){case T:ae.componentStack={parent:ae.componentStack,type:ue.type}}}function hl(ae){return ae===null?null:{parent:ae.parent,type:"Suspense Fallback"}}function ho(ae){var ue={};return ae&&Object.defineProperty(ue,"componentStack",{configurable:!0,enumerable:!0,get:function(){try{var _e="",ze=ae;do _e+=$l(ze.type),ze=ze.parent;while(ze);var We=_e}catch(at){We=`
Error generating stack: `+at.message+`
`+at.stack}return Object.defineProperty(ue,"componentStack",{value:We}),We}}),ue}function Es(ae,ue,_e){if(ae=ae.onError,ue=ae(ue,_e),ue==null||typeof ue=="string")return ue}function Mi(ae,ue){var _e=ae.onShellError,ze=ae.onFatalError;_e(ue),ze(ue),ae.destination!==null?(ae.status=14,ae.destination.destroy(ue)):(ae.status=13,ae.fatalError=ue)}function Ba(ae,ue){Ni(ae,ue.next,ue.hoistables)}function Ni(ae,ue,_e){for(;ue!==null;){_e!==null&&(Ra(ue.hoistables,_e),ue.inheritedHoistables=_e);var ze=ue.boundaries;if(ze!==null){ue.boundaries=null;for(var We=0;We<ze.length;We++){var at=ze[We];_e!==null&&Ra(at.contentState,_e),yo(ae,at,null,null)}}if(ue.pendingTasks--,0<ue.pendingTasks)break;_e=ue.hoistables,ue=ue.next}}function Kl(ae,ue){var _e=ue.boundaries;if(_e!==null&&ue.pendingTasks===_e.length){for(var ze=!0,We=0;We<_e.length;We++){var at=_e[We];if(at.pendingTasks!==1||at.parentFlushed||Vo(ae,at)){ze=!1;break}}ze&&Ni(ae,ue,ue.hoistables)}}function Yo(ae){var ue={pendingTasks:1,boundaries:null,hoistables:ea(),inheritedHoistables:null,together:!1,next:null};return ae!==null&&0<ae.pendingTasks&&(ue.pendingTasks++,ue.boundaries=[],ae.next=ue),ue}function $c(ae,ue,_e,ze,We){var at=ue.keyPath,dt=ue.treeContext,Vt=ue.row;ue.keyPath=_e,_e=ze.length;var bt=null;if(ue.replay!==null){var Yt=ue.replay.slots;if(Yt!==null&&typeof Yt=="object")for(var hr=0;hr<_e;hr++){var ar=We!=="backwards"&&We!=="unstable_legacy-backwards"?hr:_e-1-hr,Dr=ze[ar];ue.row=bt=Yo(bt),ue.treeContext=lr(dt,_e,ar);var on=Yt[ar];typeof on=="number"?(Yl(ae,ue,on,Dr,ar),delete Yt[ar]):ys(ae,ue,Dr,ar),--bt.pendingTasks===0&&Ba(ae,bt)}else for(Yt=0;Yt<_e;Yt++)hr=We!=="backwards"&&We!=="unstable_legacy-backwards"?Yt:_e-1-Yt,ar=ze[hr],ue.row=bt=Yo(bt),ue.treeContext=lr(dt,_e,hr),ys(ae,ue,ar,hr),--bt.pendingTasks===0&&Ba(ae,bt)}else if(We!=="backwards"&&We!=="unstable_legacy-backwards")for(We=0;We<_e;We++)Yt=ze[We],ue.row=bt=Yo(bt),ue.treeContext=lr(dt,_e,We),ys(ae,ue,Yt,We),--bt.pendingTasks===0&&Ba(ae,bt);else{for(We=ue.blockedSegment,Yt=We.children.length,hr=We.chunks.length,ar=_e-1;0<=ar;ar--){Dr=ze[ar],ue.row=bt=Yo(bt),ue.treeContext=lr(dt,_e,ar),on=_o(ae,hr,null,ue.formatContext,ar===0?We.lastPushedText:!0,!0),We.children.splice(Yt,0,on),ue.blockedSegment=on;try{ys(ae,ue,Dr,ar),Ks(on.chunks,ae.renderState,on.lastPushedText,on.textEmbedded),on.status=1,--bt.pendingTasks===0&&Ba(ae,bt)}catch(Xn){throw on.status=ae.status===12?3:4,Xn}}ue.blockedSegment=We,We.lastPushedText=!1}Vt!==null&&bt!==null&&0<bt.pendingTasks&&(Vt.pendingTasks++,bt.next=Vt),ue.treeContext=dt,ue.row=Vt,ue.keyPath=at}function Vl(ae,ue,_e,ze,We,at){var dt=ue.thenableState;for(ue.thenableState=null,Qn={},ta=ue,pa=ae,xn=_e,Gt=vt=0,br=-1,_r=0,Lr=dt,ae=ze(We,at);yt;)yt=!1,Gt=vt=0,br=-1,_r=0,Cn+=1,Vr=null,ae=ze(We,at);return Ia(),ae}function Ao(ae,ue,_e,ze,We,at,dt){var Vt=!1;if(at!==0&&ae.formState!==null){var bt=ue.blockedSegment;if(bt!==null){Vt=!0,bt=bt.chunks;for(var Yt=0;Yt<at;Yt++)Yt===dt?bt.push("<!--F!-->"):bt.push("<!--F-->")}}at=ue.keyPath,ue.keyPath=_e,We?(_e=ue.treeContext,ue.treeContext=lr(_e,1,0),ys(ae,ue,ze,-1),ue.treeContext=_e):Vt?ys(ae,ue,ze,-1):yi(ae,ue,ze,-1),ue.keyPath=at}function Wl(ae,ue,_e,ze,We,at){if(typeof ze=="function")if(ze.prototype&&ze.prototype.isReactComponent){var dt=We;if("ref"in We){dt={};for(var Vt in We)Vt!=="ref"&&(dt[Vt]=We[Vt])}var bt=ze.defaultProps;if(bt){dt===We&&(dt=ct({},dt,We));for(var Yt in bt)dt[Yt]===void 0&&(dt[Yt]=bt[Yt])}We=dt,dt=ma,bt=ze.contextType,typeof bt=="object"&&bt!==null&&(dt=bt._currentValue2),dt=new ze(We,dt);var hr=dt.state!==void 0?dt.state:null;if(dt.updater=Nr,dt.props=We,dt.state=hr,bt={queue:[],replace:!1},dt._reactInternals=bt,at=ze.contextType,dt.context=typeof at=="object"&&at!==null?at._currentValue2:ma,at=ze.getDerivedStateFromProps,typeof at=="function"&&(at=at(We,hr),hr=at==null?hr:ct({},hr,at),dt.state=hr),typeof ze.getDerivedStateFromProps!="function"&&typeof dt.getSnapshotBeforeUpdate!="function"&&(typeof dt.UNSAFE_componentWillMount=="function"||typeof dt.componentWillMount=="function"))if(ze=dt.state,typeof dt.componentWillMount=="function"&&dt.componentWillMount(),typeof dt.UNSAFE_componentWillMount=="function"&&dt.UNSAFE_componentWillMount(),ze!==dt.state&&Nr.enqueueReplaceState(dt,dt.state,null),bt.queue!==null&&0<bt.queue.length)if(ze=bt.queue,at=bt.replace,bt.queue=null,bt.replace=!1,at&&ze.length===1)dt.state=ze[0];else{for(bt=at?ze[0]:dt.state,hr=!0,at=at?1:0;at<ze.length;at++)Yt=ze[at],Yt=typeof Yt=="function"?Yt.call(dt,bt,We,void 0):Yt,Yt!=null&&(hr?(hr=!1,bt=ct({},bt,Yt)):ct(bt,Yt));dt.state=bt}else bt.queue=null;if(ze=dt.render(),ae.status===12)throw null;We=ue.keyPath,ue.keyPath=_e,yi(ae,ue,ze,-1),ue.keyPath=We}else{if(ze=Vl(ae,ue,_e,ze,We,void 0),ae.status===12)throw null;Ao(ae,ue,_e,ze,vt!==0,Gt,br)}else if(typeof ze=="string")if(dt=ue.blockedSegment,dt===null)dt=We.children,bt=ue.formatContext,hr=ue.keyPath,ue.formatContext=it(bt,ze,We),ue.keyPath=_e,ys(ae,ue,dt,-1),ue.formatContext=bt,ue.keyPath=hr;else{if(hr=ur(dt.chunks,ze,We,ae.resumableState,ae.renderState,ue.blockedPreamble,ue.hoistableState,ue.formatContext,dt.lastPushedText),dt.lastPushedText=!1,bt=ue.formatContext,at=ue.keyPath,ue.keyPath=_e,(ue.formatContext=it(bt,ze,We)).insertionMode===3){_e=_o(ae,0,null,ue.formatContext,!1,!1),dt.preambleChildren.push(_e),ue.blockedSegment=_e;try{_e.status=6,ys(ae,ue,hr,-1),Ks(_e.chunks,ae.renderState,_e.lastPushedText,_e.textEmbedded),_e.status=1}finally{ue.blockedSegment=dt}}else ys(ae,ue,hr,-1);ue.formatContext=bt,ue.keyPath=at;e:{switch(ue=dt.chunks,ae=ae.resumableState,ze){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break e;case"body":if(1>=bt.insertionMode){ae.hasBody=!0;break e}break;case"html":if(bt.insertionMode===0){ae.hasHtml=!0;break e}break;case"head":if(1>=bt.insertionMode)break e}ue.push(Wr(ze))}dt.lastPushedText=!1}else{switch(ze){case qe:case U:case q:case B:ze=ue.keyPath,ue.keyPath=_e,yi(ae,ue,We.children,-1),ue.keyPath=ze;return;case Le:ze=ue.blockedSegment,ze===null?We.mode!=="hidden"&&(ze=ue.keyPath,ue.keyPath=_e,ys(ae,ue,We.children,-1),ue.keyPath=ze):We.mode!=="hidden"&&(ae.renderState.generateStaticMarkup||ze.chunks.push("<!--&-->"),ze.lastPushedText=!1,dt=ue.keyPath,ue.keyPath=_e,ys(ae,ue,We.children,-1),ue.keyPath=dt,ae.renderState.generateStaticMarkup||ze.chunks.push("<!--/&-->"),ze.lastPushedText=!1);return;case xe:e:{if(ze=We.children,We=We.revealOrder,We==="forwards"||We==="backwards"||We==="unstable_legacy-backwards"){if(Qe(ze)){$c(ae,ue,_e,ze,We);break e}if((dt=He(ze))&&(dt=dt.call(ze))){if(bt=dt.next(),!bt.done){do bt=dt.next();while(!bt.done);$c(ae,ue,_e,ze,We)}break e}}We==="together"?(We=ue.keyPath,dt=ue.row,bt=ue.row=Yo(null),bt.boundaries=[],bt.together=!0,ue.keyPath=_e,yi(ae,ue,ze,-1),--bt.pendingTasks===0&&Ba(ae,bt),ue.keyPath=We,ue.row=dt,dt!==null&&0<bt.pendingTasks&&(dt.pendingTasks++,bt.next=dt)):(We=ue.keyPath,ue.keyPath=_e,yi(ae,ue,ze,-1),ue.keyPath=We)}return;case $e:case Be:throw Error(A(343));case te:e:if(ue.replay!==null){ze=ue.keyPath,dt=ue.formatContext,bt=ue.row,ue.keyPath=_e,ue.formatContext=Er(ae.resumableState,dt),ue.row=null,_e=We.children;try{ys(ae,ue,_e,-1)}finally{ue.keyPath=ze,ue.formatContext=dt,ue.row=bt}}else{ze=ue.keyPath,at=ue.formatContext;var ar=ue.row,Dr=ue.blockedBoundary;Yt=ue.blockedPreamble;var on=ue.hoistableState;Vt=ue.blockedSegment;var Xn=We.fallback;We=We.children;var Mn=new Set,In=Hc(ae,ue.row,Mn,null,null);ae.trackedPostpones!==null&&(In.trackedContentKeyPath=_e);var On=_o(ae,Vt.chunks.length,In,ue.formatContext,!1,!1);Vt.children.push(On),Vt.lastPushedText=!1;var Fn=_o(ae,0,null,ue.formatContext,!1,!1);if(Fn.parentFlushed=!0,ae.trackedPostpones!==null){dt=ue.componentStack,bt=[_e[0],"Suspense Fallback",_e[2]],hr=[bt[1],bt[2],[],null],ae.trackedPostpones.workingMap.set(bt,hr),In.trackedFallbackNode=hr,ue.blockedSegment=On,ue.blockedPreamble=In.fallbackPreamble,ue.keyPath=bt,ue.formatContext=or(ae.resumableState,at),ue.componentStack=hl(dt),On.status=6;try{ys(ae,ue,Xn,-1),Ks(On.chunks,ae.renderState,On.lastPushedText,On.textEmbedded),On.status=1}catch(Ea){throw On.status=ae.status===12?3:4,Ea}finally{ue.blockedSegment=Vt,ue.blockedPreamble=Yt,ue.keyPath=ze,ue.formatContext=at}ue=Gl(ae,null,We,-1,In,Fn,In.contentPreamble,In.contentState,ue.abortSet,_e,Er(ae.resumableState,ue.formatContext),ue.context,ue.treeContext,null,dt),po(ue),ae.pingedTasks.push(ue)}else{ue.blockedBoundary=In,ue.blockedPreamble=In.contentPreamble,ue.hoistableState=In.contentState,ue.blockedSegment=Fn,ue.keyPath=_e,ue.formatContext=Er(ae.resumableState,at),ue.row=null,Fn.status=6;try{if(ys(ae,ue,We,-1),Ks(Fn.chunks,ae.renderState,Fn.lastPushedText,Fn.textEmbedded),Fn.status=1,vl(In,Fn),In.pendingTasks===0&&In.status===0){if(In.status=1,!Vo(ae,In)){ar!==null&&--ar.pendingTasks===0&&Ba(ae,ar),ae.pendingRootTasks===0&&ue.blockedPreamble&&_i(ae);break e}}else ar!==null&&ar.together&&Kl(ae,ar)}catch(Ea){In.status=4,ae.status===12?(Fn.status=3,dt=ae.fatalError):(Fn.status=4,dt=Ea),bt=ho(ue.componentStack),hr=Es(ae,dt,bt),In.errorDigest=hr,Jl(ae,In)}finally{ue.blockedBoundary=Dr,ue.blockedPreamble=Yt,ue.hoistableState=on,ue.blockedSegment=Vt,ue.keyPath=ze,ue.formatContext=at,ue.row=ar}ue=Gl(ae,null,Xn,-1,Dr,On,In.fallbackPreamble,In.fallbackState,Mn,[_e[0],"Suspense Fallback",_e[2]],or(ae.resumableState,ue.formatContext),ue.context,ue.treeContext,ue.row,hl(ue.componentStack)),po(ue),ae.pingedTasks.push(ue)}}return}if(typeof ze=="object"&&ze!==null)switch(ze.$$typeof){case ee:if("ref"in We)for(Xn in dt={},We)Xn!=="ref"&&(dt[Xn]=We[Xn]);else dt=We;ze=Vl(ae,ue,_e,ze.render,dt,at),Ao(ae,ue,_e,ze,vt!==0,Gt,br);return;case fe:Wl(ae,ue,_e,ze.type,We,at);return;case J:if(bt=We.children,dt=ue.keyPath,We=We.value,hr=ze._currentValue2,ze._currentValue2=We,at=bs,bs=ze={parent:at,depth:at===null?0:at.depth+1,context:ze,parentValue:hr,value:We},ue.context=ze,ue.keyPath=_e,yi(ae,ue,bt,-1),ae=bs,ae===null)throw Error(A(403));ae.context._currentValue2=ae.parentValue,ae=bs=ae.parent,ue.context=ae,ue.keyPath=dt;return;case K:We=We.children,ze=We(ze._context._currentValue2),We=ue.keyPath,ue.keyPath=_e,yi(ae,ue,ze,-1),ue.keyPath=We;return;case ye:if(dt=ze._init,ze=dt(ze._payload),ae.status===12)throw null;Wl(ae,ue,_e,ze,We,at);return}throw Error(A(130,ze==null?ze:typeof ze,""))}}function Yl(ae,ue,_e,ze,We){var at=ue.replay,dt=ue.blockedBoundary,Vt=_o(ae,0,null,ue.formatContext,!1,!1);Vt.id=_e,Vt.parentFlushed=!0;try{ue.replay=null,ue.blockedSegment=Vt,ys(ae,ue,ze,We),Vt.status=1,dt===null?ae.completedRootSegment=Vt:(vl(dt,Vt),dt.parentFlushed&&ae.partialBoundaries.push(dt))}finally{ue.replay=at,ue.blockedSegment=null}}function yi(ae,ue,_e,ze){ue.replay!==null&&typeof ue.replay.slots=="number"?Yl(ae,ue,ue.replay.slots,_e,ze):(ue.node=_e,ue.childIndex=ze,_e=ue.componentStack,po(ue),Xl(ae,ue),ue.componentStack=_e)}function Xl(ae,ue){var _e=ue.node,ze=ue.childIndex;if(_e!==null){if(typeof _e=="object"){switch(_e.$$typeof){case T:var We=_e.type,at=_e.key,dt=_e.props;_e=dt.ref;var Vt=_e!==void 0?_e:null,bt=ba(We),Yt=at??(ze===-1?0:ze);if(at=[ue.keyPath,bt,Yt],ue.replay!==null)e:{var hr=ue.replay;for(ze=hr.nodes,_e=0;_e<ze.length;_e++){var ar=ze[_e];if(Yt===ar[1]){if(ar.length===4){if(bt!==null&&bt!==ar[0])throw Error(A(490,ar[0],bt));var Dr=ar[2];bt=ar[3],Yt=ue.node,ue.replay={nodes:Dr,slots:bt,pendingTasks:1};try{if(Wl(ae,ue,at,We,dt,Vt),ue.replay.pendingTasks===1&&0<ue.replay.nodes.length)throw Error(A(488));ue.replay.pendingTasks--}catch(oa){if(typeof oa=="object"&&oa!==null&&(oa===sn||typeof oa.then=="function"))throw ue.node===Yt?ue.replay=hr:ze.splice(_e,1),oa;ue.replay.pendingTasks--,dt=ho(ue.componentStack),at=ae,ae=ue.blockedBoundary,We=oa,dt=Es(at,We,dt),Yi(at,ae,Dr,bt,We,dt)}ue.replay=hr}else{if(We!==te)throw Error(A(490,"Suspense",ba(We)||"Unknown"));t:{hr=void 0,We=ar[5],Vt=ar[2],bt=ar[3],Yt=ar[4]===null?[]:ar[4][2],ar=ar[4]===null?null:ar[4][3];var on=ue.keyPath,Xn=ue.formatContext,Mn=ue.row,In=ue.replay,On=ue.blockedBoundary,Fn=ue.hoistableState,Ea=dt.children,Wa=dt.fallback,ia=new Set;dt=Hc(ae,ue.row,ia,null,null),dt.parentFlushed=!0,dt.rootSegmentID=We,ue.blockedBoundary=dt,ue.hoistableState=dt.contentState,ue.keyPath=at,ue.formatContext=Er(ae.resumableState,Xn),ue.row=null,ue.replay={nodes:Vt,slots:bt,pendingTasks:1};try{if(ys(ae,ue,Ea,-1),ue.replay.pendingTasks===1&&0<ue.replay.nodes.length)throw Error(A(488));if(ue.replay.pendingTasks--,dt.pendingTasks===0&&dt.status===0){dt.status=1,ae.completedBoundaries.push(dt);break t}}catch(oa){dt.status=4,Dr=ho(ue.componentStack),hr=Es(ae,oa,Dr),dt.errorDigest=hr,ue.replay.pendingTasks--,ae.clientRenderedBoundaries.push(dt)}finally{ue.blockedBoundary=On,ue.hoistableState=Fn,ue.replay=In,ue.keyPath=on,ue.formatContext=Xn,ue.row=Mn}Dr=Eu(ae,null,{nodes:Yt,slots:ar,pendingTasks:0},Wa,-1,On,dt.fallbackState,ia,[at[0],"Suspense Fallback",at[2]],or(ae.resumableState,ue.formatContext),ue.context,ue.treeContext,ue.row,hl(ue.componentStack)),po(Dr),ae.pingedTasks.push(Dr)}}ze.splice(_e,1);break e}}}else Wl(ae,ue,at,We,dt,Vt);return;case I:throw Error(A(257));case ye:if(Dr=_e._init,_e=Dr(_e._payload),ae.status===12)throw null;yi(ae,ue,_e,ze);return}if(Qe(_e)){gl(ae,ue,_e,ze);return}if((Dr=He(_e))&&(Dr=Dr.call(_e))){if(_e=Dr.next(),!_e.done){dt=[];do dt.push(_e.value),_e=Dr.next();while(!_e.done);gl(ae,ue,dt,ze)}return}if(typeof _e.then=="function")return ue.thenableState=null,yi(ae,ue,gu(_e),ze);if(_e.$$typeof===J)return yi(ae,ue,_e._currentValue2,ze);throw ze=Object.prototype.toString.call(_e),Error(A(31,ze==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":ze))}typeof _e=="string"?(ze=ue.blockedSegment,ze!==null&&(ze.lastPushedText=ls(ze.chunks,_e,ae.renderState,ze.lastPushedText))):(typeof _e=="number"||typeof _e=="bigint")&&(ze=ue.blockedSegment,ze!==null&&(ze.lastPushedText=ls(ze.chunks,""+_e,ae.renderState,ze.lastPushedText)))}}function gl(ae,ue,_e,ze){var We=ue.keyPath;if(ze!==-1&&(ue.keyPath=[ue.keyPath,"Fragment",ze],ue.replay!==null)){for(var at=ue.replay,dt=at.nodes,Vt=0;Vt<dt.length;Vt++){var bt=dt[Vt];if(bt[1]===ze){ze=bt[2],bt=bt[3],ue.replay={nodes:ze,slots:bt,pendingTasks:1};try{if(gl(ae,ue,_e,-1),ue.replay.pendingTasks===1&&0<ue.replay.nodes.length)throw Error(A(488));ue.replay.pendingTasks--}catch(ar){if(typeof ar=="object"&&ar!==null&&(ar===sn||typeof ar.then=="function"))throw ar;ue.replay.pendingTasks--,_e=ho(ue.componentStack);var Yt=ue.blockedBoundary,hr=ar;_e=Es(ae,hr,_e),Yi(ae,Yt,ze,bt,hr,_e)}ue.replay=at,dt.splice(Vt,1);break}}ue.keyPath=We;return}if(at=ue.treeContext,dt=_e.length,ue.replay!==null&&(Vt=ue.replay.slots,Vt!==null&&typeof Vt=="object")){for(ze=0;ze<dt;ze++)bt=_e[ze],ue.treeContext=lr(at,dt,ze),Yt=Vt[ze],typeof Yt=="number"?(Yl(ae,ue,Yt,bt,ze),delete Vt[ze]):ys(ae,ue,bt,ze);ue.treeContext=at,ue.keyPath=We;return}for(Vt=0;Vt<dt;Vt++)ze=_e[Vt],ue.treeContext=lr(at,dt,Vt),ys(ae,ue,ze,Vt);ue.treeContext=at,ue.keyPath=We}function Wi(ae,ue,_e){if(_e.status=5,_e.rootSegmentID=ae.nextSegmentId++,ae=_e.trackedContentKeyPath,ae===null)throw Error(A(486));var ze=_e.trackedFallbackNode,We=[],at=ue.workingMap.get(ae);return at===void 0?(_e=[ae[1],ae[2],We,null,ze,_e.rootSegmentID],ue.workingMap.set(ae,_e),Ms(_e,ae[0],ue),_e):(at[4]=ze,at[5]=_e.rootSegmentID,at)}function go(ae,ue,_e,ze){ze.status=5;var We=_e.keyPath,at=_e.blockedBoundary;if(at===null)ze.id=ae.nextSegmentId++,ue.rootSlots=ze.id,ae.completedRootSegment!==null&&(ae.completedRootSegment.status=5);else{if(at!==null&&at.status===0){var dt=Wi(ae,ue,at);if(at.trackedContentKeyPath===We&&_e.childIndex===-1){ze.id===-1&&(ze.id=ze.parentFlushed?at.rootSegmentID:ae.nextSegmentId++),dt[3]=ze.id;return}}if(ze.id===-1&&(ze.id=ze.parentFlushed&&at!==null?at.rootSegmentID:ae.nextSegmentId++),_e.childIndex===-1)We===null?ue.rootSlots=ze.id:(_e=ue.workingMap.get(We),_e===void 0?(_e=[We[1],We[2],[],ze.id],Ms(_e,We[0],ue)):_e[3]=ze.id);else{if(We===null){if(ae=ue.rootSlots,ae===null)ae=ue.rootSlots={};else if(typeof ae=="number")throw Error(A(491))}else if(at=ue.workingMap,dt=at.get(We),dt===void 0)ae={},dt=[We[1],We[2],[],ae],at.set(We,dt),Ms(dt,We[0],ue);else if(ae=dt[3],ae===null)ae=dt[3]={};else if(typeof ae=="number")throw Error(A(491));ae[_e.childIndex]=ze.id}}}function Jl(ae,ue){ae=ae.trackedPostpones,ae!==null&&(ue=ue.trackedContentKeyPath,ue!==null&&(ue=ae.workingMap.get(ue),ue!==void 0&&(ue.length=4,ue[2]=[],ue[3]=null)))}function Co(ae,ue,_e){return Eu(ae,_e,ue.replay,ue.node,ue.childIndex,ue.blockedBoundary,ue.hoistableState,ue.abortSet,ue.keyPath,ue.formatContext,ue.context,ue.treeContext,ue.row,ue.componentStack)}function yl(ae,ue,_e){var ze=ue.blockedSegment,We=_o(ae,ze.chunks.length,null,ue.formatContext,ze.lastPushedText,!0);return ze.children.push(We),ze.lastPushedText=!1,Gl(ae,_e,ue.node,ue.childIndex,ue.blockedBoundary,We,ue.blockedPreamble,ue.hoistableState,ue.abortSet,ue.keyPath,ue.formatContext,ue.context,ue.treeContext,ue.row,ue.componentStack)}function ys(ae,ue,_e,ze){var We=ue.formatContext,at=ue.context,dt=ue.keyPath,Vt=ue.treeContext,bt=ue.componentStack,Yt=ue.blockedSegment;if(Yt===null){Yt=ue.replay;try{return yi(ae,ue,_e,ze)}catch(Dr){if(Ia(),_e=Dr===sn?wa():Dr,ae.status!==12&&typeof _e=="object"&&_e!==null){if(typeof _e.then=="function"){ze=Dr===sn?Zn():null,ae=Co(ae,ue,ze).ping,_e.then(ae,ae),ue.formatContext=We,ue.context=at,ue.keyPath=dt,ue.treeContext=Vt,ue.componentStack=bt,ue.replay=Yt,tr(at);return}if(_e.message==="Maximum call stack size exceeded"){_e=Dr===sn?Zn():null,_e=Co(ae,ue,_e),ae.pingedTasks.push(_e),ue.formatContext=We,ue.context=at,ue.keyPath=dt,ue.treeContext=Vt,ue.componentStack=bt,ue.replay=Yt,tr(at);return}}}}else{var hr=Yt.children.length,ar=Yt.chunks.length;try{return yi(ae,ue,_e,ze)}catch(Dr){if(Ia(),Yt.children.length=hr,Yt.chunks.length=ar,_e=Dr===sn?wa():Dr,ae.status!==12&&typeof _e=="object"&&_e!==null){if(typeof _e.then=="function"){Yt=_e,_e=Dr===sn?Zn():null,ae=yl(ae,ue,_e).ping,Yt.then(ae,ae),ue.formatContext=We,ue.context=at,ue.keyPath=dt,ue.treeContext=Vt,ue.componentStack=bt,tr(at);return}if(_e.message==="Maximum call stack size exceeded"){Yt=Dr===sn?Zn():null,Yt=yl(ae,ue,Yt),ae.pingedTasks.push(Yt),ue.formatContext=We,ue.context=at,ue.keyPath=dt,ue.treeContext=Vt,ue.componentStack=bt,tr(at);return}}}}throw ue.formatContext=We,ue.context=at,ue.keyPath=dt,ue.treeContext=Vt,tr(at),_e}function Gc(ae){var ue=ae.blockedBoundary,_e=ae.blockedSegment;_e!==null&&(_e.status=3,yo(this,ue,ae.row,_e))}function Yi(ae,ue,_e,ze,We,at){for(var dt=0;dt<_e.length;dt++){var Vt=_e[dt];if(Vt.length===4)Yi(ae,ue,Vt[2],Vt[3],We,at);else{Vt=Vt[5];var bt=ae,Yt=at,hr=Hc(bt,null,new Set,null,null);hr.parentFlushed=!0,hr.rootSegmentID=Vt,hr.status=4,hr.errorDigest=Yt,hr.parentFlushed&&bt.clientRenderedBoundaries.push(hr)}}if(_e.length=0,ze!==null){if(ue===null)throw Error(A(487));if(ue.status!==4&&(ue.status=4,ue.errorDigest=at,ue.parentFlushed&&ae.clientRenderedBoundaries.push(ue)),typeof ze=="object")for(var ar in ze)delete ze[ar]}}function Ql(ae,ue,_e){var ze=ae.blockedBoundary,We=ae.blockedSegment;if(We!==null){if(We.status===6)return;We.status=3}var at=ho(ae.componentStack);if(ze===null){if(ue.status!==13&&ue.status!==14){if(ze=ae.replay,ze===null){ue.trackedPostpones!==null&&We!==null?(ze=ue.trackedPostpones,Es(ue,_e,at),go(ue,ze,ae,We),yo(ue,null,ae.row,We)):(Es(ue,_e,at),Mi(ue,_e));return}ze.pendingTasks--,ze.pendingTasks===0&&0<ze.nodes.length&&(We=Es(ue,_e,at),Yi(ue,null,ze.nodes,ze.slots,_e,We)),ue.pendingRootTasks--,ue.pendingRootTasks===0&&ec(ue)}}else{var dt=ue.trackedPostpones;if(ze.status!==4){if(dt!==null&&We!==null)return Es(ue,_e,at),go(ue,dt,ae,We),ze.fallbackAbortableTasks.forEach(function(Vt){return Ql(Vt,ue,_e)}),ze.fallbackAbortableTasks.clear(),yo(ue,ze,ae.row,We);ze.status=4,We=Es(ue,_e,at),ze.status=4,ze.errorDigest=We,Jl(ue,ze),ze.parentFlushed&&ue.clientRenderedBoundaries.push(ze)}ze.pendingTasks--,We=ze.row,We!==null&&--We.pendingTasks===0&&Ba(ue,We),ze.fallbackAbortableTasks.forEach(function(Vt){return Ql(Vt,ue,_e)}),ze.fallbackAbortableTasks.clear()}ae=ae.row,ae!==null&&--ae.pendingTasks===0&&Ba(ue,ae),ue.allPendingTasks--,ue.allPendingTasks===0&&tc(ue)}function Zl(ae,ue){try{var _e=ae.renderState,ze=_e.onHeaders;if(ze){var We=_e.headers;if(We){_e.headers=null;var at=We.preconnects;if(We.fontPreloads&&(at&&(at+=", "),at+=We.fontPreloads),We.highImagePreloads&&(at&&(at+=", "),at+=We.highImagePreloads),!ue){var dt=_e.styles.values(),Vt=dt.next();e:for(;0<We.remainingCapacity&&!Vt.done;Vt=dt.next())for(var bt=Vt.value.sheets.values(),Yt=bt.next();0<We.remainingCapacity&&!Yt.done;Yt=bt.next()){var hr=Yt.value,ar=hr.props,Dr=ar.href,on=hr.props,Xn=hn(on.href,"style",{crossOrigin:on.crossOrigin,integrity:on.integrity,nonce:on.nonce,type:on.type,fetchPriority:on.fetchPriority,referrerPolicy:on.referrerPolicy,media:on.media});if(0<=(We.remainingCapacity-=Xn.length+2))_e.resets.style[Dr]=mt,at&&(at+=", "),at+=Xn,_e.resets.style[Dr]=typeof ar.crossOrigin=="string"||typeof ar.integrity=="string"?[ar.crossOrigin,ar.integrity]:mt;else break e}}ze(at?{Link:at}:{})}}}catch(Mn){Es(ae,Mn,{})}}function ec(ae){ae.trackedPostpones===null&&Zl(ae,!0),ae.trackedPostpones===null&&_i(ae),ae.onShellError=qr,ae=ae.onShellReady,ae()}function tc(ae){Zl(ae,ae.trackedPostpones===null?!0:ae.completedRootSegment===null||ae.completedRootSegment.status!==5),_i(ae),ae=ae.onAllReady,ae()}function vl(ae,ue){if(ue.chunks.length===0&&ue.children.length===1&&ue.children[0].boundary===null&&ue.children[0].id===-1){var _e=ue.children[0];_e.id=ue.id,_e.parentFlushed=!0,_e.status!==1&&_e.status!==3&&_e.status!==4||vl(ae,_e)}else ae.completedSegments.push(ue)}function yo(ae,ue,_e,ze){if(_e!==null&&(--_e.pendingTasks===0?Ba(ae,_e):_e.together&&Kl(ae,_e)),ae.allPendingTasks--,ue===null){if(ze!==null&&ze.parentFlushed){if(ae.completedRootSegment!==null)throw Error(A(389));ae.completedRootSegment=ze}ae.pendingRootTasks--,ae.pendingRootTasks===0&&ec(ae)}else if(ue.pendingTasks--,ue.status!==4)if(ue.pendingTasks===0){if(ue.status===0&&(ue.status=1),ze!==null&&ze.parentFlushed&&(ze.status===1||ze.status===3)&&vl(ue,ze),ue.parentFlushed&&ae.completedBoundaries.push(ue),ue.status===1)_e=ue.row,_e!==null&&Ra(_e.hoistables,ue.contentState),Vo(ae,ue)||(ue.fallbackAbortableTasks.forEach(Gc,ae),ue.fallbackAbortableTasks.clear(),_e!==null&&--_e.pendingTasks===0&&Ba(ae,_e)),ae.pendingRootTasks===0&&ae.trackedPostpones===null&&ue.contentPreamble!==null&&_i(ae);else if(ue.status===5&&(ue=ue.row,ue!==null)){if(ae.trackedPostpones!==null){_e=ae.trackedPostpones;var We=ue.next;if(We!==null&&(ze=We.boundaries,ze!==null))for(We.boundaries=null,We=0;We<ze.length;We++){var at=ze[We];Wi(ae,_e,at),yo(ae,at,null,null)}}--ue.pendingTasks===0&&Ba(ae,ue)}}else ze===null||!ze.parentFlushed||ze.status!==1&&ze.status!==3||(vl(ue,ze),ue.completedSegments.length===1&&ue.parentFlushed&&ae.partialBoundaries.push(ue)),ue=ue.row,ue!==null&&ue.together&&Kl(ae,ue);ae.allPendingTasks===0&&tc(ae)}function ju(ae){if(ae.status!==14&&ae.status!==13){var ue=bs,_e=kt.H;kt.H=yu;var ze=kt.A;kt.A=Yu;var We=_s;_s=ae;var at=Fl;Fl=ae.resumableState;try{var dt=ae.pingedTasks,Vt;for(Vt=0;Vt<dt.length;Vt++){var bt=dt[Vt],Yt=ae,hr=bt.blockedSegment;if(hr===null){var ar=Yt;if(bt.replay.pendingTasks!==0){tr(bt.context);try{if(typeof bt.replay.slots=="number"?Yl(ar,bt,bt.replay.slots,bt.node,bt.childIndex):Xl(ar,bt),bt.replay.pendingTasks===1&&0<bt.replay.nodes.length)throw Error(A(488));bt.replay.pendingTasks--,bt.abortSet.delete(bt),yo(ar,bt.blockedBoundary,bt.row,null)}catch(za){Ia();var Dr=za===sn?wa():za;if(typeof Dr=="object"&&Dr!==null&&typeof Dr.then=="function"){var on=bt.ping;Dr.then(on,on),bt.thenableState=za===sn?Zn():null}else{bt.replay.pendingTasks--,bt.abortSet.delete(bt);var Xn=ho(bt.componentStack);Yt=void 0;var Mn=ar,In=bt.blockedBoundary,On=ar.status===12?ar.fatalError:Dr,Fn=bt.replay.nodes,Ea=bt.replay.slots;Yt=Es(Mn,On,Xn),Yi(Mn,In,Fn,Ea,On,Yt),ar.pendingRootTasks--,ar.pendingRootTasks===0&&ec(ar),ar.allPendingTasks--,ar.allPendingTasks===0&&tc(ar)}}finally{}}}else if(ar=void 0,Mn=hr,Mn.status===0){Mn.status=6,tr(bt.context);var Wa=Mn.children.length,ia=Mn.chunks.length;try{Xl(Yt,bt),Ks(Mn.chunks,Yt.renderState,Mn.lastPushedText,Mn.textEmbedded),bt.abortSet.delete(bt),Mn.status=1,yo(Yt,bt.blockedBoundary,bt.row,Mn)}catch(za){Ia(),Mn.children.length=Wa,Mn.chunks.length=ia;var oa=za===sn?wa():Yt.status===12?Yt.fatalError:za;if(Yt.status===12&&Yt.trackedPostpones!==null){var da=Yt.trackedPostpones,Ua=ho(bt.componentStack);bt.abortSet.delete(bt),Es(Yt,oa,Ua),go(Yt,da,bt,Mn),yo(Yt,bt.blockedBoundary,bt.row,Mn)}else if(typeof oa=="object"&&oa!==null&&typeof oa.then=="function"){Mn.status=0,bt.thenableState=za===sn?Zn():null;var ua=bt.ping;oa.then(ua,ua)}else{var cs=ho(bt.componentStack);bt.abortSet.delete(bt),Mn.status=4;var ja=bt.blockedBoundary,es=bt.row;if(es!==null&&--es.pendingTasks===0&&Ba(Yt,es),Yt.allPendingTasks--,ar=Es(Yt,oa,cs),ja===null)Mi(Yt,oa);else if(ja.pendingTasks--,ja.status!==4){ja.status=4,ja.errorDigest=ar,Jl(Yt,ja);var $a=ja.row;$a!==null&&--$a.pendingTasks===0&&Ba(Yt,$a),ja.parentFlushed&&Yt.clientRenderedBoundaries.push(ja),Yt.pendingRootTasks===0&&Yt.trackedPostpones===null&&ja.contentPreamble!==null&&_i(Yt)}Yt.allPendingTasks===0&&tc(Yt)}}finally{}}}dt.splice(0,Vt),ae.destination!==null&&Xo(ae,ae.destination)}catch(za){Es(ae,za,{}),Mi(ae,za)}finally{Fl=at,kt.H=_e,kt.A=ze,_e===yu&&tr(ue),_s=We}}}function To(ae,ue,_e){ue.preambleChildren.length&&_e.push(ue.preambleChildren);for(var ze=!1,We=0;We<ue.children.length;We++)ze=As(ae,ue.children[We],_e)||ze;return ze}function As(ae,ue,_e){var ze=ue.boundary;if(ze===null)return To(ae,ue,_e);var We=ze.contentPreamble,at=ze.fallbackPreamble;if(We===null||at===null)return!1;switch(ze.status){case 1:if(Kr(ae.renderState,We),ae.byteSize+=ze.byteSize,ue=ze.completedSegments[0],!ue)throw Error(A(391));return To(ae,ue,_e);case 5:if(ae.trackedPostpones!==null)return!0;case 4:if(ue.status===1)return Kr(ae.renderState,at),To(ae,ue,_e);default:return!0}}function _i(ae){if(ae.completedRootSegment&&ae.completedPreambleSegments===null){var ue=[],_e=ae.byteSize,ze=As(ae,ae.completedRootSegment,ue),We=ae.renderState.preamble;ze===!1||We.headChunks&&We.bodyChunks?ae.completedPreambleSegments=ue:ae.byteSize=_e}}function Oo(ae,ue,_e,ze){switch(_e.parentFlushed=!0,_e.status){case 0:_e.id=ae.nextSegmentId++;case 5:return ze=_e.id,_e.lastPushedText=!1,_e.textEmbedded=!1,ae=ae.renderState,ue.push('<template id="'),ue.push(ae.placeholderPrefix),ae=ze.toString(16),ue.push(ae),ue.push('"></template>');case 1:_e.status=2;var We=!0,at=_e.chunks,dt=0;_e=_e.children;for(var Vt=0;Vt<_e.length;Vt++){for(We=_e[Vt];dt<We.index;dt++)ue.push(at[dt]);We=bo(ae,ue,We,ze)}for(;dt<at.length-1;dt++)ue.push(at[dt]);return dt<at.length&&(We=ue.push(at[dt])),We;case 3:return!0;default:throw Error(A(390))}}var vo=0;function bo(ae,ue,_e,ze){var We=_e.boundary;if(We===null)return Oo(ae,ue,_e,ze);if(We.parentFlushed=!0,We.status===4){var at=We.row;return at!==null&&--at.pendingTasks===0&&Ba(ae,at),ae.renderState.generateStaticMarkup||(We=We.errorDigest,ue.push("<!--$!-->"),ue.push("<template"),We&&(ue.push(' data-dgst="'),We=ut(We),ue.push(We),ue.push('"')),ue.push("></template>")),Oo(ae,ue,_e,ze),ae=ae.renderState.generateStaticMarkup?!0:ue.push("<!--/$-->"),ae}if(We.status!==1)return We.status===0&&(We.rootSegmentID=ae.nextSegmentId++),0<We.completedSegments.length&&ae.partialBoundaries.push(We),Rr(ue,ae.renderState,We.rootSegmentID),ze&&Ra(ze,We.fallbackState),Oo(ae,ue,_e,ze),ue.push("<!--/$-->");if(!Li&&Vo(ae,We)&&vo+We.byteSize>ae.progressiveChunkSize)return We.rootSegmentID=ae.nextSegmentId++,ae.completedBoundaries.push(We),Rr(ue,ae.renderState,We.rootSegmentID),Oo(ae,ue,_e,ze),ue.push("<!--/$-->");if(vo+=We.byteSize,ze&&Ra(ze,We.contentState),_e=We.row,_e!==null&&Vo(ae,We)&&--_e.pendingTasks===0&&Ba(ae,_e),ae.renderState.generateStaticMarkup||ue.push("<!--$-->"),_e=We.completedSegments,_e.length!==1)throw Error(A(391));return bo(ae,ue,_e[0],ze),ae=ae.renderState.generateStaticMarkup?!0:ue.push("<!--/$-->"),ae}function rc(ae,ue,_e,ze){return Qr(ue,ae.renderState,_e.parentFormatContext,_e.id),bo(ae,ue,_e,ze),kn(ue,_e.parentFormatContext)}function nc(ae,ue,_e){vo=_e.byteSize;for(var ze=_e.completedSegments,We=0;We<ze.length;We++)Do(ae,ue,_e,ze[We]);ze.length=0,ze=_e.row,ze!==null&&Vo(ae,_e)&&--ze.pendingTasks===0&&Ba(ae,ze),Pr(ue,_e.contentState,ae.renderState),ze=ae.resumableState,ae=ae.renderState,We=_e.rootSegmentID,_e=_e.contentState;var at=ae.stylesToHoist;return ae.stylesToHoist=!1,ue.push(ae.startInlineScript),ue.push(">"),at?((ze.instructions&4)===0&&(ze.instructions|=4,ue.push('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};')),(ze.instructions&2)===0&&(ze.instructions|=2,ue.push(`$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};
$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};`)),(ze.instructions&8)===0?(ze.instructions|=8,ue.push(`$RM=new Map;$RR=function(n,w,p){function u(q){this._p=null;q()}for(var r=new Map,t=document,h,b,e=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=[],k=0;b=e[k++];)"not all"===b.getAttribute("media")?v.push(b):("LINK"===b.tagName&&$RM.set(b.getAttribute("href"),b),r.set(b.dataset.precedence,h=b));e=0;b=[];var l,a;for(k=!0;;){if(k){var f=p[e++];if(!f){k=!1;e=0;continue}var c=!1,m=0;var d=f[m++];if(a=$RM.get(d)){var g=a._p;c=!0}else{a=t.createElement("link");a.href=d;a.rel=
"stylesheet";for(a.dataset.precedence=l=f[m++];g=f[m++];)a.setAttribute(g,f[m++]);g=a._p=new Promise(function(q,x){a.onload=u.bind(a,q);a.onerror=u.bind(a,x)});$RM.set(d,a)}d=a.getAttribute("media");!g||d&&!matchMedia(d).matches||b.push(g);if(c)continue}else{a=v[e++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=r.get(l)||h;c===h&&(h=a);r.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=t.head,c.insertBefore(a,c.firstChild))}if(p=document.getElementById(n))p.previousSibling.data=
"$~";Promise.all(b).then($RC.bind(null,n,w),$RX.bind(null,n,"CSS failed to load"))};$RR("`)):ue.push('$RR("')):((ze.instructions&2)===0&&(ze.instructions|=2,ue.push(`$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};
$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};`)),ue.push('$RC("')),ze=We.toString(16),ue.push(ae.boundaryPrefix),ue.push(ze),ue.push('","'),ue.push(ae.segmentPrefix),ue.push(ze),at?(ue.push('",'),ss(ue,_e)):ue.push('"'),_e=ue.push(")<\/script>"),gr(ue,ae)&&_e}function Do(ae,ue,_e,ze){if(ze.status===2)return!0;var We=_e.contentState,at=ze.id;if(at===-1){if((ze.id=_e.rootSegmentID)===-1)throw Error(A(392));return rc(ae,ue,ze,We)}return at===_e.rootSegmentID?rc(ae,ue,ze,We):(rc(ae,ue,ze,We),_e=ae.resumableState,ae=ae.renderState,ue.push(ae.startInlineScript),ue.push(">"),(_e.instructions&1)===0?(_e.instructions|=1,ue.push('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')):ue.push('$RS("'),ue.push(ae.segmentPrefix),at=at.toString(16),ue.push(at),ue.push('","'),ue.push(ae.placeholderPrefix),ue.push(at),ue=ue.push('")<\/script>'),ue)}var Li=!1;function Xo(ae,ue){try{if(!(0<ae.pendingRootTasks)){var _e,ze=ae.completedRootSegment;if(ze!==null){if(ze.status===5)return;var We=ae.completedPreambleSegments;if(We===null)return;vo=ae.byteSize;var at=ae.resumableState,dt=ae.renderState,Vt=dt.preamble,bt=Vt.htmlChunks,Yt=Vt.headChunks,hr;if(bt){for(hr=0;hr<bt.length;hr++)ue.push(bt[hr]);if(Yt)for(hr=0;hr<Yt.length;hr++)ue.push(Yt[hr]);else{var ar=Or("head");ue.push(ar),ue.push(">")}}else if(Yt)for(hr=0;hr<Yt.length;hr++)ue.push(Yt[hr]);var Dr=dt.charsetChunks;for(hr=0;hr<Dr.length;hr++)ue.push(Dr[hr]);Dr.length=0,dt.preconnects.forEach(Fr,ue),dt.preconnects.clear();var on=dt.viewportChunks;for(hr=0;hr<on.length;hr++)ue.push(on[hr]);on.length=0,dt.fontPreloads.forEach(Fr,ue),dt.fontPreloads.clear(),dt.highImagePreloads.forEach(Fr,ue),dt.highImagePreloads.clear(),Ct=dt,dt.styles.forEach(Sn,ue),Ct=null;var Xn=dt.importMapChunks;for(hr=0;hr<Xn.length;hr++)ue.push(Xn[hr]);Xn.length=0,dt.bootstrapScripts.forEach(Fr,ue),dt.scripts.forEach(Fr,ue),dt.scripts.clear(),dt.bulkPreloads.forEach(Fr,ue),dt.bulkPreloads.clear(),at.instructions|=32;var Mn=dt.hoistableChunks;for(hr=0;hr<Mn.length;hr++)ue.push(Mn[hr]);for(at=Mn.length=0;at<We.length;at++){var In=We[at];for(dt=0;dt<In.length;dt++)bo(ae,ue,In[dt],null)}var On=ae.renderState.preamble,Fn=On.headChunks;if(On.htmlChunks||Fn){var Ea=Wr("head");ue.push(Ea)}var Wa=On.bodyChunks;if(Wa)for(We=0;We<Wa.length;We++)ue.push(Wa[We]);bo(ae,ue,ze,null),ae.completedRootSegment=null;var ia=ae.renderState;if(ae.allPendingTasks!==0||ae.clientRenderedBoundaries.length!==0||ae.completedBoundaries.length!==0||ae.trackedPostpones!==null&&(ae.trackedPostpones.rootNodes.length!==0||ae.trackedPostpones.rootSlots!==null)){var oa=ae.resumableState;if((oa.instructions&64)===0){if(oa.instructions|=64,ue.push(ia.startInlineScript),(oa.instructions&32)===0){oa.instructions|=32;var da="_"+oa.idPrefix+"R_";ue.push(' id="');var Ua=ut(da);ue.push(Ua),ue.push('"')}ue.push(">"),ue.push("requestAnimationFrame(function(){$RT=performance.now()});"),ue.push("<\/script>")}}gr(ue,ia)}var ua=ae.renderState;ze=0;var cs=ua.viewportChunks;for(ze=0;ze<cs.length;ze++)ue.push(cs[ze]);cs.length=0,ua.preconnects.forEach(Fr,ue),ua.preconnects.clear(),ua.fontPreloads.forEach(Fr,ue),ua.fontPreloads.clear(),ua.highImagePreloads.forEach(Fr,ue),ua.highImagePreloads.clear(),ua.styles.forEach(Qa,ue),ua.scripts.forEach(Fr,ue),ua.scripts.clear(),ua.bulkPreloads.forEach(Fr,ue),ua.bulkPreloads.clear();var ja=ua.hoistableChunks;for(ze=0;ze<ja.length;ze++)ue.push(ja[ze]);ja.length=0;var es=ae.clientRenderedBoundaries;for(_e=0;_e<es.length;_e++){var $a=es[_e];ua=ue;var za=ae.resumableState,Ls=ae.renderState,Ji=$a.rootSegmentID,ri=$a.errorDigest;ua.push(Ls.startInlineScript),ua.push(">"),(za.instructions&4)===0?(za.instructions|=4,ua.push('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("')):ua.push('$RX("'),ua.push(Ls.boundaryPrefix);var Bs=Ji.toString(16);if(ua.push(Bs),ua.push('"'),ri){ua.push(",");var Ci=Hr(ri||"");ua.push(Ci)}var us=ua.push(")<\/script>");if(!us){ae.destination=null,_e++,es.splice(0,_e);return}}es.splice(0,_e);var Vs=ae.completedBoundaries;for(_e=0;_e<Vs.length;_e++)if(!nc(ae,ue,Vs[_e])){ae.destination=null,_e++,Vs.splice(0,_e);return}Vs.splice(0,_e),Li=!0;var Ws=ae.partialBoundaries;for(_e=0;_e<Ws.length;_e++){var rs=Ws[_e];e:{es=ae,$a=ue,vo=rs.byteSize;var fs=rs.completedSegments;for(us=0;us<fs.length;us++)if(!Do(es,$a,rs,fs[us])){us++,fs.splice(0,us);var Ys=!1;break e}fs.splice(0,us);var Pa=rs.row;Pa!==null&&Pa.together&&rs.pendingTasks===1&&(Pa.pendingTasks===1?Ni(es,Pa,Pa.hoistables):Pa.pendingTasks--),Ys=Pr($a,rs.contentState,es.renderState)}if(!Ys){ae.destination=null,_e++,Ws.splice(0,_e);return}}Ws.splice(0,_e),Li=!1;var Us=ae.completedBoundaries;for(_e=0;_e<Us.length;_e++)if(!nc(ae,ue,Us[_e])){ae.destination=null,_e++,Us.splice(0,_e);return}Us.splice(0,_e)}}finally{Li=!1,ae.allPendingTasks===0&&ae.clientRenderedBoundaries.length===0&&ae.completedBoundaries.length===0&&(ae.flushScheduled=!1,_e=ae.resumableState,_e.hasBody&&(Ws=Wr("body"),ue.push(Ws)),_e.hasHtml&&(_e=Wr("html"),ue.push(_e)),ae.status=14,ue.push(null),ae.destination=null)}}function Ai(ae){if(ae.flushScheduled===!1&&ae.pingedTasks.length===0&&ae.destination!==null){ae.flushScheduled=!0;var ue=ae.destination;ue?Xo(ae,ue):ae.flushScheduled=!1}}function Jo(ae,ue){if(ae.status===13)ae.status=14,ue.destroy(ae.fatalError);else if(ae.status!==14&&ae.destination===null){ae.destination=ue;try{Xo(ae,ue)}catch(_e){Es(ae,_e,{}),Mi(ae,_e)}}}function Kc(ae,ue){(ae.status===11||ae.status===10)&&(ae.status=12);try{var _e=ae.abortableTasks;if(0<_e.size){var ze=ue===void 0?Error(A(432)):typeof ue=="object"&&ue!==null&&typeof ue.then=="function"?Error(A(530)):ue;ae.fatalError=ze,_e.forEach(function(We){return Ql(We,ae,ze)}),_e.clear()}ae.destination!==null&&Xo(ae,ae.destination)}catch(We){Es(ae,We,{}),Mi(ae,We)}}function Ms(ae,ue,_e){if(ue===null)_e.rootNodes.push(ae);else{var ze=_e.workingMap,We=ze.get(ue);We===void 0&&(We=[ue[1],ue[2],[],null],ze.set(ue,We),Ms(We,ue[0],_e)),We[2].push(ae)}}function Xi(){}function bl(ae,ue,_e,ze){var We=!1,at=null,dt="",Vt=!1;if(ue=Ft(ue?ue.identifierPrefix:void 0),ae=bu(ae,ue,xs(ue,_e),Xt(0,null,0,null),1/0,Xi,void 0,function(){Vt=!0},void 0,void 0,void 0),ae.flushScheduled=ae.destination!==null,ju(ae),ae.status===10&&(ae.status=11),ae.trackedPostpones===null&&Zl(ae,ae.pendingRootTasks===0),Kc(ae,ze),Jo(ae,{push:function(bt){return bt!==null&&(dt+=bt),!0},destroy:function(bt){We=!0,at=bt}}),We&&at!==ze)throw at;if(!Vt)throw Error(A(426));return dt}return reactDomServerLegacy_browser_production.renderToStaticMarkup=function(ae,ue){return bl(ae,ue,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},reactDomServerLegacy_browser_production.renderToString=function(ae,ue){return bl(ae,ue,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},reactDomServerLegacy_browser_production.version="19.2.0",reactDomServerLegacy_browser_production}var reactDomServer_browser_production={};/**
 * @license React
 * react-dom-server.browser.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomServer_browser_production;function requireReactDomServer_browser_production(){if(hasRequiredReactDomServer_browser_production)return reactDomServer_browser_production;hasRequiredReactDomServer_browser_production=1;var b=requireReact(),R=requireReactDom();function A(ne){var oe="https://react.dev/errors/"+ne;if(1<arguments.length){oe+="?args[]="+encodeURIComponent(arguments[1]);for(var Ne=2;Ne<arguments.length;Ne++)oe+="&args[]="+encodeURIComponent(arguments[Ne])}return"Minified React error #"+ne+"; visit "+oe+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var T=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),Be=Symbol.for("react.scope"),Le=Symbol.for("react.activity"),qe=Symbol.for("react.legacy_hidden"),Ge=Symbol.for("react.memo_cache_sentinel"),$e=Symbol.for("react.view_transition"),Xe=Symbol.iterator;function He(ne){return ne===null||typeof ne!="object"?null:(ne=Xe&&ne[Xe]||ne["@@iterator"],typeof ne=="function"?ne:null)}var Qe=Array.isArray;function st(ne,oe){var Ne=ne.length&3,Ue=ne.length-Ne,Ke=oe;for(oe=0;oe<Ue;){var Ze=ne.charCodeAt(oe)&255|(ne.charCodeAt(++oe)&255)<<8|(ne.charCodeAt(++oe)&255)<<16|(ne.charCodeAt(++oe)&255)<<24;++oe,Ze=3432918353*(Ze&65535)+((3432918353*(Ze>>>16)&65535)<<16)&4294967295,Ze=Ze<<15|Ze>>>17,Ze=461845907*(Ze&65535)+((461845907*(Ze>>>16)&65535)<<16)&4294967295,Ke^=Ze,Ke=Ke<<13|Ke>>>19,Ke=5*(Ke&65535)+((5*(Ke>>>16)&65535)<<16)&4294967295,Ke=(Ke&65535)+27492+(((Ke>>>16)+58964&65535)<<16)}switch(Ze=0,Ne){case 3:Ze^=(ne.charCodeAt(oe+2)&255)<<16;case 2:Ze^=(ne.charCodeAt(oe+1)&255)<<8;case 1:Ze^=ne.charCodeAt(oe)&255,Ze=3432918353*(Ze&65535)+((3432918353*(Ze>>>16)&65535)<<16)&4294967295,Ze=Ze<<15|Ze>>>17,Ke^=461845907*(Ze&65535)+((461845907*(Ze>>>16)&65535)<<16)&4294967295}return Ke^=ne.length,Ke^=Ke>>>16,Ke=2246822507*(Ke&65535)+((2246822507*(Ke>>>16)&65535)<<16)&4294967295,Ke^=Ke>>>13,Ke=3266489909*(Ke&65535)+((3266489909*(Ke>>>16)&65535)<<16)&4294967295,(Ke^Ke>>>16)>>>0}var ct=new MessageChannel,gt=[];ct.port1.onmessage=function(){var ne=gt.shift();ne&&ne()};function Nt(ne){gt.push(ne),ct.port2.postMessage(null)}function Ot(ne){setTimeout(function(){throw ne})}var Tt=Promise,ir=typeof queueMicrotask=="function"?queueMicrotask:function(ne){Tt.resolve(null).then(ne).catch(Ot)},At=null,It=0;function Je(ne,oe){if(oe.byteLength!==0)if(2048<oe.byteLength)0<It&&(ne.enqueue(new Uint8Array(At.buffer,0,It)),At=new Uint8Array(2048),It=0),ne.enqueue(oe);else{var Ne=At.length-It;Ne<oe.byteLength&&(Ne===0?ne.enqueue(At):(At.set(oe.subarray(0,Ne),It),ne.enqueue(At),oe=oe.subarray(Ne)),At=new Uint8Array(2048),It=0),At.set(oe,It),It+=oe.byteLength}}function ut(ne,oe){return Je(ne,oe),!0}function et(ne){At&&0<It&&(ne.enqueue(new Uint8Array(At.buffer,0,It)),At=null,It=0)}var lt=new TextEncoder;function rt(ne){return lt.encode(ne)}function nt(ne){return lt.encode(ne)}function kt(ne){return ne.byteLength}function Zt(ne,oe){typeof ne.error=="function"?ne.error(oe):ne.close()}var Ar=Object.assign,ft=Object.prototype.hasOwnProperty,mt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ct={},xr={};function er(ne){return ft.call(xr,ne)?!0:ft.call(Ct,ne)?!1:mt.test(ne)?xr[ne]=!0:(Ct[ne]=!0,!1)}var Ft=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),Xt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),it=/["'&<>]/;function jt(ne){if(typeof ne=="boolean"||typeof ne=="number"||typeof ne=="bigint")return""+ne;ne=""+ne;var oe=it.exec(ne);if(oe){var Ne="",Ue,Ke=0;for(Ue=oe.index;Ue<ne.length;Ue++){switch(ne.charCodeAt(Ue)){case 34:oe="&quot;";break;case 38:oe="&amp;";break;case 39:oe="&#x27;";break;case 60:oe="&lt;";break;case 62:oe="&gt;";break;default:continue}Ke!==Ue&&(Ne+=ne.slice(Ke,Ue)),Ke=Ue+1,Ne+=oe}ne=Ke!==Ue?Ne+ne.slice(Ke,Ue):Ne}return ne}var or=/([A-Z])/g,Er=/^ms-/,mr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zr(ne){return mr.test(""+ne)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":ne}var nn=b.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Sr=R.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Zr={pending:!1,data:null,method:null,action:null},un=Sr.d;Sr.d={f:un.f,r:un.r,D:Ql,C:Zl,L:ec,m:tc,X:yo,S:vl,M:ju};var Xr=[],an=null;nt('"></template>');var vn=nt("<script"),rn=nt("<\/script>"),pn=nt('<script src="'),sa=nt('<script type="module" src="'),Hn=nt(' nonce="'),bn=nt(' integrity="'),nr=nt(' crossorigin="'),Br=nt(' async=""><\/script>'),pt=nt("<style"),$t=/(<\/|<)(s)(cript)/gi;function Bt(ne,oe,Ne,Ue){return""+oe+(Ne==="s"?"\\u0073":"\\u0053")+Ue}var Pt=nt('<script type="importmap">'),Wt=nt("<\/script>");function Mt(ne,oe,Ne,Ue,Ke,Ze){Ne=typeof oe=="string"?oe:oe&&oe.script;var ot=Ne===void 0?vn:nt('<script nonce="'+jt(Ne)+'"'),Rt=typeof oe=="string"?void 0:oe&&oe.style,xt=Rt===void 0?pt:nt('<style nonce="'+jt(Rt)+'"'),_t=ne.idPrefix,Ht=[],Jt=ne.bootstrapScriptContent,Cr=ne.bootstrapScripts,Tr=ne.bootstrapModules;if(Jt!==void 0&&(Ht.push(ot),Wi(Ht,ne),Ht.push(ea,rt((""+Jt).replace($t,Bt)),rn)),Jt=[],Ue!==void 0&&(Jt.push(Pt),Jt.push(rt((""+JSON.stringify(Ue)).replace($t,Bt))),Jt.push(Wt)),Ue=Ke?{preconnects:"",fontPreloads:"",highImagePreloads:"",remainingCapacity:2+(typeof Ze=="number"?Ze:2e3)}:null,Ke={placeholderPrefix:nt(_t+"P:"),segmentPrefix:nt(_t+"S:"),boundaryPrefix:nt(_t+"B:"),startInlineScript:ot,startInlineStyle:xt,preamble:Or(),externalRuntimeScript:null,bootstrapChunks:Ht,importMapChunks:Jt,onHeaders:Ke,headers:Ue,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:new Set,fontPreloads:new Set,highImagePreloads:new Set,styles:new Map,bootstrapScripts:new Set,scripts:new Set,bulkPreloads:new Set,preloads:{images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map},nonce:{script:Ne,style:Rt},hoistableState:null,stylesToHoist:!1},Cr!==void 0)for(Ue=0;Ue<Cr.length;Ue++)_t=Cr[Ue],Rt=ot=void 0,xt={rel:"preload",as:"script",fetchPriority:"low",nonce:oe},typeof _t=="string"?xt.href=Ze=_t:(xt.href=Ze=_t.src,xt.integrity=Rt=typeof _t.integrity=="string"?_t.integrity:void 0,xt.crossOrigin=ot=typeof _t=="string"||_t.crossOrigin==null?void 0:_t.crossOrigin==="use-credentials"?"use-credentials":""),_t=ne,Jt=Ze,_t.scriptResources[Jt]=null,_t.moduleScriptResources[Jt]=null,_t=[],hn(_t,xt),Ke.bootstrapScripts.add(_t),Ht.push(pn,rt(jt(Ze)),Qt),Ne&&Ht.push(Hn,rt(jt(Ne)),Qt),typeof Rt=="string"&&Ht.push(bn,rt(jt(Rt)),Qt),typeof ot=="string"&&Ht.push(nr,rt(jt(ot)),Qt),Wi(Ht,ne),Ht.push(Br);if(Tr!==void 0)for(oe=0;oe<Tr.length;oe++)Rt=Tr[oe],Ze=Ue=void 0,ot={rel:"modulepreload",fetchPriority:"low",nonce:Ne},typeof Rt=="string"?ot.href=Cr=Rt:(ot.href=Cr=Rt.src,ot.integrity=Ze=typeof Rt.integrity=="string"?Rt.integrity:void 0,ot.crossOrigin=Ue=typeof Rt=="string"||Rt.crossOrigin==null?void 0:Rt.crossOrigin==="use-credentials"?"use-credentials":""),Rt=ne,xt=Cr,Rt.scriptResources[xt]=null,Rt.moduleScriptResources[xt]=null,Rt=[],hn(Rt,ot),Ke.bootstrapScripts.add(Rt),Ht.push(sa,rt(jt(Cr)),Qt),Ne&&Ht.push(Hn,rt(jt(Ne)),Qt),typeof Ze=="string"&&Ht.push(bn,rt(jt(Ze)),Qt),typeof Ue=="string"&&Ht.push(nr,rt(jt(Ue)),Qt),Wi(Ht,ne),Ht.push(Br);return Ke}function wr(ne,oe,Ne,Ue,Ke){return{idPrefix:ne===void 0?"":ne,nextFormID:0,streamingFormat:0,bootstrapScriptContent:Ne,bootstrapScripts:Ue,bootstrapModules:Ke,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}}}function Or(){return{htmlChunks:null,headChunks:null,bodyChunks:null}}function ur(ne,oe,Ne,Ue){return{insertionMode:ne,selectedValue:oe,tagScope:Ne,viewTransition:Ue}}function Ur(ne){return ur(ne==="http://www.w3.org/2000/svg"?4:ne==="http://www.w3.org/1998/Math/MathML"?5:0,null,0,null)}function Wr(ne,oe,Ne){var Ue=ne.tagScope&-25;switch(oe){case"noscript":return ur(2,null,Ue|1,null);case"select":return ur(2,Ne.value!=null?Ne.value:Ne.defaultValue,Ue,null);case"svg":return ur(4,null,Ue,null);case"picture":return ur(2,null,Ue|2,null);case"math":return ur(5,null,Ue,null);case"foreignObject":return ur(2,null,Ue,null);case"table":return ur(6,null,Ue,null);case"thead":case"tbody":case"tfoot":return ur(7,null,Ue,null);case"colgroup":return ur(9,null,Ue,null);case"tr":return ur(8,null,Ue,null);case"head":if(2>ne.insertionMode)return ur(3,null,Ue,null);break;case"html":if(ne.insertionMode===0)return ur(1,null,Ue,null)}return 6<=ne.insertionMode||2>ne.insertionMode?ur(2,null,Ue,null):ne.tagScope!==Ue?ur(ne.insertionMode,ne.selectedValue,Ue,null):ne}function Kr(ne){return ne===null?null:{update:ne.update,enter:"none",exit:"none",share:ne.update,name:ne.autoName,autoName:ne.autoName,nameIdx:0}}function gr(ne,oe){return oe.tagScope&32&&(ne.instructions|=128),ur(oe.insertionMode,oe.selectedValue,oe.tagScope|12,Kr(oe.viewTransition))}function Rr(ne,oe){ne=Kr(oe.viewTransition);var Ne=oe.tagScope|16;return ne!==null&&ne.share!=="none"&&(Ne|=64),ur(oe.insertionMode,oe.selectedValue,Ne,ne)}var Qr=nt("<!-- -->");function kn(ne,oe,Ne,Ue){return oe===""?Ue:(Ue&&ne.push(Qr),ne.push(rt(jt(oe))),!0)}var Yn=new Map,Hr=nt(' style="'),Ir=nt(":"),tn=nt(";");function Mr(ne,oe){if(typeof oe!="object")throw Error(A(62));var Ne=!0,Ue;for(Ue in oe)if(ft.call(oe,Ue)){var Ke=oe[Ue];if(Ke!=null&&typeof Ke!="boolean"&&Ke!==""){if(Ue.indexOf("--")===0){var Ze=rt(jt(Ue));Ke=rt(jt((""+Ke).trim()))}else Ze=Yn.get(Ue),Ze===void 0&&(Ze=nt(jt(Ue.replace(or,"-$1").toLowerCase().replace(Er,"-ms-"))),Yn.set(Ue,Ze)),Ke=typeof Ke=="number"?Ke===0||Ft.has(Ue)?rt(""+Ke):rt(Ke+"px"):rt(jt((""+Ke).trim()));Ne?(Ne=!1,ne.push(Hr,Ze,Ir,Ke)):ne.push(tn,Ze,Ir,Ke)}}Ne||ne.push(Qt)}var Jr=nt(" "),mn=nt('="'),Qt=nt('"'),Pr=nt('=""');function Fr(ne,oe,Ne){Ne&&typeof Ne!="function"&&typeof Ne!="symbol"&&ne.push(Jr,rt(oe),Pr)}function Yr(ne,oe,Ne){typeof Ne!="function"&&typeof Ne!="symbol"&&typeof Ne!="boolean"&&ne.push(Jr,rt(oe),mn,rt(jt(Ne)),Qt)}var Tn=nt(jt("javascript:throw new Error('React form unexpectedly submitted.')")),Sn=nt('<input type="hidden"');function Va(ne,oe){this.push(Sn),Qa(ne),Yr(this,"name",oe),Yr(this,"value",ne),this.push(Oa)}function Qa(ne){if(typeof ne!="string")throw Error(A(480))}function Dn(ne,oe){if(typeof oe.$$FORM_ACTION=="function"){var Ne=ne.nextFormID++;ne=ne.idPrefix+Ne;try{var Ue=oe.$$FORM_ACTION(ne);if(Ue){var Ke=Ue.data;Ke?.forEach(Qa)}return Ue}catch(Ze){if(typeof Ze=="object"&&Ze!==null&&typeof Ze.then=="function")throw Ze}}return null}function ss(ne,oe,Ne,Ue,Ke,Ze,ot,Rt){var xt=null;if(typeof Ue=="function"){var _t=Dn(oe,Ue);_t!==null?(Rt=_t.name,Ue=_t.action||"",Ke=_t.encType,Ze=_t.method,ot=_t.target,xt=_t.data):(ne.push(Jr,rt("formAction"),mn,Tn,Qt),ot=Ze=Ke=Ue=Rt=null,jr(oe,Ne))}return Rt!=null&&$n(ne,"name",Rt),Ue!=null&&$n(ne,"formAction",Ue),Ke!=null&&$n(ne,"formEncType",Ke),Ze!=null&&$n(ne,"formMethod",Ze),ot!=null&&$n(ne,"formTarget",ot),xt}function $n(ne,oe,Ne){switch(oe){case"className":Yr(ne,"class",Ne);break;case"tabIndex":Yr(ne,"tabindex",Ne);break;case"dir":case"role":case"viewBox":case"width":case"height":Yr(ne,oe,Ne);break;case"style":Mr(ne,Ne);break;case"src":case"href":if(Ne==="")break;case"action":case"formAction":if(Ne==null||typeof Ne=="function"||typeof Ne=="symbol"||typeof Ne=="boolean")break;Ne=zr(""+Ne),ne.push(Jr,rt(oe),mn,rt(jt(Ne)),Qt);break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":Fr(ne,oe.toLowerCase(),Ne);break;case"xlinkHref":if(typeof Ne=="function"||typeof Ne=="symbol"||typeof Ne=="boolean")break;Ne=zr(""+Ne),ne.push(Jr,rt("xlink:href"),mn,rt(jt(Ne)),Qt);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":typeof Ne!="function"&&typeof Ne!="symbol"&&ne.push(Jr,rt(oe),mn,rt(jt(Ne)),Qt);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":Ne&&typeof Ne!="function"&&typeof Ne!="symbol"&&ne.push(Jr,rt(oe),Pr);break;case"capture":case"download":Ne===!0?ne.push(Jr,rt(oe),Pr):Ne!==!1&&typeof Ne!="function"&&typeof Ne!="symbol"&&ne.push(Jr,rt(oe),mn,rt(jt(Ne)),Qt);break;case"cols":case"rows":case"size":case"span":typeof Ne!="function"&&typeof Ne!="symbol"&&!isNaN(Ne)&&1<=Ne&&ne.push(Jr,rt(oe),mn,rt(jt(Ne)),Qt);break;case"rowSpan":case"start":typeof Ne=="function"||typeof Ne=="symbol"||isNaN(Ne)||ne.push(Jr,rt(oe),mn,rt(jt(Ne)),Qt);break;case"xlinkActuate":Yr(ne,"xlink:actuate",Ne);break;case"xlinkArcrole":Yr(ne,"xlink:arcrole",Ne);break;case"xlinkRole":Yr(ne,"xlink:role",Ne);break;case"xlinkShow":Yr(ne,"xlink:show",Ne);break;case"xlinkTitle":Yr(ne,"xlink:title",Ne);break;case"xlinkType":Yr(ne,"xlink:type",Ne);break;case"xmlBase":Yr(ne,"xml:base",Ne);break;case"xmlLang":Yr(ne,"xml:lang",Ne);break;case"xmlSpace":Yr(ne,"xml:space",Ne);break;default:if((!(2<oe.length)||oe[0]!=="o"&&oe[0]!=="O"||oe[1]!=="n"&&oe[1]!=="N")&&(oe=Xt.get(oe)||oe,er(oe))){switch(typeof Ne){case"function":case"symbol":return;case"boolean":var Ue=oe.toLowerCase().slice(0,5);if(Ue!=="data-"&&Ue!=="aria-")return}ne.push(Jr,rt(oe),mn,rt(jt(Ne)),Qt)}}}var ea=nt(">"),Oa=nt("/>");function Gn(ne,oe,Ne){if(oe!=null){if(Ne!=null)throw Error(A(60));if(typeof oe!="object"||!("__html"in oe))throw Error(A(61));oe=oe.__html,oe!=null&&ne.push(rt(""+oe))}}function Da(ne){var oe="";return b.Children.forEach(ne,function(Ne){Ne!=null&&(oe+=Ne)}),oe}var Et=nt(' selected=""'),pr=nt(`addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error('React form unexpectedly submitted.')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});`);function jr(ne,oe){if((ne.instructions&16)===0){ne.instructions|=16;var Ne=oe.preamble,Ue=oe.bootstrapChunks;(Ne.htmlChunks||Ne.headChunks)&&Ue.length===0?(Ue.push(oe.startInlineScript),Wi(Ue,ne),Ue.push(ea,pr,rn)):Ue.unshift(oe.startInlineScript,ea,pr,rn)}}var wn=nt("<!--F!-->"),Bn=nt("<!--F-->");function hn(ne,oe){ne.push(ma("link"));for(var Ne in oe)if(ft.call(oe,Ne)){var Ue=oe[Ne];if(Ue!=null)switch(Ne){case"children":case"dangerouslySetInnerHTML":throw Error(A(399,"link"));default:$n(ne,Ne,Ue)}}return ne.push(Oa),null}var Sa=/(<\/|<)(s)(tyle)/gi;function va(ne,oe,Ne,Ue){return""+oe+(Ne==="s"?"\\73 ":"\\53 ")+Ue}function ya(ne,oe,Ne){ne.push(ma(Ne));for(var Ue in oe)if(ft.call(oe,Ue)){var Ke=oe[Ue];if(Ke!=null)switch(Ue){case"children":case"dangerouslySetInnerHTML":throw Error(A(399,Ne));default:$n(ne,Ue,Ke)}}return ne.push(Oa),null}function Ns(ne,oe){ne.push(ma("title"));var Ne=null,Ue=null,Ke;for(Ke in oe)if(ft.call(oe,Ke)){var Ze=oe[Ke];if(Ze!=null)switch(Ke){case"children":Ne=Ze;break;case"dangerouslySetInnerHTML":Ue=Ze;break;default:$n(ne,Ke,Ze)}}return ne.push(ea),oe=Array.isArray(Ne)?2>Ne.length?Ne[0]:null:Ne,typeof oe!="function"&&typeof oe!="symbol"&&oe!==null&&oe!==void 0&&ne.push(rt(jt(""+oe))),Gn(ne,Ue,Ne),ne.push(ti("title")),null}var os=nt("<!--head-->"),Gs=nt("<!--body-->"),Ra=nt("<!--html-->");function xs(ne,oe){ne.push(ma("script"));var Ne=null,Ue=null,Ke;for(Ke in oe)if(ft.call(oe,Ke)){var Ze=oe[Ke];if(Ze!=null)switch(Ke){case"children":Ne=Ze;break;case"dangerouslySetInnerHTML":Ue=Ze;break;default:$n(ne,Ke,Ze)}}return ne.push(ea),Gn(ne,Ue,Ne),typeof Ne=="string"&&ne.push(rt((""+Ne).replace($t,Bt))),ne.push(ti("script")),null}function ls(ne,oe,Ne){ne.push(ma(Ne));var Ue=Ne=null,Ke;for(Ke in oe)if(ft.call(oe,Ke)){var Ze=oe[Ke];if(Ze!=null)switch(Ke){case"children":Ne=Ze;break;case"dangerouslySetInnerHTML":Ue=Ze;break;default:$n(ne,Ke,Ze)}}return ne.push(ea),Gn(ne,Ue,Ne),Ne}function Ks(ne,oe,Ne){ne.push(ma(Ne));var Ue=Ne=null,Ke;for(Ke in oe)if(ft.call(oe,Ke)){var Ze=oe[Ke];if(Ze!=null)switch(Ke){case"children":Ne=Ze;break;case"dangerouslySetInnerHTML":Ue=Ze;break;default:$n(ne,Ke,Ze)}}return ne.push(ea),Gn(ne,Ue,Ne),typeof Ne=="string"?(ne.push(rt(jt(Ne))),null):Ne}var Kn=nt(`
`),Nn=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ba=new Map;function ma(ne){var oe=ba.get(ne);if(oe===void 0){if(!Nn.test(ne))throw Error(A(65,ne));oe=nt("<"+ne),ba.set(ne,oe)}return oe}var bs=nt("<!DOCTYPE html>");function Na(ne,oe,Ne,Ue,Ke,Ze,ot,Rt,xt){switch(oe){case"div":case"span":case"svg":case"path":break;case"a":ne.push(ma("a"));var _t=null,Ht=null,Jt;for(Jt in Ne)if(ft.call(Ne,Jt)){var Cr=Ne[Jt];if(Cr!=null)switch(Jt){case"children":_t=Cr;break;case"dangerouslySetInnerHTML":Ht=Cr;break;case"href":Cr===""?Yr(ne,"href",""):$n(ne,Jt,Cr);break;default:$n(ne,Jt,Cr)}}if(ne.push(ea),Gn(ne,Ht,_t),typeof _t=="string"){ne.push(rt(jt(_t)));var Tr=null}else Tr=_t;return Tr;case"g":case"p":case"li":break;case"select":ne.push(ma("select"));var gn=null,qn=null,Pn;for(Pn in Ne)if(ft.call(Ne,Pn)){var en=Ne[Pn];if(en!=null)switch(Pn){case"children":gn=en;break;case"dangerouslySetInnerHTML":qn=en;break;case"defaultValue":case"value":break;default:$n(ne,Pn,en)}}return ne.push(ea),Gn(ne,qn,gn),gn;case"option":var yn=Rt.selectedValue;ne.push(ma("option"));var la=null,Os=null,Ds=null,En=null,vs;for(vs in Ne)if(ft.call(Ne,vs)){var qa=Ne[vs];if(qa!=null)switch(vs){case"children":la=qa;break;case"selected":Ds=qa;break;case"dangerouslySetInnerHTML":En=qa;break;case"value":Os=qa;default:$n(ne,vs,qa)}}if(yn!=null){var hs=Os!==null?""+Os:Da(la);if(Qe(yn)){for(var so=0;so<yn.length;so++)if(""+yn[so]===hs){ne.push(Et);break}}else""+yn===hs&&ne.push(Et)}else Ds&&ne.push(Et);return ne.push(ea),Gn(ne,En,la),la;case"textarea":ne.push(ma("textarea"));var Ln=null,qi=null,Si=null,Ss;for(Ss in Ne)if(ft.call(Ne,Ss)){var fi=Ne[Ss];if(fi!=null)switch(Ss){case"children":Si=fi;break;case"value":Ln=fi;break;case"defaultValue":qi=fi;break;case"dangerouslySetInnerHTML":throw Error(A(91));default:$n(ne,Ss,fi)}}if(Ln===null&&qi!==null&&(Ln=qi),ne.push(ea),Si!=null){if(Ln!=null)throw Error(A(92));if(Qe(Si)){if(1<Si.length)throw Error(A(93));Ln=""+Si[0]}Ln=""+Si}return typeof Ln=="string"&&Ln[0]===`
`&&ne.push(Kn),Ln!==null&&ne.push(rt(jt(""+Ln))),null;case"input":ne.push(ma("input"));var wl=null,Uo=null,io=null,zo=null,Is=null,Aa=null,oo=null,Nl=null,mc=null,_l;for(_l in Ne)if(ft.call(Ne,_l)){var Ps=Ne[_l];if(Ps!=null)switch(_l){case"children":case"dangerouslySetInnerHTML":throw Error(A(399,"input"));case"name":wl=Ps;break;case"formAction":Uo=Ps;break;case"formEncType":io=Ps;break;case"formMethod":zo=Ps;break;case"formTarget":Is=Ps;break;case"defaultChecked":mc=Ps;break;case"defaultValue":oo=Ps;break;case"checked":Nl=Ps;break;case"value":Aa=Ps;break;default:$n(ne,_l,Ps)}}var Wc=ss(ne,Ue,Ke,Uo,io,zo,Is,wl);return Nl!==null?Fr(ne,"checked",Nl):mc!==null&&Fr(ne,"checked",mc),Aa!==null?$n(ne,"value",Aa):oo!==null&&$n(ne,"value",oo),ne.push(Oa),Wc?.forEach(Va,ne),null;case"button":ne.push(ma("button"));var Al=null,Su=null,Qu=null,Zu=null,ed=null,td=null,rd=null,xc;for(xc in Ne)if(ft.call(Ne,xc)){var lo=Ne[xc];if(lo!=null)switch(xc){case"children":Al=lo;break;case"dangerouslySetInnerHTML":Su=lo;break;case"name":Qu=lo;break;case"formAction":Zu=lo;break;case"formEncType":ed=lo;break;case"formMethod":td=lo;break;case"formTarget":rd=lo;break;default:$n(ne,xc,lo)}}var nd=ss(ne,Ue,Ke,Zu,ed,td,rd,Qu);if(ne.push(ea),nd?.forEach(Va,ne),Gn(ne,Su,Al),typeof Al=="string"){ne.push(rt(jt(Al)));var Bd=null}else Bd=Al;return Bd;case"form":ne.push(ma("form"));var fc=null,ad=null,il=null,Cl=null,pc=null,hc=null,gc;for(gc in Ne)if(ft.call(Ne,gc)){var Fo=Ne[gc];if(Fo!=null)switch(gc){case"children":fc=Fo;break;case"dangerouslySetInnerHTML":ad=Fo;break;case"action":il=Fo;break;case"encType":Cl=Fo;break;case"method":pc=Fo;break;case"target":hc=Fo;break;default:$n(ne,gc,Fo)}}var Ru=null,sd=null;if(typeof il=="function"){var ol=Dn(Ue,il);ol!==null?(il=ol.action||"",Cl=ol.encType,pc=ol.method,hc=ol.target,Ru=ol.data,sd=ol.name):(ne.push(Jr,rt("action"),mn,Tn,Qt),hc=pc=Cl=il=null,jr(Ue,Ke))}if(il!=null&&$n(ne,"action",il),Cl!=null&&$n(ne,"encType",Cl),pc!=null&&$n(ne,"method",pc),hc!=null&&$n(ne,"target",hc),ne.push(ea),sd!==null&&(ne.push(Sn),Yr(ne,"name",sd),ne.push(Oa),Ru?.forEach(Va,ne)),Gn(ne,ad,fc),typeof fc=="string"){ne.push(rt(jt(fc)));var Tl=null}else Tl=fc;return Tl;case"menuitem":ne.push(ma("menuitem"));for(var Yc in Ne)if(ft.call(Ne,Yc)){var Xc=Ne[Yc];if(Xc!=null)switch(Yc){case"children":case"dangerouslySetInnerHTML":throw Error(A(400));default:$n(ne,Yc,Xc)}}return ne.push(ea),null;case"object":ne.push(ma("object"));var ll=null,id=null,Ol;for(Ol in Ne)if(ft.call(Ne,Ol)){var Jc=Ne[Ol];if(Jc!=null)switch(Ol){case"children":ll=Jc;break;case"dangerouslySetInnerHTML":id=Jc;break;case"data":var od=zr(""+Jc);if(od==="")break;ne.push(Jr,rt("data"),mn,rt(jt(od)),Qt);break;default:$n(ne,Ol,Jc)}}if(ne.push(ea),Gn(ne,id,ll),typeof ll=="string"){ne.push(rt(jt(ll)));var ld=null}else ld=ll;return ld;case"title":var Ud=Rt.tagScope&1,zd=Rt.tagScope&4;if(Rt.insertionMode===4||Ud||Ne.itemProp!=null)var wu=Ns(ne,Ne);else zd?wu=null:(Ns(Ke.hoistableChunks,Ne),wu=void 0);return wu;case"link":var cd=Rt.tagScope&1,Fd=Rt.tagScope&4,qd=Ne.rel,Ro=Ne.href,Qc=Ne.precedence;if(Rt.insertionMode===4||cd||Ne.itemProp!=null||typeof qd!="string"||typeof Ro!="string"||Ro===""){hn(ne,Ne);var yc=null}else if(Ne.rel==="stylesheet")if(typeof Qc!="string"||Ne.disabled!=null||Ne.onLoad||Ne.onError)yc=hn(ne,Ne);else{var vc=Ke.styles.get(Qc),bc=Ue.styleResources.hasOwnProperty(Ro)?Ue.styleResources[Ro]:void 0;if(bc!==null){Ue.styleResources[Ro]=null,vc||(vc={precedence:rt(jt(Qc)),rules:[],hrefs:[],sheets:new Map},Ke.styles.set(Qc,vc));var Zc={state:0,props:Ar({},Ne,{"data-precedence":Ne.precedence,precedence:null})};if(bc){bc.length===2&&To(Zc.props,bc);var Nu=Ke.preloads.stylesheets.get(Ro);Nu&&0<Nu.length?Nu.length=0:Zc.state=1}vc.sheets.set(Ro,Zc),ot&&ot.stylesheets.add(Zc)}else if(vc){var _u=vc.sheets.get(Ro);_u&&ot&&ot.stylesheets.add(_u)}xt&&ne.push(Qr),yc=null}else Ne.onLoad||Ne.onError?yc=hn(ne,Ne):(xt&&ne.push(Qr),yc=Fd?null:hn(Ke.hoistableChunks,Ne));return yc;case"script":var Hd=Rt.tagScope&1,Au=Ne.async;if(typeof Ne.src!="string"||!Ne.src||!Au||typeof Au=="function"||typeof Au=="symbol"||Ne.onLoad||Ne.onError||Rt.insertionMode===4||Hd||Ne.itemProp!=null)var $d=xs(ne,Ne);else{var Cu=Ne.src;if(Ne.type==="module")var eu=Ue.moduleScriptResources,Ec=Ke.preloads.moduleScripts;else eu=Ue.scriptResources,Ec=Ke.preloads.scripts;var jc=eu.hasOwnProperty(Cu)?eu[Cu]:void 0;if(jc!==null){eu[Cu]=null;var Sc=Ne;if(jc){jc.length===2&&(Sc=Ar({},Ne),To(Sc,jc));var ud=Ec.get(Cu);ud&&(ud.length=0)}var dd=[];Ke.scripts.add(dd),xs(dd,Sc)}xt&&ne.push(Qr),$d=null}return $d;case"style":var tu=Rt.tagScope&1,ru=Ne.precedence,cl=Ne.href,Gd=Ne.nonce;if(Rt.insertionMode===4||tu||Ne.itemProp!=null||typeof ru!="string"||typeof cl!="string"||cl===""){ne.push(ma("style"));var ul=null,Tu=null,Rc;for(Rc in Ne)if(ft.call(Ne,Rc)){var nu=Ne[Rc];if(nu!=null)switch(Rc){case"children":ul=nu;break;case"dangerouslySetInnerHTML":Tu=nu;break;default:$n(ne,Rc,nu)}}ne.push(ea);var co=Array.isArray(ul)?2>ul.length?ul[0]:null:ul;typeof co!="function"&&typeof co!="symbol"&&co!==null&&co!==void 0&&ne.push(rt((""+co).replace(Sa,va))),Gn(ne,Tu,ul),ne.push(ti("style"));var md=null}else{var dl=Ke.styles.get(ru);if((Ue.styleResources.hasOwnProperty(cl)?Ue.styleResources[cl]:void 0)!==null){Ue.styleResources[cl]=null,dl||(dl={precedence:rt(jt(ru)),rules:[],hrefs:[],sheets:new Map},Ke.styles.set(ru,dl));var xd=Ke.nonce.style;if(!xd||xd===Gd){dl.hrefs.push(rt(jt(cl)));var au=dl.rules,Dl=null,Ou=null,su;for(su in Ne)if(ft.call(Ne,su)){var Du=Ne[su];if(Du!=null)switch(su){case"children":Dl=Du;break;case"dangerouslySetInnerHTML":Ou=Du}}var iu=Array.isArray(Dl)?2>Dl.length?Dl[0]:null:Dl;typeof iu!="function"&&typeof iu!="symbol"&&iu!==null&&iu!==void 0&&au.push(rt((""+iu).replace(Sa,va))),Gn(au,Ou,Dl)}}dl&&ot&&ot.styles.add(dl),xt&&ne.push(Qr),md=void 0}return md;case"meta":var fd=Rt.tagScope&1,Rs=Rt.tagScope&4;if(Rt.insertionMode===4||fd||Ne.itemProp!=null)var qs=ya(ne,Ne,"meta");else xt&&ne.push(Qr),qs=Rs?null:typeof Ne.charSet=="string"?ya(Ke.charsetChunks,Ne,"meta"):Ne.name==="viewport"?ya(Ke.viewportChunks,Ne,"meta"):ya(Ke.hoistableChunks,Ne,"meta");return qs;case"listing":case"pre":ne.push(ma(oe));var wc=null,Nc=null,_c;for(_c in Ne)if(ft.call(Ne,_c)){var ou=Ne[_c];if(ou!=null)switch(_c){case"children":wc=ou;break;case"dangerouslySetInnerHTML":Nc=ou;break;default:$n(ne,_c,ou)}}if(ne.push(ea),Nc!=null){if(wc!=null)throw Error(A(60));if(typeof Nc!="object"||!("__html"in Nc))throw Error(A(61));var uo=Nc.__html;uo!=null&&(typeof uo=="string"&&0<uo.length&&uo[0]===`
`?ne.push(Kn,rt(uo)):ne.push(rt(""+uo)))}return typeof wc=="string"&&wc[0]===`
`&&ne.push(Kn),wc;case"img":var Kd=Rt.tagScope&3,ks=Ne.src,Hs=Ne.srcSet;if(!(Ne.loading==="lazy"||!ks&&!Hs||typeof ks!="string"&&ks!=null||typeof Hs!="string"&&Hs!=null||Ne.fetchPriority==="low"||Kd)&&(typeof ks!="string"||ks[4]!==":"||ks[0]!=="d"&&ks[0]!=="D"||ks[1]!=="a"&&ks[1]!=="A"||ks[2]!=="t"&&ks[2]!=="T"||ks[3]!=="a"&&ks[3]!=="A")&&(typeof Hs!="string"||Hs[4]!==":"||Hs[0]!=="d"&&Hs[0]!=="D"||Hs[1]!=="a"&&Hs[1]!=="A"||Hs[2]!=="t"&&Hs[2]!=="T"||Hs[3]!=="a"&&Hs[3]!=="A")){ot!==null&&Rt.tagScope&64&&(ot.suspenseyImages=!0);var Vd=typeof Ne.sizes=="string"?Ne.sizes:void 0,qo=Hs?Hs+`
`+(Vd||""):ks,lu=Ke.preloads.images,ml=lu.get(qo);if(ml)(Ne.fetchPriority==="high"||10>Ke.highImagePreloads.size)&&(lu.delete(qo),Ke.highImagePreloads.add(ml));else if(!Ue.imageResources.hasOwnProperty(qo)){Ue.imageResources[qo]=Xr;var Iu=Ne.crossOrigin,pd=typeof Iu=="string"?Iu==="use-credentials"?Iu:"":void 0,Ho=Ke.headers,cu;Ho&&0<Ho.remainingCapacity&&typeof Ne.srcSet!="string"&&(Ne.fetchPriority==="high"||500>Ho.highImagePreloads.length)&&(cu=As(ks,"image",{imageSrcSet:Ne.srcSet,imageSizes:Ne.sizes,crossOrigin:pd,integrity:Ne.integrity,nonce:Ne.nonce,type:Ne.type,fetchPriority:Ne.fetchPriority,referrerPolicy:Ne.refererPolicy}),0<=(Ho.remainingCapacity-=cu.length+2))?(Ke.resets.image[qo]=Xr,Ho.highImagePreloads&&(Ho.highImagePreloads+=", "),Ho.highImagePreloads+=cu):(ml=[],hn(ml,{rel:"preload",as:"image",href:Hs?void 0:ks,imageSrcSet:Hs,imageSizes:Vd,crossOrigin:pd,integrity:Ne.integrity,type:Ne.type,fetchPriority:Ne.fetchPriority,referrerPolicy:Ne.referrerPolicy}),Ne.fetchPriority==="high"||10>Ke.highImagePreloads.size?Ke.highImagePreloads.add(ml):(Ke.bulkPreloads.add(ml),lu.set(qo,ml)))}}return ya(ne,Ne,"img");case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return ya(ne,Ne,oe);case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"head":if(2>Rt.insertionMode){var uu=Ze||Ke.preamble;if(uu.headChunks)throw Error(A(545,"`<head>`"));Ze!==null&&ne.push(os),uu.headChunks=[];var hd=ls(uu.headChunks,Ne,"head")}else hd=Ks(ne,Ne,"head");return hd;case"body":if(2>Rt.insertionMode){var du=Ze||Ke.preamble;if(du.bodyChunks)throw Error(A(545,"`<body>`"));Ze!==null&&ne.push(Gs),du.bodyChunks=[];var mu=ls(du.bodyChunks,Ne,"body")}else mu=Ks(ne,Ne,"body");return mu;case"html":if(Rt.insertionMode===0){var xu=Ze||Ke.preamble;if(xu.htmlChunks)throw Error(A(545,"`<html>`"));Ze!==null&&ne.push(Ra),xu.htmlChunks=[bs];var gd=ls(xu.htmlChunks,Ne,"html")}else gd=Ks(ne,Ne,"html");return gd;default:if(oe.indexOf("-")!==-1){ne.push(ma(oe));var fu=null,yd=null,Ri;for(Ri in Ne)if(ft.call(Ne,Ri)){var ki=Ne[Ri];if(ki!=null){var Wd=Ri;switch(Ri){case"children":fu=ki;break;case"dangerouslySetInnerHTML":yd=ki;break;case"style":Mr(ne,ki);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"className":Wd="class";default:if(er(Ri)&&typeof ki!="function"&&typeof ki!="symbol"&&ki!==!1){if(ki===!0)ki="";else if(typeof ki=="object")continue;ne.push(Jr,rt(Wd),mn,rt(jt(ki)),Qt)}}}}return ne.push(ea),Gn(ne,yd,fu),fu}}return Ks(ne,Ne,oe)}var wi=new Map;function ti(ne){var oe=wi.get(ne);return oe===void 0&&(oe=nt("</"+ne+">"),wi.set(ne,oe)),oe}function wt(ne,oe){ne=ne.preamble,ne.htmlChunks===null&&oe.htmlChunks&&(ne.htmlChunks=oe.htmlChunks),ne.headChunks===null&&oe.headChunks&&(ne.headChunks=oe.headChunks),ne.bodyChunks===null&&oe.bodyChunks&&(ne.bodyChunks=oe.bodyChunks)}function Lt(ne,oe){oe=oe.bootstrapChunks;for(var Ne=0;Ne<oe.length-1;Ne++)Je(ne,oe[Ne]);return Ne<oe.length?(Ne=oe[Ne],oe.length=0,ut(ne,Ne)):!0}var tr=nt("requestAnimationFrame(function(){$RT=performance.now()});"),Nr=nt('<template id="'),sr=nt('"></template>'),lr=nt("<!--&-->"),cr=nt("<!--/&-->"),yr=nt("<!--$-->"),$r=nt('<!--$?--><template id="'),Gr=nt('"></template>'),qr=nt("<!--$!-->"),sn=nt("<!--/$-->"),Jn=nt("<template"),Un=nt('"'),wa=nt(' data-dgst="');nt(' data-msg="'),nt(' data-stck="'),nt(' data-cstck="');var Ha=nt("></template>");function Za(ne,oe,Ne){if(Je(ne,$r),Ne===null)throw Error(A(395));return Je(ne,oe.boundaryPrefix),Je(ne,rt(Ne.toString(16))),ut(ne,Gr)}var Qn=nt('<div hidden id="'),ta=nt('">'),pa=nt("</div>"),xn=nt('<svg aria-hidden="true" style="display:none" id="'),ca=nt('">'),Vr=nt("</svg>"),Ye=nt('<math aria-hidden="true" style="display:none" id="'),yt=nt('">'),vt=nt("</math>"),Gt=nt('<table hidden id="'),br=nt('">'),_r=nt("</table>"),Lr=nt('<table hidden><tbody id="'),Rn=nt('">'),Cn=nt("</tbody></table>"),zn=nt('<table hidden><tr id="'),ra=nt('">'),na=nt("</tr></table>"),Zn=nt('<table hidden><colgroup id="'),Ia=nt('">'),_n=nt("</colgroup></table>");function dn(ne,oe,Ne,Ue){switch(Ne.insertionMode){case 0:case 1:case 3:case 2:return Je(ne,Qn),Je(ne,oe.segmentPrefix),Je(ne,rt(Ue.toString(16))),ut(ne,ta);case 4:return Je(ne,xn),Je(ne,oe.segmentPrefix),Je(ne,rt(Ue.toString(16))),ut(ne,ca);case 5:return Je(ne,Ye),Je(ne,oe.segmentPrefix),Je(ne,rt(Ue.toString(16))),ut(ne,yt);case 6:return Je(ne,Gt),Je(ne,oe.segmentPrefix),Je(ne,rt(Ue.toString(16))),ut(ne,br);case 7:return Je(ne,Lr),Je(ne,oe.segmentPrefix),Je(ne,rt(Ue.toString(16))),ut(ne,Rn);case 8:return Je(ne,zn),Je(ne,oe.segmentPrefix),Je(ne,rt(Ue.toString(16))),ut(ne,ra);case 9:return Je(ne,Zn),Je(ne,oe.segmentPrefix),Je(ne,rt(Ue.toString(16))),ut(ne,Ia);default:throw Error(A(397))}}function Vn(ne,oe){switch(oe.insertionMode){case 0:case 1:case 3:case 2:return ut(ne,pa);case 4:return ut(ne,Vr);case 5:return ut(ne,vt);case 6:return ut(ne,_r);case 7:return ut(ne,Cn);case 8:return ut(ne,na);case 9:return ut(ne,_n);default:throw Error(A(397))}}var gi=nt('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Fc=nt('$RS("'),Ku=nt('","'),Vu=nt('")<\/script>');nt('<template data-rsi="" data-sid="'),nt('" data-pid="');var pl=nt(`$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};
$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};`);rt(`$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),"auto"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute("vt-name"))||(a="_T_"+K++ +"_"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll("[vt-share]"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute("vt-name"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if("/$"===r)if(0===f)break;else f--;else"$"!==r&&"$?"!==r&&"$~"!==r&&"$!"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute("vt-name"),y=m.get(D);k(d,y?"vt-share":"vt-exit");y&&(k(y,"vt-share"),m.set(D,null));var E=d.querySelectorAll("[vt-share]");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute("vt-name"),
H=m.get(G);H&&(k(F,"vt-share"),k(H,"vt-share"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute("vt-name"))&&k(t,"vt-enter"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute("vt-update");J&&"none"!==J&&!l.includes(n)&&k(n,"vt-update");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&"none"!==c.getAttribute("vt-update"));u.push.apply(u,I.querySelectorAll('img[src]:not([loading="lazy"])'))}}}if(B){var z=
document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener("load",q);w.g.addEventListener("error",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=
performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];""===b.getAttribute("style")&&b.removeAttribute("style")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);`);var gu=nt('$RC("'),Wu=nt(`$RM=new Map;$RR=function(n,w,p){function u(q){this._p=null;q()}for(var r=new Map,t=document,h,b,e=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=[],k=0;b=e[k++];)"not all"===b.getAttribute("media")?v.push(b):("LINK"===b.tagName&&$RM.set(b.getAttribute("href"),b),r.set(b.dataset.precedence,h=b));e=0;b=[];var l,a;for(k=!0;;){if(k){var f=p[e++];if(!f){k=!1;e=0;continue}var c=!1,m=0;var d=f[m++];if(a=$RM.get(d)){var g=a._p;c=!0}else{a=t.createElement("link");a.href=d;a.rel=
"stylesheet";for(a.dataset.precedence=l=f[m++];g=f[m++];)a.setAttribute(g,f[m++]);g=a._p=new Promise(function(q,x){a.onload=u.bind(a,q);a.onerror=u.bind(a,x)});$RM.set(d,a)}d=a.getAttribute("media");!g||d&&!matchMedia(d).matches||b.push(g);if(c)continue}else{a=v[e++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=r.get(l)||h;c===h&&(h=a);r.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=t.head,c.insertBefore(a,c.firstChild))}if(p=document.getElementById(n))p.previousSibling.data=
"$~";Promise.all(b).then($RC.bind(null,n,w),$RX.bind(null,n,"CSS failed to load"))};$RR("`),yu=nt('$RR("'),Fl=nt('","'),Yu=nt('",'),ql=nt('"'),vu=nt(")<\/script>");nt('<template data-rci="" data-bid="'),nt('<template data-rri="" data-bid="'),nt('" data-sid="'),nt('" data-sty="');var Ko=nt('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};'),qc=nt('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("'),Hl=nt('$RX("'),$l=nt('"'),Vo=nt(","),Xu=nt(")<\/script>");nt('<template data-rxi="" data-bid="'),nt('" data-dgst="'),nt('" data-msg="'),nt('" data-stck="'),nt('" data-cstck="');var Ju=/[<\u2028\u2029]/g;function bu(ne){return JSON.stringify(ne).replace(Ju,function(oe){switch(oe){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var _s=/[&><\u2028\u2029]/g;function Wo(ne){return JSON.stringify(ne).replace(_s,function(oe){switch(oe){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Hc=nt(' media="not all" data-precedence="'),Gl=nt('" data-href="'),Eu=nt('">'),_o=nt("</style>"),po=!1,hl=!0;function ho(ne){var oe=ne.rules,Ne=ne.hrefs,Ue=0;if(Ne.length){for(Je(this,an.startInlineStyle),Je(this,Hc),Je(this,ne.precedence),Je(this,Gl);Ue<Ne.length-1;Ue++)Je(this,Ne[Ue]),Je(this,Vl);for(Je(this,Ne[Ue]),Je(this,Eu),Ue=0;Ue<oe.length;Ue++)Je(this,oe[Ue]);hl=ut(this,_o),po=!0,oe.length=0,Ne.length=0}}function Es(ne){return ne.state!==2?po=!0:!1}function Mi(ne,oe,Ne){return po=!1,hl=!0,an=Ne,oe.styles.forEach(ho,ne),an=null,oe.stylesheets.forEach(Es),po&&(Ne.stylesToHoist=!0),hl}function Ba(ne){for(var oe=0;oe<ne.length;oe++)Je(this,ne[oe]);ne.length=0}var Ni=[];function Kl(ne){hn(Ni,ne.props);for(var oe=0;oe<Ni.length;oe++)Je(this,Ni[oe]);Ni.length=0,ne.state=2}var Yo=nt(' data-precedence="'),$c=nt('" data-href="'),Vl=nt(" "),Ao=nt('">'),Wl=nt("</style>");function Yl(ne){var oe=0<ne.sheets.size;ne.sheets.forEach(Kl,this),ne.sheets.clear();var Ne=ne.rules,Ue=ne.hrefs;if(!oe||Ue.length){if(Je(this,an.startInlineStyle),Je(this,Yo),Je(this,ne.precedence),ne=0,Ue.length){for(Je(this,$c);ne<Ue.length-1;ne++)Je(this,Ue[ne]),Je(this,Vl);Je(this,Ue[ne])}for(Je(this,Ao),ne=0;ne<Ne.length;ne++)Je(this,Ne[ne]);Je(this,Wl),Ne.length=0,Ue.length=0}}function yi(ne){if(ne.state===0){ne.state=1;var oe=ne.props;for(hn(Ni,{rel:"preload",as:"style",href:ne.props.href,crossOrigin:oe.crossOrigin,fetchPriority:oe.fetchPriority,integrity:oe.integrity,media:oe.media,hrefLang:oe.hrefLang,referrerPolicy:oe.referrerPolicy}),ne=0;ne<Ni.length;ne++)Je(this,Ni[ne]);Ni.length=0}}function Xl(ne){ne.sheets.forEach(yi,this),ne.sheets.clear()}nt('<link rel="expect" href="#'),nt('" blocking="render"/>');var gl=nt(' id="');function Wi(ne,oe){(oe.instructions&32)===0&&(oe.instructions|=32,ne.push(gl,rt(jt("_"+oe.idPrefix+"R_")),Qt))}var go=nt("["),Jl=nt(",["),Co=nt(","),yl=nt("]");function ys(ne,oe){Je(ne,go);var Ne=go;oe.stylesheets.forEach(function(Ue){if(Ue.state!==2)if(Ue.state===3)Je(ne,Ne),Je(ne,rt(Wo(""+Ue.props.href))),Je(ne,yl),Ne=Jl;else{Je(ne,Ne);var Ke=Ue.props["data-precedence"],Ze=Ue.props,ot=zr(""+Ue.props.href);Je(ne,rt(Wo(ot))),Ke=""+Ke,Je(ne,Co),Je(ne,rt(Wo(Ke)));for(var Rt in Ze)if(ft.call(Ze,Rt)&&(Ke=Ze[Rt],Ke!=null))switch(Rt){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error(A(399,"link"));default:Gc(ne,Rt,Ke)}Je(ne,yl),Ne=Jl,Ue.state=3}}),Je(ne,yl)}function Gc(ne,oe,Ne){var Ue=oe.toLowerCase();switch(typeof Ne){case"function":case"symbol":return}switch(oe){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":return;case"className":Ue="class",oe=""+Ne;break;case"hidden":if(Ne===!1)return;oe="";break;case"src":case"href":Ne=zr(Ne),oe=""+Ne;break;default:if(2<oe.length&&(oe[0]==="o"||oe[0]==="O")&&(oe[1]==="n"||oe[1]==="N")||!er(oe))return;oe=""+Ne}Je(ne,Co),Je(ne,rt(Wo(Ue))),Je(ne,Co),Je(ne,rt(Wo(oe)))}function Yi(){return{styles:new Set,stylesheets:new Set,suspenseyImages:!1}}function Ql(ne){var oe=Ma||null;if(oe){var Ne=oe.resumableState,Ue=oe.renderState;if(typeof ne=="string"&&ne){if(!Ne.dnsResources.hasOwnProperty(ne)){Ne.dnsResources[ne]=null,Ne=Ue.headers;var Ke,Ze;(Ze=Ne&&0<Ne.remainingCapacity)&&(Ze=(Ke="<"+(""+ne).replace(_i,Oo)+">; rel=dns-prefetch",0<=(Ne.remainingCapacity-=Ke.length+2))),Ze?(Ue.resets.dns[ne]=null,Ne.preconnects&&(Ne.preconnects+=", "),Ne.preconnects+=Ke):(Ke=[],hn(Ke,{href:ne,rel:"dns-prefetch"}),Ue.preconnects.add(Ke))}Fs(oe)}}else un.D(ne)}function Zl(ne,oe){var Ne=Ma||null;if(Ne){var Ue=Ne.resumableState,Ke=Ne.renderState;if(typeof ne=="string"&&ne){var Ze=oe==="use-credentials"?"credentials":typeof oe=="string"?"anonymous":"default";if(!Ue.connectResources[Ze].hasOwnProperty(ne)){Ue.connectResources[Ze][ne]=null,Ue=Ke.headers;var ot,Rt;if(Rt=Ue&&0<Ue.remainingCapacity){if(Rt="<"+(""+ne).replace(_i,Oo)+">; rel=preconnect",typeof oe=="string"){var xt=(""+oe).replace(vo,bo);Rt+='; crossorigin="'+xt+'"'}Rt=(ot=Rt,0<=(Ue.remainingCapacity-=ot.length+2))}Rt?(Ke.resets.connect[Ze][ne]=null,Ue.preconnects&&(Ue.preconnects+=", "),Ue.preconnects+=ot):(Ze=[],hn(Ze,{rel:"preconnect",href:ne,crossOrigin:oe}),Ke.preconnects.add(Ze))}Fs(Ne)}}else un.C(ne,oe)}function ec(ne,oe,Ne){var Ue=Ma||null;if(Ue){var Ke=Ue.resumableState,Ze=Ue.renderState;if(oe&&ne){switch(oe){case"image":if(Ne)var ot=Ne.imageSrcSet,Rt=Ne.imageSizes,xt=Ne.fetchPriority;var _t=ot?ot+`
`+(Rt||""):ne;if(Ke.imageResources.hasOwnProperty(_t))return;Ke.imageResources[_t]=Xr,Ke=Ze.headers;var Ht;Ke&&0<Ke.remainingCapacity&&typeof ot!="string"&&xt==="high"&&(Ht=As(ne,oe,Ne),0<=(Ke.remainingCapacity-=Ht.length+2))?(Ze.resets.image[_t]=Xr,Ke.highImagePreloads&&(Ke.highImagePreloads+=", "),Ke.highImagePreloads+=Ht):(Ke=[],hn(Ke,Ar({rel:"preload",href:ot?void 0:ne,as:oe},Ne)),xt==="high"?Ze.highImagePreloads.add(Ke):(Ze.bulkPreloads.add(Ke),Ze.preloads.images.set(_t,Ke)));break;case"style":if(Ke.styleResources.hasOwnProperty(ne))return;ot=[],hn(ot,Ar({rel:"preload",href:ne,as:oe},Ne)),Ke.styleResources[ne]=!Ne||typeof Ne.crossOrigin!="string"&&typeof Ne.integrity!="string"?Xr:[Ne.crossOrigin,Ne.integrity],Ze.preloads.stylesheets.set(ne,ot),Ze.bulkPreloads.add(ot);break;case"script":if(Ke.scriptResources.hasOwnProperty(ne))return;ot=[],Ze.preloads.scripts.set(ne,ot),Ze.bulkPreloads.add(ot),hn(ot,Ar({rel:"preload",href:ne,as:oe},Ne)),Ke.scriptResources[ne]=!Ne||typeof Ne.crossOrigin!="string"&&typeof Ne.integrity!="string"?Xr:[Ne.crossOrigin,Ne.integrity];break;default:if(Ke.unknownResources.hasOwnProperty(oe)){if(ot=Ke.unknownResources[oe],ot.hasOwnProperty(ne))return}else ot={},Ke.unknownResources[oe]=ot;if(ot[ne]=Xr,(Ke=Ze.headers)&&0<Ke.remainingCapacity&&oe==="font"&&(_t=As(ne,oe,Ne),0<=(Ke.remainingCapacity-=_t.length+2)))Ze.resets.font[ne]=Xr,Ke.fontPreloads&&(Ke.fontPreloads+=", "),Ke.fontPreloads+=_t;else switch(Ke=[],ne=Ar({rel:"preload",href:ne,as:oe},Ne),hn(Ke,ne),oe){case"font":Ze.fontPreloads.add(Ke);break;default:Ze.bulkPreloads.add(Ke)}}Fs(Ue)}}else un.L(ne,oe,Ne)}function tc(ne,oe){var Ne=Ma||null;if(Ne){var Ue=Ne.resumableState,Ke=Ne.renderState;if(ne){var Ze=oe&&typeof oe.as=="string"?oe.as:"script";switch(Ze){case"script":if(Ue.moduleScriptResources.hasOwnProperty(ne))return;Ze=[],Ue.moduleScriptResources[ne]=!oe||typeof oe.crossOrigin!="string"&&typeof oe.integrity!="string"?Xr:[oe.crossOrigin,oe.integrity],Ke.preloads.moduleScripts.set(ne,Ze);break;default:if(Ue.moduleUnknownResources.hasOwnProperty(Ze)){var ot=Ue.unknownResources[Ze];if(ot.hasOwnProperty(ne))return}else ot={},Ue.moduleUnknownResources[Ze]=ot;Ze=[],ot[ne]=Xr}hn(Ze,Ar({rel:"modulepreload",href:ne},oe)),Ke.bulkPreloads.add(Ze),Fs(Ne)}}else un.m(ne,oe)}function vl(ne,oe,Ne){var Ue=Ma||null;if(Ue){var Ke=Ue.resumableState,Ze=Ue.renderState;if(ne){oe=oe||"default";var ot=Ze.styles.get(oe),Rt=Ke.styleResources.hasOwnProperty(ne)?Ke.styleResources[ne]:void 0;Rt!==null&&(Ke.styleResources[ne]=null,ot||(ot={precedence:rt(jt(oe)),rules:[],hrefs:[],sheets:new Map},Ze.styles.set(oe,ot)),oe={state:0,props:Ar({rel:"stylesheet",href:ne,"data-precedence":oe},Ne)},Rt&&(Rt.length===2&&To(oe.props,Rt),(Ze=Ze.preloads.stylesheets.get(ne))&&0<Ze.length?Ze.length=0:oe.state=1),ot.sheets.set(ne,oe),Fs(Ue))}}else un.S(ne,oe,Ne)}function yo(ne,oe){var Ne=Ma||null;if(Ne){var Ue=Ne.resumableState,Ke=Ne.renderState;if(ne){var Ze=Ue.scriptResources.hasOwnProperty(ne)?Ue.scriptResources[ne]:void 0;Ze!==null&&(Ue.scriptResources[ne]=null,oe=Ar({src:ne,async:!0},oe),Ze&&(Ze.length===2&&To(oe,Ze),ne=Ke.preloads.scripts.get(ne))&&(ne.length=0),ne=[],Ke.scripts.add(ne),xs(ne,oe),Fs(Ne))}}else un.X(ne,oe)}function ju(ne,oe){var Ne=Ma||null;if(Ne){var Ue=Ne.resumableState,Ke=Ne.renderState;if(ne){var Ze=Ue.moduleScriptResources.hasOwnProperty(ne)?Ue.moduleScriptResources[ne]:void 0;Ze!==null&&(Ue.moduleScriptResources[ne]=null,oe=Ar({src:ne,type:"module",async:!0},oe),Ze&&(Ze.length===2&&To(oe,Ze),ne=Ke.preloads.moduleScripts.get(ne))&&(ne.length=0),ne=[],Ke.scripts.add(ne),xs(ne,oe),Fs(Ne))}}else un.M(ne,oe)}function To(ne,oe){ne.crossOrigin==null&&(ne.crossOrigin=oe[0]),ne.integrity==null&&(ne.integrity=oe[1])}function As(ne,oe,Ne){ne=(""+ne).replace(_i,Oo),oe=(""+oe).replace(vo,bo),oe="<"+ne+'>; rel=preload; as="'+oe+'"';for(var Ue in Ne)ft.call(Ne,Ue)&&(ne=Ne[Ue],typeof ne=="string"&&(oe+="; "+Ue.toLowerCase()+'="'+(""+ne).replace(vo,bo)+'"'));return oe}var _i=/[<>\r\n]/g;function Oo(ne){switch(ne){case"<":return"%3C";case">":return"%3E";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var vo=/["';,\r\n]/g;function bo(ne){switch(ne){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function rc(ne){this.styles.add(ne)}function nc(ne){this.stylesheets.add(ne)}function Do(ne,oe){oe.styles.forEach(rc,ne),oe.stylesheets.forEach(nc,ne),oe.suspenseyImages&&(ne.suspenseyImages=!0)}function Li(ne){return 0<ne.stylesheets.size||ne.suspenseyImages}var Xo=Function.prototype.bind,Ai=Symbol.for("react.client.reference");function Jo(ne){if(ne==null)return null;if(typeof ne=="function")return ne.$$typeof===Ai?null:ne.displayName||ne.name||null;if(typeof ne=="string")return ne;switch(ne){case B:return"Fragment";case q:return"Profiler";case U:return"StrictMode";case te:return"Suspense";case xe:return"SuspenseList";case Le:return"Activity"}if(typeof ne=="object")switch(ne.$$typeof){case I:return"Portal";case J:return ne.displayName||"Context";case K:return(ne._context.displayName||"Context")+".Consumer";case ee:var oe=ne.render;return ne=ne.displayName,ne||(ne=oe.displayName||oe.name||"",ne=ne!==""?"ForwardRef("+ne+")":"ForwardRef"),ne;case fe:return oe=ne.displayName||null,oe!==null?oe:Jo(ne.type)||"Memo";case ye:oe=ne._payload,ne=ne._init;try{return Jo(ne(oe))}catch{}}return null}var Kc={},Ms=null;function Xi(ne,oe){if(ne!==oe){ne.context._currentValue=ne.parentValue,ne=ne.parent;var Ne=oe.parent;if(ne===null){if(Ne!==null)throw Error(A(401))}else{if(Ne===null)throw Error(A(401));Xi(ne,Ne)}oe.context._currentValue=oe.value}}function bl(ne){ne.context._currentValue=ne.parentValue,ne=ne.parent,ne!==null&&bl(ne)}function ae(ne){var oe=ne.parent;oe!==null&&ae(oe),ne.context._currentValue=ne.value}function ue(ne,oe){if(ne.context._currentValue=ne.parentValue,ne=ne.parent,ne===null)throw Error(A(402));ne.depth===oe.depth?Xi(ne,oe):ue(ne,oe)}function _e(ne,oe){var Ne=oe.parent;if(Ne===null)throw Error(A(402));ne.depth===Ne.depth?Xi(ne,Ne):_e(ne,Ne),oe.context._currentValue=oe.value}function ze(ne){var oe=Ms;oe!==ne&&(oe===null?ae(ne):ne===null?bl(oe):oe.depth===ne.depth?Xi(oe,ne):oe.depth>ne.depth?ue(oe,ne):_e(oe,ne),Ms=ne)}var We={enqueueSetState:function(ne,oe){ne=ne._reactInternals,ne.queue!==null&&ne.queue.push(oe)},enqueueReplaceState:function(ne,oe){ne=ne._reactInternals,ne.replace=!0,ne.queue=[oe]},enqueueForceUpdate:function(){}},at={id:1,overflow:""};function dt(ne,oe,Ne){var Ue=ne.id;ne=ne.overflow;var Ke=32-Vt(Ue)-1;Ue&=~(1<<Ke),Ne+=1;var Ze=32-Vt(oe)+Ke;if(30<Ze){var ot=Ke-Ke%5;return Ze=(Ue&(1<<ot)-1).toString(32),Ue>>=ot,Ke-=ot,{id:1<<32-Vt(oe)+Ke|Ne<<Ke|Ue,overflow:Ze+ne}}return{id:1<<Ze|Ne<<Ke|Ue,overflow:ne}}var Vt=Math.clz32?Math.clz32:hr,bt=Math.log,Yt=Math.LN2;function hr(ne){return ne>>>=0,ne===0?32:31-(bt(ne)/Yt|0)|0}function ar(){}var Dr=Error(A(460));function on(ne,oe,Ne){switch(Ne=ne[Ne],Ne===void 0?ne.push(oe):Ne!==oe&&(oe.then(ar,ar),oe=Ne),oe.status){case"fulfilled":return oe.value;case"rejected":throw oe.reason;default:switch(typeof oe.status=="string"?oe.then(ar,ar):(ne=oe,ne.status="pending",ne.then(function(Ue){if(oe.status==="pending"){var Ke=oe;Ke.status="fulfilled",Ke.value=Ue}},function(Ue){if(oe.status==="pending"){var Ke=oe;Ke.status="rejected",Ke.reason=Ue}})),oe.status){case"fulfilled":return oe.value;case"rejected":throw oe.reason}throw Xn=oe,Dr}}var Xn=null;function Mn(){if(Xn===null)throw Error(A(459));var ne=Xn;return Xn=null,ne}function In(ne,oe){return ne===oe&&(ne!==0||1/ne===1/oe)||ne!==ne&&oe!==oe}var On=typeof Object.is=="function"?Object.is:In,Fn=null,Ea=null,Wa=null,ia=null,oa=null,da=null,Ua=!1,ua=!1,cs=0,ja=0,es=-1,$a=0,za=null,Ls=null,Ji=0;function ri(){if(Fn===null)throw Error(A(321));return Fn}function Bs(){if(0<Ji)throw Error(A(312));return{memoizedState:null,queue:null,next:null}}function Ci(){return da===null?oa===null?(Ua=!1,oa=da=Bs()):(Ua=!0,da=oa):da.next===null?(Ua=!1,da=da.next=Bs()):(Ua=!0,da=da.next),da}function us(){var ne=za;return za=null,ne}function Vs(){ia=Wa=Ea=Fn=null,ua=!1,oa=null,Ji=0,da=Ls=null}function Ws(ne,oe){return typeof oe=="function"?oe(ne):oe}function rs(ne,oe,Ne){if(Fn=ri(),da=Ci(),Ua){var Ue=da.queue;if(oe=Ue.dispatch,Ls!==null&&(Ne=Ls.get(Ue),Ne!==void 0)){Ls.delete(Ue),Ue=da.memoizedState;do Ue=ne(Ue,Ne.action),Ne=Ne.next;while(Ne!==null);return da.memoizedState=Ue,[Ue,oe]}return[da.memoizedState,oe]}return ne=ne===Ws?typeof oe=="function"?oe():oe:Ne!==void 0?Ne(oe):oe,da.memoizedState=ne,ne=da.queue={last:null,dispatch:null},ne=ne.dispatch=Ys.bind(null,Fn,ne),[da.memoizedState,ne]}function fs(ne,oe){if(Fn=ri(),da=Ci(),oe=oe===void 0?null:oe,da!==null){var Ne=da.memoizedState;if(Ne!==null&&oe!==null){var Ue=Ne[1];e:if(Ue===null)Ue=!1;else{for(var Ke=0;Ke<Ue.length&&Ke<oe.length;Ke++)if(!On(oe[Ke],Ue[Ke])){Ue=!1;break e}Ue=!0}if(Ue)return Ne[0]}}return ne=ne(),da.memoizedState=[ne,oe],ne}function Ys(ne,oe,Ne){if(25<=Ji)throw Error(A(301));if(ne===Fn)if(ua=!0,ne={action:Ne,next:null},Ls===null&&(Ls=new Map),Ne=Ls.get(oe),Ne===void 0)Ls.set(oe,ne);else{for(oe=Ne;oe.next!==null;)oe=oe.next;oe.next=ne}}function Pa(){throw Error(A(440))}function Us(){throw Error(A(394))}function li(){throw Error(A(479))}function ac(ne,oe,Ne){ri();var Ue=ja++,Ke=Wa;if(typeof ne.$$FORM_ACTION=="function"){var Ze=null,ot=ia;Ke=Ke.formState;var Rt=ne.$$IS_SIGNATURE_EQUAL;if(Ke!==null&&typeof Rt=="function"){var xt=Ke[1];Rt.call(ne,Ke[2],Ke[3])&&(Ze=Ne!==void 0?"p"+Ne:"k"+st(JSON.stringify([ot,null,Ue]),0),xt===Ze&&(es=Ue,oe=Ke[0]))}var _t=ne.bind(null,oe);return ne=function(Jt){_t(Jt)},typeof _t.$$FORM_ACTION=="function"&&(ne.$$FORM_ACTION=function(Jt){Jt=_t.$$FORM_ACTION(Jt),Ne!==void 0&&(Ne+="",Jt.action=Ne);var Cr=Jt.data;return Cr&&(Ze===null&&(Ze=Ne!==void 0?"p"+Ne:"k"+st(JSON.stringify([ot,null,Ue]),0)),Cr.append("$ACTION_KEY",Ze)),Jt}),[oe,ne,!1]}var Ht=ne.bind(null,oe);return[oe,function(Jt){Ht(Jt)},!1]}function El(ne){var oe=$a;return $a+=1,za===null&&(za=[]),on(za,ne,oe)}function sc(){throw Error(A(393))}var ic={readContext:function(ne){return ne._currentValue},use:function(ne){if(ne!==null&&typeof ne=="object"){if(typeof ne.then=="function")return El(ne);if(ne.$$typeof===J)return ne._currentValue}throw Error(A(438,String(ne)))},useContext:function(ne){return ri(),ne._currentValue},useMemo:fs,useReducer:rs,useRef:function(ne){Fn=ri(),da=Ci();var oe=da.memoizedState;return oe===null?(ne={current:ne},da.memoizedState=ne):oe},useState:function(ne){return rs(Ws,ne)},useInsertionEffect:ar,useLayoutEffect:ar,useCallback:function(ne,oe){return fs(function(){return ne},oe)},useImperativeHandle:ar,useEffect:ar,useDebugValue:ar,useDeferredValue:function(ne,oe){return ri(),oe!==void 0?oe:ne},useTransition:function(){return ri(),[!1,Us]},useId:function(){var ne=Ea.treeContext,oe=ne.overflow;ne=ne.id,ne=(ne&~(1<<32-Vt(ne)-1)).toString(32)+oe;var Ne=ds;if(Ne===null)throw Error(A(404));return oe=cs++,ne="_"+Ne.idPrefix+"R_"+ne,0<oe&&(ne+="H"+oe.toString(32)),ne+"_"},useSyncExternalStore:function(ne,oe,Ne){if(Ne===void 0)throw Error(A(407));return Ne()},useOptimistic:function(ne){return ri(),[ne,li]},useActionState:ac,useFormState:ac,useHostTransitionStatus:function(){return ri(),Zr},useMemoCache:function(ne){for(var oe=Array(ne),Ne=0;Ne<ne;Ne++)oe[Ne]=Ge;return oe},useCacheRefresh:function(){return sc},useEffectEvent:function(){return Pa}},ds=null,Fa={getCacheForType:function(){throw Error(A(248))},cacheSignal:function(){throw Error(A(248))}},Wn,Cs;function js(ne){if(Wn===void 0)try{throw Error()}catch(Ne){var oe=Ne.stack.trim().match(/\n( *(at )?)/);Wn=oe&&oe[1]||"",Cs=-1<Ne.stack.indexOf(`
    at`)?" (<anonymous>)":-1<Ne.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wn+ne+Cs}var Qo=!1;function Xs(ne,oe){if(!ne||Qo)return"";Qo=!0;var Ne=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var Ue={DetermineComponentFrameRoot:function(){try{if(oe){var Jt=function(){throw Error()};if(Object.defineProperty(Jt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Jt,[])}catch(Tr){var Cr=Tr}Reflect.construct(ne,[],Jt)}else{try{Jt.call()}catch(Tr){Cr=Tr}ne.call(Jt.prototype)}}else{try{throw Error()}catch(Tr){Cr=Tr}(Jt=ne())&&typeof Jt.catch=="function"&&Jt.catch(function(){})}}catch(Tr){if(Tr&&Cr&&typeof Tr.stack=="string")return[Tr.stack,Cr.stack]}return[null,null]}};Ue.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var Ke=Object.getOwnPropertyDescriptor(Ue.DetermineComponentFrameRoot,"name");Ke&&Ke.configurable&&Object.defineProperty(Ue.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Ze=Ue.DetermineComponentFrameRoot(),ot=Ze[0],Rt=Ze[1];if(ot&&Rt){var xt=ot.split(`
`),_t=Rt.split(`
`);for(Ke=Ue=0;Ue<xt.length&&!xt[Ue].includes("DetermineComponentFrameRoot");)Ue++;for(;Ke<_t.length&&!_t[Ke].includes("DetermineComponentFrameRoot");)Ke++;if(Ue===xt.length||Ke===_t.length)for(Ue=xt.length-1,Ke=_t.length-1;1<=Ue&&0<=Ke&&xt[Ue]!==_t[Ke];)Ke--;for(;1<=Ue&&0<=Ke;Ue--,Ke--)if(xt[Ue]!==_t[Ke]){if(Ue!==1||Ke!==1)do if(Ue--,Ke--,0>Ke||xt[Ue]!==_t[Ke]){var Ht=`
`+xt[Ue].replace(" at new "," at ");return ne.displayName&&Ht.includes("<anonymous>")&&(Ht=Ht.replace("<anonymous>",ne.displayName)),Ht}while(1<=Ue&&0<=Ke);break}}}finally{Qo=!1,Error.prepareStackTrace=Ne}return(Ne=ne?ne.displayName||ne.name:"")?js(Ne):""}function oc(ne){if(typeof ne=="string")return js(ne);if(typeof ne=="function")return ne.prototype&&ne.prototype.isReactComponent?Xs(ne,!0):Xs(ne,!1);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case ee:return Xs(ne.render,!1);case fe:return Xs(ne.type,!1);case ye:var oe=ne,Ne=oe._payload;oe=oe._init;try{ne=oe(Ne)}catch{return js("Lazy")}return oc(ne)}if(typeof ne.name=="string"){e:{Ne=ne.name,oe=ne.env;var Ue=ne.debugLocation;if(Ue!=null&&(ne=Error.prepareStackTrace,Error.prepareStackTrace=void 0,Ue=Ue.stack,Error.prepareStackTrace=ne,Ue.startsWith(`Error: react-stack-top-frame
`)&&(Ue=Ue.slice(29)),ne=Ue.indexOf(`
`),ne!==-1&&(Ue=Ue.slice(ne+1)),ne=Ue.indexOf("react_stack_bottom_frame"),ne!==-1&&(ne=Ue.lastIndexOf(`
`,ne)),ne=ne!==-1?Ue=Ue.slice(0,ne):"",Ue=ne.lastIndexOf(`
`),ne=Ue===-1?ne:ne.slice(Ue+1),ne.indexOf(Ne)!==-1)){Ne=`
`+ne;break e}Ne=js(Ne+(oe?" ["+oe+"]":""))}return Ne}}switch(ne){case xe:return js("SuspenseList");case te:return js("Suspense")}return""}function ci(ne,oe){return(500<oe.byteSize||Li(oe.contentState))&&oe.contentPreamble===null}function Bi(ne){if(typeof ne=="object"&&ne!==null&&typeof ne.environmentName=="string"){var oe=ne.environmentName;ne=[ne].slice(0),typeof ne[0]=="string"?ne.splice(0,1,"%c%s%c "+ne[0],"background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px"," "+oe+" ",""):ne.splice(0,0,"%c%s%c","background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px"," "+oe+" ",""),ne.unshift(console),oe=Xo.apply(console.error,ne),oe()}else console.error(ne);return null}function vi(ne,oe,Ne,Ue,Ke,Ze,ot,Rt,xt,_t,Ht){var Jt=new Set;this.destination=null,this.flushScheduled=!1,this.resumableState=ne,this.renderState=oe,this.rootFormatContext=Ne,this.progressiveChunkSize=Ue===void 0?12800:Ue,this.status=10,this.fatalError=null,this.pendingRootTasks=this.allPendingTasks=this.nextSegmentId=0,this.completedPreambleSegments=this.completedRootSegment=null,this.byteSize=0,this.abortableTasks=Jt,this.pingedTasks=[],this.clientRenderedBoundaries=[],this.completedBoundaries=[],this.partialBoundaries=[],this.trackedPostpones=null,this.onError=Ke===void 0?Bi:Ke,this.onPostpone=_t===void 0?ar:_t,this.onAllReady=Ze===void 0?ar:Ze,this.onShellReady=ot===void 0?ar:ot,this.onShellError=Rt===void 0?ar:Rt,this.onFatalError=xt===void 0?ar:xt,this.formState=Ht===void 0?null:Ht}function Eo(ne,oe,Ne,Ue,Ke,Ze,ot,Rt,xt,_t,Ht,Jt){return oe=new vi(oe,Ne,Ue,Ke,Ze,ot,Rt,xt,_t,Ht,Jt),Ne=Ts(oe,0,null,Ue,!1,!1),Ne.parentFlushed=!0,ne=Ui(oe,null,ne,-1,null,Ne,null,null,oe.abortableTasks,null,Ue,null,at,null,null),Oi(ne),oe.pingedTasks.push(ne),oe}function Qi(ne,oe,Ne,Ue,Ke,Ze,ot,Rt,xt,_t,Ht){return ne=Eo(ne,oe,Ne,Ue,Ke,Ze,ot,Rt,xt,_t,Ht,void 0),ne.trackedPostpones={workingMap:new Map,rootNodes:[],rootSlots:null},ne}function Ti(ne,oe,Ne,Ue,Ke,Ze,ot,Rt,xt){return Ne=new vi(oe.resumableState,Ne,oe.rootFormatContext,oe.progressiveChunkSize,Ue,Ke,Ze,ot,Rt,xt,null),Ne.nextSegmentId=oe.nextSegmentId,typeof oe.replaySlots=="number"?(Ue=Ts(Ne,0,null,oe.rootFormatContext,!1,!1),Ue.parentFlushed=!0,ne=Ui(Ne,null,ne,-1,null,Ue,null,null,Ne.abortableTasks,null,oe.rootFormatContext,null,at,null,null),Oi(ne),Ne.pingedTasks.push(ne),Ne):(ne=Zo(Ne,null,{nodes:oe.replayNodes,slots:oe.replaySlots,pendingTasks:0},ne,-1,null,null,Ne.abortableTasks,null,oe.rootFormatContext,null,at,null,null),Oi(ne),Ne.pingedTasks.push(ne),Ne)}function Zi(ne,oe,Ne,Ue,Ke,Ze,ot,Rt,xt){return ne=Ti(ne,oe,Ne,Ue,Ke,Ze,ot,Rt,xt),ne.trackedPostpones={workingMap:new Map,rootNodes:[],rootSlots:null},ne}var Ma=null;function Js(ne,oe){ne.pingedTasks.push(oe),ne.pingedTasks.length===1&&(ne.flushScheduled=ne.destination!==null,ne.trackedPostpones!==null||ne.status===10?ir(function(){return uc(ne)}):Nt(function(){return uc(ne)}))}function ni(ne,oe,Ne,Ue,Ke){return Ne={status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,row:oe,completedSegments:[],byteSize:0,fallbackAbortableTasks:Ne,errorDigest:null,contentState:Yi(),fallbackState:Yi(),contentPreamble:Ue,fallbackPreamble:Ke,trackedContentKeyPath:null,trackedFallbackNode:null},oe!==null&&(oe.pendingTasks++,Ue=oe.boundaries,Ue!==null&&(ne.allPendingTasks++,Ne.pendingTasks++,Ue.push(Ne)),ne=oe.inheritedHoistables,ne!==null&&Do(Ne.contentState,ne)),Ne}function Ui(ne,oe,Ne,Ue,Ke,Ze,ot,Rt,xt,_t,Ht,Jt,Cr,Tr,gn){ne.allPendingTasks++,Ke===null?ne.pendingRootTasks++:Ke.pendingTasks++,Tr!==null&&Tr.pendingTasks++;var qn={replay:null,node:Ne,childIndex:Ue,ping:function(){return Js(ne,qn)},blockedBoundary:Ke,blockedSegment:Ze,blockedPreamble:ot,hoistableState:Rt,abortSet:xt,keyPath:_t,formatContext:Ht,context:Jt,treeContext:Cr,row:Tr,componentStack:gn,thenableState:oe};return xt.add(qn),qn}function Zo(ne,oe,Ne,Ue,Ke,Ze,ot,Rt,xt,_t,Ht,Jt,Cr,Tr){ne.allPendingTasks++,Ze===null?ne.pendingRootTasks++:Ze.pendingTasks++,Cr!==null&&Cr.pendingTasks++,Ne.pendingTasks++;var gn={replay:Ne,node:Ue,childIndex:Ke,ping:function(){return Js(ne,gn)},blockedBoundary:Ze,blockedSegment:null,blockedPreamble:null,hoistableState:ot,abortSet:Rt,keyPath:xt,formatContext:_t,context:Ht,treeContext:Jt,row:Cr,componentStack:Tr,thenableState:oe};return Rt.add(gn),gn}function Ts(ne,oe,Ne,Ue,Ke,Ze){return{status:0,parentFlushed:!1,id:-1,index:oe,chunks:[],children:[],preambleChildren:[],parentFormatContext:Ue,boundary:Ne,lastPushedText:Ke,textEmbedded:Ze}}function Oi(ne){var oe=ne.node;if(typeof oe=="object"&&oe!==null)switch(oe.$$typeof){case T:ne.componentStack={parent:ne.componentStack,type:oe.type}}}function ui(ne){return ne===null?null:{parent:ne.parent,type:"Suspense Fallback"}}function _a(ne){var oe={};return ne&&Object.defineProperty(oe,"componentStack",{configurable:!0,enumerable:!0,get:function(){try{var Ne="",Ue=ne;do Ne+=oc(Ue.type),Ue=Ue.parent;while(Ue);var Ke=Ne}catch(Ze){Ke=`
Error generating stack: `+Ze.message+`
`+Ze.stack}return Object.defineProperty(oe,"componentStack",{value:Ke}),Ke}}),oe}function ps(ne,oe,Ne){if(ne=ne.onError,oe=ne(oe,Ne),oe==null||typeof oe=="string")return oe}function Io(ne,oe){var Ne=ne.onShellError,Ue=ne.onFatalError;Ne(oe),Ue(oe),ne.destination!==null?(ne.status=14,Zt(ne.destination,oe)):(ne.status=13,ne.fatalError=oe)}function zs(ne,oe){Vc(ne,oe.next,oe.hoistables)}function Vc(ne,oe,Ne){for(;oe!==null;){Ne!==null&&(Do(oe.hoistables,Ne),oe.inheritedHoistables=Ne);var Ue=oe.boundaries;if(Ue!==null){oe.boundaries=null;for(var Ke=0;Ke<Ue.length;Ke++){var Ze=Ue[Ke];Ne!==null&&Do(Ze.contentState,Ne),ai(ne,Ze,null,null)}}if(oe.pendingTasks--,0<oe.pendingTasks)break;Ne=oe.hoistables,oe=oe.next}}function jl(ne,oe){var Ne=oe.boundaries;if(Ne!==null&&oe.pendingTasks===Ne.length){for(var Ue=!0,Ke=0;Ke<Ne.length;Ke++){var Ze=Ne[Ke];if(Ze.pendingTasks!==1||Ze.parentFlushed||ci(ne,Ze)){Ue=!1;break}}Ue&&Vc(ne,oe,oe.hoistables)}}function Ya(ne){var oe={pendingTasks:1,boundaries:null,hoistables:Yi(),inheritedHoistables:null,together:!1,next:null};return ne!==null&&0<ne.pendingTasks&&(oe.pendingTasks++,oe.boundaries=[],ne.next=oe),oe}function lc(ne,oe,Ne,Ue,Ke){var Ze=oe.keyPath,ot=oe.treeContext,Rt=oe.row;oe.keyPath=Ne,Ne=Ue.length;var xt=null;if(oe.replay!==null){var _t=oe.replay.slots;if(_t!==null&&typeof _t=="object")for(var Ht=0;Ht<Ne;Ht++){var Jt=Ke!=="backwards"&&Ke!=="unstable_legacy-backwards"?Ht:Ne-1-Ht,Cr=Ue[Jt];oe.row=xt=Ya(xt),oe.treeContext=dt(ot,Ne,Jt);var Tr=_t[Jt];typeof Tr=="number"?(mi(ne,oe,Tr,Cr,Jt),delete _t[Jt]):as(ne,oe,Cr,Jt),--xt.pendingTasks===0&&zs(ne,xt)}else for(_t=0;_t<Ne;_t++)Ht=Ke!=="backwards"&&Ke!=="unstable_legacy-backwards"?_t:Ne-1-_t,Jt=Ue[Ht],oe.row=xt=Ya(xt),oe.treeContext=dt(ot,Ne,Ht),as(ne,oe,Jt,Ht),--xt.pendingTasks===0&&zs(ne,xt)}else if(Ke!=="backwards"&&Ke!=="unstable_legacy-backwards")for(Ke=0;Ke<Ne;Ke++)_t=Ue[Ke],oe.row=xt=Ya(xt),oe.treeContext=dt(ot,Ne,Ke),as(ne,oe,_t,Ke),--xt.pendingTasks===0&&zs(ne,xt);else{for(Ke=oe.blockedSegment,_t=Ke.children.length,Ht=Ke.chunks.length,Jt=Ne-1;0<=Jt;Jt--){Cr=Ue[Jt],oe.row=xt=Ya(xt),oe.treeContext=dt(ot,Ne,Jt),Tr=Ts(ne,Ht,null,oe.formatContext,Jt===0?Ke.lastPushedText:!0,!0),Ke.children.splice(_t,0,Tr),oe.blockedSegment=Tr;try{as(ne,oe,Cr,Jt),Tr.lastPushedText&&Tr.textEmbedded&&Tr.chunks.push(Qr),Tr.status=1,Qs(ne,oe.blockedBoundary,Tr),--xt.pendingTasks===0&&zs(ne,xt)}catch(gn){throw Tr.status=ne.status===12?3:4,gn}}oe.blockedSegment=Ke,Ke.lastPushedText=!1}Rt!==null&&xt!==null&&0<xt.pendingTasks&&(Rt.pendingTasks++,xt.next=Rt),oe.treeContext=ot,oe.row=Rt,oe.keyPath=Ze}function el(ne,oe,Ne,Ue,Ke,Ze){var ot=oe.thenableState;for(oe.thenableState=null,Fn={},Ea=oe,Wa=ne,ia=Ne,ja=cs=0,es=-1,$a=0,za=ot,ne=Ue(Ke,Ze);ua;)ua=!1,ja=cs=0,es=-1,$a=0,Ji+=1,da=null,ne=Ue(Ke,Ze);return Vs(),ne}function di(ne,oe,Ne,Ue,Ke,Ze,ot){var Rt=!1;if(Ze!==0&&ne.formState!==null){var xt=oe.blockedSegment;if(xt!==null){Rt=!0,xt=xt.chunks;for(var _t=0;_t<Ze;_t++)_t===ot?xt.push(wn):xt.push(Bn)}}Ze=oe.keyPath,oe.keyPath=Ne,Ke?(Ne=oe.treeContext,oe.treeContext=dt(Ne,1,0),as(ne,oe,Ue,-1),oe.treeContext=Ne):Rt?as(ne,oe,Ue,-1):ns(ne,oe,Ue,-1),oe.keyPath=Ze}function eo(ne,oe,Ne,Ue,Ke,Ze){if(typeof Ue=="function")if(Ue.prototype&&Ue.prototype.isReactComponent){var ot=Ke;if("ref"in Ke){ot={};for(var Rt in Ke)Rt!=="ref"&&(ot[Rt]=Ke[Rt])}var xt=Ue.defaultProps;if(xt){ot===Ke&&(ot=Ar({},ot,Ke));for(var _t in xt)ot[_t]===void 0&&(ot[_t]=xt[_t])}Ke=ot,ot=Kc,xt=Ue.contextType,typeof xt=="object"&&xt!==null&&(ot=xt._currentValue),ot=new Ue(Ke,ot);var Ht=ot.state!==void 0?ot.state:null;if(ot.updater=We,ot.props=Ke,ot.state=Ht,xt={queue:[],replace:!1},ot._reactInternals=xt,Ze=Ue.contextType,ot.context=typeof Ze=="object"&&Ze!==null?Ze._currentValue:Kc,Ze=Ue.getDerivedStateFromProps,typeof Ze=="function"&&(Ze=Ze(Ke,Ht),Ht=Ze==null?Ht:Ar({},Ht,Ze),ot.state=Ht),typeof Ue.getDerivedStateFromProps!="function"&&typeof ot.getSnapshotBeforeUpdate!="function"&&(typeof ot.UNSAFE_componentWillMount=="function"||typeof ot.componentWillMount=="function"))if(Ue=ot.state,typeof ot.componentWillMount=="function"&&ot.componentWillMount(),typeof ot.UNSAFE_componentWillMount=="function"&&ot.UNSAFE_componentWillMount(),Ue!==ot.state&&We.enqueueReplaceState(ot,ot.state,null),xt.queue!==null&&0<xt.queue.length)if(Ue=xt.queue,Ze=xt.replace,xt.queue=null,xt.replace=!1,Ze&&Ue.length===1)ot.state=Ue[0];else{for(xt=Ze?Ue[0]:ot.state,Ht=!0,Ze=Ze?1:0;Ze<Ue.length;Ze++)_t=Ue[Ze],_t=typeof _t=="function"?_t.call(ot,xt,Ke,void 0):_t,_t!=null&&(Ht?(Ht=!1,xt=Ar({},xt,_t)):Ar(xt,_t));ot.state=xt}else xt.queue=null;if(Ue=ot.render(),ne.status===12)throw null;Ke=oe.keyPath,oe.keyPath=Ne,ns(ne,oe,Ue,-1),oe.keyPath=Ke}else{if(Ue=el(ne,oe,Ne,Ue,Ke,void 0),ne.status===12)throw null;di(ne,oe,Ne,Ue,cs!==0,ja,es)}else if(typeof Ue=="string")if(ot=oe.blockedSegment,ot===null)ot=Ke.children,xt=oe.formatContext,Ht=oe.keyPath,oe.formatContext=Wr(xt,Ue,Ke),oe.keyPath=Ne,as(ne,oe,ot,-1),oe.formatContext=xt,oe.keyPath=Ht;else{if(Ht=Na(ot.chunks,Ue,Ke,ne.resumableState,ne.renderState,oe.blockedPreamble,oe.hoistableState,oe.formatContext,ot.lastPushedText),ot.lastPushedText=!1,xt=oe.formatContext,Ze=oe.keyPath,oe.keyPath=Ne,(oe.formatContext=Wr(xt,Ue,Ke)).insertionMode===3){Ne=Ts(ne,0,null,oe.formatContext,!1,!1),ot.preambleChildren.push(Ne),oe.blockedSegment=Ne;try{Ne.status=6,as(ne,oe,Ht,-1),Ne.lastPushedText&&Ne.textEmbedded&&Ne.chunks.push(Qr),Ne.status=1,Qs(ne,oe.blockedBoundary,Ne)}finally{oe.blockedSegment=ot}}else as(ne,oe,Ht,-1);oe.formatContext=xt,oe.keyPath=Ze;e:{switch(oe=ot.chunks,ne=ne.resumableState,Ue){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break e;case"body":if(1>=xt.insertionMode){ne.hasBody=!0;break e}break;case"html":if(xt.insertionMode===0){ne.hasHtml=!0;break e}break;case"head":if(1>=xt.insertionMode)break e}oe.push(ti(Ue))}ot.lastPushedText=!1}else{switch(Ue){case qe:case U:case q:case B:Ue=oe.keyPath,oe.keyPath=Ne,ns(ne,oe,Ke.children,-1),oe.keyPath=Ue;return;case Le:Ue=oe.blockedSegment,Ue===null?Ke.mode!=="hidden"&&(Ue=oe.keyPath,oe.keyPath=Ne,as(ne,oe,Ke.children,-1),oe.keyPath=Ue):Ke.mode!=="hidden"&&(Ue.chunks.push(lr),Ue.lastPushedText=!1,ot=oe.keyPath,oe.keyPath=Ne,as(ne,oe,Ke.children,-1),oe.keyPath=ot,Ue.chunks.push(cr),Ue.lastPushedText=!1);return;case xe:e:{if(Ue=Ke.children,Ke=Ke.revealOrder,Ke==="forwards"||Ke==="backwards"||Ke==="unstable_legacy-backwards"){if(Qe(Ue)){lc(ne,oe,Ne,Ue,Ke);break e}if((ot=He(Ue))&&(ot=ot.call(Ue))){if(xt=ot.next(),!xt.done){do xt=ot.next();while(!xt.done);lc(ne,oe,Ne,Ue,Ke)}break e}}Ke==="together"?(Ke=oe.keyPath,ot=oe.row,xt=oe.row=Ya(null),xt.boundaries=[],xt.together=!0,oe.keyPath=Ne,ns(ne,oe,Ue,-1),--xt.pendingTasks===0&&zs(ne,xt),oe.keyPath=Ke,oe.row=ot,ot!==null&&0<xt.pendingTasks&&(ot.pendingTasks++,xt.next=ot)):(Ke=oe.keyPath,oe.keyPath=Ne,ns(ne,oe,Ue,-1),oe.keyPath=Ke)}return;case $e:case Be:throw Error(A(343));case te:e:if(oe.replay!==null){Ue=oe.keyPath,ot=oe.formatContext,xt=oe.row,oe.keyPath=Ne,oe.formatContext=Rr(ne.resumableState,ot),oe.row=null,Ne=Ke.children;try{as(ne,oe,Ne,-1)}finally{oe.keyPath=Ue,oe.formatContext=ot,oe.row=xt}}else{Ue=oe.keyPath,Ze=oe.formatContext;var Jt=oe.row;_t=oe.blockedBoundary,Rt=oe.blockedPreamble;var Cr=oe.hoistableState,Tr=oe.blockedSegment,gn=Ke.fallback;Ke=Ke.children;var qn=new Set,Pn=2>oe.formatContext.insertionMode?ni(ne,oe.row,qn,Or(),Or()):ni(ne,oe.row,qn,null,null);ne.trackedPostpones!==null&&(Pn.trackedContentKeyPath=Ne);var en=Ts(ne,Tr.chunks.length,Pn,oe.formatContext,!1,!1);Tr.children.push(en),Tr.lastPushedText=!1;var yn=Ts(ne,0,null,oe.formatContext,!1,!1);if(yn.parentFlushed=!0,ne.trackedPostpones!==null){ot=oe.componentStack,xt=[Ne[0],"Suspense Fallback",Ne[2]],Ht=[xt[1],xt[2],[],null],ne.trackedPostpones.workingMap.set(xt,Ht),Pn.trackedFallbackNode=Ht,oe.blockedSegment=en,oe.blockedPreamble=Pn.fallbackPreamble,oe.keyPath=xt,oe.formatContext=gr(ne.resumableState,Ze),oe.componentStack=ui(ot),en.status=6;try{as(ne,oe,gn,-1),en.lastPushedText&&en.textEmbedded&&en.chunks.push(Qr),en.status=1,Qs(ne,_t,en)}catch(la){throw en.status=ne.status===12?3:4,la}finally{oe.blockedSegment=Tr,oe.blockedPreamble=Rt,oe.keyPath=Ue,oe.formatContext=Ze}oe=Ui(ne,null,Ke,-1,Pn,yn,Pn.contentPreamble,Pn.contentState,oe.abortSet,Ne,Rr(ne.resumableState,oe.formatContext),oe.context,oe.treeContext,null,ot),Oi(oe),ne.pingedTasks.push(oe)}else{oe.blockedBoundary=Pn,oe.blockedPreamble=Pn.contentPreamble,oe.hoistableState=Pn.contentState,oe.blockedSegment=yn,oe.keyPath=Ne,oe.formatContext=Rr(ne.resumableState,Ze),oe.row=null,yn.status=6;try{if(as(ne,oe,Ke,-1),yn.lastPushedText&&yn.textEmbedded&&yn.chunks.push(Qr),yn.status=1,Qs(ne,Pn,yn),Di(Pn,yn),Pn.pendingTasks===0&&Pn.status===0){if(Pn.status=1,!ci(ne,Pn)){Jt!==null&&--Jt.pendingTasks===0&&zs(ne,Jt),ne.pendingRootTasks===0&&oe.blockedPreamble&&bi(ne);break e}}else Jt!==null&&Jt.together&&jl(ne,Jt)}catch(la){Pn.status=4,ne.status===12?(yn.status=3,ot=ne.fatalError):(yn.status=4,ot=la),xt=_a(oe.componentStack),Ht=ps(ne,ot,xt),Pn.errorDigest=Ht,ro(ne,Pn)}finally{oe.blockedBoundary=_t,oe.blockedPreamble=Rt,oe.hoistableState=Cr,oe.blockedSegment=Tr,oe.keyPath=Ue,oe.formatContext=Ze,oe.row=Jt}oe=Ui(ne,null,gn,-1,_t,en,Pn.fallbackPreamble,Pn.fallbackState,qn,[Ne[0],"Suspense Fallback",Ne[2]],gr(ne.resumableState,oe.formatContext),oe.context,oe.treeContext,oe.row,ui(oe.componentStack)),Oi(oe),ne.pingedTasks.push(oe)}}return}if(typeof Ue=="object"&&Ue!==null)switch(Ue.$$typeof){case ee:if("ref"in Ke)for(Tr in ot={},Ke)Tr!=="ref"&&(ot[Tr]=Ke[Tr]);else ot=Ke;Ue=el(ne,oe,Ne,Ue.render,ot,Ze),di(ne,oe,Ne,Ue,cs!==0,ja,es);return;case fe:eo(ne,oe,Ne,Ue.type,Ke,Ze);return;case J:if(xt=Ke.children,ot=oe.keyPath,Ke=Ke.value,Ht=Ue._currentValue,Ue._currentValue=Ke,Ze=Ms,Ms=Ue={parent:Ze,depth:Ze===null?0:Ze.depth+1,context:Ue,parentValue:Ht,value:Ke},oe.context=Ue,oe.keyPath=Ne,ns(ne,oe,xt,-1),ne=Ms,ne===null)throw Error(A(403));ne.context._currentValue=ne.parentValue,ne=Ms=ne.parent,oe.context=ne,oe.keyPath=ot;return;case K:Ke=Ke.children,Ue=Ke(Ue._context._currentValue),Ke=oe.keyPath,oe.keyPath=Ne,ns(ne,oe,Ue,-1),oe.keyPath=Ke;return;case ye:if(ot=Ue._init,Ue=ot(Ue._payload),ne.status===12)throw null;eo(ne,oe,Ne,Ue,Ke,Ze);return}throw Error(A(130,Ue==null?Ue:typeof Ue,""))}}function mi(ne,oe,Ne,Ue,Ke){var Ze=oe.replay,ot=oe.blockedBoundary,Rt=Ts(ne,0,null,oe.formatContext,!1,!1);Rt.id=Ne,Rt.parentFlushed=!0;try{oe.replay=null,oe.blockedSegment=Rt,as(ne,oe,Ue,Ke),Rt.status=1,Qs(ne,ot,Rt),ot===null?ne.completedRootSegment=Rt:(Di(ot,Rt),ot.parentFlushed&&ne.partialBoundaries.push(ot))}finally{oe.replay=Ze,oe.blockedSegment=null}}function ns(ne,oe,Ne,Ue){oe.replay!==null&&typeof oe.replay.slots=="number"?mi(ne,oe,oe.replay.slots,Ne,Ue):(oe.node=Ne,oe.childIndex=Ue,Ne=oe.componentStack,Oi(oe),tl(ne,oe),oe.componentStack=Ne)}function tl(ne,oe){var Ne=oe.node,Ue=oe.childIndex;if(Ne!==null){if(typeof Ne=="object"){switch(Ne.$$typeof){case T:var Ke=Ne.type,Ze=Ne.key,ot=Ne.props;Ne=ot.ref;var Rt=Ne!==void 0?Ne:null,xt=Jo(Ke),_t=Ze??(Ue===-1?0:Ue);if(Ze=[oe.keyPath,xt,_t],oe.replay!==null)e:{var Ht=oe.replay;for(Ue=Ht.nodes,Ne=0;Ne<Ue.length;Ne++){var Jt=Ue[Ne];if(_t===Jt[1]){if(Jt.length===4){if(xt!==null&&xt!==Jt[0])throw Error(A(490,Jt[0],xt));var Cr=Jt[2];xt=Jt[3],_t=oe.node,oe.replay={nodes:Cr,slots:xt,pendingTasks:1};try{if(eo(ne,oe,Ze,Ke,ot,Rt),oe.replay.pendingTasks===1&&0<oe.replay.nodes.length)throw Error(A(488));oe.replay.pendingTasks--}catch(En){if(typeof En=="object"&&En!==null&&(En===Dr||typeof En.then=="function"))throw oe.node===_t?oe.replay=Ht:Ue.splice(Ne,1),En;oe.replay.pendingTasks--,ot=_a(oe.componentStack),Ze=ne,ne=oe.blockedBoundary,Ke=En,ot=ps(Ze,Ke,ot),jo(Ze,ne,Cr,xt,Ke,ot)}oe.replay=Ht}else{if(Ke!==te)throw Error(A(490,"Suspense",Jo(Ke)||"Unknown"));t:{Ht=void 0,Ke=Jt[5],Rt=Jt[2],xt=Jt[3],_t=Jt[4]===null?[]:Jt[4][2],Jt=Jt[4]===null?null:Jt[4][3];var Tr=oe.keyPath,gn=oe.formatContext,qn=oe.row,Pn=oe.replay,en=oe.blockedBoundary,yn=oe.hoistableState,la=ot.children,Os=ot.fallback,Ds=new Set;ot=2>oe.formatContext.insertionMode?ni(ne,oe.row,Ds,Or(),Or()):ni(ne,oe.row,Ds,null,null),ot.parentFlushed=!0,ot.rootSegmentID=Ke,oe.blockedBoundary=ot,oe.hoistableState=ot.contentState,oe.keyPath=Ze,oe.formatContext=Rr(ne.resumableState,gn),oe.row=null,oe.replay={nodes:Rt,slots:xt,pendingTasks:1};try{if(as(ne,oe,la,-1),oe.replay.pendingTasks===1&&0<oe.replay.nodes.length)throw Error(A(488));if(oe.replay.pendingTasks--,ot.pendingTasks===0&&ot.status===0){ot.status=1,ne.completedBoundaries.push(ot);break t}}catch(En){ot.status=4,Cr=_a(oe.componentStack),Ht=ps(ne,En,Cr),ot.errorDigest=Ht,oe.replay.pendingTasks--,ne.clientRenderedBoundaries.push(ot)}finally{oe.blockedBoundary=en,oe.hoistableState=yn,oe.replay=Pn,oe.keyPath=Tr,oe.formatContext=gn,oe.row=qn}Cr=Zo(ne,null,{nodes:_t,slots:Jt,pendingTasks:0},Os,-1,en,ot.fallbackState,Ds,[Ze[0],"Suspense Fallback",Ze[2]],gr(ne.resumableState,oe.formatContext),oe.context,oe.treeContext,oe.row,ui(oe.componentStack)),Oi(Cr),ne.pingedTasks.push(Cr)}}Ue.splice(Ne,1);break e}}}else eo(ne,oe,Ze,Ke,ot,Rt);return;case I:throw Error(A(257));case ye:if(Cr=Ne._init,Ne=Cr(Ne._payload),ne.status===12)throw null;ns(ne,oe,Ne,Ue);return}if(Qe(Ne)){Po(ne,oe,Ne,Ue);return}if((Cr=He(Ne))&&(Cr=Cr.call(Ne))){if(Ne=Cr.next(),!Ne.done){ot=[];do ot.push(Ne.value),Ne=Cr.next();while(!Ne.done);Po(ne,oe,ot,Ue)}return}if(typeof Ne.then=="function")return oe.thenableState=null,ns(ne,oe,El(Ne),Ue);if(Ne.$$typeof===J)return ns(ne,oe,Ne._currentValue,Ue);throw Ue=Object.prototype.toString.call(Ne),Error(A(31,Ue==="[object Object]"?"object with keys {"+Object.keys(Ne).join(", ")+"}":Ue))}typeof Ne=="string"?(Ue=oe.blockedSegment,Ue!==null&&(Ue.lastPushedText=kn(Ue.chunks,Ne,ne.renderState,Ue.lastPushedText))):(typeof Ne=="number"||typeof Ne=="bigint")&&(Ue=oe.blockedSegment,Ue!==null&&(Ue.lastPushedText=kn(Ue.chunks,""+Ne,ne.renderState,Ue.lastPushedText)))}}function Po(ne,oe,Ne,Ue){var Ke=oe.keyPath;if(Ue!==-1&&(oe.keyPath=[oe.keyPath,"Fragment",Ue],oe.replay!==null)){for(var Ze=oe.replay,ot=Ze.nodes,Rt=0;Rt<ot.length;Rt++){var xt=ot[Rt];if(xt[1]===Ue){Ue=xt[2],xt=xt[3],oe.replay={nodes:Ue,slots:xt,pendingTasks:1};try{if(Po(ne,oe,Ne,-1),oe.replay.pendingTasks===1&&0<oe.replay.nodes.length)throw Error(A(488));oe.replay.pendingTasks--}catch(Jt){if(typeof Jt=="object"&&Jt!==null&&(Jt===Dr||typeof Jt.then=="function"))throw Jt;oe.replay.pendingTasks--,Ne=_a(oe.componentStack);var _t=oe.blockedBoundary,Ht=Jt;Ne=ps(ne,Ht,Ne),jo(ne,_t,Ue,xt,Ht,Ne)}oe.replay=Ze,ot.splice(Rt,1);break}}oe.keyPath=Ke;return}if(Ze=oe.treeContext,ot=Ne.length,oe.replay!==null&&(Rt=oe.replay.slots,Rt!==null&&typeof Rt=="object")){for(Ue=0;Ue<ot;Ue++)xt=Ne[Ue],oe.treeContext=dt(Ze,ot,Ue),_t=Rt[Ue],typeof _t=="number"?(mi(ne,oe,_t,xt,Ue),delete Rt[Ue]):as(ne,oe,xt,Ue);oe.treeContext=Ze,oe.keyPath=Ke;return}for(Rt=0;Rt<ot;Rt++)Ue=Ne[Rt],oe.treeContext=dt(Ze,ot,Rt),as(ne,oe,Ue,Rt);oe.treeContext=Ze,oe.keyPath=Ke}function cc(ne,oe,Ne){if(Ne.status=5,Ne.rootSegmentID=ne.nextSegmentId++,ne=Ne.trackedContentKeyPath,ne===null)throw Error(A(486));var Ue=Ne.trackedFallbackNode,Ke=[],Ze=oe.workingMap.get(ne);return Ze===void 0?(Ne=[ne[1],ne[2],Ke,null,Ue,Ne.rootSegmentID],oe.workingMap.set(ne,Ne),sl(Ne,ne[0],oe),Ne):(Ze[4]=Ue,Ze[5]=Ne.rootSegmentID,Ze)}function Sl(ne,oe,Ne,Ue){Ue.status=5;var Ke=Ne.keyPath,Ze=Ne.blockedBoundary;if(Ze===null)Ue.id=ne.nextSegmentId++,oe.rootSlots=Ue.id,ne.completedRootSegment!==null&&(ne.completedRootSegment.status=5);else{if(Ze!==null&&Ze.status===0){var ot=cc(ne,oe,Ze);if(Ze.trackedContentKeyPath===Ke&&Ne.childIndex===-1){Ue.id===-1&&(Ue.id=Ue.parentFlushed?Ze.rootSegmentID:ne.nextSegmentId++),ot[3]=Ue.id;return}}if(Ue.id===-1&&(Ue.id=Ue.parentFlushed&&Ze!==null?Ze.rootSegmentID:ne.nextSegmentId++),Ne.childIndex===-1)Ke===null?oe.rootSlots=Ue.id:(Ne=oe.workingMap.get(Ke),Ne===void 0?(Ne=[Ke[1],Ke[2],[],Ue.id],sl(Ne,Ke[0],oe)):Ne[3]=Ue.id);else{if(Ke===null){if(ne=oe.rootSlots,ne===null)ne=oe.rootSlots={};else if(typeof ne=="number")throw Error(A(491))}else if(Ze=oe.workingMap,ot=Ze.get(Ke),ot===void 0)ne={},ot=[Ke[1],Ke[2],[],ne],Ze.set(Ke,ot),sl(ot,Ke[0],oe);else if(ne=ot[3],ne===null)ne=ot[3]={};else if(typeof ne=="number")throw Error(A(491));ne[Ne.childIndex]=Ue.id}}}function ro(ne,oe){ne=ne.trackedPostpones,ne!==null&&(oe=oe.trackedContentKeyPath,oe!==null&&(oe=ne.workingMap.get(oe),oe!==void 0&&(oe.length=4,oe[2]=[],oe[3]=null)))}function rl(ne,oe,Ne){return Zo(ne,Ne,oe.replay,oe.node,oe.childIndex,oe.blockedBoundary,oe.hoistableState,oe.abortSet,oe.keyPath,oe.formatContext,oe.context,oe.treeContext,oe.row,oe.componentStack)}function nl(ne,oe,Ne){var Ue=oe.blockedSegment,Ke=Ts(ne,Ue.chunks.length,null,oe.formatContext,Ue.lastPushedText,!0);return Ue.children.push(Ke),Ue.lastPushedText=!1,Ui(ne,Ne,oe.node,oe.childIndex,oe.blockedBoundary,Ke,oe.blockedPreamble,oe.hoistableState,oe.abortSet,oe.keyPath,oe.formatContext,oe.context,oe.treeContext,oe.row,oe.componentStack)}function as(ne,oe,Ne,Ue){var Ke=oe.formatContext,Ze=oe.context,ot=oe.keyPath,Rt=oe.treeContext,xt=oe.componentStack,_t=oe.blockedSegment;if(_t===null){_t=oe.replay;try{return ns(ne,oe,Ne,Ue)}catch(Cr){if(Vs(),Ne=Cr===Dr?Mn():Cr,ne.status!==12&&typeof Ne=="object"&&Ne!==null){if(typeof Ne.then=="function"){Ue=Cr===Dr?us():null,ne=rl(ne,oe,Ue).ping,Ne.then(ne,ne),oe.formatContext=Ke,oe.context=Ze,oe.keyPath=ot,oe.treeContext=Rt,oe.componentStack=xt,oe.replay=_t,ze(Ze);return}if(Ne.message==="Maximum call stack size exceeded"){Ne=Cr===Dr?us():null,Ne=rl(ne,oe,Ne),ne.pingedTasks.push(Ne),oe.formatContext=Ke,oe.context=Ze,oe.keyPath=ot,oe.treeContext=Rt,oe.componentStack=xt,oe.replay=_t,ze(Ze);return}}}}else{var Ht=_t.children.length,Jt=_t.chunks.length;try{return ns(ne,oe,Ne,Ue)}catch(Cr){if(Vs(),_t.children.length=Ht,_t.chunks.length=Jt,Ne=Cr===Dr?Mn():Cr,ne.status!==12&&typeof Ne=="object"&&Ne!==null){if(typeof Ne.then=="function"){_t=Ne,Ne=Cr===Dr?us():null,ne=nl(ne,oe,Ne).ping,_t.then(ne,ne),oe.formatContext=Ke,oe.context=Ze,oe.keyPath=ot,oe.treeContext=Rt,oe.componentStack=xt,ze(Ze);return}if(Ne.message==="Maximum call stack size exceeded"){_t=Cr===Dr?us():null,_t=nl(ne,oe,_t),ne.pingedTasks.push(_t),oe.formatContext=Ke,oe.context=Ze,oe.keyPath=ot,oe.treeContext=Rt,oe.componentStack=xt,ze(Ze);return}}}}throw oe.formatContext=Ke,oe.context=Ze,oe.keyPath=ot,oe.treeContext=Rt,ze(Ze),Ne}function no(ne){var oe=ne.blockedBoundary,Ne=ne.blockedSegment;Ne!==null&&(Ne.status=3,ai(this,oe,ne.row,Ne))}function jo(ne,oe,Ne,Ue,Ke,Ze){for(var ot=0;ot<Ne.length;ot++){var Rt=Ne[ot];if(Rt.length===4)jo(ne,oe,Rt[2],Rt[3],Ke,Ze);else{Rt=Rt[5];var xt=ne,_t=Ze,Ht=ni(xt,null,new Set,null,null);Ht.parentFlushed=!0,Ht.rootSegmentID=Rt,Ht.status=4,Ht.errorDigest=_t,Ht.parentFlushed&&xt.clientRenderedBoundaries.push(Ht)}}if(Ne.length=0,Ue!==null){if(oe===null)throw Error(A(487));if(oe.status!==4&&(oe.status=4,oe.errorDigest=Ze,oe.parentFlushed&&ne.clientRenderedBoundaries.push(oe)),typeof Ue=="object")for(var Jt in Ue)delete Ue[Jt]}}function ao(ne,oe,Ne){var Ue=ne.blockedBoundary,Ke=ne.blockedSegment;if(Ke!==null){if(Ke.status===6)return;Ke.status=3}var Ze=_a(ne.componentStack);if(Ue===null){if(oe.status!==13&&oe.status!==14){if(Ue=ne.replay,Ue===null){oe.trackedPostpones!==null&&Ke!==null?(Ue=oe.trackedPostpones,ps(oe,Ne,Ze),Sl(oe,Ue,ne,Ke),ai(oe,null,ne.row,Ke)):(ps(oe,Ne,Ze),Io(oe,Ne));return}Ue.pendingTasks--,Ue.pendingTasks===0&&0<Ue.nodes.length&&(Ke=ps(oe,Ne,Ze),jo(oe,null,Ue.nodes,Ue.slots,Ne,Ke)),oe.pendingRootTasks--,oe.pendingRootTasks===0&&Rl(oe)}}else{var ot=oe.trackedPostpones;if(Ue.status!==4){if(ot!==null&&Ke!==null)return ps(oe,Ne,Ze),Sl(oe,ot,ne,Ke),Ue.fallbackAbortableTasks.forEach(function(Rt){return ao(Rt,oe,Ne)}),Ue.fallbackAbortableTasks.clear(),ai(oe,Ue,ne.row,Ke);Ue.status=4,Ke=ps(oe,Ne,Ze),Ue.status=4,Ue.errorDigest=Ke,ro(oe,Ue),Ue.parentFlushed&&oe.clientRenderedBoundaries.push(Ue)}Ue.pendingTasks--,Ke=Ue.row,Ke!==null&&--Ke.pendingTasks===0&&zs(oe,Ke),Ue.fallbackAbortableTasks.forEach(function(Rt){return ao(Rt,oe,Ne)}),Ue.fallbackAbortableTasks.clear()}ne=ne.row,ne!==null&&--ne.pendingTasks===0&&zs(oe,ne),oe.allPendingTasks--,oe.allPendingTasks===0&&al(oe)}function So(ne,oe){try{var Ne=ne.renderState,Ue=Ne.onHeaders;if(Ue){var Ke=Ne.headers;if(Ke){Ne.headers=null;var Ze=Ke.preconnects;if(Ke.fontPreloads&&(Ze&&(Ze+=", "),Ze+=Ke.fontPreloads),Ke.highImagePreloads&&(Ze&&(Ze+=", "),Ze+=Ke.highImagePreloads),!oe){var ot=Ne.styles.values(),Rt=ot.next();e:for(;0<Ke.remainingCapacity&&!Rt.done;Rt=ot.next())for(var xt=Rt.value.sheets.values(),_t=xt.next();0<Ke.remainingCapacity&&!_t.done;_t=xt.next()){var Ht=_t.value,Jt=Ht.props,Cr=Jt.href,Tr=Ht.props,gn=As(Tr.href,"style",{crossOrigin:Tr.crossOrigin,integrity:Tr.integrity,nonce:Tr.nonce,type:Tr.type,fetchPriority:Tr.fetchPriority,referrerPolicy:Tr.referrerPolicy,media:Tr.media});if(0<=(Ke.remainingCapacity-=gn.length+2))Ne.resets.style[Cr]=Xr,Ze&&(Ze+=", "),Ze+=gn,Ne.resets.style[Cr]=typeof Jt.crossOrigin=="string"||typeof Jt.integrity=="string"?[Jt.crossOrigin,Jt.integrity]:Xr;else break e}}Ue(Ze?{Link:Ze}:{})}}}catch(qn){ps(ne,qn,{})}}function Rl(ne){ne.trackedPostpones===null&&So(ne,!0),ne.trackedPostpones===null&&bi(ne),ne.onShellError=ar,ne=ne.onShellReady,ne()}function al(ne){So(ne,ne.trackedPostpones===null?!0:ne.completedRootSegment===null||ne.completedRootSegment.status!==5),bi(ne),ne=ne.onAllReady,ne()}function Di(ne,oe){if(oe.chunks.length===0&&oe.children.length===1&&oe.children[0].boundary===null&&oe.children[0].id===-1){var Ne=oe.children[0];Ne.id=oe.id,Ne.parentFlushed=!0,Ne.status!==1&&Ne.status!==3&&Ne.status!==4||Di(ne,Ne)}else ne.completedSegments.push(oe)}function Qs(ne,oe,Ne){if(kt!==null){Ne=Ne.chunks;for(var Ue=0,Ke=0;Ke<Ne.length;Ke++)Ue+=Ne[Ke].byteLength;oe===null?ne.byteSize+=Ue:oe.byteSize+=Ue}}function ai(ne,oe,Ne,Ue){if(Ne!==null&&(--Ne.pendingTasks===0?zs(ne,Ne):Ne.together&&jl(ne,Ne)),ne.allPendingTasks--,oe===null){if(Ue!==null&&Ue.parentFlushed){if(ne.completedRootSegment!==null)throw Error(A(389));ne.completedRootSegment=Ue}ne.pendingRootTasks--,ne.pendingRootTasks===0&&Rl(ne)}else if(oe.pendingTasks--,oe.status!==4)if(oe.pendingTasks===0){if(oe.status===0&&(oe.status=1),Ue!==null&&Ue.parentFlushed&&(Ue.status===1||Ue.status===3)&&Di(oe,Ue),oe.parentFlushed&&ne.completedBoundaries.push(oe),oe.status===1)Ne=oe.row,Ne!==null&&Do(Ne.hoistables,oe.contentState),ci(ne,oe)||(oe.fallbackAbortableTasks.forEach(no,ne),oe.fallbackAbortableTasks.clear(),Ne!==null&&--Ne.pendingTasks===0&&zs(ne,Ne)),ne.pendingRootTasks===0&&ne.trackedPostpones===null&&oe.contentPreamble!==null&&bi(ne);else if(oe.status===5&&(oe=oe.row,oe!==null)){if(ne.trackedPostpones!==null){Ne=ne.trackedPostpones;var Ke=oe.next;if(Ke!==null&&(Ue=Ke.boundaries,Ue!==null))for(Ke.boundaries=null,Ke=0;Ke<Ue.length;Ke++){var Ze=Ue[Ke];cc(ne,Ne,Ze),ai(ne,Ze,null,null)}}--oe.pendingTasks===0&&zs(ne,oe)}}else Ue===null||!Ue.parentFlushed||Ue.status!==1&&Ue.status!==3||(Di(oe,Ue),oe.completedSegments.length===1&&oe.parentFlushed&&ne.partialBoundaries.push(oe)),oe=oe.row,oe!==null&&oe.together&&jl(ne,oe);ne.allPendingTasks===0&&al(ne)}function uc(ne){if(ne.status!==14&&ne.status!==13){var oe=Ms,Ne=nn.H;nn.H=ic;var Ue=nn.A;nn.A=Fa;var Ke=Ma;Ma=ne;var Ze=ds;ds=ne.resumableState;try{var ot=ne.pingedTasks,Rt;for(Rt=0;Rt<ot.length;Rt++){var xt=ot[Rt],_t=ne,Ht=xt.blockedSegment;if(Ht===null){var Jt=_t;if(xt.replay.pendingTasks!==0){ze(xt.context);try{if(typeof xt.replay.slots=="number"?mi(Jt,xt,xt.replay.slots,xt.node,xt.childIndex):tl(Jt,xt),xt.replay.pendingTasks===1&&0<xt.replay.nodes.length)throw Error(A(488));xt.replay.pendingTasks--,xt.abortSet.delete(xt),ai(Jt,xt.blockedBoundary,xt.row,null)}catch(Ss){Vs();var Cr=Ss===Dr?Mn():Ss;if(typeof Cr=="object"&&Cr!==null&&typeof Cr.then=="function"){var Tr=xt.ping;Cr.then(Tr,Tr),xt.thenableState=Ss===Dr?us():null}else{xt.replay.pendingTasks--,xt.abortSet.delete(xt);var gn=_a(xt.componentStack);_t=void 0;var qn=Jt,Pn=xt.blockedBoundary,en=Jt.status===12?Jt.fatalError:Cr,yn=xt.replay.nodes,la=xt.replay.slots;_t=ps(qn,en,gn),jo(qn,Pn,yn,la,en,_t),Jt.pendingRootTasks--,Jt.pendingRootTasks===0&&Rl(Jt),Jt.allPendingTasks--,Jt.allPendingTasks===0&&al(Jt)}}finally{}}}else if(Jt=void 0,qn=Ht,qn.status===0){qn.status=6,ze(xt.context);var Os=qn.children.length,Ds=qn.chunks.length;try{tl(_t,xt),qn.lastPushedText&&qn.textEmbedded&&qn.chunks.push(Qr),xt.abortSet.delete(xt),qn.status=1,Qs(_t,xt.blockedBoundary,qn),ai(_t,xt.blockedBoundary,xt.row,qn)}catch(Ss){Vs(),qn.children.length=Os,qn.chunks.length=Ds;var En=Ss===Dr?Mn():_t.status===12?_t.fatalError:Ss;if(_t.status===12&&_t.trackedPostpones!==null){var vs=_t.trackedPostpones,qa=_a(xt.componentStack);xt.abortSet.delete(xt),ps(_t,En,qa),Sl(_t,vs,xt,qn),ai(_t,xt.blockedBoundary,xt.row,qn)}else if(typeof En=="object"&&En!==null&&typeof En.then=="function"){qn.status=0,xt.thenableState=Ss===Dr?us():null;var hs=xt.ping;En.then(hs,hs)}else{var so=_a(xt.componentStack);xt.abortSet.delete(xt),qn.status=4;var Ln=xt.blockedBoundary,qi=xt.row;if(qi!==null&&--qi.pendingTasks===0&&zs(_t,qi),_t.allPendingTasks--,Jt=ps(_t,En,so),Ln===null)Io(_t,En);else if(Ln.pendingTasks--,Ln.status!==4){Ln.status=4,Ln.errorDigest=Jt,ro(_t,Ln);var Si=Ln.row;Si!==null&&--Si.pendingTasks===0&&zs(_t,Si),Ln.parentFlushed&&_t.clientRenderedBoundaries.push(Ln),_t.pendingRootTasks===0&&_t.trackedPostpones===null&&Ln.contentPreamble!==null&&bi(_t)}_t.allPendingTasks===0&&al(_t)}}finally{}}}ot.splice(0,Rt),ne.destination!==null&&Lo(ne,ne.destination)}catch(Ss){ps(ne,Ss,{}),Io(ne,Ss)}finally{ds=Ze,nn.H=Ne,nn.A=Ue,Ne===ic&&ze(oe),Ma=Ke}}}function xi(ne,oe,Ne){oe.preambleChildren.length&&Ne.push(oe.preambleChildren);for(var Ue=!1,Ke=0;Ke<oe.children.length;Ke++)Ue=ko(ne,oe.children[Ke],Ne)||Ue;return Ue}function ko(ne,oe,Ne){var Ue=oe.boundary;if(Ue===null)return xi(ne,oe,Ne);var Ke=Ue.contentPreamble,Ze=Ue.fallbackPreamble;if(Ke===null||Ze===null)return!1;switch(Ue.status){case 1:if(wt(ne.renderState,Ke),ne.byteSize+=Ue.byteSize,oe=Ue.completedSegments[0],!oe)throw Error(A(391));return xi(ne,oe,Ne);case 5:if(ne.trackedPostpones!==null)return!0;case 4:if(oe.status===1)return wt(ne.renderState,Ze),xi(ne,oe,Ne);default:return!0}}function bi(ne){if(ne.completedRootSegment&&ne.completedPreambleSegments===null){var oe=[],Ne=ne.byteSize,Ue=ko(ne,ne.completedRootSegment,oe),Ke=ne.renderState.preamble;Ue===!1||Ke.headChunks&&Ke.bodyChunks?ne.completedPreambleSegments=oe:ne.byteSize=Ne}}function Ii(ne,oe,Ne,Ue){switch(Ne.parentFlushed=!0,Ne.status){case 0:Ne.id=ne.nextSegmentId++;case 5:return Ue=Ne.id,Ne.lastPushedText=!1,Ne.textEmbedded=!1,ne=ne.renderState,Je(oe,Nr),Je(oe,ne.placeholderPrefix),ne=rt(Ue.toString(16)),Je(oe,ne),ut(oe,sr);case 1:Ne.status=2;var Ke=!0,Ze=Ne.chunks,ot=0;Ne=Ne.children;for(var Rt=0;Rt<Ne.length;Rt++){for(Ke=Ne[Rt];ot<Ke.index;ot++)Je(oe,Ze[ot]);Ke=Mo(ne,oe,Ke,Ue)}for(;ot<Ze.length-1;ot++)Je(oe,Ze[ot]);return ot<Ze.length&&(Ke=ut(oe,Ze[ot])),Ke;case 3:return!0;default:throw Error(A(390))}}var Ei=0;function Mo(ne,oe,Ne,Ue){var Ke=Ne.boundary;if(Ke===null)return Ii(ne,oe,Ne,Ue);if(Ke.parentFlushed=!0,Ke.status===4){var Ze=Ke.row;Ze!==null&&--Ze.pendingTasks===0&&zs(ne,Ze),Ke=Ke.errorDigest,ut(oe,qr),Je(oe,Jn),Ke&&(Je(oe,wa),Je(oe,rt(jt(Ke))),Je(oe,Un)),ut(oe,Ha),Ii(ne,oe,Ne,Ue)}else if(Ke.status!==1)Ke.status===0&&(Ke.rootSegmentID=ne.nextSegmentId++),0<Ke.completedSegments.length&&ne.partialBoundaries.push(Ke),Za(oe,ne.renderState,Ke.rootSegmentID),Ue&&Do(Ue,Ke.fallbackState),Ii(ne,oe,Ne,Ue);else if(!Pi&&ci(ne,Ke)&&(Ei+Ke.byteSize>ne.progressiveChunkSize||Li(Ke.contentState)))Ke.rootSegmentID=ne.nextSegmentId++,ne.completedBoundaries.push(Ke),Za(oe,ne.renderState,Ke.rootSegmentID),Ii(ne,oe,Ne,Ue);else{if(Ei+=Ke.byteSize,Ue&&Do(Ue,Ke.contentState),Ne=Ke.row,Ne!==null&&ci(ne,Ke)&&--Ne.pendingTasks===0&&zs(ne,Ne),ut(oe,yr),Ne=Ke.completedSegments,Ne.length!==1)throw Error(A(391));Mo(ne,oe,Ne[0],Ue)}return ut(oe,sn)}function Zs(ne,oe,Ne,Ue){return dn(oe,ne.renderState,Ne.parentFormatContext,Ne.id),Mo(ne,oe,Ne,Ue),Vn(oe,Ne.parentFormatContext)}function dc(ne,oe,Ne){Ei=Ne.byteSize;for(var Ue=Ne.completedSegments,Ke=0;Ke<Ue.length;Ke++)zi(ne,oe,Ne,Ue[Ke]);Ue.length=0,Ue=Ne.row,Ue!==null&&ci(ne,Ne)&&--Ue.pendingTasks===0&&zs(ne,Ue),Mi(oe,Ne.contentState,ne.renderState),Ue=ne.resumableState,ne=ne.renderState,Ke=Ne.rootSegmentID,Ne=Ne.contentState;var Ze=ne.stylesToHoist;return ne.stylesToHoist=!1,Je(oe,ne.startInlineScript),Je(oe,ea),Ze?((Ue.instructions&4)===0&&(Ue.instructions|=4,Je(oe,Ko)),(Ue.instructions&2)===0&&(Ue.instructions|=2,Je(oe,pl)),(Ue.instructions&8)===0?(Ue.instructions|=8,Je(oe,Wu)):Je(oe,yu)):((Ue.instructions&2)===0&&(Ue.instructions|=2,Je(oe,pl)),Je(oe,gu)),Ue=rt(Ke.toString(16)),Je(oe,ne.boundaryPrefix),Je(oe,Ue),Je(oe,Fl),Je(oe,ne.segmentPrefix),Je(oe,Ue),Ze?(Je(oe,Yu),ys(oe,Ne)):Je(oe,ql),Ne=ut(oe,vu),Lt(oe,ne)&&Ne}function zi(ne,oe,Ne,Ue){if(Ue.status===2)return!0;var Ke=Ne.contentState,Ze=Ue.id;if(Ze===-1){if((Ue.id=Ne.rootSegmentID)===-1)throw Error(A(392));return Zs(ne,oe,Ue,Ke)}return Ze===Ne.rootSegmentID?Zs(ne,oe,Ue,Ke):(Zs(ne,oe,Ue,Ke),Ne=ne.resumableState,ne=ne.renderState,Je(oe,ne.startInlineScript),Je(oe,ea),(Ne.instructions&1)===0?(Ne.instructions|=1,Je(oe,gi)):Je(oe,Fc),Je(oe,ne.segmentPrefix),Ze=rt(Ze.toString(16)),Je(oe,Ze),Je(oe,Ku),Je(oe,ne.placeholderPrefix),Je(oe,Ze),oe=ut(oe,Vu),oe)}var Pi=!1;function Lo(ne,oe){At=new Uint8Array(2048),It=0;try{if(!(0<ne.pendingRootTasks)){var Ne,Ue=ne.completedRootSegment;if(Ue!==null){if(Ue.status===5)return;var Ke=ne.completedPreambleSegments;if(Ke===null)return;Ei=ne.byteSize;var Ze=ne.resumableState,ot=ne.renderState,Rt=ot.preamble,xt=Rt.htmlChunks,_t=Rt.headChunks,Ht;if(xt){for(Ht=0;Ht<xt.length;Ht++)Je(oe,xt[Ht]);if(_t)for(Ht=0;Ht<_t.length;Ht++)Je(oe,_t[Ht]);else Je(oe,ma("head")),Je(oe,ea)}else if(_t)for(Ht=0;Ht<_t.length;Ht++)Je(oe,_t[Ht]);var Jt=ot.charsetChunks;for(Ht=0;Ht<Jt.length;Ht++)Je(oe,Jt[Ht]);Jt.length=0,ot.preconnects.forEach(Ba,oe),ot.preconnects.clear();var Cr=ot.viewportChunks;for(Ht=0;Ht<Cr.length;Ht++)Je(oe,Cr[Ht]);Cr.length=0,ot.fontPreloads.forEach(Ba,oe),ot.fontPreloads.clear(),ot.highImagePreloads.forEach(Ba,oe),ot.highImagePreloads.clear(),an=ot,ot.styles.forEach(Yl,oe),an=null;var Tr=ot.importMapChunks;for(Ht=0;Ht<Tr.length;Ht++)Je(oe,Tr[Ht]);Tr.length=0,ot.bootstrapScripts.forEach(Ba,oe),ot.scripts.forEach(Ba,oe),ot.scripts.clear(),ot.bulkPreloads.forEach(Ba,oe),ot.bulkPreloads.clear(),xt||_t||(Ze.instructions|=32);var gn=ot.hoistableChunks;for(Ht=0;Ht<gn.length;Ht++)Je(oe,gn[Ht]);for(Ze=gn.length=0;Ze<Ke.length;Ze++){var qn=Ke[Ze];for(ot=0;ot<qn.length;ot++)Mo(ne,oe,qn[ot],null)}var Pn=ne.renderState.preamble,en=Pn.headChunks;(Pn.htmlChunks||en)&&Je(oe,ti("head"));var yn=Pn.bodyChunks;if(yn)for(Ke=0;Ke<yn.length;Ke++)Je(oe,yn[Ke]);Mo(ne,oe,Ue,null),ne.completedRootSegment=null;var la=ne.renderState;if(ne.allPendingTasks!==0||ne.clientRenderedBoundaries.length!==0||ne.completedBoundaries.length!==0||ne.trackedPostpones!==null&&(ne.trackedPostpones.rootNodes.length!==0||ne.trackedPostpones.rootSlots!==null)){var Os=ne.resumableState;if((Os.instructions&64)===0){if(Os.instructions|=64,Je(oe,la.startInlineScript),(Os.instructions&32)===0){Os.instructions|=32;var Ds="_"+Os.idPrefix+"R_";Je(oe,gl),Je(oe,rt(jt(Ds))),Je(oe,Qt)}Je(oe,ea),Je(oe,tr),ut(oe,rn)}}Lt(oe,la)}var En=ne.renderState;Ue=0;var vs=En.viewportChunks;for(Ue=0;Ue<vs.length;Ue++)Je(oe,vs[Ue]);vs.length=0,En.preconnects.forEach(Ba,oe),En.preconnects.clear(),En.fontPreloads.forEach(Ba,oe),En.fontPreloads.clear(),En.highImagePreloads.forEach(Ba,oe),En.highImagePreloads.clear(),En.styles.forEach(Xl,oe),En.scripts.forEach(Ba,oe),En.scripts.clear(),En.bulkPreloads.forEach(Ba,oe),En.bulkPreloads.clear();var qa=En.hoistableChunks;for(Ue=0;Ue<qa.length;Ue++)Je(oe,qa[Ue]);qa.length=0;var hs=ne.clientRenderedBoundaries;for(Ne=0;Ne<hs.length;Ne++){var so=hs[Ne];En=oe;var Ln=ne.resumableState,qi=ne.renderState,Si=so.rootSegmentID,Ss=so.errorDigest;Je(En,qi.startInlineScript),Je(En,ea),(Ln.instructions&4)===0?(Ln.instructions|=4,Je(En,qc)):Je(En,Hl),Je(En,qi.boundaryPrefix),Je(En,rt(Si.toString(16))),Je(En,$l),Ss&&(Je(En,Vo),Je(En,rt(bu(Ss||""))));var fi=ut(En,Xu);if(!fi){ne.destination=null,Ne++,hs.splice(0,Ne);return}}hs.splice(0,Ne);var wl=ne.completedBoundaries;for(Ne=0;Ne<wl.length;Ne++)if(!dc(ne,oe,wl[Ne])){ne.destination=null,Ne++,wl.splice(0,Ne);return}wl.splice(0,Ne),et(oe),At=new Uint8Array(2048),It=0,Pi=!0;var Uo=ne.partialBoundaries;for(Ne=0;Ne<Uo.length;Ne++){var io=Uo[Ne];e:{hs=ne,so=oe,Ei=io.byteSize;var zo=io.completedSegments;for(fi=0;fi<zo.length;fi++)if(!zi(hs,so,io,zo[fi])){fi++,zo.splice(0,fi);var Is=!1;break e}zo.splice(0,fi);var Aa=io.row;Aa!==null&&Aa.together&&io.pendingTasks===1&&(Aa.pendingTasks===1?Vc(hs,Aa,Aa.hoistables):Aa.pendingTasks--),Is=Mi(so,io.contentState,hs.renderState)}if(!Is){ne.destination=null,Ne++,Uo.splice(0,Ne);return}}Uo.splice(0,Ne),Pi=!1;var oo=ne.completedBoundaries;for(Ne=0;Ne<oo.length;Ne++)if(!dc(ne,oe,oo[Ne])){ne.destination=null,Ne++,oo.splice(0,Ne);return}oo.splice(0,Ne)}}finally{Pi=!1,ne.allPendingTasks===0&&ne.clientRenderedBoundaries.length===0&&ne.completedBoundaries.length===0?(ne.flushScheduled=!1,Ne=ne.resumableState,Ne.hasBody&&Je(oe,ti("body")),Ne.hasHtml&&Je(oe,ti("html")),et(oe),ne.status=14,oe.close(),ne.destination=null):et(oe)}}function si(ne){ne.flushScheduled=ne.destination!==null,ir(function(){return uc(ne)}),Nt(function(){ne.status===10&&(ne.status=11),ne.trackedPostpones===null&&So(ne,ne.pendingRootTasks===0)})}function Fs(ne){ne.flushScheduled===!1&&ne.pingedTasks.length===0&&ne.destination!==null&&(ne.flushScheduled=!0,Nt(function(){var oe=ne.destination;oe?Lo(ne,oe):ne.flushScheduled=!1}))}function ji(ne,oe){if(ne.status===13)ne.status=14,Zt(oe,ne.fatalError);else if(ne.status!==14&&ne.destination===null){ne.destination=oe;try{Lo(ne,oe)}catch(Ne){ps(ne,Ne,{}),Io(ne,Ne)}}}function ii(ne,oe){(ne.status===11||ne.status===10)&&(ne.status=12);try{var Ne=ne.abortableTasks;if(0<Ne.size){var Ue=oe===void 0?Error(A(432)):typeof oe=="object"&&oe!==null&&typeof oe.then=="function"?Error(A(530)):oe;ne.fatalError=Ue,Ne.forEach(function(Ke){return ao(Ke,ne,Ue)}),Ne.clear()}ne.destination!==null&&Lo(ne,ne.destination)}catch(Ke){ps(ne,Ke,{}),Io(ne,Ke)}}function sl(ne,oe,Ne){if(oe===null)Ne.rootNodes.push(ne);else{var Ue=Ne.workingMap,Ke=Ue.get(oe);Ke===void 0&&(Ke=[oe[1],oe[2],[],null],Ue.set(oe,Ke),sl(Ke,oe[0],Ne)),Ke[2].push(ne)}}function Bo(ne){var oe=ne.trackedPostpones;if(oe===null||oe.rootNodes.length===0&&oe.rootSlots===null)return ne.trackedPostpones=null;if(ne.completedRootSegment===null||ne.completedRootSegment.status!==5&&ne.completedPreambleSegments!==null){var Ne=ne.nextSegmentId,Ue=oe.rootSlots,Ke=ne.resumableState;Ke.bootstrapScriptContent=void 0,Ke.bootstrapScripts=void 0,Ke.bootstrapModules=void 0}else{Ne=0,Ue=-1,Ke=ne.resumableState;var Ze=ne.renderState;Ke.nextFormID=0,Ke.hasBody=!1,Ke.hasHtml=!1,Ke.unknownResources={font:Ze.resets.font},Ke.dnsResources=Ze.resets.dns,Ke.connectResources=Ze.resets.connect,Ke.imageResources=Ze.resets.image,Ke.styleResources=Ze.resets.style,Ke.scriptResources={},Ke.moduleUnknownResources={},Ke.moduleScriptResources={},Ke.instructions=0}return{nextSegmentId:Ne,rootFormatContext:ne.rootFormatContext,progressiveChunkSize:ne.progressiveChunkSize,resumableState:ne.resumableState,replayNodes:oe.rootNodes,replaySlots:Ue}}function Fi(){var ne=b.version;if(ne!=="19.2.0")throw Error(A(527,ne,"19.2.0"))}return Fi(),Fi(),reactDomServer_browser_production.prerender=function(ne,oe){return new Promise(function(Ne,Ue){var Ke=oe?oe.onHeaders:void 0,Ze;Ke&&(Ze=function(Ht){Ke(new Headers(Ht))});var ot=wr(oe?oe.identifierPrefix:void 0,oe?oe.unstable_externalRuntimeSrc:void 0,oe?oe.bootstrapScriptContent:void 0,oe?oe.bootstrapScripts:void 0,oe?oe.bootstrapModules:void 0),Rt=Qi(ne,ot,Mt(ot,void 0,oe?oe.unstable_externalRuntimeSrc:void 0,oe?oe.importMap:void 0,Ze,oe?oe.maxHeadersLength:void 0),Ur(oe?oe.namespaceURI:void 0),oe?oe.progressiveChunkSize:void 0,oe?oe.onError:void 0,function(){var Ht=new ReadableStream({type:"bytes",pull:function(Jt){ji(Rt,Jt)},cancel:function(Jt){Rt.destination=null,ii(Rt,Jt)}},{highWaterMark:0});Ht={postponed:Bo(Rt),prelude:Ht},Ne(Ht)},void 0,void 0,Ue,oe?oe.onPostpone:void 0);if(oe&&oe.signal){var xt=oe.signal;if(xt.aborted)ii(Rt,xt.reason);else{var _t=function(){ii(Rt,xt.reason),xt.removeEventListener("abort",_t)};xt.addEventListener("abort",_t)}}si(Rt)})},reactDomServer_browser_production.renderToReadableStream=function(ne,oe){return new Promise(function(Ne,Ue){var Ke,Ze,ot=new Promise(function(Tr,gn){Ze=Tr,Ke=gn}),Rt=oe?oe.onHeaders:void 0,xt;Rt&&(xt=function(Tr){Rt(new Headers(Tr))});var _t=wr(oe?oe.identifierPrefix:void 0,oe?oe.unstable_externalRuntimeSrc:void 0,oe?oe.bootstrapScriptContent:void 0,oe?oe.bootstrapScripts:void 0,oe?oe.bootstrapModules:void 0),Ht=Eo(ne,_t,Mt(_t,oe?oe.nonce:void 0,oe?oe.unstable_externalRuntimeSrc:void 0,oe?oe.importMap:void 0,xt,oe?oe.maxHeadersLength:void 0),Ur(oe?oe.namespaceURI:void 0),oe?oe.progressiveChunkSize:void 0,oe?oe.onError:void 0,Ze,function(){var Tr=new ReadableStream({type:"bytes",pull:function(gn){ji(Ht,gn)},cancel:function(gn){Ht.destination=null,ii(Ht,gn)}},{highWaterMark:0});Tr.allReady=ot,Ne(Tr)},function(Tr){ot.catch(function(){}),Ue(Tr)},Ke,oe?oe.onPostpone:void 0,oe?oe.formState:void 0);if(oe&&oe.signal){var Jt=oe.signal;if(Jt.aborted)ii(Ht,Jt.reason);else{var Cr=function(){ii(Ht,Jt.reason),Jt.removeEventListener("abort",Cr)};Jt.addEventListener("abort",Cr)}}si(Ht)})},reactDomServer_browser_production.resume=function(ne,oe,Ne){return new Promise(function(Ue,Ke){var Ze,ot,Rt=new Promise(function(Jt,Cr){ot=Jt,Ze=Cr}),xt=Ti(ne,oe,Mt(oe.resumableState,Ne?Ne.nonce:void 0,void 0,void 0,void 0,void 0),Ne?Ne.onError:void 0,ot,function(){var Jt=new ReadableStream({type:"bytes",pull:function(Cr){ji(xt,Cr)},cancel:function(Cr){xt.destination=null,ii(xt,Cr)}},{highWaterMark:0});Jt.allReady=Rt,Ue(Jt)},function(Jt){Rt.catch(function(){}),Ke(Jt)},Ze,Ne?Ne.onPostpone:void 0);if(Ne&&Ne.signal){var _t=Ne.signal;if(_t.aborted)ii(xt,_t.reason);else{var Ht=function(){ii(xt,_t.reason),_t.removeEventListener("abort",Ht)};_t.addEventListener("abort",Ht)}}si(xt)})},reactDomServer_browser_production.resumeAndPrerender=function(ne,oe,Ne){return new Promise(function(Ue,Ke){var Ze=Zi(ne,oe,Mt(oe.resumableState,void 0,void 0,void 0,void 0,void 0),Ne?Ne.onError:void 0,function(){var xt=new ReadableStream({type:"bytes",pull:function(_t){ji(Ze,_t)},cancel:function(_t){Ze.destination=null,ii(Ze,_t)}},{highWaterMark:0});xt={postponed:Bo(Ze),prelude:xt},Ue(xt)},void 0,void 0,Ke,Ne?Ne.onPostpone:void 0);if(Ne&&Ne.signal){var ot=Ne.signal;if(ot.aborted)ii(Ze,ot.reason);else{var Rt=function(){ii(Ze,ot.reason),ot.removeEventListener("abort",Rt)};ot.addEventListener("abort",Rt)}}si(Ze)})},reactDomServer_browser_production.version="19.2.0",reactDomServer_browser_production}var hasRequiredServer_browser;function requireServer_browser(){if(hasRequiredServer_browser)return server_browser;hasRequiredServer_browser=1;var b,R;return b=requireReactDomServerLegacy_browser_production(),R=requireReactDomServer_browser_production(),server_browser.version=b.version,server_browser.renderToString=b.renderToString,server_browser.renderToStaticMarkup=b.renderToStaticMarkup,server_browser.renderToReadableStream=R.renderToReadableStream,server_browser.resume=R.resume,server_browser}var server_browserExports=requireServer_browser();const ReactDOMServer=getDefaultExportFromCjs(server_browserExports),extractRequiredOptions$5=b=>b?b.split(", ").filter(R=>R.startsWith("[OBRIGATRIO]")).map(R=>R.replace("[OBRIGATRIO]","").trim()):[],extractOptionalObservations$5=b=>b?b.split(", ").filter(R=>!R.startsWith("[OBRIGATRIO]")).map(R=>R.trim()).filter(R=>R.length>0):[];function PrintableOrder({order:b,categoryMap:R,storeName:A}){const{pin:T,password:I,total:B,items:U,paymentMethod:q,amountPaid:K,changeAmount:J,createdAt:ee}=b,te=typeof J=="number"&&J>.01,xe=q.toLowerCase().includes("dinheiro")||b.paymentBreakdown&&Object.keys(b.paymentBreakdown).some(fe=>fe.toLowerCase().includes("dinheiro"));return jsxRuntimeExports.jsxs("div",{className:"p-2 text-xs font-mono w-[300px] mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-2 border-b border-dashed border-gray-700 pb-1",children:[jsxRuntimeExports.jsx("h1",{className:"text-lg font-bold mb-0",children:"RECIBO DE PEDIDO"}),A&&jsxRuntimeExports.jsx("p",{className:"text-sm font-bold",children:A}),jsxRuntimeExports.jsxs("p",{className:"text-[10px]",children:["Data: ",new Date(ee).toLocaleString("pt-BR")]}),jsxRuntimeExports.jsxs("p",{className:"text-[10px]",children:["Atendente: ",b.createdBy]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-2",children:[jsxRuntimeExports.jsxs("p",{className:"text-xl font-extrabold text-center mb-1",children:["PEDIDO #",T]}),jsxRuntimeExports.jsxs("p",{className:"text-3xl font-extrabold text-center bg-gray-200 py-1 rounded",children:["SENHA: ",I]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-2 border-b border-dashed border-gray-700 pb-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between font-bold mb-1",children:[jsxRuntimeExports.jsx("span",{children:"ITEM"}),jsxRuntimeExports.jsx("span",{children:"TOTAL"})]}),U.map((fe,ye)=>{const Be=R[fe.menuItem.categoryId]||"Sem Categoria",Le=extractRequiredOptions$5(fe.observations),qe=extractOptionalObservations$5(fe.observations);return jsxRuntimeExports.jsxs("div",{className:"mb-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsxs("span",{className:"text-[10px] italic mr-1",children:["[",Be,"]"]}),fe.quantity,"x ",fe.menuItem.name]}),jsxRuntimeExports.jsxs("span",{children:["R$ ",(fe.unitPrice*fe.quantity).toFixed(2)]})]}),Le.length>0&&jsxRuntimeExports.jsx("div",{className:"ml-2",children:Le.map((Ge,$e)=>jsxRuntimeExports.jsxs("p",{className:"text-[10px] required-option",children:[" ",Ge]},$e))}),qe.length>0&&jsxRuntimeExports.jsx("div",{className:"ml-2",children:qe.map((Ge,$e)=>jsxRuntimeExports.jsxs("p",{className:"text-[10px] italic",children:["Obs: ",Ge]},$e))})]},ye)})]}),jsxRuntimeExports.jsxs("div",{className:"mb-2 space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between font-bold text-base",children:[jsxRuntimeExports.jsx("span",{children:"TOTAL A PAGAR:"}),jsxRuntimeExports.jsxs("span",{children:["R$ ",B.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs",children:[jsxRuntimeExports.jsx("span",{children:"Forma de Pagamento:"}),jsxRuntimeExports.jsx("span",{children:q})]}),xe&&K!==void 0&&jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs",children:[jsxRuntimeExports.jsx("span",{children:"Valor Pago:"}),jsxRuntimeExports.jsxs("span",{children:["R$ ",K.toFixed(2)]})]}),te&&jsxRuntimeExports.jsxs("div",{className:"flex justify-between font-bold text-base border-t border-dashed border-gray-700 pt-1",children:[jsxRuntimeExports.jsx("span",{children:"TROCO:"}),jsxRuntimeExports.jsxs("span",{children:["R$ ",J.toFixed(2)]})]})]})]})}const printOrder=(b,R={},A)=>{const T=ReactDOMServer.renderToStaticMarkup(jsxRuntimeExports.jsx(PrintableOrder,{order:b,categoryMap:R,storeName:A})),I=`
    <!DOCTYPE html>
    <html>
    <head>
      <title>Recibo - Pedido ${b.pin}</title>
      <style>
        /* Estilos bsicos para impresso de recibo */
        body {
          margin: 0;
          padding: 0;
          font-family: monospace;
          font-size: 12px;
          width: 300px; /* Largura tpica de recibo */
        }
        @media print {
          /* Garante que apenas o contedo do recibo seja impresso */
          body {
            width: 100%;
            margin: 0;
            padding: 0;
          }
        }
        /* Classes Tailwind ajustadas para layout compacto */
        .font-mono { font-family: monospace; }
        .text-[10px] { font-size: 10px; }
        .text-xs { font-size: 12px; }
        .text-sm { font-size: 14px; }
        .text-lg { font-size: 18px; }
        .text-xl { font-size: 20px; }
        .text-3xl { font-size: 30px; }
        .font-bold { font-weight: bold; }
        .font-extrabold { font-weight: 800; }
        .text-center { text-align: center; }
        
        /* Espaamentos reduzidos */
        .mb-0 { margin-bottom: 0; }
        .mb-1 { margin-bottom: 4px; }
        .mb-2 { margin-bottom: 8px; }
        .pb-1 { padding-bottom: 4px; }
        .pt-1 { padding-top: 4px; }
        .py-1 { padding-top: 4px; padding-bottom: 4px; }
        .p-2 { padding: 8px; }
        
        .rounded { border-radius: 4px; }
        .border-b { border-bottom: 1px solid; }
        .border-t { border-top: 1px solid; }
        .border-dashed { border-style: dashed; }
        .border-gray-700 { border-color: #374151; }
        .bg-gray-200 { background-color: #e5e7eb; }
        .mx-auto { margin-left: auto; margin-right: auto; }
        .w-[300px] { width: 300px; }
        .italic { font-style: italic; }
        .ml-2 { margin-left: 8px; }
        .space-y-1 > * + * { margin-top: 4px; }
        .pt-2 { padding-top: 8px; }
        
        /* Estilos para opes obrigatrias */
        .required-option { color: #dc2626; font-weight: bold; }
      </style>
    </head>
    <body>
      ${T}
      <script>
        // Aciona a impresso assim que o contedo for carregado
        window.onload = function() {
          window.print();
          // Fecha a janela/aba aps a impresso (com um pequeno delay para garantir que a caixa de dilogo abra)
          setTimeout(function() {
            window.close();
          }, 500);
        };
      <\/script>
    </body>
    </html>
  `,B=window.open("","_blank");B?(B.document.write(I),B.document.close()):alert("O bloqueador de pop-ups impediu a impresso. Por favor, desative-o.")},parseObservations$1=b=>{if(!b)return{required:[],optional:[],custom:""};const R=b.split(", ").map(B=>B.trim()).filter(B=>B.length>0),A=R.filter(B=>B.startsWith("[OBRIGATRIO]")).map(B=>B.replace("[OBRIGATRIO]","").trim()),I=R.filter(B=>!B.startsWith("[OBRIGATRIO]")).join(", ");return{required:A,optionalAndCustomText:I}};function OrderConfirmationModal({isOpen:b,onClose:R,orderData:A}){const[T]=useLocalStorage("categories",mockCategories),{store:I}=useAuth(),[B,U]=useLocalStorage("printOnConfirm",!0),q=reactExports.useMemo(()=>T.reduce((Le,qe)=>(Le[qe.id]=qe.name,Le),{}),[T]),K=reactExports.useMemo(()=>{if(!A)return null;const{pin:Le,password:qe,total:Ge,items:$e,paymentMethod:Xe,createdAt:He,createdBy:Qe,amountPaid:st,changeAmount:ct,paymentBreakdown:gt}=A;return{id:"temp",pin:Le,password:qe,total:Ge,items:$e,paymentMethod:Xe,createdAt:He,createdBy:Qe,slaMinutes:0,status:"DELIVERED",amountPaid:st,changeAmount:ct,paymentBreakdown:gt}},[A]);if(reactExports.useEffect(()=>{if(!b)return;const Le=qe=>{(qe.key==="Enter"||qe.key==="Escape")&&(B&&K&&printOrder(K,q,I?.name),R())};return window.addEventListener("keydown",Le),()=>window.removeEventListener("keydown",Le)},[b,R,K,q,B,I?.name]),!A||!K)return null;const{pin:J,password:ee,total:te,changeAmount:xe,items:fe,paymentMethod:ye}=A,Be=typeof xe=="number"&&xe>.01;return jsxRuntimeExports.jsx(Modal,{isOpen:b,onClose:R,title:"Pedido Finalizado com Sucesso!",size:"md",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-check-double-line text-7xl text-green-600 mb-3 animate-pulse"}),jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-extrabold text-gray-900",children:["Pedido #",J," Enviado!"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:B,onChange:Le=>U(Le.target.checked)}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:"Imprimir recibo agora"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-green-50 border border-green-300 rounded-xl p-5 shadow-inner",children:[jsxRuntimeExports.jsxs("div",{className:"text-left",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-green-800 font-medium",children:"Senha de Retirada:"}),jsxRuntimeExports.jsx("span",{className:"text-3xl font-extrabold text-green-900 block mt-1",children:ee})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-green-800 font-medium",children:"Valor Total:"}),jsxRuntimeExports.jsxs("span",{className:"text-3xl font-extrabold text-green-900 block mt-1",children:["R$ ",te.toFixed(2)]})]})]}),Be&&jsxRuntimeExports.jsx("div",{className:"bg-amber-50 border border-amber-300 rounded-xl p-4 shadow-md",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("i",{className:"ri-money-dollar-circle-line text-2xl text-amber-700"}),jsxRuntimeExports.jsx("span",{className:"text-lg font-semibold text-amber-800",children:"Troco para o Cliente:"})]}),jsxRuntimeExports.jsxs("span",{className:"text-2xl font-extrabold text-amber-800",children:["R$ ",xe.toFixed(2)]})]})}),jsxRuntimeExports.jsxs("div",{className:"text-left",children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-list-check-line mr-2 text-amber-600"}),"Itens do Pedido:"]}),jsxRuntimeExports.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2 text-sm text-gray-700 bg-gray-50 p-3 rounded-lg border border-gray-200",children:fe.map((Le,qe)=>{const{required:Ge,optionalAndCustomText:$e}=parseObservations$1(Le.observations);return jsxRuntimeExports.jsxs("div",{className:"border-b border-gray-200 pb-2 last:border-b-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"font-medium text-gray-900",children:[Le.quantity,"x ",Le.menuItem.name]}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["R$ ",(Le.unitPrice*Le.quantity).toFixed(2)]})]}),Ge.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-1 text-xs text-red-600 font-medium",children:[jsxRuntimeExports.jsx("i",{className:"ri-checkbox-circle-line mr-1"}),"Opes: ",Ge.join(" | ")]}),$e&&jsxRuntimeExports.jsxs("div",{className:"mt-1 text-xs text-gray-600 italic",children:[jsxRuntimeExports.jsx("i",{className:"ri-information-line mr-1"}),"Obs: ",$e]})]},qe)})})]}),jsxRuntimeExports.jsx("div",{className:"pt-4 border-t",children:jsxRuntimeExports.jsxs(Button,{onClick:()=>{B&&K&&printOrder(K,q,I?.name),R()},className:"w-full",autoFocus:!0,children:[jsxRuntimeExports.jsx("i",{className:"ri-printer-line mr-2"}),"Fechar (ENTER)"]})})]})})}function ConfirmationModal({isOpen:b,onClose:R,onConfirm:A,title:T,message:I,confirmText:B,cancelText:U="Cancelar",variant:q="danger"}){reactExports.useEffect(()=>{if(b){const te=xe=>{xe.key==="Enter"?A():xe.key==="Escape"&&R()};return window.addEventListener("keydown",te),()=>window.removeEventListener("keydown",te)}},[b,A,R]);const K={danger:"ri-alert-line text-red-500",warning:"ri-error-warning-line text-amber-500",info:"ri-information-line text-blue-500",success:"ri-check-line text-green-500"},J=q==="danger"?"danger":q==="success"?"success":"primary",ee=B||(q==="success"?"Sim":"Confirmar");return jsxRuntimeExports.jsx(Modal,{isOpen:b,onClose:R,title:T,size:"sm",zIndex:"z-[1000]",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6 text-center",children:[jsxRuntimeExports.jsx("i",{className:`${K[q]} text-5xl mx-auto`}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm",children:I}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3 pt-4 border-t",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:R,className:"flex-1",children:U}),jsxRuntimeExports.jsxs(Button,{onClick:A,className:"flex-1",variant:J,autoFocus:!0,children:[jsxRuntimeExports.jsx("i",{className:"ri-check-line mr-2"}),ee]})]})]})})}const CASH_NOTES=[200,100,50,20,10,5,2],CASH_COINS=[1,.5,.25,.1,.05,.01],DEFAULT_PAYMENT_SHORTCUTS={PIX:"P",Dinheiro:"D","Carto de Dbito":"B","Carto de Crdito":"C"},DEFAULT_TASK_STATUSES=[{key:"pending",label:"Pendente",color:"bg-gray-500",isDefault:!0,isFinal:!1},{key:"in_progress",label:"Em Andamento",color:"bg-blue-500",isDefault:!0,isFinal:!1},{key:"completed",label:"Concluda",color:"bg-green-500",isDefault:!0,isFinal:!0}],DEFAULT_GLOBAL_OBSERVATIONS=["Sem cebola","Sem tomate","Sem maionese","Bem passado","Mal passado","Extra queijo","Sem pimenta"],url="https://zwmiikhkmqmislowfsdb.supabase.co",anonKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3bWlpa2hrbXFtaXNsb3dmc2RiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzA3MjgsImV4cCI6MjA4MDIwNjcyOH0.mlNaJnt_7ZPYbzclVaW_ozRS5XyloT4bI4-p_GITcNE",supabase=createClient(url,anonKey,{auth:{persistSession:!1,autoRefreshToken:!0,detectSessionInUrl:!1},global:{headers:{"x-application-name":"pdv-kds-desktop"}},db:{schema:"public"}}),supabase$1=Object.freeze(Object.defineProperty({__proto__:null,supabase},Symbol.toStringTag,{value:"Module"})),DEFAULT_OPTIONS={retries:3,delay:1e3,silent:!1},supabaseSync={async withRetry(b,R={}){const A={...DEFAULT_OPTIONS,...R};let T=null;for(let I=0;I<(A.retries||3);I++)try{const B=await b();if(!B.error)return B;if(T=B.error,T.code==="401"||T.code==="403"||T.code==="PGRST301")break;A.silent||console.warn(`[SupabaseSync] Tentativa ${I+1} falhou: ${T.message}. Retentando em ${A.delay}ms...`),await new Promise(U=>setTimeout(U,A.delay))}catch(B){T=B,A.silent||console.warn(`[SupabaseSync] Erro inesperado na tentativa ${I+1}: ${B.message}. Retentando...`),await new Promise(U=>setTimeout(U,A.delay))}return{data:null,error:T}},async insert(b,R,A={}){return supabase?(A.silent||console.log(`[SupabaseSync] INSERT em ${b}:`,R),this.withRetry(()=>supabase.from(b).insert(R).select(),A)):{data:null,error:new Error("Supabase no inicializado")}},async select(b,R=T=>T.select("*"),A={}){return supabase?(A.silent||console.log(`[SupabaseSync] SELECT em ${b}`),this.withRetry(()=>R(supabase.from(b)),A)):{data:null,error:new Error("Supabase no inicializado")}},async update(b,R,A,T={}){return supabase?(T.silent||console.log(`[SupabaseSync] UPDATE em ${b}:`,{values:R,match:A}),this.withRetry(()=>supabase.from(b).update(R).match(A).select(),T)):{data:null,error:new Error("Supabase no inicializado")}},async delete(b,R,A={}){return supabase?(A.silent||console.log(`[SupabaseSync] DELETE em ${b}:`,R),this.withRetry(()=>supabase.from(b).delete().match(R),A)):{data:null,error:new Error("Supabase no inicializado")}},async upsert(b,R,A={}){return supabase?(A.silent||console.log(`[SupabaseSync] UPSERT em ${b}:`,R),this.withRetry(()=>supabase.from(b).upsert(R,{onConflict:"id"}).select(),A)):{data:null,error:new Error("Supabase no inicializado")}}},query$6=async(b,R)=>{const A=window?.api?.db?.query;if(typeof A!="function")throw new Error("Canal de DB indisponvel");try{const T=await A(b,R);if(T?.error)throw new Error(String(T.error));return T}catch{await new Promise(B=>setTimeout(B,200));const I=await A(b,R);if(I?.error)throw new Error(String(I.error));return I}};async function getDeviceProfile(){try{const R=((await query$6("SELECT * FROM device_profile LIMIT 1",[]))?.rows??[])[0];return R?mapRow$1(R):readDeviceProfileLS()}catch{return readDeviceProfileLS()}}async function saveDeviceProfile(b){const R=new Date().toISOString();try{const A=await getDeviceProfile();A?await query$6("UPDATE device_profile SET unit_id = ?, device_id = ?, role = ?, station = ?, updated_at = ? WHERE id = ?",[b.unitId,b.deviceId,b.role,b.station??null,R,A.id]):await query$6("INSERT INTO device_profile (unit_id, device_id, role, station, updated_at) VALUES (?, ?, ?, ?, ?)",[b.unitId,b.deviceId,b.role,b.station??null,R])}catch{writeDeviceProfileLS({...b,updatedAt:R})}}function mapRow$1(b){return{id:Number(b.id),unitId:String(b.unitId??b.unit_id??""),deviceId:String(b.deviceId??b.device_id??""),role:String(b.role)??"pos",station:b.station?String(b.station):null,updatedAt:String(b.updatedAt??b.updated_at??"")}}async function ensureDeviceProfile(b){const R=await getDeviceProfile();if(R&&R.role===b.role&&R.unitId)return R;const A=window?.ui?.openProvisioningWizard;if(typeof A=="function"){const q=await A({role:b.role});return await saveDeviceProfile(q),q}const T=R?.unitId??null,I=R?.deviceId??crypto.randomUUID(),B=R?.station??null,U={unitId:T,deviceId:I,role:b.role,station:B};return await saveDeviceProfile(U),U}async function getCurrentUnitId(){const R=(await getDeviceProfile())?.unitId??null;return R&&R!=="default"&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(R)?R:null}function readDeviceProfileLS(){try{const b=typeof localStorage<"u"?localStorage.getItem("deviceProfile"):null;if(b){const T=JSON.parse(b),I=typeof T.unitId=="string"?T.unitId:"",B=I&&I!=="default"?I:"",U=typeof T.deviceId=="string"?T.deviceId:crypto.randomUUID(),q=T.role||"pos",K=T.station?String(T.station):null,J=T.updatedAt?String(T.updatedAt):new Date().toISOString();return{unitId:B,deviceId:U,role:q,station:K,updatedAt:J}}const R=typeof localStorage<"u"?localStorage.getItem("unitId"):null,A=typeof localStorage<"u"?localStorage.getItem("deviceId"):null;if(R||A)return{unitId:R&&R!=="default"?R:"",deviceId:A||crypto.randomUUID(),role:"pos",station:null,updatedAt:new Date().toISOString()}}catch{}return null}function writeDeviceProfileLS(b){try{typeof localStorage<"u"&&(localStorage.setItem("deviceProfile",JSON.stringify(b)),b.unitId&&localStorage.setItem("unitId",String(b.unitId)),b.deviceId&&localStorage.setItem("deviceId",String(b.deviceId)))}catch{}}const query$5=async(b,R)=>{const A=window?.api?.db?.query;if(typeof A!="function")throw new Error("Canal de DB indisponvel");try{const T=await A(b,R);if(T?.error)throw new Error(String(T.error));return T}catch{await new Promise(B=>setTimeout(B,200));const I=await A(b,R);if(I?.error)throw new Error(String(I.error));return I}},uuid$4=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`${Date.now()}-${Math.random().toString(16).slice(2)}`;async function setDeliveredPhaseTime(b,R){const A=new Date().toISOString();try{await query$5("INSERT INTO kds_phase_times (order_id, new_start, preparing_start, ready_at, delivered_at, updated_at) VALUES (?, ?, ?, ?, ?, ?) ON CONFLICT(order_id) DO UPDATE SET delivered_at=COALESCE(delivered_at, excluded.delivered_at), updated_at=excluded.updated_at",[b,null,null,null,R,A]);return}catch{}if(supabase)try{const{data:T}=await supabaseSync.select("kds_phase_times",B=>B.select("id, delivered_at").eq("order_id",b).maybeSingle(),{silent:!0}),I={order_id:b,updated_at:A};T?.delivered_at||(I.delivered_at=R),T?.id?await supabaseSync.update("kds_phase_times",I,{id:T.id}):await supabaseSync.insert("kds_phase_times",{...I,delivered_at:R});return}catch{}try{const T=localStorage.getItem("kdsPhaseTimes"),I=T?JSON.parse(T):{},B=I[String(b)]||{};I[String(b)]={...B,deliveredAt:B.deliveredAt??R,updatedAt:A},localStorage.setItem("kdsPhaseTimes",JSON.stringify(I))}catch{}}async function scheduleTicketReceiptCheck(b){if(supabase)try{const R=new Date(b.sentAtIso).getTime();setTimeout(async()=>{try{if(!supabase)return;const{data:A}=await supabaseSync.select("kds_tickets",q=>q.select("id, created_at, updated_at, kitchen_id, status").eq("id",b.ticketId).maybeSingle(),{silent:!0});if(!A)return;const T=A.created_at?new Date(String(A.created_at)).getTime():R,I=A.updated_at?new Date(String(A.updated_at)).getTime():NaN,B=A.created_at&&A.updated_at&&String(A.created_at)!==String(A.updated_at),U=Number.isFinite(I)?Math.max(0,I-T):null;if(B)try{console.log("[PDV->KDS] Confirmao de recebimento",{orderId:b.orderId,ticketId:b.ticketId,kitchenId:A.kitchen_id??b.kitchenId,status:A.status,transferMs:U})}catch{}else try{console.warn("[PDV->KDS] Sem confirmao de recebimento (ainda)",{orderId:b.orderId,ticketId:b.ticketId,kitchenId:A.kitchen_id??b.kitchenId,status:A.status})}catch{}}catch{}},1500)}catch{}}async function createOrder(b){const R=b?.id??uuid$4(),A=new Date().toISOString(),T=await getCurrentUnitId();let I=!1;if(supabase)try{const U=T&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(T)?T:null,q=()=>Math.max(1e3,Math.floor(Math.random()*9999)),K=q(),J=q(),{error:ee}=await supabaseSync.insert("orders",{id:R,unit_id:U,status:"NEW",total_cents:0,discount_percent:0,discount_cents:0,observations:b?.notes??null,created_at:b?.openedAt??A,updated_at:A,pin:K,password:J,version:1,pending_sync:!1});if(ee)throw ee;I=!0}catch(B){console.warn("[ordersService] Falha ao criar pedido no Supabase, tentando local:",B)}if(!I)try{await query$5("INSERT INTO orders (id, status, total_cents, opened_at, device_id, unit_id, operational_session_id, notes, updated_at, version, pending_sync) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",[R,"open",0,b?.openedAt??A,b?.deviceId??null,T??null,b?.operationalSessionId??null,b?.notes??null,A,1,1])}catch{const B=localStorage.getItem("orders"),U=B?JSON.parse(B):[];U.push({id:R,status:"open",total_cents:0,opened_at:b?.openedAt??A,device_id:b?.deviceId??null,unit_id:T??null,operational_session_id:b?.operationalSessionId??null,notes:b?.notes??null,updated_at:A,version:1,pending_sync:1}),localStorage.setItem("orders",JSON.stringify(U))}return R}async function addItem(b){const R=uuid$4(),A=new Date().toISOString(),T=Math.max(0,Math.round(b.qty*b.unitPriceCents));let I=!1;if(supabase)try{const B=typeof performance<"u"&&performance.now?performance.now():Date.now();let U=null,q=null;const K=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;if(b.productId&&K.test(b.productId)){const{data:Be}=await supabaseSync.select("products",Le=>Le.select("name, category_id").eq("id",b.productId).maybeSingle(),{silent:!0});U=Be?.name??null,q=Be?.category_id??null}const{error:J}=await supabaseSync.insert("order_items",{id:R,order_id:b.orderId,product_id:b.productId&&K.test(b.productId)?b.productId:null,product_name:U??"Item",quantity:b.qty,unit_price_cents:b.unitPriceCents,total_cents:T,observations:b.notes??null,created_at:A,updated_at:A,version:1,pending_sync:!1});if(J)throw J;const{data:ee,error:te}=await supabaseSync.select("orders",Be=>Be.select("total_cents").eq("id",b.orderId).maybeSingle(),{silent:!0});if(!te){const Be=Number(ee?.total_cents??0);await supabaseSync.update("orders",{total_cents:Be+T,updated_at:A},{id:b.orderId})}let xe=[];if(q){const{data:Be}=await supabaseSync.select("category_kitchens",Le=>Le.select("kitchen_id").eq("category_id",q),{silent:!0});xe=(Be||[]).map(Le=>String(Le.kitchen_id)).filter(Boolean)}const fe={order_id:b.orderId,status:"NEW",updated_at:A,version:1,pending_sync:!1},ye=[];if(xe.length>0){const{data:Be}=await supabaseSync.select("kds_tickets",Ge=>Ge.select("id,kitchen_id").eq("order_id",b.orderId).in("kitchen_id",xe),{silent:!0}),Le=new Set((Be||[]).map(Ge=>String(Ge.kitchen_id))),qe=xe.filter(Ge=>!Le.has(String(Ge)));if(qe.length>0){const Ge=qe.map($e=>{const Xe=uuid$4();return ye.push({ticketId:Xe,kitchenId:$e}),{id:Xe,...fe,kitchen_id:$e}});await supabaseSync.insert("kds_tickets",Ge)}}else{const{data:Be}=await supabaseSync.select("kds_tickets",Le=>Le.select("id").eq("order_id",b.orderId).is("kitchen_id",null).limit(1),{silent:!0});if((Be||[]).length===0){const Le=uuid$4();ye.push({ticketId:Le,kitchenId:null}),await supabaseSync.insert("kds_tickets",{id:Le,...fe,kitchen_id:null})}}try{const Be=typeof performance<"u"&&performance.now?performance.now():Date.now(),Le=Math.max(0,Be-B);ye.length>0&&console.log("[PDV->KDS] Tickets criados",{orderId:b.orderId,count:ye.length,transferMs:Math.round(Le)})}catch{}try{for(const Be of ye)scheduleTicketReceiptCheck({orderId:b.orderId,ticketId:Be.ticketId,kitchenId:Be.kitchenId,sentAtIso:A})}catch{}I=!0}catch(B){console.warn("[ordersService] Falha ao adicionar item no Supabase, tentando local:",B)}if(!I)try{await query$5("INSERT INTO order_items (id, order_id, product_id, qty, unit_price_cents, notes, updated_at, version, pending_sync) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)",[R,b.orderId,b.productId,b.qty,b.unitPriceCents,b.notes??null,A,1,1]),await query$5("UPDATE orders SET total_cents = COALESCE(total_cents, 0) + ?, updated_at = ?, pending_sync = 1 WHERE id = ?",[T,A,b.orderId]);const B=await getCurrentUnitId(),U=uuid$4();await query$5("INSERT INTO kds_tickets (id, order_id, unit_id, status, station, updated_at, version, pending_sync) VALUES (?, ?, ?, ?, ?, ?, ?, ?) ON CONFLICT(order_id) DO NOTHING",[U,b.orderId,B??null,"queued",null,A,1,1])}catch{const B=localStorage.getItem("order_items"),U=B?JSON.parse(B):[];U.push({id:R,order_id:b.orderId,product_id:b.productId,qty:b.qty,unit_price_cents:b.unitPriceCents,notes:b.notes??null,updated_at:A,version:1,pending_sync:1}),localStorage.setItem("order_items",JSON.stringify(U));const q=localStorage.getItem("orders"),J=(q?JSON.parse(q):[]).map(xe=>String(xe.id)===String(b.orderId)?{...xe,total_cents:Math.max(0,Number(xe.total_cents||0)+T),updated_at:A}:xe);localStorage.setItem("orders",JSON.stringify(J));const ee=localStorage.getItem("kdsTickets"),te=ee?JSON.parse(ee):[];te.push({id:uuid$4(),order_id:b.orderId,status:"queued",updated_at:A}),localStorage.setItem("kdsTickets",JSON.stringify(te))}return R}async function closeOrder(b){const R=new Date().toISOString();if(supabase)try{const{data:A}=await supabaseSync.select("orders",I=>I.select("completed_at").eq("id",b).maybeSingle(),{silent:!0}),T=A?.completed_at??R;await supabaseSync.update("orders",{status:"DELIVERED",completed_at:T,updated_at:R},{id:b})}catch(A){console.error("[ordersService] Erro ao fechar pedido no Supabase:",A)}else await query$5("UPDATE orders SET status = ?, closed_at = COALESCE(closed_at, ?), updated_at = ?, pending_sync = 1 WHERE id = ?",["closed",R,R,b]);await setDeliveredPhaseTime(b,R)}async function clearLocalOrders(){try{if(typeof window?.api?.db?.query=="function"){const R=["DELETE FROM kds_unit_states","DELETE FROM kds_phase_times","DELETE FROM kds_tickets","DELETE FROM payments","DELETE FROM order_items","DELETE FROM orders_details","DELETE FROM orders"];for(const A of R)try{await query$5(A)}catch{}return}}catch{}try{localStorage.removeItem("orders"),localStorage.removeItem("order_items"),localStorage.removeItem("payments"),localStorage.removeItem("orders_details"),localStorage.removeItem("kdsTickets"),localStorage.removeItem("kdsPhaseTimes"),localStorage.removeItem("kdsUnitState")}catch{}}async function listAllLocalOrders(){try{if(typeof window?.api?.db?.query=="function")return(await query$5("SELECT * FROM orders"))?.rows??[];const R=localStorage.getItem("orders");return R?JSON.parse(R):[]}catch{return[]}}async function listOrders(b=100){try{const R=await getCurrentUnitId();if(typeof window?.api?.db?.query=="function")return(await query$5(R?"SELECT * FROM orders WHERE unit_id = ? ORDER BY datetime(updated_at) DESC LIMIT ?":"SELECT * FROM orders ORDER BY datetime(updated_at) DESC LIMIT ?",R?[R,b]:[b]))?.rows??[];if(supabase){const{data:T,error:I}=await supabaseSync.select("orders",B=>{let U=B.select("*").order("updated_at",{ascending:!1}).limit(b);return R&&(U=U.eq("unit_id",R)),U},{silent:!0});if(I)throw I;return T||[]}return[]}catch{return[]}}async function listOrdersDetailed(b=100){try{const R=await getCurrentUnitId();if(typeof window?.api?.db?.query=="function"){const U=(await query$5(R?"SELECT * FROM orders WHERE unit_id = ? ORDER BY datetime(updated_at) DESC LIMIT ?":"SELECT * FROM orders ORDER BY datetime(updated_at) DESC LIMIT ?",R?[R,b]:[b]))?.rows??[],q=U.map($e=>String($e.id)).filter(Boolean);if(!q.length)return[];const K=q.map(()=>"?").join(", "),J=await query$5(`SELECT oi.*, p.name as product_name, p.category_id as category_id FROM order_items oi LEFT JOIN products p ON p.id = oi.product_id WHERE oi.order_id IN (${K})`,q),ee=await query$5(`SELECT order_id, method, SUM(amount_cents) AS amount_cents, SUM(change_cents) AS change_cents FROM payments WHERE order_id IN (${K}) GROUP BY order_id, method`,q),te=await query$5(`SELECT * FROM orders_details WHERE order_id IN (${K})`,q),xe=await query$5(`SELECT * FROM kds_phase_times WHERE order_id IN (${K})`,q),fe=await query$5(`SELECT * FROM kds_unit_states WHERE order_id IN (${K})`,q),ye={};for(const $e of J?.rows??[]){const Xe=String($e.order_id??$e.orderId??"");ye[Xe]||(ye[Xe]=[]),ye[Xe].push($e)}const Be={};for(const $e of ee?.rows??[]){const Xe=String($e.order_id??$e.orderId??"");Be[Xe]||(Be[Xe]=[]),Be[Xe].push($e)}const Le={};for(const $e of te?.rows??[]){const Xe=String($e.order_id??$e.orderId??"");Le[Xe]=$e}const qe={};for(const $e of xe?.rows??[]){const Xe=String($e.order_id??$e.orderId??"");qe[Xe]={newStart:$e.new_start??$e.newStart,preparingStart:$e.preparing_start??$e.preparingStart,readyAt:$e.ready_at??$e.readyAt,deliveredAt:$e.delivered_at??$e.deliveredAt}}const Ge={};for(const $e of fe?.rows??[]){const Xe=String($e.order_id??$e.orderId??""),He=String($e.order_item_id??$e.orderItemId??$e.item_id??$e.itemId??""),Qe=String($e.production_unit_id??$e.productionUnitId??$e.unit_id??$e.unitId??"");Ge[Xe]||(Ge[Xe]={});const st=`${He}:${Qe}`;Ge[Xe][st]={operatorName:$e.operator_name??$e.operatorName??void 0,unitStatus:$e.unit_status??$e.unitStatus??void 0,completedAt:$e.completed_at??$e.completedAt??void 0,deliveredAt:$e.delivered_at??$e.deliveredAt??void 0,completedObservations:(()=>{try{const ct=JSON.parse(String($e.completed_observations_json??"null"));return Array.isArray(ct)?ct:[]}catch{return[]}})()}}return U.map($e=>{const Xe=String($e.id),He=Le[Xe];return{order:$e,items:ye[Xe]??[],payments:Be[Xe]??[],details:He?{pin:He.pin?String(He.pin):void 0,password:He.password?String(He.password):void 0}:void 0,phaseTimes:qe[Xe],unitStates:Ge[Xe]}})}if(supabase){let T=supabase.from("orders").select("id, status, total_cents, discount_percent, discount_cents, observations, pin, password, unit_id, created_at, updated_at, completed_at").order("updated_at",{ascending:!1}).limit(b);R&&(T=T.eq("unit_id",R));const{data:I,error:B}=await T;if(B)throw B;const U=(I||[]).map(Ge=>String(Ge.id));if(!U.length)return[];const{data:q,error:K}=await supabase.from("order_items").select("id, order_id, product_id, product_name, quantity, unit_price_cents, total_cents").in("order_id",U);if(K)throw K;const{data:J,error:ee}=await supabase.from("payments").select("order_id, method, amount_cents, change_cents").in("order_id",U);if(ee)throw ee;const{data:te}=await supabase.from("kds_phase_times").select("*").in("order_id",U),xe=Array.from(new Set((q||[]).map(Ge=>String(Ge.product_id)).filter(Ge=>Ge&&Ge!=="null"&&Ge!=="undefined"))),{data:fe}=xe.length>0?await supabase.from("products").select("id, category_id, name").in("id",xe):{data:[]},ye={};for(const Ge of fe||[])ye[String(Ge.id)]=Ge.category_id??null;const Be={};for(const Ge of q||[]){const $e=String(Ge.order_id);Be[$e]=Be[$e]||[],Be[$e].push({...Ge,category_id:ye[String(Ge.product_id)]??null})}const Le={};for(const Ge of J||[]){const $e=String(Ge.order_id);Le[$e]=Le[$e]||[],Le[$e].push(Ge)}const qe={};for(const Ge of te||[]){const $e=String(Ge.order_id);qe[$e]={newStart:Ge.new_start,preparingStart:Ge.preparing_start,readyAt:Ge.ready_at,deliveredAt:Ge.delivered_at}}return(I||[]).map(Ge=>({order:Ge,items:Be[String(Ge.id)]||[],payments:Le[String(Ge.id)]||[],details:{pin:Ge.pin,password:Ge.password},phaseTimes:qe[String(Ge.id)]}))}return[]}catch{return[]}}async function getOrderById(b){try{const A=((await query$5("SELECT * FROM orders WHERE id = ?",[b]))?.rows??[])[0];if(!A)return null;const I=(await query$5("SELECT * FROM order_items WHERE order_id = ?",[b]))?.rows??[],U=(await query$5("SELECT * FROM payments WHERE order_id = ?",[b]))?.rows??[];return{order:A,items:I,payments:U}}catch{return null}}async function addPayment(b){const R=uuid$4(),A=new Date().toISOString();try{await query$5("INSERT INTO payments (id, order_id, method, amount_cents, change_cents, auth_code, updated_at, version, pending_sync) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)",[R,b.orderId,b.method,Math.max(0,Math.round(b.amountCents??0)),0,null,A,1,1])}catch{const T=localStorage.getItem("payments"),I=T?JSON.parse(T):[];I.push({id:R,order_id:b.orderId,method:b.method,amount_cents:Math.max(0,Math.round(b.amountCents??0)),change_cents:0,auth_code:null,updated_at:A,version:1,pending_sync:1}),localStorage.setItem("payments",JSON.stringify(I))}return R}async function setOrderDetails(b,R){const A=new Date().toISOString();try{await query$5("INSERT INTO orders_details (order_id, pin, password, updated_at) VALUES (?, ?, ?, ?) ON CONFLICT(order_id) DO UPDATE SET pin=COALESCE(excluded.pin, pin), password=COALESCE(excluded.password, password), updated_at=excluded.updated_at",[b,R.pin??null,R.password??null,A])}catch{try{const T=localStorage.getItem("kdsOrderDetails"),I=T?JSON.parse(T):{},U={...I[String(b)]||{},...R};I[String(b)]=U,localStorage.setItem("kdsOrderDetails",JSON.stringify(I))}catch{}}}const __vite_import_meta_env__$7={},query$4=async(b,R)=>{const A=window?.api?.db?.query;if(typeof A!="function")throw new Error("Canal de DB indisponvel");try{const T=await A(b,R);if(T?.error)throw new Error(String(T.error));return T}catch{await new Promise(B=>setTimeout(B,200));const I=await A(b,R);if(I?.error)throw new Error(String(I.error));return I}},uuid$3=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`${Date.now()}-${Math.random().toString(16).slice(2)}`,lanHubUrl$1=(()=>{const b=__vite_import_meta_env__$7?.VITE_LAN_HUB_URL;return b||`http://${typeof window<"u"&&window.location.hostname||"localhost"}:4000`})(),lanSecret$1=__vite_import_meta_env__$7?.VITE_LAN_SYNC_SECRET||void 0;let lastPushFailAt$1=0;async function pushLanEvents$1(b){if(!lanSecret$1)return;const R=Date.now();if(!(lastPushFailAt$1&&R-lastPushFailAt$1<15e3))try{const A="default",T=(Array.isArray(b)?b:[]).map(B=>({...B,unit_id:B?.unit_id??A})),I={"Content-Type":"application/json",Authorization:`Bearer ${lanSecret$1}`};await fetch(`${lanHubUrl$1.replace(/\/$/,"")}/push`,{method:"POST",headers:I,body:JSON.stringify({events:T})})}catch{lastPushFailAt$1=R}}async function listAllLocalTickets(){try{if(typeof window?.api?.db?.query=="function")return(await query$4("SELECT * FROM kds_tickets"))?.rows??[];const R=localStorage.getItem("kdsTickets");return R?JSON.parse(R):[]}catch{return[]}}async function getPhaseTimes(b){try{if(supabase){const{data:R}=await supabaseSync.select("kds_phase_times",T=>T.select("*").eq("order_id",b).maybeSingle(),{silent:!0}),A=R||{};return{...A,orderId:A.orderId??A.order_id??b,newStart:A.newStart??A.new_start??null,preparingStart:A.preparingStart??A.preparing_start??null,readyAt:A.readyAt??A.ready_at??null,deliveredAt:A.deliveredAt??A.delivered_at??null,updatedAt:A.updatedAt??A.updated_at??null}}}catch{}try{const R=localStorage.getItem("kdsPhaseTimes");return(R?JSON.parse(R):{})[String(b)]||{}}catch{return{}}}async function setPhaseTime(b,R){const A=new Date().toISOString();try{await query$4("INSERT INTO kds_phase_times (order_id, new_start, preparing_start, ready_at, delivered_at, updated_at) VALUES (?, ?, ?, ?, ?, ?) ON CONFLICT(order_id) DO UPDATE SET new_start=COALESCE(new_start, excluded.new_start), preparing_start=COALESCE(preparing_start, excluded.preparing_start), ready_at=COALESCE(ready_at, excluded.ready_at), delivered_at=COALESCE(delivered_at, excluded.delivered_at), updated_at=excluded.updated_at",[b,R?.newStart??null,R?.preparingStart??null,R?.readyAt??null,R?.deliveredAt??null,A])}catch{}if(supabase)try{const{data:T}=await supabase.from("kds_phase_times").select("id, new_start, preparing_start, ready_at, delivered_at").eq("order_id",b).maybeSingle(),I={order_id:b,updated_at:A},B=T||{};R?.newStart&&!B.new_start&&(I.new_start=R.newStart),R?.preparingStart&&!B.preparing_start&&(I.preparing_start=R.preparingStart),R?.readyAt&&!B.ready_at&&(I.ready_at=R.readyAt),R?.deliveredAt&&!B.delivered_at&&(I.delivered_at=R.deliveredAt),T?.id?await supabase.from("kds_phase_times").update(I).eq("id",T.id):await supabase.from("kds_phase_times").insert(I)}catch(T){console.error("[KDS] Supabase phase time persistence error:",T)}try{const T=localStorage.getItem("kdsPhaseTimes"),I=T?JSON.parse(T):{},B=I[String(b)]||{},U={...B};R?.newStart&&!B.newStart&&(U.newStart=R.newStart),R?.preparingStart&&!B.preparingStart&&(U.preparingStart=R.preparingStart),R?.readyAt&&!B.readyAt&&(U.readyAt=R.readyAt),R?.deliveredAt&&!B.deliveredAt&&(U.deliveredAt=R.deliveredAt),I[String(b)]=U,localStorage.setItem("kdsPhaseTimes",JSON.stringify(I))}catch{}try{await pushLanEvents$1([{table:"kds_phase_times",row:{orderId:b,...R}}])}catch{}}async function persistUnitStateDb(b,R,A,T){const I=`${b}:${R}:${A}`,B=new Date().toISOString(),U=T?.operatorName??null,q=T?.unitStatus??null,K=Array.isArray(T?.completedObservations)?JSON.stringify(T.completedObservations):null,J=T?.completedAt??null,ee=T?.deliveredAt??null;try{await query$4("INSERT INTO kds_unit_states (id, order_id, order_item_id, production_unit_id, operator_name, unit_status, completed_observations_json, completed_at, delivered_at, updated_at, version, pending_sync) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) ON CONFLICT(id) DO UPDATE SET operator_name=COALESCE(excluded.operator_name, operator_name), unit_status=COALESCE(excluded.unit_status, unit_status), completed_observations_json=COALESCE(excluded.completed_observations_json, completed_observations_json), completed_at=COALESCE(excluded.completed_at, completed_at), delivered_at=COALESCE(excluded.delivered_at, delivered_at), updated_at=excluded.updated_at, pending_sync=excluded.pending_sync",[I,b,R,A,U,q,K,J,ee,B,1,1])}catch{}if(supabase)try{const{data:te}=await supabase.from("kds_tickets").select("id").eq("order_id",b).maybeSingle(),xe=te?.id??null;let fe=supabase.from("kds_unit_states").select("id");A?fe=fe.eq("production_unit_id",A).eq("order_item_id",R):(fe=fe.eq("order_item_id",R),xe&&(fe=fe.eq("ticket_id",xe)));const{data:ye,error:Be}=await fe.limit(1);Be&&console.error("[KDS] unit fetch error:",Be);const Le=ye?.[0];let qe=null;if(U){const{data:$e}=await supabase.from("kitchen_operators").select("id").eq("name",U).maybeSingle();qe=$e?.id}const Ge={order_item_id:R,status:q||"PENDING",updated_at:B,version:1,pending_sync:!1,operator_name:U,production_unit_id:A,order_id:b};xe&&(Ge.ticket_id=xe),qe&&(Ge.operator_id=qe),J&&(Ge.completed_at=J),Le?.id?await supabase.from("kds_unit_states").update(Ge).eq("id",Le.id):await supabase.from("kds_unit_states").insert(Ge)}catch(te){console.error("[KDS] Error persisting unit state to Supabase:",te)}try{const te=localStorage.getItem("kdsUnitState"),xe=te?JSON.parse(te):{},fe=`${b}:${R}:${A}`,Be={...xe[fe]||{},...T};xe[fe]=Be,localStorage.setItem("kdsUnitState",JSON.stringify(xe))}catch{}}async function loadUnitStatesForOrder(b){const R={};try{const A=await query$4("SELECT * FROM kds_unit_states WHERE order_id = ?",[b]);for(const T of A?.rows??[]){const I=T.order_item_id??T.orderItemId??T.item_id??T.itemId,B=T.production_unit_id??T.productionUnitId??T.unit_id??T.unitId,U=`${String(T.order_id??T.orderId)}:${String(I)}:${String(B)}`;R[U]={operatorName:T.operator_name??T.operatorName??void 0,unitStatus:T.unit_status??T.unitStatus??void 0,completedObservations:(()=>{try{const q=JSON.parse(String(T.completed_observations_json??"null"));return Array.isArray(q)?q:[]}catch{return[]}})(),completedAt:T.completed_at??T.completedAt??void 0}}return R}catch{if(supabase){const{data:A}=await supabaseSync.select("kds_unit_states",I=>I.select("*").eq("order_id",b),{silent:!0}),T={};for(const I of A||[]){const B=I.production_unit_id||I.unit_id,U=`${String(I.order_id)}:${String(I.order_item_id||I.item_id)}:${String(B)}`;T[U]={operatorName:I.operator_name??void 0,unitStatus:I.status||I.unit_status||void 0,completedObservations:(()=>{try{const q=JSON.parse(String(I.completed_observations_json??"null"));return Array.isArray(q)?q:[]}catch{return[]}})(),completedAt:I.completed_at||I.updated_at||void 0}}return T}try{const A=localStorage.getItem("kdsUnitState");return(A?JSON.parse(A):{})||{}}catch{return{}}}}async function applyHubEvents(b){const R=Array.isArray(b)?b:[];if(!R.length)return;const A=new Date().toISOString();for(const T of R){const I=String(T?.table||""),B=T?.row||{};if(I==="kdsTickets"){const U=String(B.id||"");if(!U)continue;const q=B.order_id??B.orderId??null,K=B.unit_id??B.unitId??null,J=String(B.status??"queued"),ee=(()=>{const fe=J.toUpperCase();if(fe==="NEW")return"queued";if(fe==="PREPARING")return"prep";if(fe==="READY")return"ready";if(fe==="DELIVERED")return"done";const ye=J.toLowerCase();return ye==="queued"||ye==="prep"||ye==="ready"||ye==="done"?ye:"queued"})(),te=B.station??null,xe=B.updated_at??B.updatedAt??A;try{await query$4("INSERT INTO kds_tickets (id, order_id, unit_id, status, station, updated_at, version, pending_sync) VALUES (?, ?, ?, ?, ?, ?, ?, ?) ON CONFLICT(id) DO UPDATE SET order_id=excluded.order_id, unit_id=excluded.unit_id, status=excluded.status, station=excluded.station, updated_at=excluded.updated_at, pending_sync=excluded.pending_sync",[U,q,K,ee,te,xe,1,0])}catch{}}else if(I==="orders"){const U=String(B.id||"");if(!U)continue;const q=B.status??null,K=B.total_cents??B.totalCents??null,J=B.opened_at??B.openedAt??null,ee=B.deliveredAt??B.delivered_at??null,te=B.closed_at??B.closedAt??null,xe=B.device_id??B.deviceId??null,fe=B.unit_id??B.unitId??null,ye=B.notes??null,Be=B.updated_at??B.updatedAt??A,Le=String(q||"").toUpperCase(),qe=Le==="DELIVERED"?"closed":Le==="CANCELLED"?"cancelled":null,Ge=qe==="closed"||qe==="cancelled"?ee??te??Be:null;try{qe==="closed"||qe==="cancelled"?await query$4("INSERT INTO orders (id, status, total_cents, opened_at, completed_at, device_id, unit_id, notes, updated_at, version, pending_sync) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) ON CONFLICT(id) DO UPDATE SET status=excluded.status, completed_at=excluded.completed_at, updated_at=excluded.updated_at, pending_sync=excluded.pending_sync",[U,qe,K,J,Ge,xe,fe,ye,Be,1,0]):await query$4("INSERT INTO orders (id, status, total_cents, opened_at, completed_at, device_id, unit_id, notes, updated_at, version, pending_sync) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) ON CONFLICT(id) DO UPDATE SET total_cents=COALESCE(excluded.total_cents, total_cents), notes=COALESCE(excluded.notes, notes), updated_at=excluded.updated_at, pending_sync=excluded.pending_sync",[U,q||"open",K,J,te,xe,fe,ye,Be,1,0]);const $e=B.pin??null,Xe=B.password??null;($e||Xe)&&await query$4("INSERT INTO orders_details (order_id, pin, password, updated_at) VALUES (?, ?, ?, ?) ON CONFLICT(order_id) DO UPDATE SET pin=COALESCE(excluded.pin, pin), password=COALESCE(excluded.password, password), updated_at=excluded.updated_at",[U,$e,Xe,Be])}catch{}}else if(I==="cash_sessions"){const U=String(B.id||"");if(!U)continue;const q=B.opened_at??B.openedAt??null,K=B.closed_at??B.closedAt??null,J=B.opened_by??B.openedBy??null,ee=B.closed_by??B.closedBy??null,te=B.opening_amount_cents??B.openingAmountCents??null,xe=B.closing_amount_cents??B.closingAmountCents??null,fe=B.updated_at??B.updatedAt??A;try{await query$4("INSERT INTO cash_sessions (id, opened_at, closed_at, opened_by, closed_by, opening_amount_cents, closing_amount_cents, updated_at, version, pending_sync) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) ON CONFLICT(id) DO UPDATE SET opened_at=COALESCE(excluded.opened_at, opened_at), closed_at=COALESCE(excluded.closed_at, closed_at), opened_by=COALESCE(excluded.opened_by, opened_by), closed_by=COALESCE(excluded.closed_by, closed_by), opening_amount_cents=COALESCE(excluded.opening_amount_cents, opening_amount_cents), closing_amount_cents=COALESCE(excluded.closing_amount_cents, closing_amount_cents), updated_at=excluded.updated_at, pending_sync=excluded.pending_sync",[U,q,K,J,ee,te,xe,fe,1,0])}catch{}}else if(I==="cash_movements"){const U=String(B.id||"");if(!U)continue;const q=B.session_id??B.sessionId??null,K=B.type??null,J=B.reason??null,ee=B.amount_cents??B.amountCents??null,te=B.created_at??B.createdAt??null,xe=B.updated_at??B.updatedAt??A;try{await query$4("INSERT INTO cash_movements (id, session_id, type, reason, amount_cents, created_at, updated_at, version, pending_sync) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) ON CONFLICT(id) DO UPDATE SET session_id=COALESCE(excluded.session_id, session_id), type=COALESCE(excluded.type, type), reason=COALESCE(excluded.reason, reason), amount_cents=COALESCE(excluded.amount_cents, amount_cents), created_at=COALESCE(excluded.created_at, created_at), updated_at=excluded.updated_at, pending_sync=excluded.pending_sync",[U,q,K,J,ee,te,xe,1,0])}catch{}}else if(I==="kds_phase_times"){const U=String(B.orderId||B.order_id||"");if(!U)continue;const q={newStart:B.newStart??null,preparingStart:B.preparingStart??null,readyAt:B.readyAt??null,deliveredAt:B.deliveredAt??null};try{await setPhaseTime(U,q)}catch{}}}}async function enqueueTicket(b){const R=uuid$3(),A=new Date().toISOString(),T=await getCurrentUnitId();if(supabase){await supabase.from("kds_tickets").insert({id:R,order_id:b.orderId,kitchen_id:null,operator_id:null,status:"NEW",updated_at:A,version:1,pending_sync:!1});try{console.log("[KDS] enqueueTicket supabase",{id:R,orderId:b.orderId,status:"NEW",kitchenId:null})}catch{}}else try{await query$4("INSERT INTO kds_tickets (id, order_id, unit_id, status, station, updated_at, version, pending_sync) VALUES (?, ?, ?, ?, ?, ?, ?, ?)",[R,b.orderId,T??null,"queued",b.station??null,A,1,1])}catch{try{const I=localStorage.getItem("kdsTickets"),B=I?JSON.parse(I):[],U={id:R,order_id:b.orderId,unit_id:T??null,status:"queued",station:b.station??null,updated_at:A};B.push(U),localStorage.setItem("kdsTickets",JSON.stringify(B))}catch{}}try{await pushLanEvents$1([{table:"kdsTickets",row:{id:R,order_id:b.orderId,unit_id:T??null,status:"NEW",station:b.station??null,updated_at:A}}])}catch{}try{await setPhaseTime(b.orderId,{newStart:A})}catch{}return R}async function setTicketStatus(b,R){const A=new Date().toISOString();if(console.log("[KDS] setTicketStatus called",{id:b,status:R,now:A}),(await __vitePreload(async()=>{const{supabase:B}=await Promise.resolve().then(()=>supabase$1);return{supabase:B}},void 0)).supabase){const{supabase:B}=await __vitePreload(async()=>{const{supabase:q}=await Promise.resolve().then(()=>supabase$1);return{supabase:q}},void 0),U={queued:"NEW",prep:"PREPARING",ready:"READY",done:"DELIVERED"};console.log("[KDS] Updating supabase kds_tickets",{id:b,status:U[R]});try{const{data:q,error:K}=await B.from("kds_tickets").select("order_id").eq("id",b).maybeSingle();K&&console.error("[KDS] Error fetching ticket for update:",K);const J=q?.order_id?String(q.order_id):void 0,{error:ee}=await B.from("kds_tickets").update({status:U[R],updated_at:A}).eq("id",b);if(ee?console.error("[KDS] Error updating kds_tickets status:",ee):console.log("[KDS] Successfully updated kds_tickets status"),J){console.log("[KDS] Updating associated order",{orderId:J,status:U[R]});const te={status:U[R],updated_at:A};R==="ready"&&(te.ready_at=A),R==="done"&&(te.completed_at=A);const{error:xe}=await B.from("orders").update(te).eq("id",J);xe&&console.error("[KDS] Error updating order status:",xe);const fe={};R==="queued"&&(fe.newStart=A),R==="prep"&&(fe.preparingStart=A),R==="ready"&&(fe.readyAt=A),R==="done"&&(fe.deliveredAt=A),await setPhaseTime(J,fe)}}catch(q){console.error("[KDS] Unexpected error in setTicketStatus supabase block:",q)}}let T,I;try{const B=await query$4("SELECT order_id FROM kds_tickets WHERE id = ?",[b]);T=B?.rows&&B.rows[0]?.order_id?String(B.rows[0].order_id):void 0,I=T?String(b):void 0}catch{}if(!T)try{const B=localStorage.getItem("kdsTickets"),U=B?JSON.parse(B):[],q=(Array.isArray(U)?U:[]).find(K=>String(K.id)===String(b));T=q?.order_id||q?.orderId,I=q?.id?String(q.id):void 0}catch{}if(!T)try{const B=await query$4("SELECT id, order_id FROM kds_tickets WHERE order_id = ? ORDER BY datetime(updated_at) DESC LIMIT 1",[b]),U=B?.rows&&B.rows[0];U&&(T=String(U.order_id),I=String(U.id))}catch{}if(T)try{R==="queued"&&await setPhaseTime(T,{newStart:A}),R==="prep"&&await setPhaseTime(T,{preparingStart:A}),R==="ready"&&await setPhaseTime(T,{readyAt:A}),R==="done"&&await setPhaseTime(T,{deliveredAt:A})}catch{}try{const B=I||b;if(await query$4("UPDATE kds_tickets SET status = ?, updated_at = ?, pending_sync = 1 WHERE id = ?",[R,A,B]),R==="done")try{const U=await query$4("SELECT order_id FROM kds_tickets WHERE id = ?",[B]),q=U?.rows&&U.rows[0]?.order_id;q&&await query$4("UPDATE orders SET status = ?, completed_at = ?, updated_at = ?, pending_sync = 1 WHERE id = ?",["closed",A,A,q])}catch{}}catch{try{const B=localStorage.getItem("kdsTickets"),q=(B?JSON.parse(B):[]).map(K=>String(K.id)===(I||b)?{...K,status:R,updated_at:A}:K);localStorage.setItem("kdsTickets",JSON.stringify(q))}catch{}}try{const B=[{table:"kdsTickets",row:{id:I||b,order_id:T,status:R,updated_at:A}}];if(T){const q={id:T,status:(K=>K==="done"?"DELIVERED":K==="ready"?"READY":K==="prep"?"PREPARING":"NEW")(String(R)),updatedAt:A};R==="ready"&&(q.readyAt=A),R==="done"&&(q.deliveredAt=A),B.push({table:"orders",row:q})}await pushLanEvents$1(B)}catch{}}async function listTicketStatusRows(b){const R=A=>{const T=String(A??"").toUpperCase();return T==="NEW"||T==="QUEUED"?"queued":T==="PREPARING"||T==="PREP"?"prep":T==="READY"?"ready":T==="DELIVERED"||T==="DONE"?"done":null};if(supabase)try{let A=supabase.from("kds_tickets").select("id, order_id, status, updated_at, kitchen_id").in("status",["NEW","PREPARING","READY","DELIVERED"]);const{data:T}=await A,I=[];for(const B of Array.isArray(T)?T:[]){const U=B?.order_id?String(B.order_id):"",q=R(B?.status);!U||!q||I.push({ticketId:String(B?.id??""),orderId:U,status:q,updatedAt:B?.updated_at?String(B.updated_at):void 0,kitchenId:B?.kitchen_id!=null?String(B.kitchen_id):null})}return I}catch{}try{const A=await query$4("SELECT id, order_id, status, updated_at FROM kds_tickets WHERE status IN (?, ?, ?, ?)",["queued","prep","ready","done"]),T=[];for(const I of A?.rows??[]){const B=I?.order_id?String(I.order_id):"",U=R(I?.status);!B||!U||T.push({ticketId:String(I?.id??""),orderId:B,status:U,updatedAt:I?.updated_at?String(I.updated_at):void 0})}return T}catch{try{const A=localStorage.getItem("kdsTickets"),T=A?JSON.parse(A):[],I=[];for(const B of Array.isArray(T)?T:[]){const U=String(B?.order_id??B?.orderId??""),q=R(B?.status);!U||!q||I.push({ticketId:String(B?.id??""),orderId:U,status:q,updatedAt:B?.updated_at?String(B.updated_at):void 0})}return I}catch{return[]}}}async function listTicketsByStatus(b,R){let A=[];if(supabase)try{const T={queued:"NEW",prep:"PREPARING",ready:"READY",done:"DELIVERED"};let I=supabase.from("kds_tickets").select("*").eq("status",T[b]);R&&(I=I.eq("kitchen_id",R));const{data:B}=await I,U=B||[];try{const xe=new Date().toISOString(),fe=U.filter(ye=>ye&&ye.id&&ye.status==="NEW"&&ye.created_at&&ye.updated_at&&String(ye.created_at)===String(ye.updated_at)).map(ye=>String(ye.id));if(fe.length>0){await supabase.from("kds_tickets").update({updated_at:xe}).in("id",fe);try{console.log("[KDS] Confirmao de recebimento enviada",{count:fe.length,kitchenId:R??null})}catch{}}}catch{}const q=(xe,fe)=>{const ye=[];for(let Be=0;Be<xe.length;Be+=fe)ye.push(xe.slice(Be,Be+fe));return ye},K=(Array.isArray(U)?U:[]).map(xe=>String(xe?.order_id??"")).filter(xe=>xe),J={};try{for(const xe of q(K,200)){const{data:fe}=await supabase.from("kds_phase_times").select("order_id, new_start, preparing_start, ready_at, delivered_at, updated_at").in("order_id",xe);for(const ye of Array.isArray(fe)?fe:[]){const Be=String(ye?.order_id??"");Be&&(J[Be]={orderId:Be,newStart:ye?.new_start??null,preparingStart:ye?.preparing_start??null,readyAt:ye?.ready_at??null,deliveredAt:ye?.delivered_at??null,updatedAt:ye?.updated_at??null})}}}catch{}const ee={};try{for(const xe of q(K,200)){const{data:fe}=await supabase.from("order_items").select("*").in("order_id",xe);for(const ye of Array.isArray(fe)?fe:[]){const Be=String(ye?.order_id??"");Be&&(ee[Be]||(ee[Be]=[]),ee[Be].push(ye))}}}catch{}const te=[];for(const xe of U){const fe=String(xe.order_id),ye=J[fe]||{},Le=(ee[fe]||[]).map(qe=>{const Ge=Math.max(1,Number(qe.quantity??qe.qty??1)),$e=String(qe.id);return{id:$e,quantity:Ge,skipKitchen:!1,menuItem:{id:String(qe.product_id??""),name:String(qe.product_name??"Item"),unitDeliveryCount:1,categoryId:String(qe.category_id??"")},productionUnits:Array.from({length:Ge},(Xe,He)=>({unitId:`${$e}-${He+1}`,unitStatus:"PENDING",operatorName:void 0,completedObservations:[],completedAt:void 0}))}});te.push({...xe,items:Le,createdAt:ye?.newStart||xe.created_at,updatedAt:ye?.preparingStart||xe.updated_at,readyAt:ye?.readyAt,deliveredAt:ye?.deliveredAt})}A=[...A,...te]}catch(T){console.warn("[KDS] Falha ao ler do Supabase, tentando local:",T)}try{let T=[];try{const I=await query$4("SELECT * FROM kds_tickets WHERE status = ?",[b]);Array.isArray(I?.rows)&&(T=I.rows)}catch{}if(T.length===0)try{const I=localStorage.getItem("kdsTickets"),B=I?JSON.parse(I):[];T=Array.isArray(B)?B.filter(U=>String(U.status)===String(b)||b==="queued"&&U.status==="NEW"):[],R&&T.length>0&&(T=T.filter(U=>!U.kitchen_id||String(U.kitchen_id)===String(R)))}catch{}if(T.length>0){const I=[];if(A.length>0){const B=A.map(U=>U.id).map(U=>`'${U}'`).join(",");try{const q=((await query$4(`SELECT id, status, pending_sync, updated_at FROM kds_tickets WHERE id IN (${B})`))?.rows??[]).reduce((K,J)=>({...K,[J.id]:J}),{});A=A.filter(K=>{const J=q[K.id];return J?!(J.status!==b&&(J.pending_sync||new Date(J.updated_at).getTime()>=new Date(K.updatedAt||K.updated_at).getTime())):!0})}catch(U){console.error("Error verifying local states",U)}}for(const B of T){if(A.some(J=>String(J.id)===String(B.id)))continue;const U=String(B.order_id||B.orderId),q=await getPhaseTimes(U);let K=[];try{const J=await query$4("SELECT oi.*, p.name as product_name, p.category_id as category_id FROM order_items oi LEFT JOIN products p ON p.id = oi.product_id WHERE oi.order_id = ?",[U]);if(J?.rows)K=J.rows.map(ee=>({id:String(ee.id),quantity:Number(ee.qty??1),skipKitchen:!1,menuItem:{id:String(ee.product_id??""),name:String(ee.product_name??"Item"),unitDeliveryCount:1,categoryId:String(ee.category_id??"")},productionUnits:Array.from({length:Math.max(1,Number(ee.qty??1))},(te,xe)=>({unitId:`${String(ee.id)}-${xe+1}`,unitStatus:"PENDING",operatorName:void 0,completedObservations:[],completedAt:void 0}))}));else{const ee=localStorage.getItem("order_items");K=(ee?JSON.parse(ee):[]).filter(fe=>String(fe.order_id)===U).map(fe=>({id:String(fe.id),quantity:Number(fe.qty??1),skipKitchen:!1,menuItem:{id:String(fe.product_id??""),name:String(fe.product_name??"Item"),unitDeliveryCount:1,categoryId:String(fe.category_id??"")},productionUnits:Array.from({length:Math.max(1,Number(fe.qty??1))},(ye,Be)=>({unitId:`${String(fe.id)}-${Be+1}`,unitStatus:"PENDING",operatorName:void 0,completedObservations:[],completedAt:void 0}))}))}}catch{}I.push({...B,items:K,createdAt:q?.newStart||B.createdAt||B.created_at,updatedAt:q?.preparingStart||B.updatedAt||B.updated_at,readyAt:q?.readyAt||B.ready_at,deliveredAt:q?.deliveredAt||B.delivered_at})}A=[...A,...I]}}catch{}return A}async function setUnitOperator(b,R,A,T){await persistUnitStateDb(b,R,A,{operatorName:T});try{await pushLanEvents$1([{table:"kds_unit_operator",row:{orderId:b,itemId:R,unitId:A,operatorName:T}}])}catch{}}async function setUnitStatus(b,R,A,T,I){const B={unitStatus:T};Array.isArray(I)&&(B.completedObservations=I),T==="READY"?B.completedAt=new Date().toISOString():B.completedAt=void 0,await persistUnitStateDb(b,R,A,B);try{await pushLanEvents$1([{table:"kds_unit_status",row:{orderId:b,itemId:R,unitId:A,unitStatus:T,completedObservations:I}}])}catch{}}async function setUnitDelivered(b,R,A,T){const I={deliveredAt:T??new Date().toISOString()};await persistUnitStateDb(b,R,A,I);try{await pushLanEvents$1([{table:"kds_unit_delivered",row:{orderId:b,itemId:R,unitId:A,deliveredAt:I.deliveredAt}}])}catch{}}async function broadcastOperators(b){try{await pushLanEvents$1([{table:"kds_operators",row:{operators:b}}])}catch{}}async function listOperators(){if(supabase)try{const{data:b}=await supabase.from("kitchen_operators").select("*");if(b)return b}catch(b){console.warn("[KDS] Failed to fetch operators from Supabase:",b)}try{const R=(await query$4("SELECT * FROM kitchen_operators",[]))?.rows??[];return Array.isArray(R)?R:[]}catch{try{const b=localStorage.getItem("kitchenOperators"),R=b?JSON.parse(b):[];return Array.isArray(R)?R:[]}catch{return[]}}}async function upsertOperator(b){const R=b.id??uuid$3(),A=new Date().toISOString(),T=b.role??null;try{await query$4("INSERT INTO kitchen_operators (id, name, role, updated_at, version, pending_sync) VALUES (?, ?, ?, ?, ?, ?) ON CONFLICT(id) DO UPDATE SET name=excluded.name, role=excluded.role, updated_at=excluded.updated_at, version=excluded.version, pending_sync=excluded.pending_sync",[R,b.name,T,A,1,1])}catch{if(supabase)try{await supabase.from("kitchen_operators").upsert({id:R,name:b.name,role:T,updated_at:A,version:1,pending_sync:!1},{onConflict:"id"})}catch(I){console.error("[KDS] Error persisting operator to Supabase:",I)}try{const I=localStorage.getItem("kitchenOperators"),B=I?JSON.parse(I):[],U=[{id:R,name:b.name,role:T,updated_at:A,version:1,pending_sync:1},...B.filter(q=>String(q.id)!==String(R))];localStorage.setItem("kitchenOperators",JSON.stringify(U))}catch{}}try{await pushLanEvents$1([{table:"kitchen_operators",row:{id:R,name:b.name,role:T,updated_at:A}}])}catch{}return R}async function deleteOperator(b){try{await query$4("DELETE FROM kitchen_operators WHERE id = ?",[b])}catch{if(supabase)try{await supabase.from("kitchen_operators").delete().eq("id",b)}catch(R){console.error("[KDS] Error deleting operator from Supabase:",R)}try{const R=localStorage.getItem("kitchenOperators"),A=R?JSON.parse(R):[],T=(Array.isArray(A)?A:[]).filter(I=>String(I.id)!==String(b));localStorage.setItem("kitchenOperators",JSON.stringify(T))}catch{}}try{await pushLanEvents$1([{table:"kitchen_operators_delete",row:{id:b}}])}catch{}}const __vite_import_meta_env__$6={},query$3=async(b,R)=>{const A=window?.api?.db?.query;if(typeof A!="function")throw new Error("Canal de DB indisponvel");try{const T=await A(b,R);if(T?.error)throw new Error(String(T.error));return T}catch{await new Promise(B=>setTimeout(B,200));const I=await A(b,R);if(I?.error)throw new Error(String(I.error));return I}},uuid$2=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`${Date.now()}-${Math.random().toString(16).slice(2)}`,lanHubUrl=(()=>{const b=__vite_import_meta_env__$6?.VITE_LAN_HUB_URL;return b||`http://${typeof window<"u"&&window.location.hostname||"localhost"}:4000`})(),lanSecret=__vite_import_meta_env__$6?.VITE_LAN_SYNC_SECRET||void 0;let lastPushFailAt=0;async function pushLanEvents(b){if(!lanSecret)return;const R=Date.now();if(!(lastPushFailAt&&R-lastPushFailAt<15e3))try{const A="default",T=(Array.isArray(b)?b:[]).map(B=>({...B,unit_id:B?.unit_id??A})),I={"Content-Type":"application/json",Authorization:`Bearer ${lanSecret}`};await fetch(`${lanHubUrl.replace(/\/$/,"")}/push`,{method:"POST",headers:I,body:JSON.stringify({events:T})})}catch{lastPushFailAt=R}}async function openSession(b){const R=uuid$2(),A=new Date().toISOString(),T=localStorage.getItem("currentStationId");let I=b.openedBy??null;if(T){try{const B=await getCurrentUnitId();if(B){const U=localStorage.getItem(`stations_${B}`);if(U){const K=JSON.parse(U).find(J=>String(J.id)===String(T));K&&(I=`${I||"Operador"} (${K.name})`)}}}catch{}I?.includes(`[${T}]`)||(I=`${I||"Operador"} [${T}]`)}if(supabase)try{const{error:B}=await supabase.from("cash_sessions").insert({id:R,opened_at:A,operator_name:I,initial_amount_cents:Math.max(0,Math.round(b.openingAmountCents??0)),updated_at:A,version:1,pending_sync:!1});if(B)throw B;const U={id:R,opened_at:A,opened_by:I,opening_amount_cents:Math.max(0,Math.round(b.openingAmountCents??0)),updated_at:A,version:1,pending_sync:0,status:"OPEN"};localStorage.setItem("currentCashSession",JSON.stringify(U))}catch(B){console.warn("[cashService] Falha ao abrir sesso no Supabase, tentando local:",B),await openSessionLocal(R,A,{...b,openedBy:I})}else await openSessionLocal(R,A,{...b,openedBy:I});return R}async function openSessionLocal(b,R,A){try{await query$3("INSERT INTO cash_sessions (id, opened_at, opened_by, opening_amount_cents, updated_at, version, pending_sync) VALUES (?, ?, ?, ?, ?, ?, ?)",[b,R,A.openedBy??null,Math.max(0,Math.round(A.openingAmountCents??0)),R,1,1]),saveLocalStorageSession(b,R,A),await pushLanEvents([{table:"cash_sessions",row:{id:b,opened_at:R,opened_by:A.openedBy,opening_amount_cents:A.openingAmountCents}}])}catch{saveLocalStorageSession(b,R,A)}}function saveLocalStorageSession(b,R,A){try{const T={id:b,opened_at:R,opened_by:A.openedBy??null,opening_amount_cents:Math.max(0,Math.round(A.openingAmountCents??0)),updated_at:R,version:1,pending_sync:1,status:"OPEN"},I=JSON.parse(localStorage.getItem("cashSessions")||"[]");localStorage.setItem("cashSessions",JSON.stringify([T,...I.filter(B=>B.id!==b)])),localStorage.setItem("currentCashSession",JSON.stringify(T))}catch{}}async function closeSession(b,R){const A=new Date().toISOString();if(supabase)try{const{error:T}=await supabase.from("cash_sessions").update({closed_at:A,final_amount_cents:Math.max(0,Math.round(R?.closingAmountCents??0)),updated_at:A,pending_sync:!1}).eq("id",b);if(T)throw T;localStorage.removeItem("currentCashSession")}catch(T){console.warn("[cashService] Falha ao fechar sesso no Supabase, tentando local:",T),await closeSessionLocal(b,A,R)}else await closeSessionLocal(b,A,R)}async function closeSessionLocal(b,R,A){try{await query$3("UPDATE cash_sessions SET closed_at = ?, closed_by = ?, closing_amount_cents = ?, updated_at = ?, pending_sync = 1 WHERE id = ?",[R,A?.closedBy??null,Math.max(0,Math.round(A?.closingAmountCents??0)),R,b]),updateLocalStorageClosure(b,R,A)}catch{updateLocalStorageClosure(b,R,A)}}function updateLocalStorageClosure(b,R,A){try{const T=localStorage.getItem("currentCashSession"),I=T?JSON.parse(T):null;if(I&&I.id===b){I.closed_at=R,I.closed_by=A?.closedBy??null,I.closing_amount_cents=Math.max(0,Math.round(A?.closingAmountCents??0)),I.updated_at=R,I.status="CLOSED",localStorage.setItem("currentCashSession",JSON.stringify(I));const B=JSON.parse(localStorage.getItem("cashSessions")||"[]");localStorage.setItem("cashSessions",JSON.stringify([I,...B.filter(U=>U.id!==b)]))}}catch{}}async function addMovement(b){const R=uuid$2(),A=new Date().toISOString();if(supabase)try{const{error:T}=await supabase.from("cash_movements").insert({id:R,session_id:b.sessionId,type:b.type,amount_cents:Math.max(0,Math.round(b.amountCents)),description:b.reason??null,created_at:A});if(T)throw T}catch(T){console.warn("[cashService] Falha ao adicionar movimento no Supabase, tentando local:",T),await addMovementLocal(R,A,b)}else await addMovementLocal(R,A,b);return R}async function addMovementLocal(b,R,A){try{await query$3("INSERT INTO cash_movements (id, session_id, type, amount_cents, reason, created_at, pending_sync) VALUES (?, ?, ?, ?, ?, ?, ?)",[b,A.sessionId,A.type,Math.max(0,Math.round(A.amountCents)),A.reason??null,R,1]);const T={id:b,session_id:A.sessionId,type:A.type,amount_cents:Math.max(0,Math.round(A.amountCents)),reason:A.reason??null,created_at:R,pending_sync:1},I=JSON.parse(localStorage.getItem("cashMovements")||"[]");I.push(T),localStorage.setItem("cashMovements",JSON.stringify(I))}catch{}}async function getCurrentSession(){if(supabase)try{let b=supabase.from("cash_sessions").select("*").is("closed_at",null).order("opened_at",{ascending:!1});const R=localStorage.getItem("currentStationId");R&&(b=b.ilike("operator_name",`%[${R}]%`));const{data:A,error:T}=await b.limit(1).maybeSingle();if(A){const I={...A,opening_amount_cents:A.initial_amount_cents,opened_by:A.operator_name,status:"OPEN"};return localStorage.setItem("currentCashSession",JSON.stringify(I)),I}}catch(b){console.warn("[cashService] Erro ao buscar sesso no Supabase:",b)}try{const b=localStorage.getItem("currentCashSession"),R=b?JSON.parse(b):null;if(R&&!R.closed_at)return R}catch{}return null}async function listSessions(b=50){if(supabase)try{const{data:R,error:A}=await supabase.from("cash_sessions").select("*").order("opened_at",{ascending:!1}).limit(b);if(A)throw A;if(R){const T=R.map(I=>({...I,opening_amount_cents:I.initial_amount_cents,closing_amount_cents:I.final_amount_cents,opened_by:I.operator_name}));return localStorage.setItem("cashSessions",JSON.stringify(T)),T}}catch(R){console.warn("[cashService] Erro ao listar sesses no Supabase, tentando local:",R)}try{const A=(await query$3("SELECT * FROM cash_sessions ORDER BY datetime(opened_at) DESC LIMIT ?",[b]))?.rows??[];if(A.length>0)return A;try{const T=localStorage.getItem("cashSessions"),I=T?JSON.parse(T):[];return Array.isArray(I)?I.slice(0,b):[]}catch{return[]}}catch{try{const R=localStorage.getItem("cashSessions"),A=R?JSON.parse(R):[];return Array.isArray(A)?A.slice(0,b):[]}catch{return[]}}}async function listMovementsBySession(b){if(supabase)try{const{data:R,error:A}=await supabase.from("cash_movements").select("*").eq("session_id",b);if(A)throw A;if(R)return R.map(I=>({...I,reason:I.description}))}catch(R){console.warn("[cashService] Erro ao listar movimentos no Supabase, tentando local:",R)}try{const A=(await query$3("SELECT * FROM cash_movements WHERE session_id = ?",[b]))?.rows??[];if(A.length>0)return A;try{const T=localStorage.getItem("cashMovements"),I=T?JSON.parse(T):[];return Array.isArray(I)?I.filter(B=>String(B.session_id)===String(b)):[]}catch{return[]}}catch{try{const R=localStorage.getItem("cashMovements"),A=R?JSON.parse(R):[];return Array.isArray(A)?A.filter(T=>String(T.session_id)===String(b)):[]}catch{return[]}}}const __vite_import_meta_env__$5={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3bWlpa2hrbXFtaXNsb3dmc2RiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzA3MjgsImV4cCI6MjA4MDIwNjcyOH0.mlNaJnt_7ZPYbzclVaW_ozRS5XyloT4bI4-p_GITcNE",VITE_SUPABASE_URL:"https://zwmiikhkmqmislowfsdb.supabase.co"},getPaymentIcon=b=>{switch(b.toLowerCase()){case"pix":return"ri-qr-code-line";case"dinheiro":case"dinheiro (1)":case"dinheiro (2)":return"ri-money-dollar-circle-line";case"carto de dbito":case"dbito":case"debito":return"ri-bank-card-line";case"carto de crdito":case"crdito":case"credito":return"ri-bank-card-2-line";default:return"ri-money-dollar-circle-line"}},parseObservations=(b,R,A)=>{if(!b)return{required:[],optional:[],custom:""};const T=b.split(", ").map(J=>J.trim()).filter(J=>J.length>0),I=T.filter(J=>J.startsWith("[OBRIGATRIO]")).map(J=>J.replace("[OBRIGATRIO]","").trim()),B=T.filter(J=>!J.startsWith("[OBRIGATRIO]")),U=[...R.menuItem.observations||[],...A],q=B.filter(J=>U.includes(J)),K=B.filter(J=>!U.includes(J)).join(", ");return{required:I,optional:q,custom:K}};function Cart({items:b,onUpdateItem:R,onRemoveItem:A,onClearCart:T,onUpdateObservations:I,onLoadCart:B,onSaveOrders:U,operationalSession:q,onSetCashMovements:K}){const{user:J}=useAuth(),[ee,te]=reactExports.useState(!1),[xe,fe]=reactExports.useState(!1),[ye,Be]=reactExports.useState(!1),[Le,qe]=reactExports.useState(!1),[Ge,$e]=reactExports.useState(!1),[Xe,He]=reactExports.useState(!1),[Qe,st]=reactExports.useState(null),[ct,gt]=reactExports.useState(null),[Nt,Ot]=reactExports.useState(""),[Tt,ir]=useLocalStorage("savedCarts",[]),[At,It]=reactExports.useState(null),[Je,ut]=reactExports.useState({}),[et,lt]=reactExports.useState([]),[rt,nt]=reactExports.useState(""),[kt]=useLocalStorage("globalObservations",DEFAULT_GLOBAL_OBSERVATIONS),[Zt,Ar]=reactExports.useState(null),[ft,mt]=reactExports.useState(""),[Ct,xr]=reactExports.useState(""),[er,Ft]=useLocalStorage("orderCounter",1),[Xt,it]=reactExports.useState(""),[jt,or]=reactExports.useState(null),[Er,mr]=reactExports.useState(!1);reactExports.useEffect(()=>{let Et=!1;return(async()=>{try{const pr=await getCurrentSession();Et||or(pr?{id:String(pr.id),operatorName:String(pr.opened_by||"Operador"),openingTime:pr.opened_at?new Date(pr.opened_at):new Date,initialAmount:Math.max(0,(pr.opening_amount_cents||0)/100)}:null)}catch(pr){console.error("Erro ao obter sesso de caixa atual:",pr),Et||or(null)}finally{Et||mr(!0)}})(),()=>{Et=!0}},[]);const[zr]=useLocalStorage("appConfig",{checkoutShortcut:"F",passwordFormat:"numeric"}),[nn]=useLocalStorage("paymentShortcuts",DEFAULT_PAYMENT_SHORTCUTS),[Sr]=useLocalStorage("categories",mockCategories);useLocalStorage("kitchenOperators",[]);const[Zr]=useLocalStorage("paymentMethods",mockPaymentMethods),un=reactExports.useRef(null),Xr=reactExports.useRef(null),an=reactExports.useRef(null),[vn,rn]=reactExports.useState(""),[pn,sa]=reactExports.useState(!1),[Hn,bn]=reactExports.useState({}),[nr,Br]=reactExports.useState(0),[pt,$t]=reactExports.useState(!1);reactExports.useEffect(()=>{const Et=()=>{if(Ge){$e(!1);return}if(Le){qe(!1);return}if(ye){Be(!1);return}if(Xe){He(!1);return}if(xe){fe(!1);return}if(ee){te(!1);return}};return window?.api?.onEscape?.(Et),()=>{}},[Ge,Le,ye,Xe,xe,ee]);const Bt=b.reduce((Et,pr)=>Et+pr.unitPrice*pr.quantity,0),[Pt,Wt]=reactExports.useState(0),Mt=Math.max(0,Bt*(1-Math.max(0,Math.min(100,Pt))/100)),wr=b.reduce((Et,pr)=>Et+pr.quantity,0),Or=parseFloat(vn)||0,ur=Or-Mt,Ur=Ct.toLowerCase().includes("dinheiro"),Wr=Object.keys(Hn).some(Et=>Et.toLowerCase().includes("dinheiro")),Kr=Et=>{let pr=Et.target.value;const jr=zr.passwordFormat||"numeric";jr==="numeric"?pr=pr.replace(/[^0-9]/g,""):jr==="alphabetic"&&(pr=pr.replace(/[^a-zA-Z]/g,"")),it(pr)},gr=reactExports.useCallback(()=>{const Et=Object.values(Hn).reduce((pr,jr)=>pr+jr,0);return Math.max(0,Mt-Et)},[Hn,Mt]),Rr=reactExports.useCallback(()=>b.some(pr=>{const jr=pr.menuItem.requiredModifierGroups||[];if(jr.length===0)return!1;const{required:wn}=parseObservations(pr.observations,pr,kt);return jr.some(hn=>!wn.some(va=>va.startsWith(`${hn.name}:`)))}),[b,kt]),Qr=reactExports.useCallback(()=>{if((Ur||Wr)&&!(Er?!!jt:!0)||!Xt.trim()||Rr())return!0;if(pt){if(gr()>.01)return!0;if(Wr){const wn=Object.entries(Hn).filter(([Bn])=>Bn.toLowerCase().includes("dinheiro")).reduce((Bn,[,hn])=>Bn+hn,0);if(!vn.trim()||Or<wn-.001)return!0}return!1}else return!!(!Ct||Ur&&(!vn.trim()||Or<Mt-.001))},[Er,jt,Xt,Rr,pt,gr,Wr,Hn,vn,Or,Ct,Ur,Mt]);reactExports.useEffect(()=>{Le&&un.current?.focus()},[Le]),reactExports.useEffect(()=>{const Et=pr=>{const jr=document.activeElement,wn=jr?.tagName==="INPUT"||jr?.tagName==="TEXTAREA",Bn=jr===un.current,hn=pr.key.toUpperCase(),Sa=zr.checkoutShortcut.toUpperCase();if(!(wn&&hn===Sa)){if(Le){const va=Object.keys(nn).find(ya=>nn[ya]===hn);if(va&&!pt&&!Bn){pr.preventDefault(),xr(va);const ya=va.toLowerCase().includes("dinheiro");sa(ya),ya?setTimeout(()=>Xr.current?.focus(),0):rn("")}hn===Sa&&!pr.shiftKey&&!pr.ctrlKey&&(pr.preventDefault(),Qr()||Mr())}!Le&&b.length>0&&hn===Sa&&!pr.shiftKey&&!pr.ctrlKey&&(wn||(pr.preventDefault(),qe(!0)))}};return window.addEventListener("keydown",Et),()=>window.removeEventListener("keydown",Et)},[Le,b.length,pt,Ct,Xt,zr.checkoutShortcut,nn,Qr]);const kn=()=>{const Et=new Date,pr=(Et.getMonth()+1).toString().padStart(2,"0"),jr=Et.getFullYear().toString().slice(-2),wn=er.toString().padStart(4,"0");return`#${pr}${jr}${wn}`},Yn=(Et,pr)=>{const jr={...Hn};isNaN(pr)||pr<=0?jr[Et]=0:jr[Et]=parseFloat(pr.toFixed(2)),bn(jr);const wn=Object.values(jr).reduce((Bn,hn)=>Bn+hn,0);Br(Math.max(0,Mt-wn))},Hr=()=>{bn({}),Br(Mt),$t(!1)},Ir=Et=>{const pr=Object.keys(Hn);let jr=Et;if(pr.includes(Et)){let Bn=2;for(;pr.includes(`${Et} (${Bn})`);)Bn++;jr=`${Et} (${Bn})`}const wn=Math.min(gr(),Mt);Yn(jr,wn),Et.toLowerCase().includes("dinheiro")&&(sa(!0),setTimeout(()=>Xr.current?.focus(),0))},tn=()=>{qe(!1),mt(""),xr(""),it(""),rn(""),sa(!1),Hr()},Mr=reactExports.useCallback(async()=>{let Et=!1;const pr=b.reduce((Kn,Nn)=>Kn+Nn.unitPrice*Nn.quantity,0),jr=Math.max(0,pr*(1-Math.max(0,Math.min(100,Pt))/100)),wn=parseFloat(vn)||0;if(Qr()){if(!Xt.trim()){alert("Digite a senha do pedido");return}if(!pt&&!Ct){alert("Selecione uma forma de pagamento");return}if(pt&&gr()>.01){alert(`Ainda falta R$ ${gr().toFixed(2)} para completar o pagamento`);return}if(Ur&&!pt||pt&&Wr){let Kn=jr;if(pt&&(Kn=Object.entries(Hn).filter(([Nn])=>Nn.toLowerCase().includes("dinheiro")).reduce((Nn,[,ba])=>Nn+ba,0)),wn<Kn-.001){alert(`Digite o valor pago pelo cliente (deve ser maior ou igual a R$ ${Kn.toFixed(2)})`);return}}return}qe(!1);const Bn=b.reduce((Kn,Nn)=>Kn+Nn.menuItem.sla*Nn.quantity,0),hn=kn(),Sa=new Date,va=b;let ya={},Ns=0,os=0;if(pt){ya={paymentMethod:"MLTIPLO",paymentBreakdown:Hn,totalPaid:Object.values(Hn).reduce((Nn,ba)=>Nn+ba,0)};const Kn=Object.entries(Hn).filter(([Nn])=>Nn.toLowerCase().includes("dinheiro"));if(Kn.length>0){const Nn=Kn.reduce((ba,[,ma])=>ba+ma,0);Ns=wn-Nn,os=Nn,ya.amountPaid=wn,ya.changeAmount=Ns}}else Ns=Ur?wn-jr:0,ya={paymentMethod:Ct,amountPaid:Ur?wn:void 0,changeAmount:Ns},Ur&&(os=jr);const Gs=b.every(Kn=>Kn.skipKitchen||Kn.menuItem?.skipKitchen),Ra={id:Date.now().toString(),pin:hn,password:Xt.trim(),items:va,total:jr,customerWhatsApp:ft||void 0,status:Gs?"READY":"NEW",createdAt:Sa,readyAt:Gs?Sa:void 0,slaMinutes:Bn,createdBy:J?.name||"Caixa",operationalSessionId:q?.id,...ya};U(Kn=>[...Kn,Ra]),Ft(er>=9999?1:er+1),gt({pin:hn,password:Xt.trim(),total:jr,changeAmount:Ns,items:b,paymentMethod:Ra.paymentMethod,createdAt:Ra.createdAt,createdBy:Ra.createdBy,amountPaid:Ra.amountPaid,paymentBreakdown:Ra.paymentBreakdown}),qe(!1),T(),tn(),setTimeout(()=>$e(!0),0);let xs=!1,ls;try{const Kn=await createOrder({openedAt:Sa.toISOString(),operationalSessionId:q?.id||null,notes:`CREATED_BY=${J?.name||"Caixa"}`});try{await setOrderDetails(Kn,{pin:hn,password:Xt.trim()})}catch{}for(const Nn of va){const ba=Nn.menuItem?.id?String(Nn.menuItem.id):null;await addItem({orderId:Kn,productId:ba,qty:Nn.quantity,unitPriceCents:Math.max(0,Math.round((Nn.unitPrice??0)*100)),notes:Nn.observations??null})}if(pt)for(const[Nn,ba]of Object.entries(Hn))await addPayment({orderId:Kn,method:Nn,amountCents:Math.max(0,Math.round(ba*100))});else await addPayment({orderId:Kn,method:Ct,amountCents:Math.max(0,Math.round(jr*100))});if(Gs)try{await closeOrder(Kn)}catch{}else try{const{supabase:Nn}=await __vitePreload(async()=>{const{supabase:ba}=await Promise.resolve().then(()=>supabase$1);return{supabase:ba}},void 0);if(!Nn){const ba=await enqueueTicket({orderId:Kn});Et=!0,ls=ba;try{U(ma=>ma.map(bs=>bs.id===Ra.id?{...bs,ticketId:ba}:bs))}catch{}}}catch{}jt&&os>0&&(await addMovement({sessionId:jt.id,type:"in",reason:`Venda - Pedido ${hn}`,amountCents:Math.max(0,Math.round(os*100))}),xs=!0)}catch(Kn){console.warn("Falha ao persistir no SQLite, mantendo UI otimista:",Kn)}try{const Kn=typeof localStorage<"u"&&localStorage.getItem("unitId")||"default",Nn=__vite_import_meta_env__$5?.VITE_LAN_HUB_URL||"http://localhost:4000",ba=__vite_import_meta_env__$5?.VITE_LAN_SYNC_SECRET||"";if(!ba)return;const ma=Nn.replace(/\/$/,"")+"/push",bs={"Content-Type":"application/json",Authorization:`Bearer ${ba}`},Na=[{table:"orders",row:{...Ra,id:typeof orderId<"u"?orderId:Ra.id},unit_id:Kn}];jt&&os>0&&Na.push({table:"cashMovements",row:{id:String(Date.now()),type:"IN",amount:os,description:`Venda - Pedido ${hn} (${Ra.paymentMethod})`,timestamp:new Date().toISOString(),orderId:typeof orderId<"u"?orderId:Ra.id,sessionId:jt.id},unit_id:Kn}),await fetch(ma,{method:"POST",headers:bs,body:JSON.stringify({events:Na})})}catch{}if(jt&&os>0){const Kn={id:Date.now().toString(),type:"IN",amount:os,description:`Venda - Pedido ${hn} (${Ra.paymentMethod})`,timestamp:new Date,orderId:Ra.id,sessionId:jt.id};if(K(Nn=>[...Nn,Kn]),!xs)try{await addMovement({sessionId:jt.id,type:"in",reason:Kn.description,amountCents:Math.max(0,Math.round(os*100))})}catch(Nn){console.warn("Falha ao registrar movimento de caixa (extra):",Nn)}}try{const Kn=b.some(Nn=>!(Nn.skipKitchen||Nn.menuItem?.skipKitchen));if(Kn&&!Et)try{const{supabase:Nn}=await __vitePreload(async()=>{const{supabase:ba}=await Promise.resolve().then(()=>supabase$1);return{supabase:ba}},void 0);Nn||enqueueTicket({orderId:Ra.id}).catch(()=>{})}catch{}else Kn||closeOrder(Ra.id).catch(()=>{})}catch{}new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8diJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT").play().catch(()=>{})},[b,Qr,Xt,pt,gr,Ur,Wr,Hn,vn,Mt,kn,U,Ft,jt,K,ft,Ct,q,J]),Jr=Et=>{Et.key==="Enter"&&(Et.preventDefault(),un.current?.blur(),(Ur||Wr)&&Xr.current?.focus())},mn=Et=>{Et.key==="Enter"&&(Et.preventDefault(),Xr.current?.blur())},Qt=Et=>{const pr=Et.target.value;rn(pr),(Ur||Wr)&&sa(!0)},Pr=Et=>{Et.key==="Enter"&&(Et.preventDefault(),ea())},Fr=Et=>{It(Et);const{required:pr,optional:jr,custom:wn}=parseObservations(Et.observations,Et,kt),Bn={},hn=Et.menuItem.requiredModifierGroups||[];pr.forEach(Sa=>{const va=Sa.split(":").map(ya=>ya.trim());if(va.length===2){const ya=va[0],Ns=va[1],os=hn.find(Gs=>Gs.name===ya);os&&(Bn[os.id]=Ns)}}),ut(Bn),lt(jr),nt(wn),Be(!0)},Yr=Et=>{const pr=Et.menuItem.observations||[];return[...new Set([...kt,...pr])]},Tn=Et=>Et.menuItem.requiredModifierGroups||[],Sn=(Et,pr)=>{ut(jr=>({...jr,[Et]:jr[Et]===pr?"":pr}))},Va=Et=>{lt(pr=>pr.includes(Et)?pr.filter(jr=>jr!==Et):[...pr,Et])},Qa=()=>{if(At){const Et=Tn(At),pr=Et.every(va=>!!Je[va.id]);if(Et.length>0&&!pr){alert("Selecione uma opo para todos os campos obrigatrios.");return}const jr=Et.map(va=>{const ya=Je[va.id];return ya?`[OBRIGATRIO] ${va.name}: ${ya}`:""}).filter(va=>va.length>0).join(", "),wn=et.join(", "),Bn=rt.trim(),hn=[jr,wn,Bn].filter(va=>va.length>0),Sa=hn.length>0?hn.join(", "):"";I(At.id,Sa),Be(!1),It(null),ut({}),lt([]),nt("")}},Dn=Et=>{const pr=Et.items.map(jr=>{if(jr.skipKitchen)return{...jr,productionUnits:[]};if(!jr.productionUnits||jr.productionUnits.length!==jr.quantity){const wn=[];for(let Bn=0;Bn<jr.quantity;Bn++)wn.push({unitId:Date.now().toString()+Bn,unitStatus:"PENDING",operatorName:void 0,completedObservations:[]});return{...jr,productionUnits:wn}}return jr});B(pr),showSuccess("Carrinho carregado com sucesso.")},ss=Et=>{st(Et),He(!0)},$n=()=>{Qe&&(ir(Et=>Et.filter(pr=>pr.id!==Qe.id)),He(!1),st(null))},ea=()=>{if(!Nt.trim()){alert("Digite um nome para o carrinho");return}const Et=Tt.find(jr=>jr.name.toLowerCase()===Nt.toLowerCase());if(Et&&!Zt)if(confirm(`J existe um carrinho com o nome "${Nt}". Deseja substitu-lo?`)){Ar(Et.id);return}else return;const pr={id:Zt||Date.now().toString(),name:Nt,items:b,total:Mt,createdAt:new Date};ir(Zt?jr=>jr.map(wn=>wn.id===Zt?pr:wn):[...Tt,pr]),te(!1),Ot(""),Ar(null)},Oa=Et=>{Ot(Et.name),Ar(Et.id)},Gn=()=>{te(!1),Ot(""),Ar(null)},Da=Et=>{const pr=b.find(wn=>wn.id===Et);if(!pr)return"";const jr=Sr.find(wn=>wn.id===pr.menuItem.categoryId);return jr?jr.name:"Sem Categoria"};return jsxRuntimeExports.jsxs("div",{className:"flex w-64 xl:w-80 bg-white border-l border-gray-200 flex-col xl:h-[calc(100vh-120px)] xl:max-h-[calc(100vh-120px)]",children:[jsxRuntimeExports.jsx("div",{className:"h-16 px-4 border-b border-gray-200 flex items-center flex-shrink-0",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between w-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("h2",{className:"text-base lg:text-lg font-semibold text-gray-900",children:"Carrinho"}),jsxRuntimeExports.jsxs("span",{className:"bg-amber-100 text-amber-800 text-xs font-medium px-2 py-1 rounded-full",children:[wr," ",wr===1?"item":"itens"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>te(!0),className:"text-green-500 hover:text-green-700 cursor-pointer p-2",title:"Salvar carrinho",disabled:b.length===0,children:jsxRuntimeExports.jsx("i",{className:"ri-save-line text-lg"})}),jsxRuntimeExports.jsx("button",{onClick:()=>fe(!0),className:"text-blue-500 hover:text-blue-700 cursor-pointer p-2",title:"Carregar carrinho salvo",disabled:Tt.length===0,children:jsxRuntimeExports.jsx("i",{className:"ri-download-line text-lg"})}),jsxRuntimeExports.jsx("button",{onClick:T,className:"text-red-500 hover:text-red-700 cursor-pointer p-2",title:"Limpar carrinho",disabled:b.length===0,children:jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-line text-lg"})})]})]})}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:b.length===0?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 p-4 min-h-[200px]",children:[jsxRuntimeExports.jsx("i",{className:"ri-shopping-cart-line text-3xl lg:text-4xl mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm lg:text-base",children:"Carrinho vazio"})]}):jsxRuntimeExports.jsx("div",{className:"p-3 lg:p-4 space-y-3",children:b.map(Et=>{const{required:pr}=parseObservations(Et.observations,Et,kt),jr=(()=>{const wn=Et.menuItem.requiredModifierGroups||[];return wn.length===0?!1:wn.some(Bn=>!pr.some(Sa=>Sa.startsWith(`${Bn.name}:`)))})();return jsxRuntimeExports.jsxs("div",{className:`rounded-lg p-3 ${jr?"bg-amber-50 border border-amber-200":"bg-gray-50"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 font-medium mb-1",children:Da(Et.id)}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium text-gray-900 text-sm truncate flex items-center",children:[Et.menuItem.name,Et.menuItem.code&&jsxRuntimeExports.jsxs("span",{className:"ml-2 text-blue-600 text-xs font-semibold",children:["#",Et.menuItem.code]})]}),jr&&jsxRuntimeExports.jsx("i",{className:"ri-error-warning-line text-amber-600 ml-2",title:"Opes obrigatrias no selecionadas"})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-600",children:["R$ ",Et.unitPrice.toFixed(2)]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>A(Et.id),className:"text-red-500 hover:text-red-700 cursor-pointer p-1 ml-2",children:jsxRuntimeExports.jsx("i",{className:"ri-close-line"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>R(Et.id,Et.quantity-1),className:"w-6 h-6 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center cursor-pointer",children:jsxRuntimeExports.jsx("i",{className:"ri-subtract-line text-xs"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium w-8 text-center",children:Et.quantity}),jsxRuntimeExports.jsx("button",{onClick:()=>R(Et.id,Et.quantity+1),className:"w-6 h-6 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center cursor-pointer",children:jsxRuntimeExports.jsx("i",{className:"ri-add-line text-xs"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Fr(Et),className:"text-amber-600 hover:text-amber-700 cursor-pointer p-1",title:"Editar observaes",children:jsxRuntimeExports.jsx("i",{className:"ri-edit-line text-sm"})}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium",children:["R$ ",(Et.unitPrice*Et.quantity).toFixed(2)]})]})]}),Et.observations&&jsxRuntimeExports.jsxs("div",{className:"mt-2 text-xs text-gray-600 bg-white rounded p-2",children:[pr.length>0&&jsxRuntimeExports.jsxs("div",{className:"text-red-600 font-medium mb-1",children:[jsxRuntimeExports.jsx("i",{className:"ri-checkbox-circle-line mr-1"}),"Opes: ",pr.join(", ")]}),(parseObservations(Et.observations,Et,kt).optional.length>0||parseObservations(Et.observations,Et,kt).custom)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("i",{className:"ri-information-line mr-1"}),parseObservations(Et.observations,Et,kt).optional.join(", ")||parseObservations(Et.observations,Et,kt).custom]})]})]},Et.id)})})}),b.length>0&&jsxRuntimeExports.jsxs("div",{className:"p-3 lg:p-4 border-t border-gray-200 flex-shrink-0 bg-white sticky bottom-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("span",{className:"text-base lg:text-lg font-semibold text-gray-900",children:"Total:"}),jsxRuntimeExports.jsxs("span",{className:"text-base lg:text-lg font-bold text-amber-600",children:["R$ ",Mt.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:"Desconto global (%):"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Input,{type:"number",value:Pt.toString(),onChange:Et=>Wt(Math.max(0,Math.min(100,parseFloat(Et.target.value)||0))),className:"w-24",step:"1",min:"0",max:"100"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"%"})]})]}),jsxRuntimeExports.jsxs(Button,{className:"w-full",size:"lg",onClick:()=>qe(!0),disabled:Rr(),variant:Rr()?"secondary":"primary",children:[jsxRuntimeExports.jsx("i",{className:"ri-shopping-cart-line mr-2"}),"Finalizar Pedido (",zr.checkoutShortcut,")",Rr()&&jsxRuntimeExports.jsx("i",{className:"ri-error-warning-line ml-2",title:"Complete as opes obrigatrias"})]})]}),jsxRuntimeExports.jsx(Modal,{isOpen:Le,onClose:()=>qe(!1),title:"Finalizar Pedido",size:"lg",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Resumo do Pedido"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[b.map(Et=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsxs("span",{children:[Et.quantity,"x ",Et.menuItem.name]}),jsxRuntimeExports.jsxs("span",{children:["R$ ",(Et.unitPrice*Et.quantity).toFixed(2)]})]},Et.id)),jsxRuntimeExports.jsxs("div",{className:"border-t pt-2 flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Subtotal:"}),jsxRuntimeExports.jsxs("span",{children:["R$ ",Bt.toFixed(2)]})]}),Pt>0&&jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm",children:["Desconto (",Pt,"%)"]}),jsxRuntimeExports.jsxs("span",{className:"text-sm",children:["- R$ ",(Bt-Mt).toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between font-bold",children:[jsxRuntimeExports.jsx("span",{children:"Total:"}),jsxRuntimeExports.jsxs("span",{className:"text-amber-600",children:["R$ ",Mt.toFixed(2)]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("i",{className:"ri-hashtag text-amber-600"}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-amber-800",children:["Nmero do Pedido: ",jsxRuntimeExports.jsx("span",{className:"font-bold text-lg",children:kn()})]})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 border border-gray-300 rounded-lg shadow-md",children:[jsxRuntimeExports.jsxs("label",{className:"block text-lg font-bold text-gray-900 mb-2 flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-key-line mr-2 text-amber-600"}),"Senha do Pedido: *"]}),jsxRuntimeExports.jsx(Input,{ref:un,type:zr.passwordFormat==="numeric"?"tel":"text",value:Xt,onChange:Kr,onKeyPress:Jr,placeholder:"Digite a senha do pedido",className:"w-full text-2xl font-extrabold text-center py-3 border-amber-500 focus:ring-4 focus:ring-amber-200",required:!0}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-2 text-center",children:["Senha obrigatria para identificao do pedido. Formato:",jsxRuntimeExports.jsx("span",{className:"font-medium ml-1",children:zr.passwordFormat==="numeric"?"Numrico":zr.passwordFormat==="alphabetic"?"Alfabtico":"Alfanumrico"}),"(Pressione ENTER para continuar)"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp do Cliente (opcional):"}),jsxRuntimeExports.jsx(Input,{type:"tel",value:ft,onChange:Et=>mt(Et.target.value),placeholder:"(11) 99999-9999",className:"w-full"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Para notificaes sobre o pedido"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Tipo de Pagamento: *"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3 mb-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{$t(!1),Hr(),xr("")},className:`flex-1 p-3 rounded-lg border-2 transition-colors cursor-pointer ${pt?"border-gray-200 hover:border-gray-300":"border-amber-500 bg-amber-50 text-amber-700"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[jsxRuntimeExports.jsx("i",{className:"ri-money-dollar-circle-line text-lg"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Pagamento nico"})]})}),jsxRuntimeExports.jsx("button",{onClick:()=>{$t(!0),xr(""),Br(Mt)},className:`flex-1 p-3 rounded-lg border-2 transition-colors cursor-pointer ${pt?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-200 hover:border-gray-300"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[jsxRuntimeExports.jsx("i",{className:"ri-exchange-line text-lg"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Pagamento Misto"})]})})]})]}),!pt&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Forma de Pagamento: *"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-3",children:Zr.map(Et=>jsxRuntimeExports.jsx("button",{onClick:()=>{xr(Et);const pr=Et.toLowerCase().includes("dinheiro");sa(pr),pr?setTimeout(()=>Xr.current?.focus(),0):rn("")},className:`p-3 rounded-lg border-2 transition-colors cursor-pointer ${Ct===Et?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-200 hover:border-gray-300"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("i",{className:`${getPaymentIcon(Et)} text-lg`}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:Et})]}),nn[Et]&&jsxRuntimeExports.jsx("span",{className:"text-xs font-bold bg-white px-2 py-0.5 rounded border",style:{fontFamily:"inherit"},children:nn[Et]})]})},Et))})]}),pt&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium text-blue-800 mb-3 flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-exchange-line mr-2"}),"Pagamento Misto"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-blue-700",children:"Total do pedido:"}),jsxRuntimeExports.jsxs("span",{className:"font-medium text-blue-800",children:["R$ ",Mt.toFixed(2)]})]}),Object.keys(Hn).length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Formas selecionadas:"}),Object.entries(Hn).map(([Et,pr])=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between bg-white rounded p-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("i",{className:`${getPaymentIcon(Et)} text-blue-600`}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:Et})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Input,{type:"number",value:pr===0?"":pr.toString(),onChange:jr=>{const wn=jr.target.value;Yn(Et,parseFloat(wn)||0)},className:"w-24 text-sm",step:"0.01",min:"0",max:Mt.toString()}),jsxRuntimeExports.jsx("button",{onClick:()=>{const jr={...Hn};delete jr[Et],bn(jr),Br(Math.max(0,Mt-Object.values(jr).reduce((wn,Bn)=>wn+Bn,0)))},className:"text-red-500 hover:text-red-700 cursor-pointer",children:jsxRuntimeExports.jsx("i",{className:"ri-close-line"})})]})]},Et))]}),jsxRuntimeExports.jsxs("div",{className:"border-t border-blue-200 pt-3 flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-blue-800",children:"Valor restante:"}),jsxRuntimeExports.jsxs("span",{className:`text-lg font-bold ${nr>.01?"text-red-600":"text-green-600"}`,children:["R$ ",nr.toFixed(2)]})]})]})]}),nr>.01&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Adicionar forma de pagamento:"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-3",children:Zr.map(Et=>jsxRuntimeExports.jsx("button",{onClick:()=>Ir(Et),className:"p-3 rounded-lg border-2 border-gray-200 hover:border-amber-300 hover:bg-amber-50 transition-colors cursor-pointer",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[jsxRuntimeExports.jsx("i",{className:`${getPaymentIcon(Et)} text-lg`}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:Et})]})},Et))}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Voc pode adicionar a mesma forma de pagamento mltiplas vezes"})]})]}),(Ur&&!pt||pt&&Wr)&&jsxRuntimeExports.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium text-green-800 mb-3 flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-money-dollar-circle-line mr-2"}),"Pagamento em Dinheiro"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-green-700 mb-2",children:"Valor pago pelo cliente: *"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-600",children:"R$"}),jsxRuntimeExports.jsx(Input,{ref:Xr,type:"number",value:vn,onChange:Qt,onKeyPress:mn,placeholder:"0,00",className:"w-full pl-10",step:"0.01",min:"0"})]})]}),pn&&jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg p-3 border border-green-300",children:pt?(()=>{const Et=Object.entries(Hn).filter(([jr])=>jr.toLowerCase().includes("dinheiro")).reduce((jr,[,wn])=>jr+wn,0),pr=Or-Et;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-green-700",children:"Valor em dinheiro:"}),jsxRuntimeExports.jsxs("span",{className:"font-medium text-green-800",children:["R$ ",Et.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-green-700",children:"Valor pago:"}),jsxRuntimeExports.jsxs("span",{className:"font-medium text-green-800",children:["R$ ",Or.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t border-green-200 pt-2 flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-green-800",children:"Troco:"}),jsxRuntimeExports.jsxs("span",{className:`text-lg font-bold ${pr>=-.001?"text-green-900":"text-red-600"}`,children:["R$ ",pr.toFixed(2)]})]}),pr<-.001&&jsxRuntimeExports.jsx("div",{className:"mt-2 bg-red-50 border border-red-200 rounded-lg p-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center text-red-700",children:[jsxRuntimeExports.jsx("i",{className:"ri-error-warning-line mr-2"}),jsxRuntimeExports.jsxs("span",{className:"text-sm",children:["Valor insuficiente. Faltam R$ ",Math.abs(pr).toFixed(2)]})]})})]})})():jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-green-700",children:"Total do pedido:"}),jsxRuntimeExports.jsxs("span",{className:"font-medium text-green-800",children:["R$ ",Mt.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-green-700",children:"Valor pago:"}),jsxRuntimeExports.jsxs("span",{className:"font-medium text-green-800",children:["R$ ",Or.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t border-green-200 pt-2 flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-green-800",children:"Troco:"}),jsxRuntimeExports.jsxs("span",{className:"text-lg font-bold text-green-900",children:["R$ ",ur.toFixed(2)]})]}),Or<Mt-.001&&jsxRuntimeExports.jsx("div",{className:"mt-2 bg-red-50 border border-red-200 rounded-lg p-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center text-red-700",children:[jsxRuntimeExports.jsx("i",{className:"ri-error-warning-line mr-2"}),jsxRuntimeExports.jsxs("span",{className:"text-sm",children:["Valor insuficiente. Faltam R$ ",(Mt-Or).toFixed(2)]})]})})]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[Rr()&&jsxRuntimeExports.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center text-amber-700",children:[jsxRuntimeExports.jsx("i",{className:"ri-error-warning-line mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Existem itens com opes obrigatrias no selecionadas"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:tn,className:"flex-1",children:"Cancelar"}),jsxRuntimeExports.jsxs(Button,{onClick:Mr,className:"flex-1",disabled:Qr(),children:[jsxRuntimeExports.jsx("i",{className:"ri-check-line mr-2"}),"Confirmar Pedido (",zr.checkoutShortcut,")"]})]})]})]})}),jsxRuntimeExports.jsx(OrderConfirmationModal,{isOpen:Ge,onClose:()=>$e(!1),orderData:ct}),jsxRuntimeExports.jsx(Modal,{isOpen:ee,onClose:Gn,title:"Salvar Carrinho",size:"md",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do carrinho:"}),jsxRuntimeExports.jsx(Input,{ref:an,value:Nt,onChange:Et=>Ot(Et.target.value),onKeyPress:Pr,placeholder:"Digite um nome para identificar este carrinho...",autoFocus:!0})]}),Zt&&jsxRuntimeExports.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-2",children:[jsxRuntimeExports.jsx("i",{className:"ri-information-line text-amber-600 mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-amber-800",children:"Substituindo carrinho existente"})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-amber-700",children:['O carrinho "',Nt,'" ser substitudo pelo carrinho atual.']})]}),Tt.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:["Carrinhos salvos (",Tt.length,"):"]}),jsxRuntimeExports.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:Tt.map(Et=>jsxRuntimeExports.jsxs("div",{className:`border rounded-lg p-3 cursor-pointer transition-colors ${Zt===Et.id?"border-amber-300 bg-amber-50":"border-gray-200 hover:bg-gray-50"}`,onClick:()=>Oa(Et),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-1",children:[jsxRuntimeExports.jsx("h5",{className:"font-medium text-gray-900 text-sm",children:Et.name}),Zt===Et.id&&jsxRuntimeExports.jsx("i",{className:"ri-check-line text-amber-600"})]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-600",children:[jsxRuntimeExports.jsxs("span",{children:[Et.items.reduce((pr,jr)=>pr+jr.quantity,0)," itens"]}),jsxRuntimeExports.jsx("span",{className:"mx-2",children:""}),jsxRuntimeExports.jsxs("span",{children:["R$ ",Et.items.reduce((pr,jr)=>pr+jr.unitPrice*jr.quantity,0).toFixed(2)]}),jsxRuntimeExports.jsx("span",{className:"mx-2",children:""}),jsxRuntimeExports.jsx("span",{children:new Date(Et.createdAt).toLocaleDateString("pt-BR")})]})]},Et.id))}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Clique em um carrinho para substitu-lo ou digite um novo nome"})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:Gn,className:"flex-1",children:"Cancelar"}),jsxRuntimeExports.jsx(Button,{onClick:ea,className:"flex-1",children:Zt?"Substituir":"Salvar"})]})]})}),jsxRuntimeExports.jsx(Modal,{isOpen:xe,onClose:()=>fe(!1),title:"Carregar Carrinho Salvo",size:"md",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[Tt.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx("i",{className:"ri-shopping-cart-line text-4xl text-gray-400 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Nenhum carrinho salvo encontrado"})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Selecione um carrinho para carregar:"}),Tt.map(Et=>jsxRuntimeExports.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900",children:Et.name}),jsxRuntimeExports.jsx("button",{onClick:()=>ss(Et),className:"text-red-500 hover:text-red-700 cursor-pointer",title:"Excluir carrinho salvo",children:jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-line"})})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[jsxRuntimeExports.jsxs("p",{children:["Data: ",new Date(Et.createdAt).toLocaleDateString("pt-BR")]}),jsxRuntimeExports.jsxs("p",{children:["Itens: ",Et.items.reduce((pr,jr)=>pr+jr.quantity,0)]}),jsxRuntimeExports.jsxs("p",{children:["Total: R$ ",Et.items.reduce((pr,jr)=>pr+jr.unitPrice*jr.quantity,0).toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 mb-3",children:[Et.items.slice(0,3).map((pr,jr)=>jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:[pr.quantity,"x ",pr.menuItem.name]},jr)),Et.items.length>3&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-400",children:["+",Et.items.length-3," itens..."]})]}),jsxRuntimeExports.jsx(Button,{onClick:()=>Dn(Et),size:"sm",className:"w-full",children:"Carregar Carrinho"})]},Et.id))]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end pt-4 border-top border-gray-200",children:jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>fe(!1),children:"Fechar"})})]})}),jsxRuntimeExports.jsx(Modal,{isOpen:ye,onClose:()=>Be(!1),title:`Opes e Observaes - ${At?.menuItem.name}`,size:"lg",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[At&&Tn(At).length>0&&jsxRuntimeExports.jsxs("div",{className:"p-4 border border-red-300 rounded-lg bg-red-50 space-y-4",children:[jsxRuntimeExports.jsxs("h4",{className:"font-bold text-red-800 flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-alert-line mr-2"}),"Opes Obrigatrias (Selecione 1 por grupo): *"]}),Tn(At).map(Et=>jsxRuntimeExports.jsxs("div",{className:"border border-red-200 rounded-lg p-3",children:[jsxRuntimeExports.jsxs("h5",{className:"font-medium text-red-700 mb-2",children:[Et.name,":"]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-2",children:Et.options.map(pr=>jsxRuntimeExports.jsx("button",{onClick:()=>Sn(Et.id,pr),className:`p-3 text-sm rounded-lg border-2 transition-colors cursor-pointer whitespace-nowrap ${Je[Et.id]===pr?"bg-red-100 border-red-500 text-red-800 font-medium":"bg-white border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:pr},pr))}),!Je[Et.id]&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-600 mt-2",children:"Seleo obrigatria."})]},Et.id))]}),At&&Yr(At).length>0&&jsxRuntimeExports.jsxs("div",{className:"p-4 border border-amber-300 rounded-lg bg-amber-50",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-amber-800 mb-3",children:"Observaes Opcionais:"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-2",children:Yr(At).map(Et=>jsxRuntimeExports.jsx("button",{onClick:()=>Va(Et),className:`p-2 text-sm rounded-lg border transition-colors cursor-pointer whitespace-nowrap ${et.includes(Et)?"bg-amber-100 border-amber-500 text-amber-800":"bg-white border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:Et},Et))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observao personalizada:"}),jsxRuntimeExports.jsx("textarea",{value:rt,onChange:Et=>nt(Et.target.value),placeholder:"Digite uma observao especfica...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent resize-none",rows:3,maxLength:500}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mximo 500 caracteres"})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3 pt-4 border-t",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>Be(!1),className:"flex-1",children:"Cancelar"}),jsxRuntimeExports.jsxs(Button,{onClick:Qa,className:"flex-1",disabled:At&&Tn(At).length>0&&Tn(At).some(Et=>!Je[Et.id]),children:[jsxRuntimeExports.jsx("i",{className:"ri-check-line mr-2"}),"Salvar"]})]})]})}),jsxRuntimeExports.jsx(ConfirmationModal,{isOpen:Xe,onClose:()=>He(!1),onConfirm:$n,title:"Excluir Carrinho Salvo",message:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Tem certeza que deseja excluir permanentemente o carrinho salvo:",jsxRuntimeExports.jsxs("span",{className:"font-bold text-red-700 block mt-1",children:['"',Qe?.name,'"']}),"? Esta ao no pode ser desfeita."]}),confirmText:"Excluir Permanentemente",variant:"danger"})]})}const NOTES$1=CASH_NOTES,COINS$1=CASH_COINS;function CashOpening({isOpen:b,onClose:R,onConfirm:A}){const[T,I]=reactExports.useState(""),[B,U]=reactExports.useState(""),[q,K]=reactExports.useState(""),[J,ee]=reactExports.useState(!1),[te,xe]=reactExports.useState("total"),[fe,ye]=reactExports.useState({notes:{},coins:{}}),Be=()=>{let He=0;return Object.entries(fe.notes).forEach(([Qe,st])=>{He+=parseFloat(Qe)*(st||0)}),Object.entries(fe.coins).forEach(([Qe,st])=>{He+=parseFloat(Qe)*(st||0)}),He},Le=(He,Qe)=>{ye(st=>({...st,notes:{...st.notes,[He]:parseInt(Qe)||0}}))},qe=(He,Qe)=>{ye(st=>({...st,coins:{...st.coins,[He]:parseInt(Qe)||0}}))},Ge=async()=>{if(!T.trim()){alert("Digite o nome do operador");return}let He=0;if(te==="total"){if(!B.trim()||isNaN(Number(B))){alert("Digite um valor inicial vlido");return}He=Number(B)}else if(He=Be(),He===0){alert("Adicione pelo menos uma nota ou moeda");return}ee(!0);const Qe={id:Date.now().toString(),operatorName:T.trim(),initialAmount:He,openingTime:new Date,notes:q.trim()||void 0,cashBreakdown:te==="breakdown"?fe:void 0};await new Promise(st=>setTimeout(st,1e3)),A(Qe,te),I(""),U(""),K(""),ye({notes:{},coins:{}}),ee(!1)},$e=()=>{J||R()},Xe=Be();return jsxRuntimeExports.jsx(Modal,{isOpen:b,onClose:$e,title:"Abertura de Caixa",size:"lg",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[jsxRuntimeExports.jsx("i",{className:"ri-information-line text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-blue-800",children:"Abertura de Caixa"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-blue-700",children:"Registre as informaes iniciais para comear as operaes do caixa."}),jsxRuntimeExports.jsx("div",{className:"mt-2 text-xs text-blue-600",children:jsxRuntimeExports.jsxs("span",{children:["Data/Hora: ",new Date().toLocaleString("pt-BR")]})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Operador: *"}),jsxRuntimeExports.jsx(Input,{type:"text",value:T,onChange:He=>I(He.target.value),placeholder:"Digite seu nome",className:"w-full",disabled:J,autoFocus:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Forma de Registro do Valor Inicial: *"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>xe("total"),className:`flex-1 p-3 rounded-lg border-2 transition-colors ${te==="total"?"border-amber-500 bg-amber-50 text-amber-800":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}`,disabled:J,children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-money-dollar-circle-line text-2xl mb-2"}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:"Valor Total"}),jsxRuntimeExports.jsx("div",{className:"text-xs",children:"Digite o valor total"})]})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>xe("breakdown"),className:`flex-1 p-3 rounded-lg border-2 transition-colors ${te==="breakdown"?"border-amber-500 bg-amber-50 text-amber-800":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}`,disabled:J,children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-calculator-line text-2xl mb-2"}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:"Contagem"}),jsxRuntimeExports.jsx("div",{className:"text-xs",children:"Contar notas e moedas"})]})})]})]}),te==="total"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor Inicial em Caixa: *"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"R$"}),jsxRuntimeExports.jsx(Input,{type:"number",value:B,onChange:He=>U(He.target.value),placeholder:"0,00",className:"w-full pl-10",step:"0.01",min:"0",disabled:J,autoFocus:!0})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Valor em dinheiro disponvel no incio do expediente"})]}),te==="breakdown"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-money-dollar-box-line mr-2 text-green-600"}),"Notas"]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-4 gap-2",children:NOTES$1.map(He=>jsxRuntimeExports.jsx("div",{className:"bg-gray-50 rounded-lg p-2 border",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:["R$ ",He]}),jsxRuntimeExports.jsx("input",{type:"number",min:"0",value:fe.notes[He.toString()]||"",onChange:Qe=>Le(He.toString(),Qe.target.value),className:"w-full text-center text-sm border border-gray-200 rounded px-1 py-1 focus:ring-1 focus:ring-green-500 focus:border-transparent",placeholder:"0",disabled:J}),(fe.notes[He.toString()]||0)>0&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-green-600 mt-1 font-medium",children:["R$ ",(He*(fe.notes[He.toString()]||0)).toFixed(2)]})]})},He))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-coins-line mr-2 text-amber-600"}),"Moedas"]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-6 gap-2",children:COINS$1.map(He=>jsxRuntimeExports.jsx("div",{className:"bg-gray-50 rounded-lg p-2 border",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-600 mb-1",children:He>=1?`R$ ${He.toFixed(0)}`:`${(He*100).toFixed(0)}`}),jsxRuntimeExports.jsx("input",{type:"number",min:"0",value:fe.coins[He.toString()]||"",onChange:Qe=>qe(He.toString(),Qe.target.value),className:"w-full text-center text-sm border border-gray-200 rounded px-1 py-1 focus:ring-1 focus:ring-amber-500 focus:border-transparent",placeholder:"0",disabled:J}),(fe.coins[He.toString()]||0)>0&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-amber-600 mt-1 font-medium",children:["R$ ",(He*(fe.coins[He.toString()]||0)).toFixed(2)]})]})},He))})]}),jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Total calculado:"}),jsxRuntimeExports.jsxs("span",{className:"text-lg font-bold text-blue-900",children:["R$ ",Xe.toFixed(2)]})]}),Xe>0&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[Object.values(fe.notes).reduce((He,Qe)=>He+(Qe||0),0)+Object.values(fe.coins).reduce((He,Qe)=>He+(Qe||0),0)," itens contados"]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaes (opcional):"}),jsxRuntimeExports.jsx("textarea",{value:q,onChange:He=>K(He.target.value),placeholder:"Observaes sobre a abertura do caixa...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent resize-none",rows:3,maxLength:500,disabled:J}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[q.length,"/500 caracteres"]})]}),T&&(te==="total"&&B||te==="breakdown"&&Xe>0)&&jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Resumo da Abertura"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Operador:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:T})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Valor inicial:"}),jsxRuntimeExports.jsxs("span",{className:"font-medium text-green-600",children:["R$ ",(te==="total"?Number(B||0):Xe).toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Mtodo:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:te==="total"?"Valor Total":"Contagem de Notas/Moedas"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Data/Hora:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:new Date().toLocaleString("pt-BR")})]}),q&&jsxRuntimeExports.jsxs("div",{className:"pt-2 border-t",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Observaes:"}),jsxRuntimeExports.jsx("p",{className:"text-gray-800 mt-1",children:q})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3 pt-4 border-t",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:$e,className:"flex-1",disabled:J,children:"Cancelar"}),jsxRuntimeExports.jsx(Button,{onClick:Ge,className:"flex-1",disabled:!T.trim()||te==="total"&&(!B.trim()||isNaN(Number(B)))||te==="breakdown"&&Xe===0||J,children:J?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("i",{className:"ri-loader-4-line mr-2 animate-spin"}),"Processando..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("i",{className:"ri-check-line mr-2"}),"Abrir Caixa"]})})]})]})})}function CashMovement({isOpen:b,onClose:R,type:A,onConfirmMovement:T,cashSession:I,cashMovements:B}){const[U,q]=reactExports.useState(""),[K,J]=reactExports.useState(""),[ee,te]=reactExports.useState(!1),xe=reactExports.useRef(null),fe=(()=>{if(!I)return 0;const qe=(B||[]).filter($e=>$e.sessionId===I.id);let Ge=I.initialAmount||0;return qe.forEach($e=>{($e.type==="SALE"||$e.type==="IN")&&(Ge+=$e.amount),$e.type==="OUT"&&(Ge-=$e.amount)}),Ge})(),ye=async()=>{if(!U.trim()||isNaN(Number(U))||Number(U)<=0){alert("Digite um valor vlido");return}if(!K.trim()){alert("Digite uma descrio para o movimento");return}if(A==="OUT"&&K.trim().length<10){alert("A descrio da retirada deve ter pelo menos 10 caracteres.");return}if(!I){alert("Nenhuma sesso de caixa ativa");return}if(A==="OUT"&&Number(U)>fe){alert("Valor de retirada excede o saldo disponvel em caixa.");return}te(!0);const qe={id:Date.now().toString(),type:A,amount:Number(U),description:K.trim(),timestamp:new Date,sessionId:I.id};await new Promise(Ge=>setTimeout(Ge,500)),T(qe),q(""),J(""),te(!1),R()},Be=()=>{ee||(q(""),J(""),R())},Le=qe=>{qe.key==="Enter"&&(qe.preventDefault(),xe.current?.focus())};return jsxRuntimeExports.jsx(Modal,{isOpen:b,onClose:Be,title:A==="IN"?"Entrada de Dinheiro":"Retirada de Dinheiro",size:"md",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:`${A==="IN"?"bg-green-50 border-green-200":"bg-red-50 border-red-200"} border rounded-lg p-4`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[jsxRuntimeExports.jsx("i",{className:`${A==="IN"?"ri-add-circle-line text-green-600":"ri-subtract-circle-line text-red-600"}`}),jsxRuntimeExports.jsx("span",{className:`font-medium ${A==="IN"?"text-green-800":"text-red-800"}`,children:A==="IN"?"Registrar Entrada":"Registrar Retirada"})]}),jsxRuntimeExports.jsx("p",{className:`text-sm ${A==="IN"?"text-green-700":"text-red-700"}`,children:A==="IN"?"Registre entradas de dinheiro no caixa (ex: troco, suprimento)":"Registre retiradas de dinheiro do caixa (ex: sangria, despesas)"}),jsxRuntimeExports.jsx("div",{className:"mt-2 text-xs text-gray-600",children:jsxRuntimeExports.jsxs("span",{children:["Data/Hora: ",new Date().toLocaleString("pt-BR")]})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor: *"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"R$"}),jsxRuntimeExports.jsx(Input,{type:"number",value:U,onChange:qe=>q(qe.target.value),onKeyPress:Le,placeholder:"0,00",className:"w-full pl-10",step:"0.01",min:"0.01",max:A==="OUT"?String(Math.max(0,fe)):void 0,disabled:ee,autoFocus:!0}),A==="OUT"&&Number(U||0)>fe&&jsxRuntimeExports.jsxs("p",{className:"mt-2 text-xs text-red-600",children:["Valor excede o saldo disponvel em caixa (R$ ",fe.toFixed(2),")."]}),A==="OUT"&&jsxRuntimeExports.jsxs("p",{className:"mt-1 text-xs text-gray-600",children:["Saldo disponvel: R$ ",fe.toFixed(2)]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrio: *"}),jsxRuntimeExports.jsx("textarea",{ref:xe,value:K,onChange:qe=>J(qe.target.value),placeholder:A==="IN"?"Ex: Suprimento de troco, Devoluo...":"Ex: Sangria, Despesa com fornecedor...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent resize-none",rows:3,maxLength:200,minLength:A==="OUT"?10:void 0,disabled:ee}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[K.length,"/200 caracteres",A==="OUT"&&K.trim().length<10&&jsxRuntimeExports.jsx("span",{className:"ml-2 text-red-600",children:"(mnimo 10 caracteres)"})]})]}),U&&K&&jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Resumo do Movimento"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Tipo:"}),jsxRuntimeExports.jsx("span",{className:`font-medium ${A==="IN"?"text-green-600":"text-red-600"}`,children:A==="IN"?"Entrada":"Retirada"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Valor:"}),jsxRuntimeExports.jsxs("span",{className:`font-medium ${A==="IN"?"text-green-600":"text-red-600"}`,children:[A==="IN"?"+":"-"," R$ ",Number(U||0).toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Descrio:"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-right max-w-48 truncate",children:K})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Data/Hora:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:new Date().toLocaleString("pt-BR")})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3 pt-4 border-t",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:Be,className:"flex-1",disabled:ee,children:"Cancelar"}),jsxRuntimeExports.jsx(Button,{onClick:ye,className:"flex-1",disabled:!U.trim()||isNaN(Number(U))||Number(U)<=0||!K.trim()||A==="OUT"&&K.trim().length<10||A==="OUT"&&Number(U||0)>fe||ee,children:ee?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("i",{className:"ri-loader-4-line mr-2 animate-spin"}),"Processando..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("i",{className:`${A==="IN"?"ri-add-circle-line":"ri-subtract-circle-line"} mr-2`}),"Confirmar ",A==="IN"?"Entrada":"Retirada"]})})]})]})})}const calculateExpectedAmount=(b,R)=>{let A=b.initialAmount;return R.filter(I=>I.sessionId===b.id).forEach(I=>{I.type==="SALE"||I.type==="IN"?A+=I.amount:I.type==="OUT"&&(A-=I.amount)}),A},NOTES=CASH_NOTES,COINS=CASH_COINS;function CashClosing({isOpen:b,onClose:R,onConfirm:A,activeCashSession:T,cashMovements:I}){const[B,U]=reactExports.useState(""),[q,K]=reactExports.useState(""),[J,ee]=reactExports.useState(!1),[te,xe]=reactExports.useState("total"),[fe,ye]=reactExports.useState({notes:{},coins:{}}),[Be,Le]=reactExports.useState(!1),[qe,Ge]=reactExports.useState(null),$e=T,Xe=reactExports.useMemo(()=>$e?calculateExpectedAmount($e,I):0,[$e,I]),He=reactExports.useMemo(()=>$e?I.filter(lt=>lt.sessionId===$e.id).sort((lt,rt)=>new Date(lt.timestamp).getTime()-new Date(rt.timestamp).getTime()):[],[$e,I]);reactExports.useMemo(()=>He.filter(lt=>lt.type==="SALE").reduce((lt,rt)=>lt+rt.amount,0),[He]),reactExports.useMemo(()=>He.filter(lt=>lt.type==="IN").reduce((lt,rt)=>lt+rt.amount,0),[He]),reactExports.useMemo(()=>He.filter(lt=>lt.type==="OUT").reduce((lt,rt)=>lt+rt.amount,0),[He]);const Qe=()=>{let lt=0;return Object.entries(fe.notes).forEach(([rt,nt])=>{lt+=parseFloat(rt)*(nt||0)}),Object.entries(fe.coins).forEach(([rt,nt])=>{lt+=parseFloat(rt)*(nt||0)}),lt},st=(lt,rt)=>{ye(nt=>({...nt,notes:{...nt.notes,[lt]:parseInt(rt)||0}}))},ct=(lt,rt)=>{ye(nt=>({...nt,coins:{...nt.coins,[lt]:parseInt(rt)||0}}))},gt=Qe(),Nt=te==="total"?Number(B||0):gt,Ot=te==="total"&&B.trim()&&!isNaN(Number(B))||te==="breakdown"&&gt>0,Tt=Nt-Xe,ir=Ot&&Math.abs(Tt)>.01,At=()=>{if(!$e){alert("Nenhuma sesso de caixa ativa");return}let lt=0;if(te==="total"){if(!B.trim()||isNaN(Number(B))){alert("Digite um valor final vlido");return}lt=Number(B)}else if(lt=gt,lt===0){alert("Adicione pelo menos uma nota ou moeda");return}Ge(new Date),Le(!0)},It=async()=>{if(!qe)return;const lt=te==="total"?Number(B):gt,rt=lt-Xe,nt=Math.abs(rt)>.01;if(nt&&q.trim().length<10){alert("A justificativa deve ter pelo menos 10 caracteres.");return}ee(!0);const kt={id:Date.now().toString(),sessionId:$e.id,operatorName:$e.operatorName,finalAmount:lt,expectedAmount:Xe,difference:rt,closingTime:qe,justification:nt?q.trim():void 0,cashBreakdown:te==="breakdown"?fe:void 0};await new Promise(Zt=>setTimeout(Zt,1e3)),A(kt,te),U(""),K(""),ye({notes:{},coins:{}}),Le(!1),Ge(null),ee(!1)},Je=()=>{J||(U(""),K(""),ye({notes:{},coins:{}}),xe("total"),Le(!1),Ge(null),R())},ut=$e?.openingTime?new Date($e.openingTime).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",et=qe?qe.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):new Date().toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return $e?jsxRuntimeExports.jsx(Modal,{isOpen:b,onClose:Je,title:"Fechamento de Caixa",size:"lg",disableClose:Be,hideCloseButton:Be,children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[jsxRuntimeExports.jsx("i",{className:"ri-information-line text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-blue-800",children:"Fechamento de Caixa"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-blue-700",children:"Operador: "}),jsxRuntimeExports.jsx("span",{className:"font-medium text-blue-800",children:$e.operatorName})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-blue-700",children:"Abertura: "}),jsxRuntimeExports.jsx("span",{className:"font-medium text-blue-800",children:ut})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-blue-700",children:"Valor inicial: "}),jsxRuntimeExports.jsxs("span",{className:"font-medium text-blue-800",children:["R$ ",$e.initialAmount.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-blue-700",children:"Data/Hora Fechamento: "}),jsxRuntimeExports.jsx("span",{className:"font-medium text-blue-800",children:et})]})]})]}),!Be&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Forma de Contagem do Valor Final: *"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>xe("total"),className:`flex-1 p-3 rounded-lg border-2 transition-colors ${te==="total"?"border-amber-500 bg-amber-50 text-amber-800":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}`,disabled:J,children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-money-dollar-circle-line text-2xl mb-2"}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:"Valor Total"}),jsxRuntimeExports.jsx("div",{className:"text-xs",children:"Digite o valor total"})]})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>xe("breakdown"),className:`flex-1 p-3 rounded-lg border-2 transition-colors ${te==="breakdown"?"border-amber-500 bg-amber-50 text-amber-800":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}`,disabled:J,children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-calculator-line text-2xl mb-2"}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:"Contagem"}),jsxRuntimeExports.jsx("div",{className:"text-xs",children:"Contar notas e moedas"})]})})]})]}),te==="total"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor Final em Caixa: *"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"R$"}),jsxRuntimeExports.jsx(Input,{type:"number",value:B,onChange:lt=>U(lt.target.value),placeholder:"0,00",className:"w-full pl-10",step:"0.01",min:"0",disabled:J,autoFocus:!0})]})]}),te==="breakdown"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-money-dollar-box-line mr-2 text-green-600"}),"Notas"]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-4 gap-2",children:NOTES.map(lt=>jsxRuntimeExports.jsx("div",{className:"bg-gray-50 rounded-lg p-2 border",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:["R$ ",lt]}),jsxRuntimeExports.jsx("input",{type:"number",min:"0",value:fe.notes[lt.toString()]||"",onChange:rt=>st(lt.toString(),rt.target.value),className:"w-full text-center text-sm border border-gray-200 rounded px-1 py-1 focus:ring-1 focus:ring-green-500 focus:border-transparent",placeholder:"0",disabled:J}),(fe.notes[lt.toString()]||0)>0&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-green-600 mt-1 font-medium",children:["R$ ",(lt*(fe.notes[lt.toString()]||0)).toFixed(2)]})]})},lt))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-coins-line mr-2 text-amber-600"}),"Moedas"]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-6 gap-2",children:COINS.map(lt=>jsxRuntimeExports.jsx("div",{className:"bg-gray-50 rounded-lg p-2 border",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-600 mb-1",children:lt>=1?`R$ ${lt.toFixed(0)}`:`${(lt*100).toFixed(0)}`}),jsxRuntimeExports.jsx("input",{type:"number",min:"0",value:fe.coins[lt.toString()]||"",onChange:rt=>ct(lt.toString(),rt.target.value),className:"w-full text-center text-sm border border-gray-200 rounded px-1 py-1 focus:ring-1 focus:ring-amber-500 focus:border-transparent",placeholder:"0",disabled:J}),(fe.coins[lt.toString()]||0)>0&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-amber-600 mt-1 font-medium",children:["R$ ",(lt*(fe.coins[lt.toString()]||0)).toFixed(2)]})]})},lt))})]}),jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Total contado:"}),jsxRuntimeExports.jsxs("span",{className:"text-lg font-bold text-blue-900",children:["R$ ",gt.toFixed(2)]})]}),gt>0&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[Object.values(fe.notes).reduce((lt,rt)=>lt+(rt||0),0)+Object.values(fe.coins).reduce((lt,rt)=>lt+(rt||0),0)," itens contados"]})]})]})]}),Be&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:`rounded-lg p-4 border-2 ${ir?Tt>0?"bg-yellow-50 border-yellow-300":"bg-red-50 border-red-300":"bg-green-50 border-green-300"}`,children:[jsxRuntimeExports.jsxs("h4",{className:`font-medium mb-3 flex items-center ${ir?Tt>0?"text-yellow-800":"text-red-800":"text-green-800"}`,children:[jsxRuntimeExports.jsx("i",{className:`mr-2 ${ir?Tt>0?"ri-error-warning-line":"ri-close-circle-line":"ri-check-circle-line"}`}),ir?"Diferena Encontrada":"Caixa Conferido"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Valor esperado:"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["R$ ",Xe.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Valor contado:"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["R$ ",Nt.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-2 flex justify-between font-medium",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Diferena:"}),jsxRuntimeExports.jsxs("span",{className:`font-bold ${ir?Tt>0?"text-yellow-700":"text-red-700":"text-green-700"}`,children:[Tt>0?"+":""," R$ ",Tt.toFixed(2)]})]})]}),ir&&jsxRuntimeExports.jsx("div",{className:"mt-3 text-xs text-gray-600",children:Tt>0?"Sobra de dinheiro no caixa":"Falta de dinheiro no caixa"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Movimentos Detalhados da Sesso"}),jsxRuntimeExports.jsx("div",{className:"max-h-48 overflow-y-auto divide-y divide-gray-100",children:He.length===0?jsxRuntimeExports.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"Nenhum movimento registrado."}):He.map(lt=>{const rt=lt.type==="SALE",nt=lt.type==="IN",kt=lt.type==="OUT",Zt=rt?"ri-shopping-cart-line":nt?"ri-add-circle-line":"ri-subtract-circle-line",Ar=rt||nt?"text-green-600":"text-red-600",ft=rt||nt?"text-green-700":"text-red-700",mt=rt||nt?"+":"-",Ct=rt||nt?"bg-green-50":"bg-red-50";let xr="";rt?xr="Venda (Dinheiro)":nt?xr="Entrada":kt&&(xr="Retirada");const er=rt?lt.description.replace("Venda - ",""):lt.description;return jsxRuntimeExports.jsxs("div",{className:`p-2 flex items-center justify-between rounded-md ${Ct}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("i",{className:`text-sm ${Zt} ${Ar}`}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-900 truncate max-w-xs",children:[xr,": ",er]})]}),jsxRuntimeExports.jsxs("div",{className:`text-sm font-medium ${ft} flex-shrink-0`,children:[mt," R$ ",lt.amount.toFixed(2)]})]},lt.id)})})]}),ir&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Justificativa para a diferena: *"}),jsxRuntimeExports.jsx("textarea",{value:q,onChange:lt=>K(lt.target.value),placeholder:"Explique o motivo da diferena encontrada no caixa...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent resize-none",rows:3,maxLength:500,minLength:10,disabled:J}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[q.length,"/500 caracteres",q.trim().length<10&&jsxRuntimeExports.jsx("span",{className:"ml-2 text-red-600",children:"(mnimo 10 caracteres)"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3 pt-4 border-t",children:[!Be&&jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:Je,className:"flex-1",disabled:J,children:"Cancelar"}),Be?jsxRuntimeExports.jsx(Button,{onClick:It,className:"flex-1",disabled:ir&&q.trim().length<10||J,children:J?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("i",{className:"ri-loader-4-line mr-2 animate-spin"}),"Processando..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("i",{className:"ri-check-line mr-2"}),"Confirmar Fechamento"]})}):jsxRuntimeExports.jsxs(Button,{onClick:At,className:"flex-1",disabled:!Ot||J,children:[jsxRuntimeExports.jsx("i",{className:"ri-arrow-right-line mr-2"}),"Conferir e Fechar"]})]})]})}):null}function useTimer(b,R,A=!0){const[T,I]=reactExports.useState(0);reactExports.useEffect(()=>{if(!b)return;const K=()=>{const ee=new Date,te=new Date(b),xe=Math.floor((ee.getTime()-te.getTime())/1e3);I(xe)};if(K(),!A)return;const J=setInterval(K,1e3);return()=>clearInterval(J)},[b,A]);const B=K=>{const J=Math.floor(K/3600),ee=Math.floor(K%3600/60),te=K%60;return J>0?`${J.toString().padStart(2,"0")}:${ee.toString().padStart(2,"0")}:${te.toString().padStart(2,"0")}`:`${ee.toString().padStart(2,"0")}:${te.toString().padStart(2,"0")}`},U=T,q=R?T>R*60:!1;return{elapsed:T,formatTime:B,timeElapsed:U,isOverdue:q}}function formatDurationSeconds(b,R){const A=Number.isFinite(b)?Math.max(0,Math.floor(b)):0,T=Number.isFinite(R?.minSeconds)?Math.max(0,Math.floor(R.minSeconds)):0,I=A===0&&T>0?T:A,B=Math.floor(I/60),U=Math.floor(I%60);if(B===0&&U===0)return T>0?`${T}s`:"0s";const q=[];return B>0&&q.push(`${B.toString().padStart(2,"0")}m`),U>0&&q.push(`${U.toString().padStart(2,"0")}s`),q.join(" ")}function normalizeSlaMinutes(b,R=15){const A=typeof b=="number"?b:typeof b=="string"?Number(b):Number.NaN,T=Number.isFinite(A)?Math.floor(A):0,I=Number.isFinite(R)?Math.max(1,Math.floor(R)):15;return T>=1?T:I}const extractRequiredOptions$4=b=>b?b.split(", ").filter(R=>R.startsWith("[OBRIGATRIO]")).map(R=>R.replace("[OBRIGATRIO]","").trim()):[],extractOptionalObservations$4=b=>b?b.split(", ").filter(R=>!R.startsWith("[OBRIGATRIO]")).map(R=>R.trim()).filter(R=>R.length>0):[],formatOrderPin$5=b=>{const R=String(b??"").trim();return R?`#${R.replace(/^#+/,"")}`:"#-"};function ActiveOrderDetailModal({isOpen:b,onClose:R,order:A,onMarkAsDelivered:T}){if(!A)return null;const{wasLate:I,tempoCozinha:B}=reactExports.useMemo(()=>{const U=new Date(A.createdAt).getTime();A.status!=="NEW"&&A.updatedAt&&new Date(A.updatedAt).getTime();const K=(A.readyAt?new Date(A.readyAt).getTime():A.status==="READY"?new Date(A.updatedAt||Date.now()).getTime():Date.now())-U,J=Math.floor(K/1e3),ee=J/60>A.slaMinutes;return{tempoCozinha:Math.max(0,J),wasLate:ee}},[A]);return jsxRuntimeExports.jsx(Modal,{isOpen:b,onClose:R,title:`Detalhes do Pedido ${formatOrderPin$5(A.pin)} (Senha: ${A.password})`,size:"lg",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Itens do Pedido"}),jsxRuntimeExports.jsx("div",{className:"max-h-64 overflow-y-auto space-y-3",children:A.items.map(U=>{const q=extractRequiredOptions$4(U.observations),K=extractOptionalObservations$4(U.observations);return jsxRuntimeExports.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-white",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm font-bold text-gray-900 mb-2 flex items-center",children:[U.quantity,"x ",U.menuItem.name,U.menuItem.code&&jsxRuntimeExports.jsxs("span",{className:"ml-2 text-blue-600 text-xs font-semibold",children:["#",U.menuItem.code]}),U.skipKitchen&&jsxRuntimeExports.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-purple-100 text-purple-800 border border-purple-200 align-middle",children:[jsxRuntimeExports.jsx("i",{className:"ri-truck-line mr-1"}),"Entrega Direta"]})]}),q.length>0&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-red-800 bg-red-50 border border-red-200 rounded p-1.5 flex items-start mb-2",children:[jsxRuntimeExports.jsx("i",{className:"ri-checkbox-circle-line mr-1 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("span",{className:"flex-1 font-medium",children:["Opes: ",q.join(" | ")]})]}),K.length>0&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-yellow-800 bg-yellow-50 border border-yellow-200 rounded p-1.5 flex items-start mb-2",children:[jsxRuntimeExports.jsx("i",{className:"ri-alert-line mr-1 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("span",{className:"flex-1",children:["Obs: ",K.join(" | ")]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-1 mt-2 pt-2 border-t border-gray-100",children:(()=>{const J=Math.max(1,U.quantity*Math.max(1,U.menuItem.unitDeliveryCount||1));return(U.skipKitchen?Array.from({length:J}).map((te,xe)=>({unitId:`direct-${xe}`})):U.productionUnits||[]).map((te,xe)=>{const fe=!U.skipKitchen&&te.unitStatus==="READY";let ye=U.skipKitchen?"Disponvel para entrega":"Em preparo",Be=U.skipKitchen?"bg-green-500":"bg-yellow-500";U.skipKitchen||(fe?(ye="Pronto",Be="bg-green-500"):A.status==="NEW"?(ye="Aguardando Preparo",Be="bg-gray-400"):(A.status==="DELIVERED"||A.status==="CANCELLED")&&(ye="Concludo",Be="bg-green-500"));const Le=te.completedAt?new Date(te.completedAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"-";return jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("span",{className:`w-2 h-2 rounded-full ${Be}`}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["Unidade ",U.quantity===1?"":xe+1]}),!U.skipKitchen&&te.operatorName&&jsxRuntimeExports.jsx("span",{className:"text-blue-600 bg-blue-50 px-1 rounded",children:te.operatorName})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-col items-end",children:jsxRuntimeExports.jsx("span",{className:`font-medium ${fe||U.skipKitchen?"text-green-700":"text-gray-500"}`,children:fe?`Pronto s ${Le}`:ye})})]},te.unitId)})})()})]},U.id)})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end pt-4 border-t",children:[A.status==="READY"&&jsxRuntimeExports.jsxs(Button,{variant:"success",onClick:()=>{T(A.id),R()},className:"mr-3",children:[jsxRuntimeExports.jsx("i",{className:"ri-check-double-line mr-2"}),"Entregue"]}),jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:R,children:"Fechar"})]})]})})}const statusInfo={NEW:{text:"Novo",color:"bg-gray-100 text-gray-800",icon:"ri-file-list-line",order:1},PREPARING:{text:"Preparando",color:"bg-yellow-100 text-yellow-800",icon:"ri-loader-4-line animate-spin",order:2},READY:{text:"Pronto para Retirada",color:"bg-green-100 text-green-800",icon:"ri-check-line",order:3}},formatOrderPin$4=b=>{const R=String(b??"").trim();return R?`#${R.replace(/^#+/,"")}`:"#-"};function OrderTimeStatus$1({order:b}){const R=b.status!=="DELIVERED"&&b.status!=="CANCELLED";let A,T,I;b.status==="READY"?(A=b.readyAt?new Date(b.readyAt):b.updatedAt?new Date(b.updatedAt):new Date(b.createdAt),T=99999,I="Aguardando:"):(A=new Date(b.createdAt),T=b.slaMinutes,I=b.status==="NEW"?"Em Espera:":"Tempo Cozinha:");const{timeElapsed:B,isOverdue:U,formatTime:q}=useTimer(A,T,R),{isOverdueTotal:K,totalKitchenTimeSeconds:J}=reactExports.useMemo(()=>{if(b.status==="READY"){const ee=b.readyAt?new Date(b.readyAt).getTime():new Date(b.updatedAt||b.createdAt).getTime(),te=Math.floor((ee-new Date(b.createdAt).getTime())/1e3);return{isOverdueTotal:te/60>b.slaMinutes,totalKitchenTimeSeconds:te}}return{isOverdueTotal:U,totalKitchenTimeSeconds:B}},[b,U,B]);return b.status==="READY"?jsxRuntimeExports.jsxs("div",{className:"text-xs font-medium flex flex-col space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Cozinha:"}),jsxRuntimeExports.jsx("span",{className:`font-bold ${K?"text-red-600":"text-green-600"}`,children:q(J)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:I}),jsxRuntimeExports.jsx("span",{className:"font-bold text-blue-600",children:q(B)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"SLA:"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-gray-500",children:[b.slaMinutes,"m"]}),K&&jsxRuntimeExports.jsx("span",{className:"px-1 py-0.5 rounded-full bg-red-100 text-red-700 border border-red-200",children:"ATRASADO"})]})]})]}):jsxRuntimeExports.jsxs("div",{className:"text-xs font-medium flex flex-col space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:I}),jsxRuntimeExports.jsx("span",{className:`font-bold ${U?"text-red-600":"text-gray-600"}`,children:q(B)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"SLA:"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-gray-500",children:[b.slaMinutes,"m"]}),U&&jsxRuntimeExports.jsx("span",{className:"px-1 py-0.5 rounded-full bg-red-100 text-red-600",children:"ATRASADO"})]})]})]})}function OrderTrackerModal({isOpen:b,onClose:R,activeOrders:A,onMarkAsDelivered:T}){const[I,B]=reactExports.useState("status"),[U,q]=reactExports.useState("asc"),[K,J]=reactExports.useState(!1),[ee,te]=reactExports.useState(null),xe=A,fe=reactExports.useMemo(()=>{const Ge=[...xe];return Ge.sort(($e,Xe)=>{let He,Qe;if(I==="status")He=statusInfo[$e.status]?.order||99,Qe=statusInfo[Xe.status]?.order||99;else if(I==="time")He=new Date($e.createdAt).getTime(),Qe=new Date(Xe.createdAt).getTime();else{const st=$e.pin.replace(/[^0-9]/g,""),ct=Xe.pin.replace(/[^0-9]/g,"");He=parseInt(st)||0,Qe=parseInt(ct)||0}return He<Qe?U==="asc"?-1:1:He>Qe?U==="asc"?1:-1:new Date($e.createdAt).getTime()-new Date(Xe.createdAt).getTime()}),Ge},[xe,I,U]),ye=Ge=>{I===Ge?q($e=>$e==="asc"?"desc":"asc"):(B(Ge),q("asc"))},Be=Ge=>I!==Ge?"ri-arrow-up-down-line":U==="asc"?"ri-arrow-up-s-line":"ri-arrow-down-s-line",Le=Ge=>{te(Ge),J(!0)},qe=Ge=>{if(Ge.status!=="READY")return!1;const $e=Ge.readyAt?new Date(Ge.readyAt).getTime():new Date(Ge.updatedAt||Ge.createdAt).getTime();return Math.floor(($e-new Date(Ge.createdAt).getTime())/1e3)/60>Ge.slaMinutes};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Modal,{isOpen:b,onClose:R,title:"Acompanhamento de Pedidos Ativos",size:"3xl",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:["Total de pedidos em andamento: ",jsxRuntimeExports.jsx("span",{className:"font-bold",children:xe.length})]}),jsxRuntimeExports.jsxs("div",{className:"max-h-96 overflow-y-auto border border-gray-200 rounded-lg bg-white",children:[jsxRuntimeExports.jsxs("div",{className:"sticky top-0 bg-gray-50 grid grid-cols-12 gap-4 px-4 py-3 border-b border-gray-200 text-xs font-medium text-gray-500 uppercase tracking-wider",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>ye("pin"),className:"col-span-3 text-left hover:text-gray-800 flex items-center space-x-1",children:[jsxRuntimeExports.jsx("span",{children:"Pedido"}),jsxRuntimeExports.jsx("i",{className:Be("pin")})]}),jsxRuntimeExports.jsx("div",{className:"col-span-2 text-left flex items-center normal-case",children:"entrega direta"}),jsxRuntimeExports.jsxs("button",{onClick:()=>ye("status"),className:"col-span-3 text-left hover:text-gray-800 flex items-center space-x-1",children:[jsxRuntimeExports.jsx("span",{children:"Status"}),jsxRuntimeExports.jsx("i",{className:Be("status")})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>ye("time"),className:"col-span-2 text-left hover:text-gray-800 flex items-center space-x-1",children:[jsxRuntimeExports.jsx("span",{children:"Tempo / SLA"}),jsxRuntimeExports.jsx("i",{className:Be("time")})]}),jsxRuntimeExports.jsx("div",{className:"col-span-2 text-right",children:"Aes"})]}),fe.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8 text-gray-500",children:[jsxRuntimeExports.jsx("i",{className:"ri-inbox-line text-4xl mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"Nenhum pedido ativo no momento."})]}):fe.map(Ge=>{const $e=statusInfo[Ge.status],Xe=Ge.status==="READY",Qe=Ge.items.filter(Nt=>Nt.skipKitchen||Nt.menuItem?.skipKitchen).length>0,{deliveredUnitsSum:st,totalUnitsSum:ct}=(()=>{let Nt=0,Ot=0;return Ge.items.forEach(Tt=>{const ir=Math.max(1,Tt.menuItem?.unitDeliveryCount||1),At=Math.max(1,Tt.quantity*ir),It=Math.min(At,Math.max(0,Tt.directDeliveredUnitCount||0));Nt+=It,Ot+=At}),{deliveredUnitsSum:Nt,totalUnitsSum:Ot}})(),gt=st>0&&st<ct;return jsxRuntimeExports.jsxs("div",{className:`grid grid-cols-12 gap-4 p-4 items-center transition-colors cursor-pointer ${qe(Ge)?"bg-red-50":"hover:bg-gray-50"}`,onClick:()=>Le(Ge),children:[jsxRuntimeExports.jsxs("div",{className:"col-span-3 flex flex-col min-w-0",children:[jsxRuntimeExports.jsx("span",{className:"text-lg font-bold text-gray-900 flex-shrink-0",children:formatOrderPin$4(Ge.pin)}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-gray-900 block truncate",children:["Senha: ",jsxRuntimeExports.jsx("span",{className:"font-bold text-blue-600",children:Ge.password})]})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2 flex items-center space-x-2",children:[Qe?jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-purple-100 text-purple-800 border border-purple-200",children:[jsxRuntimeExports.jsx("i",{className:"ri-truck-line mr-1"}),"entrega direta"]}):jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:"-"}),gt&&jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-orange-100 text-orange-800 border border-orange-200",children:[jsxRuntimeExports.jsx("i",{className:"ri-time-line mr-1"}),"entregue parcial ",st,"/",ct]})]}),jsxRuntimeExports.jsx("div",{className:"col-span-3 flex items-center",children:jsxRuntimeExports.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full ${$e.color}`,children:[jsxRuntimeExports.jsx("i",{className:`${$e.icon} mr-1`}),$e.text]})}),jsxRuntimeExports.jsx("div",{className:"col-span-2",children:jsxRuntimeExports.jsx(OrderTimeStatus$1,{order:Ge})}),jsxRuntimeExports.jsxs("div",{className:"col-span-2 flex justify-end",children:[Qe&&!Xe&&jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"secondary",onClick:Nt=>{Nt.stopPropagation(),T(Ge.id,"directOnly")},title:"Entregar itens diretos",className:"mr-2 bg-purple-50 text-purple-700 hover:bg-purple-100",children:[jsxRuntimeExports.jsx("i",{className:"ri-truck-line mr-1"}),"Entregar Diretos"]}),Xe&&jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"success",onClick:Nt=>{Nt.stopPropagation(),T(Ge.id)},children:[jsxRuntimeExports.jsx("i",{className:"ri-check-double-line mr-1"}),"Entregue"]}),jsxRuntimeExports.jsx("button",{onClick:Nt=>{Nt.stopPropagation(),Le(Ge)},className:"text-gray-500 hover:text-gray-700 ml-2",title:"Ver detalhes",children:jsxRuntimeExports.jsx("i",{className:"ri-eye-line"})})]})]},Ge.id)})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end pt-4 border-t",children:jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:R,children:"Fechar"})})]})}),jsxRuntimeExports.jsx(ActiveOrderDetailModal,{isOpen:K,onClose:()=>J(!1),order:ee,onMarkAsDelivered:T})]})}/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=b=>b.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=b=>b.replace(/^([A-Z])|[\s-_]+(\w)/g,(R,A,T)=>T?T.toUpperCase():A.toLowerCase()),toPascalCase=b=>{const R=toCamelCase(b);return R.charAt(0).toUpperCase()+R.slice(1)},mergeClasses=(...b)=>b.filter((R,A,T)=>!!R&&R.trim()!==""&&T.indexOf(R)===A).join(" ").trim(),hasA11yProp=b=>{for(const R in b)if(R.startsWith("aria-")||R==="role"||R==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon$1=reactExports.forwardRef(({color:b="currentColor",size:R=24,strokeWidth:A=2,absoluteStrokeWidth:T,className:I="",children:B,iconNode:U,...q},K)=>reactExports.createElement("svg",{ref:K,...defaultAttributes,width:R,height:R,stroke:b,strokeWidth:T?Number(A)*24/Number(R):A,className:mergeClasses("lucide",I),...!B&&!hasA11yProp(q)&&{"aria-hidden":"true"},...q},[...U.map(([J,ee])=>reactExports.createElement(J,ee)),...Array.isArray(B)?B:[B]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(b,R)=>{const A=reactExports.forwardRef(({className:T,...I},B)=>reactExports.createElement(Icon$1,{ref:B,iconNode:R,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(b))}`,`lucide-${b}`,T),...I}));return A.displayName=toPascalCase(b),A};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$x=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ArrowLeft=createLucideIcon("arrow-left",__iconNode$x);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$w=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Calendar=createLucideIcon("calendar",__iconNode$w);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$v=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],CheckCheck=createLucideIcon("check-check",__iconNode$v);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$u=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Check=createLucideIcon("check",__iconNode$u);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$t=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ChevronLeft=createLucideIcon("chevron-left",__iconNode$t);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$s=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ChevronRight=createLucideIcon("chevron-right",__iconNode$s);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$r=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],CircleX=createLucideIcon("circle-x",__iconNode$r);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$q=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Clock=createLucideIcon("clock",__iconNode$q);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$p=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],CreditCard=createLucideIcon("credit-card",__iconNode$p);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$o=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],DollarSign=createLucideIcon("dollar-sign",__iconNode$o);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$n=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],FileText=createLucideIcon("file-text",__iconNode$n);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$m=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],LayoutGrid=createLucideIcon("layout-grid",__iconNode$m);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$l=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],ListChecks=createLucideIcon("list-checks",__iconNode$l);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$k=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LoaderCircle=createLucideIcon("loader-circle",__iconNode$k);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$j=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],LockOpen=createLucideIcon("lock-open",__iconNode$j);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$i=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Lock=createLucideIcon("lock",__iconNode$i);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$h=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],LogIn=createLucideIcon("log-in",__iconNode$h);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$g=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],LogOut=createLucideIcon("log-out",__iconNode$g);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$f=[["path",{d:"M5 12h14",key:"1ays0h"}]],Minus=createLucideIcon("minus",__iconNode$f);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$e=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Plus=createLucideIcon("plus",__iconNode$e);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$d=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Printer=createLucideIcon("printer",__iconNode$d);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$c=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],RefreshCcw=createLucideIcon("refresh-ccw",__iconNode$c);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$b=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Save=createLucideIcon("save",__iconNode$b);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$a=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Search=createLucideIcon("search",__iconNode$a);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Settings=createLucideIcon("settings",__iconNode$9);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$8=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ShoppingCart=createLucideIcon("shopping-cart",__iconNode$8);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$7=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],SquarePen=createLucideIcon("square-pen",__iconNode$7);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Square=createLucideIcon("square",__iconNode$6);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Trash2=createLucideIcon("trash-2",__iconNode$5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],TriangleAlert=createLucideIcon("triangle-alert",__iconNode$4);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],UserPlus=createLucideIcon("user-plus",__iconNode$3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Utensils=createLucideIcon("utensils",__iconNode$2);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],WifiOff=createLucideIcon("wifi-off",__iconNode$1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X=createLucideIcon("x",__iconNode),MAP={Search,Check,X,Settings,Refresh:RefreshCcw,Clock,LayoutGrid,ListChecks,WifiOff,ArrowLeft,Printer,ShoppingCart,Trash:Trash2,Plus,Minus,Save,Edit:SquarePen,CreditCard,Cash:DollarSign,FileText,Calendar,ChevronLeft,ChevronRight,Spinner:LoaderCircle,XCircle:CircleX,UserPlus,CheckDouble:CheckCheck,Square,LogOut,LogIn,Lock,Unlock:LockOpen,Alert:TriangleAlert,Utensils};function Icon({name:b,size:R=18,className:A,strokeWidth:T=1.75}){const I=MAP[b]??Square;return b==="Spinner"?jsxRuntimeExports.jsx(I,{size:R,strokeWidth:T,className:`animate-spin ${A??""}`}):jsxRuntimeExports.jsx(I,{size:R,strokeWidth:T,className:A})}function MovementConfirmationModal({isOpen:b,onClose:R,movementData:A}){if(!A)return null;const{type:T,amount:I,description:B,timestamp:U}=A,q=T==="IN",K=q?"Entrada de Dinheiro Registrada":"Retirada de Dinheiro Registrada",J=q?"ri-add-circle-line text-green-600":"ri-subtract-circle-line text-red-600",ee=q?"bg-green-50 border-green-300":"bg-red-50 border-red-300",te=q?"text-green-700":"text-red-700";return reactExports.useEffect(()=>{if(b){const xe=fe=>{(fe.key==="Enter"||fe.key==="Escape")&&R()};return window.addEventListener("keydown",xe),()=>window.removeEventListener("keydown",xe)}},[b,R]),jsxRuntimeExports.jsx(Modal,{isOpen:b,onClose:R,title:K,size:"sm",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx("i",{className:`${J} text-6xl mb-3`}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Movimento Confirmado!"})]}),jsxRuntimeExports.jsxs("div",{className:`rounded-xl p-4 shadow-inner border ${ee} text-left`,children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tipo:"}),jsxRuntimeExports.jsx("span",{className:`font-bold ${te}`,children:q?"ENTRADA":"SADA"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Valor:"}),jsxRuntimeExports.jsxs("span",{className:`text-2xl font-extrabold ${te}`,children:[q?"+":"-"," R$ ",I.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t border-gray-200 pt-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 block mb-1",children:"Descrio:"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-800",children:B})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:["Registrado em: ",new Date(U).toLocaleString("pt-BR")]}),jsxRuntimeExports.jsx("div",{className:"pt-4 border-t",children:jsxRuntimeExports.jsxs(Button,{onClick:R,className:"w-full",autoFocus:!0,children:[jsxRuntimeExports.jsx("i",{className:"ri-check-line mr-2"}),"OK (ENTER)"]})})]})})}function CodeListModal({isOpen:b,onClose:R,menuItems:A,categories:T,onSelectCode:I}){const[B,U]=reactExports.useState(""),q=reactExports.useMemo(()=>T.reduce((te,xe)=>(te[xe.id]=xe.name,te),{}),[T]),K=reactExports.useMemo(()=>{const te=A.filter(fe=>fe.active&&fe.code);if(!B)return te;const xe=B.toLowerCase();return te.filter(fe=>{const ye=q[fe.categoryId]||"";return fe.name.toLowerCase().includes(xe)||fe.code.toLowerCase().includes(xe)||ye.toLowerCase().includes(xe)})},[A,B,q]),J=reactExports.useMemo(()=>K.sort((te,xe)=>{const fe=q[te.categoryId]||"Sem Categoria",ye=q[xe.categoryId]||"Sem Categoria";return fe!==ye?fe.localeCompare(ye):te.name.localeCompare(xe.name)}),[K,q]),ee=te=>{I(te),U("")};return jsxRuntimeExports.jsx(Modal,{isOpen:b,onClose:R,title:"Lista de Cdigos de Itens",size:"lg",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Input,{type:"text",value:B,onChange:te=>U(te.target.value),placeholder:"Buscar por nome, cdigo ou categoria...",className:"w-full",autoFocus:!0}),jsxRuntimeExports.jsx("div",{className:"max-h-96 overflow-y-auto border border-gray-200 rounded-lg bg-white divide-y divide-gray-100",children:J.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8 text-gray-500",children:[jsxRuntimeExports.jsx("i",{className:"ri-search-line text-3xl mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"Nenhum item encontrado com cdigo"})]}):J.map(te=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between py-3 px-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>ee(te.code),children:[jsxRuntimeExports.jsx("div",{className:"flex-1 min-w-0 pr-4",children:jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium text-gray-900 truncate",children:[jsxRuntimeExports.jsxs("span",{className:"text-gray-500 mr-2",children:["[",q[te.categoryId]||"Sem Categoria","]"]}),te.name]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-bold text-amber-600 bg-amber-100 px-2 py-1 rounded",children:te.code}),jsxRuntimeExports.jsx(Button,{onClick:xe=>{xe.stopPropagation(),ee(te.code)},size:"sm",className:"h-7 px-2",children:jsxRuntimeExports.jsx("i",{className:"ri-add-line"})})]})]},te.id))}),jsxRuntimeExports.jsx("div",{className:"flex justify-end pt-4 border-t",children:jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:R,children:"Fechar"})})]})})}const query$2=async(b,R)=>{const A=window?.api?.db?.query;if(typeof A!="function")throw new Error("Canal de DB indisponvel");try{const T=await A(b,R);if(T?.error)throw new Error(String(T.error));return T}catch{await new Promise(B=>setTimeout(B,200));const I=await A(b,R);if(I?.error)throw new Error(String(I.error));return I}};async function listProducts(){try{const b=await getCurrentUnitId(),A=b&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(b)?b:null;if(typeof window?.api?.db?.query=="function"){let K=await query$2(A?"SELECT * FROM products WHERE unit_id = ? OR unit_id IS NULL":"SELECT * FROM products",A?[A]:[]);const J=K?.rows??[];return A&&J.length===0&&(K=await query$2("SELECT * FROM products")),K?.rows??[]}const{supabase:I}=await __vitePreload(async()=>{const{supabase:q}=await Promise.resolve().then(()=>supabase$1);return{supabase:q}},void 0);if(I){let q=I.from("products").select("id, sku, name, category_id, unit_id, price_cents, is_active");A&&(q=q.or(`unit_id.eq.${A},unit_id.is.null`));const{data:K,error:J}=await q;if(J)throw J;const ee=(K||[]).map(fe=>({id:fe.id,sku:fe.sku??null,name:fe.name,categoryId:fe.category_id??null,unitId:fe.unit_id??null,priceCents:Math.max(0,Number(fe.price_cents??0)),isActive:fe.is_active??!0?1:0})),te=new Map;for(const fe of ee){const ye=String(fe.name||"").trim().toLowerCase(),Be=fe.sku&&String(fe.sku).trim().length>0?`sku:${String(fe.sku).trim().toLowerCase()}`:`name:${ye}|cat:${fe.categoryId}`;te.has(Be)||te.set(Be,fe)}const xe=Array.from(te.values());if(xe.length===0){const fe=localStorage.getItem("menuItems");if(fe&&JSON.parse(fe).length>0)throw new Error("Fallback to local")}return xe}const B=localStorage.getItem("menuItems"),U=B?JSON.parse(B):[];return Array.isArray(U)?U.map(q=>({id:q.id,sku:q.code,name:q.name,categoryId:q.categoryId,priceCents:Math.round((q.price||0)*100),isActive:q.active?1:0})):[]}catch{return[]}}async function getProductById(b){return((await query$2("SELECT * FROM products WHERE id = ?",[b]))?.rows??[])[0]??null}async function searchProducts(b){try{const R=(b||"").toLowerCase(),A=await getCurrentUnitId();return((await query$2(A?"SELECT * FROM products WHERE unit_id = ? OR unit_id IS NULL":"SELECT * FROM products",A?[A]:[]))?.rows??[]).filter(U=>String(U.name??"").toLowerCase().includes(R)||String(U.sku??"").toLowerCase().includes(R))}catch{try{const R=(b||"").toLowerCase(),A=localStorage.getItem("menuItems"),T=A?JSON.parse(A):[];return Array.isArray(T)?T.filter(I=>String(I.name||"").toLowerCase().includes(R)||String(I.code||"").toLowerCase().includes(R)):[]}catch{return[]}}}async function listCategories(){try{const b=await getCurrentUnitId();if(typeof window?.api?.db?.query=="function"){let K=await query$2(b?"SELECT * FROM categories WHERE unit_id = ? OR unit_id IS NULL":"SELECT * FROM categories",b?[b]:[]);const J=K?.rows??[];b&&J.length===0&&(K=await query$2("SELECT * FROM categories"));const ee=K?.rows??[],te=new Map;for(const xe of ee){const fe=String(xe.name||"").trim().toLowerCase();if(!fe)continue;const ye=te.get(fe);if(!ye)te.set(fe,xe);else{const Be=!!xe.unit_id&&!ye.unit_id;te.set(fe,Be?xe:ye)}}return Array.from(te.values())}const{supabase:A}=await __vitePreload(async()=>{const{supabase:q}=await Promise.resolve().then(()=>supabase$1);return{supabase:q}},void 0);if(A){const{data:q,error:K}=await A.from("categories").select("id, name, unit_id, updated_at");if(K)throw K;const J=q||[],ee=new Map;for(const te of J){const xe=String(te.name||"").trim().toLowerCase();if(!xe)continue;const fe=ee.get(xe);if(!fe)ee.set(xe,te);else{const ye=!!te.unit_id&&!fe.unit_id;ee.set(xe,ye?te:fe)}}return Array.from(ee.values()).map(te=>({id:te.id,name:te.name}))}const T=localStorage.getItem("categories"),I=T?JSON.parse(T):[];if(!Array.isArray(I))return[];const B=new Set,U=[];for(const q of I){const K=String(q?.name||"").trim().toLowerCase();K&&(B.has(K)||(B.add(K),U.push(q)))}return U.map(q=>({id:q.id,name:q.name}))}catch{return[]}}const uuid$1=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`${Date.now()}-${Math.random().toString(16).slice(2)}`;async function upsertProduct(b){const R=b.id??uuid$1(),A=await getCurrentUnitId(),I=A&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(A)?A:null,B=new Date().toISOString(),U=typeof window?.api?.db?.query=="function";try{if(U)return await query$2("INSERT INTO products (id, sku, name, category_id, unit_id, price_cents, is_active, updated_at, version, pending_sync) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) ON CONFLICT(id) DO UPDATE SET sku=excluded.sku, name=excluded.name, category_id=excluded.category_id, unit_id=excluded.unit_id, price_cents=excluded.price_cents, is_active=excluded.is_active, updated_at=excluded.updated_at, version=excluded.version, pending_sync=excluded.pending_sync",[R,b.sku??null,b.name,b.categoryId??null,I??null,Math.max(0,Number(b.priceCents??0)),b.isActive?1:0,B,1,1]),R;{const{supabase:q}=await __vitePreload(async()=>{const{supabase:ee}=await Promise.resolve().then(()=>supabase$1);return{supabase:ee}},void 0);if(!q)throw console.warn("[productsService] Supabase no disponvel para salvar produto"),new Error("Supabase no disponvel");const K={id:R,sku:b.sku??null,name:b.name,category_id:b.categoryId&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(b.categoryId)?b.categoryId:null,unit_id:I??null,price_cents:Math.max(0,Number(b.priceCents??0)),is_active:b.isActive??!0,updated_at:B,version:1,pending_sync:!1},{error:J}=await q.from("products").upsert(K,{onConflict:"id"});if(J){if(J.code==="23503"||J.details?.includes('Key is not present in table "categories"')){console.warn("[productsService] Erro de FK na categoria due to missing ID. Retrying with category_id=null",{failedId:b.categoryId});const ee={...K,category_id:null},{error:te}=await q.from("products").upsert(ee,{onConflict:"id"});if(te)throw te;return R}throw console.error("[productsService] Erro ao salvar produto no Supabase:",J),J}return R}}catch(q){try{const K=localStorage.getItem("menuItems"),J=K?JSON.parse(K):[],ee=J.findIndex(fe=>String(fe.id)===String(R)),te=q?.code==="23503"||q?.details?.includes("Key is not present"),xe={id:R,code:b.sku,name:b.name,categoryId:te?null:b.categoryId,price:b.priceCents/100,active:b.isActive??!0};return ee>=0?J[ee]={...J[ee],...xe}:J.push(xe),localStorage.setItem("menuItems",JSON.stringify(J)),console.warn("[productsService] Produto salvo no localStorage como fallback",{wasFkError:te}),R}catch{}throw q}}async function deleteProducts(b){for(const R of b)await query$2("DELETE FROM products WHERE id = ?",[R])}async function setProductActive(b,R){const A=new Date().toISOString();await query$2("UPDATE products SET is_active = ?, updated_at = ?, pending_sync = 1 WHERE id = ?",[R?1:0,A,b])}async function upsertCategory(b){const R=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,A=b.id&&R.test(b.id)?b.id:crypto.randomUUID();b.id&&!R.test(b.id)&&console.warn(`[productsService] ID "${b.id}" no  um UUID vlido, gerando novo UUID: ${A}`);const T=await getCurrentUnitId(),I=T&&R.test(T)?T:null,B=new Date().toISOString(),U=typeof window?.api?.db?.query=="function";try{if(U){const K=(await query$2("SELECT id, unit_id FROM categories WHERE LOWER(name) = LOWER(?) AND (unit_id = ? OR unit_id IS NULL)",[b.name,I??null]))?.rows??[],J=K.find(te=>String(te.unit_id||"")===String(I||""))||K[0],ee=J?.id?String(J.id):null;return ee?(await query$2("UPDATE categories SET name = ?, unit_id = ?, updated_at = ?, pending_sync = 1 WHERE id = ?",[b.name,I??null,B,ee]),ee):(await query$2("INSERT INTO categories (id, name, unit_id, default_station, updated_at, version, pending_sync) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT(id) DO UPDATE SET name=excluded.name, unit_id=excluded.unit_id, default_station=excluded.default_station, updated_at=excluded.updated_at, version=excluded.version, pending_sync=excluded.pending_sync",[A,b.name,I??null,null,B,1,1]),A)}else{const{supabase:q}=await __vitePreload(async()=>{const{supabase:fe}=await Promise.resolve().then(()=>supabase$1);return{supabase:fe}},void 0);if(!q)throw console.warn("[productsService] Supabase no disponvel para salvar categoria"),new Error("Supabase no disponvel");console.log("[productsService] Salvando categoria no Supabase:",{id:A,name:b.name});const{data:K,error:J}=await q.from("categories").select("id, name").eq("id",A).maybeSingle();if(J&&J.code!=="PGRST116")throw console.error("[productsService] Erro ao verificar categoria existente pelo ID:",J),J;let ee=K,te=A;if(ee)te=ee.id;else{console.log("[productsService] Categoria no encontrada pelo ID, buscando pelo nome...");const{data:fe,error:ye}=await q.from("categories").select("id, name").eq("name",b.name).maybeSingle();if(ye&&ye.code!=="PGRST116")throw console.error("[productsService] Erro ao buscar categoria pelo nome:",ye),ye;fe&&(console.log("[productsService]  Categoria encontrada pelo nome:",fe),ee=fe,te=ee.id,console.log(`[productsService] Usando ID existente: ${te} (ao invs de ${A})`))}const xe={id:te,name:b.name,unit_id:I??null,default_station:null,updated_at:B,version:1,pending_sync:!1};if(ee){console.log("[productsService] Atualizando categoria existente com ID:",te);const{data:fe,error:ye}=await q.from("categories").update(xe).eq("id",te).select();if(ye)throw console.error("[productsService] Erro ao atualizar categoria:",ye),ye;if(fe&&fe.length>0){console.log("[productsService]  Categoria atualizada no Supabase:",fe[0]),await new Promise(Le=>setTimeout(Le,300));const{data:Be}=await q.from("categories").select("id").eq("id",fe[0].id).maybeSingle();return Be?fe[0].id:(console.warn("[productsService]  Categoria no encontrada aps atualizao, mas retornando ID:",te),te)}else{console.warn("[productsService]  Categoria atualizada mas no retornada. Verificando..."),await new Promise(Le=>setTimeout(Le,300));const{data:Be}=await q.from("categories").select("id").eq("id",te).maybeSingle();if(Be)return te;throw new Error("Categoria no encontrada aps atualizao")}}else{console.log("[productsService] Inserindo nova categoria com ID:",te);const{data:fe,error:ye}=await q.from("categories").insert(xe).select();if(ye)throw console.error("[productsService] Erro ao inserir categoria:",ye),console.error("[productsService] Detalhes:",{code:ye.code,message:ye.message,details:ye.details,hint:ye.hint}),ye;if(fe&&fe.length>0){console.log("[productsService]  Categoria inserida no Supabase com sucesso:",fe[0]),await new Promise(Le=>setTimeout(Le,300));const{data:Be}=await q.from("categories").select("id").eq("id",fe[0].id).maybeSingle();return Be?fe[0].id:(console.warn("[productsService]  Categoria no encontrada aps insero, mas retornando ID:",te),te)}else{console.warn("[productsService]  Categoria inserida mas no retornada pelo .select(). Verificando..."),await new Promise(Le=>setTimeout(Le,300));const{data:Be}=await q.from("categories").select("id").eq("id",te).maybeSingle();if(Be)return te;throw new Error("Categoria no encontrada aps insero")}}}}catch(q){if(console.error("[productsService] Erro ao salvar categoria:",q),!U)try{const K=localStorage.getItem("categories"),J=K?JSON.parse(K):[],ee=J.find(te=>te.id===A);return ee?(ee.name=b.name,ee.updated_at=B):J.push({id:A,name:b.name,updated_at:B}),localStorage.setItem("categories",JSON.stringify(J)),console.warn("[productsService] Categoria salva no localStorage como fallback"),A}catch{}throw q}}async function deleteCategories(b){for(const R of b)await query$2("DELETE FROM categories WHERE id = ?",[R])}async function migrateLocalStorageCatalog(){const b="catalog_migration_done_v5";if(localStorage.getItem(b))return;if(!(typeof window?.api?.db?.query=="function")){localStorage.setItem(b,"true");return}try{const A=localStorage.getItem("categories"),T=localStorage.getItem("menuItems"),I=A?JSON.parse(A):[],B=T?JSON.parse(T):[],U=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,q={},K={};if(Array.isArray(I)){const J=[];for(const ee of I){const te=String(ee.id??""),xe=String(ee.name??"").trim();if(!xe)continue;const fe=te&&U.test(te)?te:crypto.randomUUID(),ye=await upsertCategory({id:fe,name:xe});K[xe.toLowerCase()]=ye,te&&(q[te]=ye),fe!==ye&&(q[fe]=ye),J.push({...ee,id:ye})}localStorage.setItem("categories",JSON.stringify(J))}if(Array.isArray(B)){const J=[];for(const ee of B){const te=String(ee.id??""),xe=ee.code?String(ee.code):null,fe=String(ee.name??"").trim();let ye=ee.categoryId?String(ee.categoryId):null;const Be=Math.max(0,Math.round((ee.price??0)*100)),Le=!!(ee.active??!0);if(!fe)continue;ye&&q[ye]&&(ye=q[ye]);const qe=te&&U.test(te)?te:crypto.randomUUID();await upsertProduct({id:qe,sku:xe,name:fe,categoryId:ye,priceCents:Be,isActive:Le}),J.push({...ee,id:qe,categoryId:ye})}localStorage.setItem("menuItems",JSON.stringify(J))}localStorage.setItem(b,"true")}catch(A){console.error("[productsService] Migration error:",A)}}const productsService=Object.freeze(Object.defineProperty({__proto__:null,deleteCategories,deleteProducts,getCurrentUnitId,getProductById,listCategories,listProducts,migrateLocalStorageCatalog,searchProducts,setProductActive,upsertCategory,upsertProduct},Symbol.toStringTag,{value:"Module"})),query$1=async(b,R)=>{const A=window?.api?.db?.query;if(typeof A!="function")throw new Error("Canal de DB indisponvel");try{const T=await A(b,R);if(T?.error)throw new Error(String(T.error));return T}catch{await new Promise(B=>setTimeout(B,200));const I=await A(b,R);if(I?.error)throw new Error(String(I.error));return I}};async function listStations(b){if(supabase&&b&&b!=="default"&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(b))try{const{data:A,error:T}=await supabase.from("stations").select("*").eq("unit_id",b).eq("is_active",!0).order("name");if(T)throw T;if(A)return localStorage.setItem(`stations_${b}`,JSON.stringify(A)),A}catch(A){console.warn("[stationsService] Erro ao listar estaes no Supabase:",A)}try{const A=await query$1("SELECT * FROM stations WHERE unit_id = ? AND is_active = 1 ORDER BY name",[b]);if(A?.rows&&A.rows.length>0)return A.rows.map(T=>({id:String(T.id),name:String(T.name),unit_id:String(T.unit_id),is_active:!!T.is_active}))}catch{}try{const A=localStorage.getItem(`stations_${b}`);if(A)return JSON.parse(A)}catch{}return[]}function useOffline(){const[b,R]=reactExports.useState(navigator.onLine),[A,T]=reactExports.useState([]);return reactExports.useEffect(()=>{const B=()=>{R(!0),A.length>0&&(console.log("Processando aes offline pendentes:",A),T([]))},U=()=>{R(!1)};return window.addEventListener("online",B),window.addEventListener("offline",U),()=>{window.removeEventListener("online",B),window.removeEventListener("offline",U)}},[A]),{isOnline:b,pendingActions:A,addPendingAction:B=>b?!1:(T(U=>[...U,{...B,timestamp:Date.now()}]),!0)}}let e={data:""},t=b=>{if(typeof window=="object"){let R=(b?b.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return R.nonce=window.__nonce__,R.parentNode||(b||document.head).appendChild(R),R.firstChild}return b||e},l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a$1=/\/\*[^]*?\*\/|  +/g,n$1=/\n+/g,o=(b,R)=>{let A="",T="",I="";for(let B in b){let U=b[B];B[0]=="@"?B[1]=="i"?A=B+" "+U+";":T+=B[1]=="f"?o(U,B):B+"{"+o(U,B[1]=="k"?"":R)+"}":typeof U=="object"?T+=o(U,R?R.replace(/([^,])+/g,q=>B.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,K=>/&/.test(K)?K.replace(/&/g,q):q?q+" "+K:K)):B):U!=null&&(B=/^--/.test(B)?B:B.replace(/[A-Z]/g,"-$&").toLowerCase(),I+=o.p?o.p(B,U):B+":"+U+";")}return A+(R&&I?R+"{"+I+"}":I)+T},c$1={},s$1=b=>{if(typeof b=="object"){let R="";for(let A in b)R+=A+s$1(b[A]);return R}return b},i=(b,R,A,T,I)=>{let B=s$1(b),U=c$1[B]||(c$1[B]=(K=>{let J=0,ee=11;for(;J<K.length;)ee=101*ee+K.charCodeAt(J++)>>>0;return"go"+ee})(B));if(!c$1[U]){let K=B!==b?b:(J=>{let ee,te,xe=[{}];for(;ee=l.exec(J.replace(a$1,""));)ee[4]?xe.shift():ee[3]?(te=ee[3].replace(n$1," ").trim(),xe.unshift(xe[0][te]=xe[0][te]||{})):xe[0][ee[1]]=ee[2].replace(n$1," ").trim();return xe[0]})(b);c$1[U]=o(I?{["@keyframes "+U]:K}:K,A?"":"."+U)}let q=A&&c$1.g?c$1.g:null;return A&&(c$1.g=c$1[U]),((K,J,ee,te)=>{te?J.data=J.data.replace(te,K):J.data.indexOf(K)===-1&&(J.data=ee?K+J.data:J.data+K)})(c$1[U],R,T,q),U},p=(b,R,A)=>b.reduce((T,I,B)=>{let U=R[B];if(U&&U.call){let q=U(A),K=q&&q.props&&q.props.className||/^go/.test(q)&&q;U=K?"."+K:q&&typeof q=="object"?q.props?"":o(q,""):q===!1?"":q}return T+I+(U??"")},"");function u(b){let R=this||{},A=b.call?b(R.p):b;return i(A.unshift?A.raw?p(A,[].slice.call(arguments,1),R.p):A.reduce((T,I)=>Object.assign(T,I&&I.call?I(R.p):I),{}):A,t(R.target),R.g,R.o,R.k)}let d,f$1,g;u.bind({g:1});let h$1=u.bind({k:1});function m(b,R,A,T){o.p=R,d=b,f$1=A,g=T}function w$1(b,R){let A=this||{};return function(){let T=arguments;function I(B,U){let q=Object.assign({},B),K=q.className||I.className;A.p=Object.assign({theme:f$1&&f$1()},q),A.o=/ *go\d+/.test(K),q.className=u.apply(A,T)+(K?" "+K:"");let J=b;return b[0]&&(J=q.as||b,delete q.as),g&&J[0]&&g(q),d(J,q)}return I}}var Z=b=>typeof b=="function",h=(b,R)=>Z(b)?b(R):b,W=(()=>{let b=0;return()=>(++b).toString()})(),E=(()=>{let b;return()=>{if(b===void 0&&typeof window<"u"){let R=matchMedia("(prefers-reduced-motion: reduce)");b=!R||R.matches}return b}})(),re$1=20,k$1="default",H=(b,R)=>{let{toastLimit:A}=b.settings;switch(R.type){case 0:return{...b,toasts:[R.toast,...b.toasts].slice(0,A)};case 1:return{...b,toasts:b.toasts.map(U=>U.id===R.toast.id?{...U,...R.toast}:U)};case 2:let{toast:T}=R;return H(b,{type:b.toasts.find(U=>U.id===T.id)?1:0,toast:T});case 3:let{toastId:I}=R;return{...b,toasts:b.toasts.map(U=>U.id===I||I===void 0?{...U,dismissed:!0,visible:!1}:U)};case 4:return R.toastId===void 0?{...b,toasts:[]}:{...b,toasts:b.toasts.filter(U=>U.id!==R.toastId)};case 5:return{...b,pausedAt:R.time};case 6:let B=R.time-(b.pausedAt||0);return{...b,pausedAt:void 0,toasts:b.toasts.map(U=>({...U,pauseDuration:U.pauseDuration+B}))}}},v=[],j={toasts:[],pausedAt:void 0,settings:{toastLimit:re$1}},f={},Y=(b,R=k$1)=>{f[R]=H(f[R]||j,b),v.forEach(([A,T])=>{A===R&&T(f[R])})},_=b=>Object.keys(f).forEach(R=>Y(b,R)),Q=b=>Object.keys(f).find(R=>f[R].toasts.some(A=>A.id===b)),S=(b=k$1)=>R=>{Y(R,b)},se={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},V=(b={},R=k$1)=>{let[A,T]=reactExports.useState(f[R]||j),I=reactExports.useRef(f[R]);reactExports.useEffect(()=>(I.current!==f[R]&&T(f[R]),v.push([R,T]),()=>{let U=v.findIndex(([q])=>q===R);U>-1&&v.splice(U,1)}),[R]);let B=A.toasts.map(U=>{var q,K,J;return{...b,...b[U.type],...U,removeDelay:U.removeDelay||((q=b[U.type])==null?void 0:q.removeDelay)||b?.removeDelay,duration:U.duration||((K=b[U.type])==null?void 0:K.duration)||b?.duration||se[U.type],style:{...b.style,...(J=b[U.type])==null?void 0:J.style,...U.style}}});return{...A,toasts:B}},ie=(b,R="blank",A)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:R,ariaProps:{role:"status","aria-live":"polite"},message:b,pauseDuration:0,...A,id:A?.id||W()}),P$1=b=>(R,A)=>{let T=ie(R,b,A);return S(T.toasterId||Q(T.id))({type:2,toast:T}),T.id},n=(b,R)=>P$1("blank")(b,R);n.error=P$1("error");n.success=P$1("success");n.loading=P$1("loading");n.custom=P$1("custom");n.dismiss=(b,R)=>{let A={type:3,toastId:b};R?S(R)(A):_(A)};n.dismissAll=b=>n.dismiss(void 0,b);n.remove=(b,R)=>{let A={type:4,toastId:b};R?S(R)(A):_(A)};n.removeAll=b=>n.remove(void 0,b);n.promise=(b,R,A)=>{let T=n.loading(R.loading,{...A,...A?.loading});return typeof b=="function"&&(b=b()),b.then(I=>{let B=R.success?h(R.success,I):void 0;return B?n.success(B,{id:T,...A,...A?.success}):n.dismiss(T),I}).catch(I=>{let B=R.error?h(R.error,I):void 0;B?n.error(B,{id:T,...A,...A?.error}):n.dismiss(T)}),b};var ce=1e3,w=(b,R="default")=>{let{toasts:A,pausedAt:T}=V(b,R),I=reactExports.useRef(new Map).current,B=reactExports.useCallback((te,xe=ce)=>{if(I.has(te))return;let fe=setTimeout(()=>{I.delete(te),U({type:4,toastId:te})},xe);I.set(te,fe)},[]);reactExports.useEffect(()=>{if(T)return;let te=Date.now(),xe=A.map(fe=>{if(fe.duration===1/0)return;let ye=(fe.duration||0)+fe.pauseDuration-(te-fe.createdAt);if(ye<0){fe.visible&&n.dismiss(fe.id);return}return setTimeout(()=>n.dismiss(fe.id,R),ye)});return()=>{xe.forEach(fe=>fe&&clearTimeout(fe))}},[A,T,R]);let U=reactExports.useCallback(S(R),[R]),q=reactExports.useCallback(()=>{U({type:5,time:Date.now()})},[U]),K=reactExports.useCallback((te,xe)=>{U({type:1,toast:{id:te,height:xe}})},[U]),J=reactExports.useCallback(()=>{T&&U({type:6,time:Date.now()})},[T,U]),ee=reactExports.useCallback((te,xe)=>{let{reverseOrder:fe=!1,gutter:ye=8,defaultPosition:Be}=xe||{},Le=A.filter($e=>($e.position||Be)===(te.position||Be)&&$e.height),qe=Le.findIndex($e=>$e.id===te.id),Ge=Le.filter(($e,Xe)=>Xe<qe&&$e.visible).length;return Le.filter($e=>$e.visible).slice(...fe?[Ge+1]:[0,Ge]).reduce(($e,Xe)=>$e+(Xe.height||0)+ye,0)},[A]);return reactExports.useEffect(()=>{A.forEach(te=>{if(te.dismissed)B(te.id,te.removeDelay);else{let xe=I.get(te.id);xe&&(clearTimeout(xe),I.delete(te.id))}})},[A,B]),{toasts:A,handlers:{updateHeight:K,startPause:q,endPause:J,calculateOffset:ee}}},de=h$1`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,me=h$1`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,le=h$1`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,C=w$1("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${b=>b.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${de} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${me} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${b=>b.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${le} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Te=h$1`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,F=w$1("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${b=>b.secondary||"#e0e0e0"};
  border-right-color: ${b=>b.primary||"#616161"};
  animation: ${Te} 1s linear infinite;
`,ge=h$1`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,he=h$1`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,L=w$1("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${b=>b.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ge} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${he} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${b=>b.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,be=w$1("div")`
  position: absolute;
`,Se=w$1("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ae=h$1`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Pe=w$1("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ae} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$=({toast:b})=>{let{icon:R,type:A,iconTheme:T}=b;return R!==void 0?typeof R=="string"?reactExports.createElement(Pe,null,R):R:A==="blank"?null:reactExports.createElement(Se,null,reactExports.createElement(F,{...T}),A!=="loading"&&reactExports.createElement(be,null,A==="error"?reactExports.createElement(C,{...T}):reactExports.createElement(L,{...T})))},Re=b=>`
0% {transform: translate3d(0,${b*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Ee=b=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${b*-150}%,-1px) scale(.6); opacity:0;}
`,ve="0%{opacity:0;} 100%{opacity:1;}",De="0%{opacity:1;} 100%{opacity:0;}",Oe=w$1("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ie=w$1("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ke=(b,R)=>{let A=b.includes("top")?1:-1,[T,I]=E()?[ve,De]:[Re(A),Ee(A)];return{animation:R?`${h$1(T)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${h$1(I)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},N=reactExports.memo(({toast:b,position:R,style:A,children:T})=>{let I=b.height?ke(b.position||R||"top-center",b.visible):{opacity:0},B=reactExports.createElement($,{toast:b}),U=reactExports.createElement(Ie,{...b.ariaProps},h(b.message,b));return reactExports.createElement(Oe,{className:b.className,style:{...I,...A,...b.style}},typeof T=="function"?T({icon:B,message:U}):reactExports.createElement(reactExports.Fragment,null,B,U))});m(reactExports.createElement);var we=({id:b,className:R,style:A,onHeightUpdate:T,children:I})=>{let B=reactExports.useCallback(U=>{if(U){let q=()=>{let K=U.getBoundingClientRect().height;T(b,K)};q(),new MutationObserver(q).observe(U,{subtree:!0,childList:!0,characterData:!0})}},[b,T]);return reactExports.createElement("div",{ref:B,className:R,style:A},I)},Me=(b,R)=>{let A=b.includes("top"),T=A?{top:0}:{bottom:0},I=b.includes("center")?{justifyContent:"center"}:b.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:E()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${R*(A?1:-1)}px)`,...T,...I}},Ce=u`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,D=16,Fe=({reverseOrder:b,position:R="top-center",toastOptions:A,gutter:T,children:I,toasterId:B,containerStyle:U,containerClassName:q})=>{let{toasts:K,handlers:J}=w(A,B);return reactExports.createElement("div",{"data-rht-toaster":B||"",style:{position:"fixed",zIndex:9999,top:D,left:D,right:D,bottom:D,pointerEvents:"none",...U},className:q,onMouseEnter:J.startPause,onMouseLeave:J.endPause},K.map(ee=>{let te=ee.position||R,xe=J.calculateOffset(ee,{reverseOrder:b,gutter:T,defaultPosition:R}),fe=Me(te,xe);return reactExports.createElement(we,{id:ee.id,key:ee.id,onHeightUpdate:J.updateHeight,className:ee.visible?Ce:"",style:fe},ee.type==="custom"?h(ee.message,ee):I?I(ee):reactExports.createElement(N,{toast:ee,position:te}))}))},zt=n;const showSuccess$1=b=>{zt.success(b)},showError=b=>{zt.error(b)},showInfo=b=>{zt(b,{icon:""})},showReadyAlert=b=>{zt(b,{icon:"",duration:1e4})},consolidatePayments=b=>{const R={};return b.paymentMethod==="MLTIPLO"&&b.paymentBreakdown?Object.entries(b.paymentBreakdown).forEach(([A,T])=>{const I=A.replace(/\s\(\d+\)$/,"");R[I]=(R[I]||0)+T}):R[b.paymentMethod||"No informado"]=b.total,Object.entries(R).map(([A,T])=>({method:A,amount:T}))},extractRequiredOptions$3=b=>b?b.split(", ").filter(R=>R.startsWith("[OBRIGATRIO]")).map(R=>R.replace("[OBRIGATRIO]","").trim()):[],extractOptionalObservations$3=b=>b?b.split(", ").filter(R=>!R.startsWith("[OBRIGATRIO]")).map(R=>R.trim()).filter(R=>R.length>0):[],formatOrderPin$3=b=>{const R=String(b??"").trim();return R?`#${R.replace(/^#+/,"")}`:"#-"};function OrderTimeStatus({order:b}){const R=b.status!=="DELIVERED"&&b.status!=="CANCELLED",A=normalizeSlaMinutes(b.slaMinutes,15),{timeElapsed:T}=useTimer(b.createdAt,A,R),{tempoEspera:I,tempoPreparo:B,tempoEntrega:U,tempoCozinha:q,tempoTotalDecorrido:K,wasLate:J}=reactExports.useMemo(()=>{const ee=Date.now(),te=new Date(b.createdAt).getTime(),xe=b.status==="DELIVERED"||b.status==="CANCELLED";let fe=ee;xe&&(fe=new Date(b.deliveredAt||b.updatedAt||b.createdAt).getTime());const ye=(()=>{if(b.status==="NEW")return te;if(xe&&!b.deliveredAt&&b.updatedAt&&b.readyAt){const Tt=new Date(b.updatedAt).getTime(),ir=new Date(b.readyAt).getTime();if(Tt>ir)return te}return new Date(b.updatedAt||b.createdAt).getTime()})();let Be;b.readyAt?Be=new Date(b.readyAt).getTime():b.status==="READY"&&b.updatedAt?Be=new Date(b.updatedAt).getTime():xe?Be=b.updatedAt?new Date(b.updatedAt).getTime():te:Be=ee;const qe=(b.status==="NEW"?ee:ye)-te,Ge=Math.floor(qe/1e3);let $e=0;b.status!=="NEW"&&($e=(b.status==="PREPARING"?ee:Be)-ye);const Xe=Math.floor($e/1e3),Qe=(b.status==="PREPARING"||b.status==="NEW"?ee:Be)-te,st=Math.floor(Qe/1e3),ct=st/60>A,gt=fe-Be,Nt=Math.floor(gt/1e3),Ot=fe-te;return xe?{tempoEspera:Math.floor((ye-te)/1e3),tempoPreparo:Math.floor((Be-ye)/1e3),tempoEntrega:Math.floor((fe-Be)/1e3),tempoCozinha:Math.floor((Be-te)/1e3),tempoTotalDecorrido:Math.floor((fe-te)/1e3),wasLate:(Be-te)/6e4>A}:{tempoEspera:Math.max(0,Ge),tempoPreparo:Math.max(0,Xe),tempoEntrega:Math.max(0,Nt),tempoCozinha:Math.max(0,st),tempoTotalDecorrido:Math.max(0,Math.floor(Ot/1e3)),wasLate:ct}},[b,R,T]);return R?jsxRuntimeExports.jsxs("div",{className:"text-xs font-medium flex flex-col space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Espera:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:formatDurationSeconds(I)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Preparo:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:formatDurationSeconds(B,{minSeconds:1})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Entrega:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:formatDurationSeconds(U,{minSeconds:1})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-t border-gray-200 pt-1 mt-1",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Cozinha (SLA):"}),jsxRuntimeExports.jsx("span",{className:`font-bold ${J?"text-red-600":"text-green-600"}`,children:formatDurationSeconds(q)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Total Decorrido:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:formatDurationSeconds(K)})]}),jsxRuntimeExports.jsxs("span",{className:"text-gray-500",children:["SLA: ",A,"m"]})]}):jsxRuntimeExports.jsxs("div",{className:"text-xs font-medium flex flex-col space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Espera:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:formatDurationSeconds(I)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Preparo:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:formatDurationSeconds(B,{minSeconds:1})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Entrega:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:formatDurationSeconds(U,{minSeconds:1})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-t border-gray-200 pt-1 mt-1",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Cozinha (SLA):"}),jsxRuntimeExports.jsx("span",{className:`font-bold ${J?"text-red-600":"text-green-600"}`,children:formatDurationSeconds(q)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Total Decorrido:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:formatDurationSeconds(K)})]}),jsxRuntimeExports.jsxs("span",{className:"text-gray-500",children:["SLA: ",A,"m"]})]})}function OrderListTab({orders:b,onMarkAsDelivered:R}){const{store:A}=useAuth(),[T,I]=reactExports.useState(""),[B,U]=reactExports.useState("all"),q=reactExports.useMemo(()=>{let ee=b;if(B!=="all"&&(ee=ee.filter(te=>te.status===B)),T.trim()){const te=T.trim().toLowerCase();ee=ee.filter(xe=>xe.pin.toLowerCase().includes(te)||xe.password.toLowerCase().includes(te)||xe.customerWhatsApp?.includes(te))}return ee.sort((te,xe)=>new Date(xe.createdAt).getTime()-new Date(te.createdAt).getTime())},[b,T,B]),K=ee=>{switch(ee){case"DELIVERED":return"bg-green-100 text-green-800";case"CANCELLED":return"bg-red-100 text-red-800";case"READY":return"bg-blue-100 text-blue-800";case"PREPARING":return"bg-yellow-100 text-yellow-800";case"NEW":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},J={NEW:"Novo",PREPARING:"Em Preparo",READY:"Pronto",DELIVERED:"Entregue",CANCELLED:"Cancelado"};return jsxRuntimeExports.jsxs("div",{className:"p-4 lg:p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Histrico de Pedidos"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsx(Input,{type:"text",value:T,onChange:ee=>I(ee.target.value),placeholder:"Buscar por PIN, Senha ou WhatsApp...",label:"Buscar Pedido:"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filtrar por Status:"}),jsxRuntimeExports.jsxs("select",{value:B,onChange:ee=>U(ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"Todos os Status"}),jsxRuntimeExports.jsx("option",{value:"NEW",children:J.NEW}),jsxRuntimeExports.jsx("option",{value:"PREPARING",children:J.PREPARING}),jsxRuntimeExports.jsx("option",{value:"READY",children:J.READY}),jsxRuntimeExports.jsx("option",{value:"DELIVERED",children:J.DELIVERED}),jsxRuntimeExports.jsx("option",{value:"CANCELLED",children:J.CANCELLED})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:q.length===0?jsxRuntimeExports.jsxs("div",{className:"p-8 text-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-file-list-line text-4xl text-gray-400 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Nenhum pedido encontrado com os filtros atuais."})]}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto max-h-[60vh]",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10 shadow-sm",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-16",children:"Pedido"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-16",children:"Senha"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Data/Hora"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Tempo"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-96",children:"Itens & Produo"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-40",children:"Pagamento & Total"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-32",children:"Aes"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:q.map(ee=>{const te=consolidatePayments(ee),xe=ee.paymentMethod?.toLowerCase().includes("dinheiro")||ee.paymentMethod==="MLTIPLO"&&ee.paymentBreakdown&&Object.keys(ee.paymentBreakdown).some($e=>$e.toLowerCase().includes("dinheiro")),fe=ee.amountPaid,ye=ee.changeAmount,Be=ee.status==="DELIVERED"&&(ee.deliveredAt||ee.updatedAt)?new Date(ee.deliveredAt||ee.updatedAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):null,Le=ee.items.reduce(($e,Xe)=>{const He=Math.max(1,Xe.menuItem.unitDeliveryCount||1);return $e+Math.max(1,Xe.quantity*He)},0),qe=ee.items.reduce(($e,Xe)=>{const Qe=(Array.isArray(Xe.productionUnits)?Xe.productionUnits:[]).filter(st=>!!st.deliveredAt||ee.status==="DELIVERED").length;return $e+Qe},0),Ge=qe>0&&qe<Le&&ee.status!=="DELIVERED";return jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-4 align-top",children:jsxRuntimeExports.jsx("span",{className:"bg-amber-100 text-amber-800 px-2 py-1 rounded-full text-xs font-bold inline-block w-fit",children:formatOrderPin$3(ee.pin)})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 align-top",children:jsxRuntimeExports.jsx("div",{className:"text-sm font-bold text-blue-600",children:ee.password})}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 align-top",children:[jsxRuntimeExports.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${K(ee.status)}`,children:J[ee.status]}),Ge&&jsxRuntimeExports.jsxs("div",{className:"mt-1 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-orange-100 text-orange-800 border border-orange-200",children:[jsxRuntimeExports.jsx("i",{className:"ri-time-line mr-1"}),"entregue parcial ",qe,"/",Le]}),Be&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-green-600 font-medium mt-1",children:["Entregue s ",Be]})]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 align-top text-sm text-gray-900",children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-600",children:new Date(ee.createdAt).toLocaleDateString("pt-BR")}),jsxRuntimeExports.jsx("div",{className:"text-sm font-medium",children:new Date(ee.createdAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 align-top",children:jsxRuntimeExports.jsx(OrderTimeStatus,{order:ee})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 align-top text-sm text-gray-900",children:jsxRuntimeExports.jsx("div",{className:"space-y-3",children:ee.items.map(($e,Xe)=>{const He=extractRequiredOptions$3($e.observations),Qe=extractOptionalObservations$3($e.observations),st=Array.isArray($e.productionUnits)?$e.productionUnits.filter(Nt=>!!Nt.deliveredAt||ee.status==="DELIVERED").length:Math.max(0,$e.directDeliveredUnitCount||0),ct=Math.max(1,$e.quantity*Math.max(1,$e.menuItem.unitDeliveryCount||1)),gt=st>0&&st<ct;return $e.skipKitchen,jsxRuntimeExports.jsxs("div",{className:"border border-gray-200 rounded-lg p-2 bg-white",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium mb-1 flex items-center",children:[$e.quantity,"x ",$e.menuItem.name,$e.menuItem.code&&jsxRuntimeExports.jsxs("span",{className:"ml-2 text-blue-600 text-xs font-semibold",children:["#",$e.menuItem.code]}),$e.skipKitchen&&jsxRuntimeExports.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-purple-100 text-purple-800 border border-purple-200 align-middle",children:[jsxRuntimeExports.jsx("i",{className:"ri-truck-line mr-1"}),"Entrega Direta"]}),gt&&ee.status!=="DELIVERED"&&jsxRuntimeExports.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-amber-100 text-amber-800 border border-amber-200 align-middle",children:[jsxRuntimeExports.jsx("i",{className:"ri-time-line mr-1"}),"entregue parcial ",st,"/",ct]})]}),He.length>0&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-red-800 bg-red-50 border border-red-200 rounded p-1.5 flex items-start mb-2",children:[jsxRuntimeExports.jsx("i",{className:"ri-checkbox-circle-line mr-1 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("span",{className:"flex-1 font-medium",children:["Opes: ",He.join(" | ")]})]}),Qe.length>0&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-yellow-800 bg-yellow-50 border border-yellow-200 rounded p-1.5 flex items-start mb-2",children:[jsxRuntimeExports.jsx("i",{className:"ri-alert-line mr-1 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("span",{className:"flex-1",children:["Obs: ",Qe.join(" | ")]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-1",children:($e.productionUnits&&$e.productionUnits.length>0?$e.productionUnits:Array.from({length:ct}).map((Nt,Ot)=>({unitId:`direct-${Ot}`,completedAt:void 0,operatorName:void 0,unitStatus:void 0}))).map((Nt,Ot)=>{const Tt=Nt.unitStatus==="READY",ir=$e.directDeliveredUnitTimes||[],At=!!Nt.deliveredAt||!!ir[Ot]||ee.status==="DELIVERED",Je=At?Nt.deliveredAt?new Date(Nt.deliveredAt):ir[Ot]||(ee.status==="DELIVERED"&&ee.deliveredAt?new Date(ee.deliveredAt):void 0):void 0,ut=Je?new Date(Je).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):void 0;let et="bg-yellow-500";$e.skipKitchen?et=At?"bg-green-500":"bg-amber-500":Tt?et="bg-green-500":ee.status==="NEW"?et="bg-gray-400":(ee.status==="DELIVERED"||ee.status==="CANCELLED")&&(et="bg-green-500");const lt=Nt.completedAt?new Date(Nt.completedAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"-";return jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx("span",{className:`w-2 h-2 rounded-full ${et}`}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["Unidade ",Ot+1]}),Nt.operatorName&&jsxRuntimeExports.jsx("span",{className:"text-blue-600 bg-blue-50 px-1 rounded",children:Nt.operatorName}),At&&jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-full text-[10px] font-semibold bg-green-100 text-green-800 border border-green-200",children:[jsxRuntimeExports.jsx("i",{className:"ri-check-line mr-1"}),"entregue"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[!$e.skipKitchen&&jsxRuntimeExports.jsxs("span",{className:`font-medium ${Tt?"text-green-700":"text-gray-500"}`,children:["Pronto s ",lt]}),ut&&jsxRuntimeExports.jsxs("span",{className:"text-gray-700 font-medium",children:["Entregue s ",ut]})]})]},Nt.unitId)})})]},Xe)})})}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 align-top text-sm text-gray-900",children:[jsxRuntimeExports.jsx("div",{className:"space-y-1 mb-2",children:te.map(($e,Xe)=>jsxRuntimeExports.jsxs("div",{className:"text-xs flex justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-gray-600",children:[$e.method,":"]}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["R$ ",$e.amount.toFixed(2)]})]},Xe))}),xe&&fe!==void 0&&ye!==void 0&&jsxRuntimeExports.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200 bg-green-50 rounded p-1.5",children:[jsxRuntimeExports.jsxs("div",{className:"text-xs flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-green-700",children:"Pago:"}),jsxRuntimeExports.jsxs("span",{className:"font-medium text-green-800",children:["R$ ",fe.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"text-xs flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-green-700",children:"Troco:"}),jsxRuntimeExports.jsxs("span",{className:"font-bold text-green-800",children:["R$ ",ye.toFixed(2)]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-t pt-1 mt-1",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-gray-900",children:"Total:"}),jsxRuntimeExports.jsxs("span",{className:"font-bold text-amber-600",children:["R$ ",ee.total.toFixed(2)]})]})]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 align-top space-y-2",children:[ee.status==="READY"&&jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"success",onClick:()=>R(ee.id),className:"w-full",children:[jsxRuntimeExports.jsx("i",{className:"ri-check-double-line mr-1"}),"Entregue"]}),jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"secondary",onClick:$e=>{$e.stopPropagation(),printOrder(ee,void 0,A?.name)},className:"w-full",children:[jsxRuntimeExports.jsx("i",{className:"ri-printer-line mr-1"}),"Imprimir"]})]})]},ee.id)})})]})})})]})}const isElectron=typeof process<"u"&&!!process.versions?.electron;let db;if(isElectron)try{const Database=eval("require")("better-sqlite3"),{drizzle}=eval("require")("drizzle-orm/better-sqlite3"),sqlite=new Database("data.db");db=drizzle(sqlite)}catch(b){console.error("SQLite nativo indisponvel no Electron (bindings). Prosseguindo sem DB local.",b),db=void 0}else db=void 0;const chainable=()=>({primaryKey(){return this},notNull(){return this},default(){return this},references(){return this}}),sqliteTable=(b,R,A)=>({id:void 0}),text=(b,R)=>chainable(),integer=(b,R)=>chainable(),entityKind=Symbol.for("drizzle:entityKind");function is$1(b,R){if(!b||typeof b!="object")return!1;if(b instanceof R)return!0;if(!Object.prototype.hasOwnProperty.call(R,entityKind))throw new Error(`Class "${R.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let A=b.constructor;if(A)for(;A;){if(entityKind in A&&A[entityKind]===R[entityKind])return!0;A=Object.getPrototypeOf(A)}return!1}class Column{constructor(R,A){this.table=R,this.config=A,this.name=A.name,this.notNull=A.notNull,this.default=A.default,this.defaultFn=A.defaultFn,this.onUpdateFn=A.onUpdateFn,this.hasDefault=A.hasDefault,this.primary=A.primaryKey,this.isUnique=A.isUnique,this.uniqueName=A.uniqueName,this.uniqueType=A.uniqueType,this.dataType=A.dataType,this.columnType=A.columnType,this.generated=A.generated,this.generatedIdentity=A.generatedIdentity}static[entityKind]="Column";name;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(R){return R}mapToDriverValue(R){return R}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}const TableName=Symbol.for("drizzle:Name"),Schema=Symbol.for("drizzle:Schema"),Columns=Symbol.for("drizzle:Columns"),ExtraConfigColumns=Symbol.for("drizzle:ExtraConfigColumns"),OriginalName=Symbol.for("drizzle:OriginalName"),BaseName=Symbol.for("drizzle:BaseName"),IsAlias=Symbol.for("drizzle:IsAlias"),ExtraConfigBuilder=Symbol.for("drizzle:ExtraConfigBuilder"),IsDrizzleTable=Symbol.for("drizzle:IsDrizzleTable");class Table{static[entityKind]="Table";static Symbol={Name:TableName,Schema,OriginalName,Columns,ExtraConfigColumns,BaseName,IsAlias,ExtraConfigBuilder};[TableName];[OriginalName];[Schema];[Columns];[ExtraConfigColumns];[BaseName];[IsAlias]=!1;[IsDrizzleTable]=!0;[ExtraConfigBuilder]=void 0;constructor(R,A,T){this[TableName]=this[OriginalName]=R,this[Schema]=A,this[BaseName]=T}}const isPgEnumSym=Symbol.for("drizzle:isPgEnum");function isPgEnum(b){return!!b&&typeof b=="function"&&isPgEnumSym in b&&b[isPgEnumSym]===!0}class Subquery{static[entityKind]="Subquery";constructor(R,A,T,I=!1){this._={brand:"Subquery",sql:R,selectedFields:A,alias:T,isWith:I}}}const tracer={startActiveSpan(b,R){return R()}},ViewBaseConfig=Symbol.for("drizzle:ViewBaseConfig");function isSQLWrapper(b){return b!=null&&typeof b.getSQL=="function"}function mergeQueries(b){const R={sql:"",params:[]};for(const A of b)R.sql+=A.sql,R.params.push(...A.params),A.typings?.length&&(R.typings||(R.typings=[]),R.typings.push(...A.typings));return R}class StringChunk{static[entityKind]="StringChunk";value;constructor(R){this.value=Array.isArray(R)?R:[R]}getSQL(){return new SQL([this])}}class SQL{constructor(R){this.queryChunks=R}static[entityKind]="SQL";decoder=noopDecoder;shouldInlineParams=!1;append(R){return this.queryChunks.push(...R.queryChunks),this}toQuery(R){return tracer.startActiveSpan("drizzle.buildSQL",A=>{const T=this.buildQueryFromSourceParams(this.queryChunks,R);return A?.setAttributes({"drizzle.query.text":T.sql,"drizzle.query.params":JSON.stringify(T.params)}),T})}buildQueryFromSourceParams(R,A){const T=Object.assign({},A,{inlineParams:A.inlineParams||this.shouldInlineParams,paramStartIndex:A.paramStartIndex||{value:0}}),{escapeName:I,escapeParam:B,prepareTyping:U,inlineParams:q,paramStartIndex:K}=T;return mergeQueries(R.map(J=>{if(is$1(J,StringChunk))return{sql:J.value.join(""),params:[]};if(is$1(J,Name))return{sql:I(J.value),params:[]};if(J===void 0)return{sql:"",params:[]};if(Array.isArray(J)){const ee=[new StringChunk("(")];for(const[te,xe]of J.entries())ee.push(xe),te<J.length-1&&ee.push(new StringChunk(", "));return ee.push(new StringChunk(")")),this.buildQueryFromSourceParams(ee,T)}if(is$1(J,SQL))return this.buildQueryFromSourceParams(J.queryChunks,{...T,inlineParams:q||J.shouldInlineParams});if(is$1(J,Table)){const ee=J[Table.Symbol.Schema],te=J[Table.Symbol.Name];return{sql:ee===void 0?I(te):I(ee)+"."+I(te),params:[]}}if(is$1(J,Column))return A.invokeSource==="indexes"?{sql:I(J.name),params:[]}:{sql:I(J.table[Table.Symbol.Name])+"."+I(J.name),params:[]};if(is$1(J,View)){const ee=J[ViewBaseConfig].schema,te=J[ViewBaseConfig].name;return{sql:ee===void 0?I(te):I(ee)+"."+I(te),params:[]}}if(is$1(J,Param)){if(is$1(J.value,Placeholder))return{sql:B(K.value++,J),params:[J],typings:["none"]};const ee=J.value===null?null:J.encoder.mapToDriverValue(J.value);if(is$1(ee,SQL))return this.buildQueryFromSourceParams([ee],T);if(q)return{sql:this.mapInlineParam(ee,T),params:[]};let te=["none"];return U&&(te=[U(J.encoder)]),{sql:B(K.value++,ee),params:[ee],typings:te}}return is$1(J,Placeholder)?{sql:B(K.value++,J),params:[J],typings:["none"]}:is$1(J,SQL.Aliased)&&J.fieldAlias!==void 0?{sql:I(J.fieldAlias),params:[]}:is$1(J,Subquery)?J._.isWith?{sql:I(J._.alias),params:[]}:this.buildQueryFromSourceParams([new StringChunk("("),J._.sql,new StringChunk(") "),new Name(J._.alias)],T):isPgEnum(J)?J.schema?{sql:I(J.schema)+"."+I(J.enumName),params:[]}:{sql:I(J.enumName),params:[]}:isSQLWrapper(J)?J.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([J.getSQL()],T):this.buildQueryFromSourceParams([new StringChunk("("),J.getSQL(),new StringChunk(")")],T):q?{sql:this.mapInlineParam(J,T),params:[]}:{sql:B(K.value++,J),params:[J],typings:["none"]}}))}mapInlineParam(R,{escapeString:A}){if(R===null)return"null";if(typeof R=="number"||typeof R=="boolean")return R.toString();if(typeof R=="string")return A(R);if(typeof R=="object"){const T=R.toString();return A(T==="[object Object]"?JSON.stringify(R):T)}throw new Error("Unexpected param value: "+R)}getSQL(){return this}as(R){return R===void 0?this:new SQL.Aliased(this,R)}mapWith(R){return this.decoder=typeof R=="function"?{mapFromDriverValue:R}:R,this}inlineParams(){return this.shouldInlineParams=!0,this}if(R){return R?this:void 0}}class Name{constructor(R){this.value=R}static[entityKind]="Name";brand;getSQL(){return new SQL([this])}}function isDriverValueEncoder(b){return typeof b=="object"&&b!==null&&"mapToDriverValue"in b&&typeof b.mapToDriverValue=="function"}const noopDecoder={mapFromDriverValue:b=>b},noopEncoder={mapToDriverValue:b=>b};({...noopDecoder,...noopEncoder});class Param{constructor(R,A=noopEncoder){this.value=R,this.encoder=A}static[entityKind]="Param";brand;getSQL(){return new SQL([this])}}function sql(b,...R){const A=[];(R.length>0||b.length>0&&b[0]!=="")&&A.push(new StringChunk(b[0]));for(const[T,I]of R.entries())A.push(I,new StringChunk(b[T+1]));return new SQL(A)}(b=>{function R(){return new SQL([])}b.empty=R;function A(K){return new SQL(K)}b.fromList=A;function T(K){return new SQL([new StringChunk(K)])}b.raw=T;function I(K,J){const ee=[];for(const[te,xe]of K.entries())te>0&&J!==void 0&&ee.push(J),ee.push(xe);return new SQL(ee)}b.join=I;function B(K){return new Name(K)}b.identifier=B;function U(K){return new Placeholder(K)}b.placeholder=U;function q(K,J){return new Param(K,J)}b.param=q})(sql||(sql={}));(b=>{class R{constructor(T,I){this.sql=T,this.fieldAlias=I}static[entityKind]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new R(this.sql,this.fieldAlias)}}b.Aliased=R})(SQL||(SQL={}));class Placeholder{constructor(R){this.name=R}static[entityKind]="Placeholder";getSQL(){return new SQL([this])}}class View{static[entityKind]="View";[ViewBaseConfig];constructor({name:R,schema:A,selectedFields:T,query:I}){this[ViewBaseConfig]={name:R,originalName:R,schema:A,selectedFields:T,query:I,isExisting:!I,isAlias:!1}}getSQL(){return new SQL([this])}}Column.prototype.getSQL=function(){return new SQL([this])};Table.prototype.getSQL=function(){return new SQL([this])};Subquery.prototype.getSQL=function(){return new SQL([this])};function bindIfParam(b,R){return isDriverValueEncoder(R)&&!isSQLWrapper(b)&&!is$1(b,Param)&&!is$1(b,Placeholder)&&!is$1(b,Column)&&!is$1(b,Table)&&!is$1(b,View)?new Param(b,R):b}const eq$1=(b,R)=>sql`${b} = ${bindIfParam(R,b)}`,units=sqliteTable("units",{id:text().primaryKey(),name:text().notNull(),isActive:integer().notNull().default(!0),createdAt:text().notNull().default(sql`CURRENT_TIMESTAMP`),updatedAt:text().notNull().default(sql`CURRENT_TIMESTAMP`)}),stations=sqliteTable("stations",{id:text().primaryKey(),unitId:text().notNull().references(()=>units.id,{onDelete:"cascade",onUpdate:"cascade"}),name:text().notNull(),isActive:integer().notNull().default(!0),updatedAt:text().notNull().default(sql`CURRENT_TIMESTAMP`)}),deviceProfile=sqliteTable("device_profile",{id:integer().primaryKey({autoIncrement:!0}),unitId:text().notNull().references(()=>units.id,{onDelete:"cascade",onUpdate:"cascade"}),deviceId:text().notNull(),role:text().notNull(),updatedAt:text().notNull().default(sql`CURRENT_TIMESTAMP`)}),kitchens=sqliteTable("kitchens",{id:text().primaryKey(),name:text().notNull(),unitId:text().references(()=>units.id,{onDelete:"set null",onUpdate:"cascade"}),isActive:integer().notNull().default(!0),displayOrder:integer().default(0),updatedAt:text().notNull().default(sql`CURRENT_TIMESTAMP`),version:integer().notNull().default(1),pendingSync:integer().notNull().default(!1)}),categories=sqliteTable("categories",{id:text().primaryKey(),name:text().notNull(),unitId:text().references(()=>units.id,{onDelete:"set null",onUpdate:"cascade"}),kitchenId:text().references(()=>kitchens.id,{onDelete:"set null",onUpdate:"cascade"}),updatedAt:text().notNull().default(sql`CURRENT_TIMESTAMP`),version:integer().notNull().default(1),pendingSync:integer().notNull().default(!1)}),products=sqliteTable("products",{id:text().primaryKey(),name:text().notNull(),categoryId:text().references(()=>categories.id,{onDelete:"set null",onUpdate:"cascade"}),unitId:text().references(()=>units.id,{onDelete:"set null",onUpdate:"cascade"}),priceCents:integer().notNull().default(0),isActive:integer().notNull().default(!0),slaMinutes:integer().notNull().default(15),skipKitchen:integer().notNull().default(!1),unitDeliveryCount:integer().notNull().default(1),updatedAt:text().notNull().default(sql`CURRENT_TIMESTAMP`),version:integer().notNull().default(1),pendingSync:integer().notNull().default(!1)}),orders=sqliteTable("orders",{id:text().primaryKey(),unitId:text().references(()=>units.id,{onDelete:"set null",onUpdate:"cascade"}),status:text().notNull().default("open"),totalCents:integer().notNull().default(0),updatedAt:text().notNull().default(sql`CURRENT_TIMESTAMP`),version:integer().notNull().default(1),pendingSync:integer().notNull().default(!1)}),orderItems=sqliteTable("order_items",{id:text().primaryKey(),orderId:text().notNull().references(()=>orders.id,{onDelete:"cascade"}),productId:text().references(()=>products.id,{onDelete:"set null"}),qty:integer().notNull().default(1),unitPriceCents:integer().notNull().default(0),updatedAt:text().notNull().default(sql`CURRENT_TIMESTAMP`),version:integer().notNull().default(1),pendingSync:integer().notNull().default(!1)}),payments=sqliteTable("payments",{id:text().primaryKey(),orderId:text().notNull().references(()=>orders.id,{onDelete:"cascade"}),method:text().notNull(),amountCents:integer().notNull().default(0),changeCents:integer().notNull().default(0),updatedAt:text().notNull().default(sql`CURRENT_TIMESTAMP`),version:integer().notNull().default(1),pendingSync:integer().notNull().default(!1)}),kdsTickets=sqliteTable("kds_tickets",{id:text().primaryKey(),unitId:text().references(()=>units.id,{onDelete:"set null",onUpdate:"cascade"}),orderId:text().notNull().references(()=>orders.id,{onDelete:"cascade"}),status:text().notNull().default("queued"),updatedAt:text().notNull().default(sql`CURRENT_TIMESTAMP`),version:integer().notNull().default(1),pendingSync:integer().notNull().default(!1)}),kdsSyncLogs=sqliteTable("kds_sync_logs",{id:text().primaryKey(),ticketId:text().references(()=>kdsTickets.id),eventType:text().notNull(),createdAt:text().notNull().default(sql`CURRENT_TIMESTAMP`)}),kdsPhaseTimes=sqliteTable("kds_phase_times",{orderId:text().primaryKey().references(()=>orders.id,{onDelete:"cascade"}),updatedAt:text().notNull().default(sql`CURRENT_TIMESTAMP`)}),kdsUnitStates=sqliteTable("kds_unit_states",{id:text().primaryKey(),orderId:text().notNull().references(()=>orders.id,{onDelete:"cascade"}),orderItemId:text().notNull(),productionUnitId:text().notNull(),updatedAt:text().notNull().default(sql`CURRENT_TIMESTAMP`),version:integer().notNull().default(1),pendingSync:integer().notNull().default(!1)}),ordersDetails=sqliteTable("orders_details",{orderId:text().primaryKey().references(()=>orders.id,{onDelete:"cascade"}),updatedAt:text().notNull().default(sql`CURRENT_TIMESTAMP`)}),cashSessions=sqliteTable("cash_sessions",{id:text().primaryKey(),openingAmountCents:integer().notNull().default(0),closingAmountCents:integer().notNull().default(0),updatedAt:text().notNull().default(sql`CURRENT_TIMESTAMP`),version:integer().notNull().default(1),pendingSync:integer().notNull().default(!1)}),cashMovements=sqliteTable("cash_movements",{id:text().primaryKey(),sessionId:text().notNull().references(()=>cashSessions.id,{onDelete:"cascade"}),type:text().notNull(),amountCents:integer().notNull().default(0),createdAt:text().notNull().default(sql`CURRENT_TIMESTAMP`),updatedAt:text().notNull().default(sql`CURRENT_TIMESTAMP`),version:integer().notNull().default(1),pendingSync:integer().notNull().default(!1)}),savedCarts=sqliteTable("saved_carts",{id:text().primaryKey(),payload:text().notNull(),updatedAt:text().notNull().default(sql`CURRENT_TIMESTAMP`),version:integer().notNull().default(1),pendingSync:integer().notNull().default(!1)}),kitchenOperators=sqliteTable("kitchen_operators",{id:text().primaryKey(),name:text().notNull(),updatedAt:text().notNull().default(sql`CURRENT_TIMESTAMP`),version:integer().notNull().default(1),pendingSync:integer().notNull().default(!1)}),globalObservations=sqliteTable("global_observations",{id:text().primaryKey(),key:text().notNull(),updatedAt:text().notNull().default(sql`CURRENT_TIMESTAMP`),version:integer().notNull().default(1),pendingSync:integer().notNull().default(!1)}),counters=sqliteTable("counters",{key:text().notNull(),value:integer().notNull().default(0),updatedAt:text().notNull().default(sql`CURRENT_TIMESTAMP`)}),syncLog=sqliteTable("sync_log",{id:text().primaryKey(),tableName:text().notNull()}),syncMeta=sqliteTable("sync_meta",{key:text().primaryKey(),updatedAt:text().notNull().default(sql`CURRENT_TIMESTAMP`)}),ALL_TABLES={units,stations,deviceProfile,kitchens,categories,products,orders,orderItems,payments,kdsTickets,kdsSyncLogs,kdsPhaseTimes,kdsUnitStates,ordersDetails,cashSessions,cashMovements,savedCarts,kitchenOperators,globalObservations,counters,syncLog,syncMeta},__vite_import_meta_env__$4={};function getConnectivityMode(){return navigator.onLine?"Online":"Offline"}async function getQueueSize(){let b=0;for(const R of Object.values(ALL_TABLES)){if(!R?.columns||!("pendingSync"in R.columns))continue;const A=R.columns.pendingSync,T=await db.select({c:A}).from(R).where(eq$1(A,1));b+=Array.isArray(T)?T.length:0}return b}async function getLastSyncAt(){try{const b=await db.select().from(syncLog);let R=0;for(const T of b){const I=T.lastPulledAt?new Date(T.lastPulledAt).getTime():0,B=T.lastPushedAt?new Date(T.lastPushedAt).getTime():0;R=Math.max(R,I,B)}const A=await db.select().from(syncMeta);for(const T of A)if(T.key?.toLowerCase().includes("lastsync")){const I=T.updatedAt?new Date(T.updatedAt).getTime():0;R=Math.max(R,I)}return R?new Date(R):null}catch{return null}}async function getUnitName(b){try{const R=await getDeviceProfile(),A=b??R?.unitId;return A?(await db.select().from(units).where(eq$1(units.id,A)))?.[0]?.name??null:null}catch{return null}}function getLocalIp(){try{return window?.api?.system?.getLocalIp?.()||null}catch{return null}}function getDataPath(){try{return window?.api?.system?.getDataPath?.()??null}catch{return null}}async function getOperationInfo(){const b=await getDeviceProfile(),R=await getQueueSize(),A=await getLastSyncAt(),T=await getUnitName(b?.unitId),I=getLocalIp();return{mode:getConnectivityMode(),queueSize:R,lastSyncAt:A,unitName:T,localIp:I,profile:b}}function getAppVersions(){const b=__vite_import_meta_env__$4?.VITE_APP_VERSION||"0.0.0",R=window?.process?.versions?.electron||"unknown";return{appVersion:b,electronVersion:R}}async function getDbVersion(){try{const b=await window.api?.db?.query?.("PRAGMA user_version");return Array.isArray(b)&&b[0]&&typeof b[0].user_version<"u"?Number(b[0].user_version)||0:null}catch{return null}}function OperationModeBadge({compact:b}){const[R,A]=reactExports.useState("Online"),[T,I]=reactExports.useState(0),[B,U]=reactExports.useState(null),[q,K]=reactExports.useState(null),[J,ee]=reactExports.useState(null),te=useNavigate(),xe=reactExports.useRef(null),fe=reactExports.useMemo(()=>{switch(R){case"Offline":return"bg-amber-100 text-amber-700 border border-amber-200";case"Hbrido":return"bg-sky-100 text-sky-700 border border-sky-200";default:return"bg-emerald-100 text-emerald-700 border border-emerald-200"}},[R]),ye=reactExports.useMemo(()=>{switch(R){case"Offline":return"ri-wifi-off-line";case"Hbrido":return"ri-cloud-line";default:return"ri-wifi-line"}},[R]);async function Be(){const Ge=await getOperationInfo();A(Ge.mode),I(Ge.queueSize),U(Ge.lastSyncAt),K(Ge.localIp||null),ee(Ge.unitName||null)}reactExports.useEffect(()=>(Be(),xe.current=window.setInterval(()=>{document.visibilityState==="visible"&&Be()},1e4),()=>{xe.current&&clearInterval(xe.current)}),[]);const Le=`Modo de operao: ${R} (fila ${T}, ltima sync ${B?new Date(B).toLocaleTimeString():""})`,qe=`Modo: ${R} | ltima sync: ${B?new Date(B).toLocaleString():""} | IP: ${q??""} | unidade: ${J??""}`;return jsxRuntimeExports.jsxs("button",{type:"button","aria-label":Le,onClick:()=>te("/caixa/configuracoes?tab=device"),className:`group inline-flex items-center gap-2 rounded-md px-2.5 py-1.5 text-sm ${fe}`,title:qe,children:[jsxRuntimeExports.jsx("i",{className:`${ye} text-base`,"aria-hidden":"true"}),!b&&jsxRuntimeExports.jsx("span",{className:"font-medium",children:R}),jsxRuntimeExports.jsxs("span",{className:"ml-1 text-xs text-gray-600",children:["fila: ",T]}),jsxRuntimeExports.jsx("span",{role:"tooltip",className:"sr-only",children:qe})]})}const __vite_import_meta_env__$3={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3bWlpa2hrbXFtaXNsb3dmc2RiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzA3MjgsImV4cCI6MjA4MDIwNjcyOH0.mlNaJnt_7ZPYbzclVaW_ozRS5XyloT4bI4-p_GITcNE",VITE_SUPABASE_URL:"https://zwmiikhkmqmislowfsdb.supabase.co"},generateSessionPin=b=>{const R=new Date,A=(R.getMonth()+1).toString().padStart(2,"0"),T=R.getFullYear().toString().slice(-2),I=b.toString().padStart(3,"0");return`S${A}${T}${I}`};function CaixaPage(){const{user:b,store:R}=useAuth(),A=useNavigate(),[T,I]=useLocalStorage("categories",[]),[B]=useLocalStorage("menuItems",[]),[U,q]=reactExports.useState([]),[K,J]=reactExports.useState(""),[ee,te]=reactExports.useState(!0),[xe,fe]=useLocalStorage("cashPromptSessionId",null),[ye,Be]=reactExports.useState([]),[Le,qe]=reactExports.useState(""),[Ge,$e]=reactExports.useState(0),[Xe,He]=reactExports.useState([]),[Qe,st]=useLocalStorage("pdv_selected_kitchen_id",null),[ct,gt]=reactExports.useState({}),[Nt,Ot]=reactExports.useState(!1),[Tt,ir]=reactExports.useState([]),[At,It]=useLocalStorage("currentStationId","");reactExports.useEffect(()=>{(async()=>{try{const wt=await getCurrentUnitId();if(wt){const Lt=await listStations(wt);ir(Lt||[])}}catch{}})()},[]);const[Je,ut]=useLocalStorage("currentOperationalSession",null),[et,lt]=useLocalStorage("operationalSessionsHistory",[]),[rt,nt]=useLocalStorage("sessionCounter",1),[kt,Zt]=reactExports.useState(!1),[Ar,ft]=reactExports.useState(!1),[mt,Ct]=reactExports.useState(!1),[xr,er]=reactExports.useState("IN"),[Ft,Xt]=reactExports.useState(null),[it,jt]=reactExports.useState([]),[or,Er]=reactExports.useState(!1),[mr,zr]=reactExports.useState(null),[nn,Sr]=reactExports.useState({}),[Zr,un]=reactExports.useState([]),[Xr,an]=reactExports.useState(""),[vn]=useLocalStorage("globalObservations",[]),[rn,pn]=reactExports.useState([]),[sa,Hn]=reactExports.useState(!1),bn=wt=>({id:String(wt.id),operatorName:String(wt.opened_by??""),initialAmount:Math.max(0,(wt.opening_amount_cents??0)/100),openingTime:wt.opened_at?new Date(wt.opened_at):new Date,notes:"",cashBreakdown:{},closingTime:wt.closed_at?new Date(wt.closed_at):void 0,finalAmount:wt.closing_amount_cents!=null?wt.closing_amount_cents/100:void 0,expectedAmount:void 0,difference:void 0,status:wt.closed_at?"CLOSED":"OPEN",justification:wt.closed_by??void 0,openingNotes:void 0,closingNotes:void 0,initialAmountInputMode:"total",finalAmountInputMode:"total"});reactExports.useEffect(()=>{(async()=>{try{const wt=await getCurrentSession(),Lt=await listSessions();if(wt&&Xt(bn(wt)),jt((Lt||[]).map(bn)),wt){const Nr=(await listMovementsBySession(wt.id)||[]).map(sr=>({id:String(sr.id),type:sr.type==="in"?"IN":"OUT",amount:Math.max(0,(sr.amount_cents??0)/100),description:String(sr.reason??""),timestamp:sr.created_at?new Date(sr.created_at):new Date,sessionId:String(sr.session_id??wt.id),orderId:void 0}));pn(Nr)}}catch(wt){console.error("Erro ao carregar sesses e movimentos de caixa:",wt)}finally{Hn(!0)}})()},[]),reactExports.useEffect(()=>{(async()=>{const wt=window?.api;try{if(wt?.db?.query){const cr=await wt.db.query("SELECT * FROM kitchens WHERE is_active = 1 ORDER BY display_order, name");cr?.rows&&He(cr.rows.map(yr=>({id:yr.id,name:yr.name})));return}const{supabase:Lt}=await __vitePreload(async()=>{const{supabase:cr}=await Promise.resolve().then(()=>supabase$1);return{supabase:cr}},void 0);if(!Lt)return;const{data:tr,error:Nr}=await Lt.from("kitchens").select("id,name,is_active,display_order").eq("is_active",!0).order("display_order",{ascending:!0}).order("name",{ascending:!0});if(Nr){console.error("Supabase kitchens error",Nr);return}He((tr||[]).map(cr=>({id:cr.id,name:cr.name})));const{data:sr}=await Lt.from("category_kitchens").select("category_id,kitchen_id"),lr={};for(const cr of sr||[]){const yr=String(cr.kitchen_id),$r=String(cr.category_id);lr[yr]=lr[yr]||[],lr[yr].includes($r)||lr[yr].push($r)}gt(lr)}catch(Lt){console.error("Erro ao carregar cozinhas:",Lt)}})()},[]),reactExports.useEffect(()=>{(async()=>{if(!window?.api?.db?.query)try{const{supabase:Lt}=await __vitePreload(async()=>{const{supabase:Gr}=await Promise.resolve().then(()=>supabase$1);return{supabase:Gr}},void 0);if(!Lt)return;const{data:tr}=await Lt.from("category_kitchens").select("id").limit(1);if((tr||[]).length>0)return;const{data:Nr}=await Lt.from("kitchens").select("id,name").eq("is_active",!0);if(!Array.isArray(Nr)||Nr.length===0)return;const lr=(Nr.find(Gr=>String(Gr.name).toLowerCase()==="mexicano")||Nr[0])?.id;if(!lr)return;const{data:cr}=await Lt.from("categories").select("id");if(!Array.isArray(cr)||cr.length===0)return;const yr=cr.map(Gr=>({category_id:Gr.id,kitchen_id:lr,updated_at:new Date().toISOString()})),{error:$r}=await Lt.from("category_kitchens").insert(yr);$r&&console.error("[Caixa] Erro ao criar associaes:",$r)}catch(Lt){console.error("[Caixa] Erro no bootstrap de associaes:",Lt)}})()},[Xe]);const[nr,Br]=reactExports.useState([]),[,pt]=useLocalStorage("savedCarts",[]),[$t,Bt]=reactExports.useState(!1),[Pt,Wt]=reactExports.useState({title:"",message:"",variant:"error"}),[Mt,wr]=reactExports.useState(!1),[Or,ur]=reactExports.useState(!1),[Ur,Wr]=reactExports.useState(null),[Kr,gr]=reactExports.useState(!1),[Rr,Qr]=reactExports.useState(!1),[kn,Yn]=reactExports.useState(!1),[Hr,Ir]=reactExports.useState(null),[tn,Mr]=reactExports.useState({}),[Jr,mn]=reactExports.useState({}),[Qt,Pr]=reactExports.useState("all"),[Fr,Yr]=reactExports.useState("pdv"),Tn=reactExports.useRef(null),Sn=reactExports.useRef(null),Va=reactExports.useRef([]),Qa=reactExports.useRef(new Set);useOffline();const Dn=reactExports.useMemo(()=>{const wt=U.filter(lr=>lr.active);if(!K)return[];if(K==="promo-combos")return wt.filter(lr=>lr.isPromo);let Lt=wt.filter(lr=>lr.categoryId===K);const tr=Qe?ct[Qe]||[]:null;return tr&&(Lt=Lt.filter(lr=>tr.includes(String(lr.categoryId)))),Lt.length>0?Lt:(B||[]).filter(lr=>lr.active).filter(lr=>lr.categoryId===K)},[U,K,B,Qe,ct]);reactExports.useEffect(()=>{$e(0)},[K]);const ss=reactExports.useMemo(()=>!Je||Je.status!=="OPEN"?[]:nr.filter(wt=>wt.operationalSessionId===Je.id||!wt.operationalSessionId),[nr,Je]),$n=reactExports.useMemo(()=>ss.filter(Lt=>["NEW","PREPARING","READY"].includes(Lt.status)),[ss]),Oa=reactExports.useMemo(()=>ss.filter(wt=>wt.status==="READY"),[ss]).length,Gn=reactExports.useMemo(()=>sa?!!Ft&&Ft.status==="OPEN":!0,[Ft,sa]),Da=reactExports.useMemo(()=>!!Je&&Je.status==="OPEN",[Je]);reactExports.useEffect(()=>{Fr==="pdv"&&Da&&sa&&!Gn&&Je?.id&&xe!==Je.id&&(Zt(!0),fe(Je.id))},[Fr,Gn,Da,Je,xe,sa]),reactExports.useEffect(()=>{(async()=>{try{await ensureDeviceProfile({role:"pos"})}catch{}})();let wt=!0;return(async()=>{try{await migrateLocalStorageCatalog();const[Lt,tr]=await Promise.all([listCategories(),listProducts()]),Nr=(Lt||[]).map((lr,cr)=>({id:lr.id,name:lr.name,icon:"",order:cr,active:!0})),sr=(tr||[]).map(lr=>{const cr=(B||[]).find(yr=>yr.id===lr.id||yr.code&&yr.code===lr.sku);return{id:lr.id,name:lr.name,price:(lr.priceCents??lr.price_cents??0)/100,sla:typeof cr?.sla=="number"?cr.sla:15,categoryId:lr.categoryId??lr.category_id,observations:Array.isArray(cr?.observations)?cr.observations:[],requiredModifierGroups:Array.isArray(cr?.requiredModifierGroups)?cr.requiredModifierGroups:[],image:cr?.image,active:!!(lr.isActive??lr.is_active??!0),code:lr.sku??void 0,skipKitchen:!!(cr?.skipKitchen??!1),unitDeliveryCount:Math.max(1,Number(cr?.unitDeliveryCount??1)),isPromo:!!(cr?.isPromo??!1),comboItemIds:Array.isArray(cr?.comboItemIds)?cr.comboItemIds:[]}});if(wt){const lr=Nr&&Nr.length>0?Nr:T,cr={id:"promo-combos",name:"Promoes / Combos",icon:"",order:Math.max(0,lr.length),active:!0,isPromo:!0},$r=[...lr.filter(sn=>sn.id!=="promo-combos"),cr];I($r);const Gr=sr&&sr.length>0?sr:B;q(Gr);const qr=$r.filter(sn=>sn.active).sort((sn,Jn)=>sn.order-Jn.order)[0];qr&&J(qr.id)}}catch(Lt){console.error("Erro ao carregar catlogo offline:",Lt)}})(),()=>{wt=!1}},[]),reactExports.useEffect(()=>{if(ee&&!K&&T&&T.length>0){const wt=T.filter(Lt=>Lt.active??!0).sort((Lt,tr)=>Lt.order-tr.order)[0];wt&&J(wt.id)}},[T,K,ee]),reactExports.useEffect(()=>{if(!Qe)return;const wt=ct[Qe]||[];if(!wt.length)return;const tr=T.filter(Nr=>Nr.active??!0).sort((Nr,sr)=>Nr.order-sr.order).find(Nr=>wt.includes(String(Nr.id)));tr&&K&&!wt.includes(String(K))&&J(tr.id)},[Qe,ct,T,K]),reactExports.useEffect(()=>{const wt=Va.current,Lt=Qa.current;nr.forEach(tr=>{if(tr.status!=="READY")return;const Nr=String(tr.id),sr=wt.find(qr=>String(qr.id)===Nr),lr=tr.readyAt?new Date(tr.readyAt).getTime():null,cr=sr?.readyAt?new Date(sr.readyAt).getTime():null,yr=`${Nr}:${lr??"no-readyAt"}`,$r=sr?.status!=="READY",Gr=lr!=null&&lr!==cr;($r||Gr)&&!Lt.has(yr)&&(Lt.add(yr),showReadyAlert(`Pedido #${tr.pin} (Senha: ${tr.password}) est PRONTO para retirada!`))}),Va.current=nr},[nr]),reactExports.useEffect(()=>{const wt=Lt=>{if(!document.hasFocus())return;const tr=document.activeElement,Nr=!!tr&&(tr.tagName==="INPUT"||tr.tagName==="TEXTAREA");if(Fr==="pdv"){if(Lt.key===" "&&!Nr){Lt.preventDefault(),Tn.current?.focus();return}if(Lt.key==="Escape"){if(or||Rr||Kr||kn||kt||Ar||mt||$t||Mt||Or){Er(!1),Qr(!1),gr(!1),Yn(!1),Zt(!1),ft(!1),Ct(!1),Bt(!1),wr(!1),ur(!1);return}te(!1),J("");return}if(!Nr){if(Lt.key==="ArrowUp"){Lt.preventDefault();const sr=T.filter(cr=>cr.active??!0).sort((cr,yr)=>cr.order-yr.order),lr=sr.findIndex(cr=>cr.id===K);lr>0&&J(sr[lr-1].id);return}if(Lt.key==="ArrowDown"){Lt.preventDefault();const sr=T.filter(cr=>cr.active??!0).sort((cr,yr)=>cr.order-yr.order),lr=sr.findIndex(cr=>cr.id===K);lr>=0&&lr<sr.length-1&&J(sr[lr+1].id);return}if(Lt.key==="ArrowRight"){Lt.preventDefault(),Dn.length&&$e(sr=>Math.min(Dn.length-1,sr+1));return}if(Lt.key==="ArrowLeft"){Lt.preventDefault(),Dn.length&&$e(sr=>Math.max(0,sr-1));return}if(Lt.key==="+"||Lt.key==="="&&Lt.shiftKey||Lt.code==="NumpadAdd"){Lt.preventDefault();const sr=Dn[Ge];sr&&(zr(sr),Sr({}),un([]),an(""),Er(!0));return}if(Lt.key==="Enter"){Lt.preventDefault();const sr=Dn[Ge];sr&&((sr.requiredModifierGroups||[]).filter(cr=>cr.active).length>0?(zr(sr),Sr({}),un([]),an(""),Er(!0)):Bn(sr));return}}}};return window.addEventListener("keydown",wt),()=>window.removeEventListener("keydown",wt)},[Fr,T,K,Dn,Ge]),reactExports.useEffect(()=>{try{Fr==="pdv"&&Sn.current?.focus()}catch{}},[Fr]),reactExports.useEffect(()=>{let wt=!0;const Lt=async()=>{try{const Nr=await listTicketStatusRows(),sr=new Set,lr=new Set,cr=new Set,yr=new Set;for(const $r of Array.isArray(Nr)?Nr:[]){const Gr=String($r?.orderId??""),qr=String($r?.status??"");Gr&&(qr==="queued"&&sr.add(Gr),qr==="prep"&&lr.add(Gr),qr==="ready"&&cr.add(Gr),qr==="done"&&yr.add(Gr))}if(!wt)return;Br($r=>$r.map(Gr=>{const qr=String(Gr.id);return yr.has(qr)?{...Gr,status:"DELIVERED",deliveredAt:Gr.deliveredAt??new Date}:cr.has(qr)?{...Gr,status:"READY",readyAt:Gr.readyAt??new Date}:lr.has(qr)?{...Gr,status:"PREPARING",updatedAt:Gr.updatedAt??new Date}:(sr.has(qr)&&Gr.status==="NEW",Gr)}))}catch{}};Lt();const tr=setInterval(()=>{document.visibilityState==="visible"&&Lt()},15e3);return()=>{wt=!1,clearInterval(tr)}},[Br]),reactExports.useEffect(()=>{let wt=!0;const Lt=async()=>{try{const Nr=await listOrdersDetailed(200);if(!wt)return;Br(sr=>{const lr={};for(const cr of sr)lr[String(cr.id)]=cr;for(const cr of Nr||[]){const yr=cr.order,$r=String(yr.id),Gr=lr[$r],qr=cr.phaseTimes||{},sn=String(yr.status||"").toLowerCase(),Jn=String(yr.status||"").toUpperCase(),Un=sn==="cancelled"||Jn==="CANCELLED"?"CANCELLED":yr.closed_at||yr.completed_at||sn==="closed"||Jn==="DELIVERED"||qr.deliveredAt?"DELIVERED":qr.readyAt?"READY":qr.preparingStart?"PREPARING":Jn==="READY"?"READY":Jn==="PREPARING"?"PREPARING":Gr?.status||"NEW",wa={NEW:0,PREPARING:1,READY:2,DELIVERED:3,CANCELLED:3},Ha=Gr?.status?String(Gr.status).toUpperCase():void 0,Za=wa[String(Un).toUpperCase()]??0,Qn=wa[Ha||"NEW"]??0,ta=Za<Qn?Gr?.status||Un:Za>Qn?Un:Gr?.status||Un,pa=yr.operational_session_id?String(yr.operational_session_id):void 0,xn=cr.unitStates||{},ca=(cr.items||[]).map(Gt=>{const br=Number(Gt.qty??Gt.quantity??1),_r=String(Gt.id),Lr=Array.from({length:Math.max(1,br)},(Rn,Cn)=>{const zn=`${_r}-${Cn+1}`,ra=xn[`${_r}:${zn}`]||{};return{unitId:zn,unitStatus:ra.unitStatus??"PENDING",operatorName:ra.operatorName??void 0,completedObservations:Array.isArray(ra.completedObservations)?ra.completedObservations:[],completedAt:ra.completedAt??void 0,deliveredAt:ra.deliveredAt??void 0}});return{id:_r,menuItem:{id:String(Gt.product_id??Gt.productId??String(Gt.id)),name:String(Gt.product_name??"Item"),price:Math.max(0,Number(Gt.unit_price_cents??Gt.unitPriceCents??0)/100),sla:0,categoryId:String(Gt.category_id??""),observations:[],active:!0},quantity:br,unitPrice:Math.max(0,Number(Gt.unit_price_cents??Gt.unitPriceCents??0)/100),productionUnits:Lr}}),Vr=cr.payments||[],Ye=(Vr||[]).reduce((Gt,br)=>Gt+Math.max(0,Number(br.amount_cents??br.amountCents??0)/100),0),yt=(Vr||[]).length>1?Object.fromEntries((Vr||[]).map(Gt=>[String(Gt.method).toUpperCase(),Math.max(0,Number(Gt.amount_cents??Gt.amountCents??0)/100)])):void 0,vt=(Vr||[]).length>1?"MLTIPLO":(Vr||[])[0]?.method?String((Vr||[])[0].method).toUpperCase():"";lr[$r]={id:$r,pin:cr.details?.pin||Gr?.pin||$r,password:cr.details?.password||Gr?.password||"",items:ca,total:Ye>0?Ye:Math.max(0,Number(yr.total_cents??0)/100),paymentMethod:yt?"MLTIPLO":vt||"No informado",paymentBreakdown:yt,status:ta,createdAt:yr.opened_at||yr.created_at?new Date(yr.opened_at||yr.created_at):Gr?.createdAt||new Date,updatedAt:qr.preparingStart?new Date(qr.preparingStart):yr.updated_at?new Date(yr.updated_at):Gr?.updatedAt??new Date,readyAt:qr.readyAt?new Date(qr.readyAt):Gr?.readyAt,deliveredAt:yr.closed_at||yr.completed_at?new Date(yr.closed_at||yr.completed_at):qr.deliveredAt?new Date(qr.deliveredAt):Gr?.deliveredAt,slaMinutes:Gr?.slaMinutes??0,createdBy:Gr?.createdBy??"",operationalSessionId:Gr?.operationalSessionId??pa}}return Object.values(lr)})}catch{}};Lt();const tr=setInterval(Lt,3e3);return()=>{wt=!1,clearInterval(tr)}},[Br]),reactExports.useEffect(()=>{const wt=window?.api;if(!wt?.db?.onChange)return;const Lt=wt.db.onChange(tr=>{if(!tr||!tr.table)return;const{table:Nr,operation:sr}=tr;["orders","order_items","payments","kds_phase_times","kds_tickets","orders_details","kds_unit_states"].includes(Nr)&&(sr==="insert"||sr==="update"||sr==="delete")&&setTimeout(async()=>{try{const cr=await listOrdersDetailed(200);Br(yr=>{const $r={};for(const qr of yr)$r[String(qr.id)]=qr;const Gr=[];for(const qr of cr){const sn=qr.order,Jn=String(sn.id),Un=$r[Jn],wa=qr.items||[],Ha=qr.payments||[],Za=qr.details?.pin,Qn=qr.details?.password,ta=qr.phaseTimes||{},pa=(Ha||[]).reduce((yt,vt)=>yt+Math.max(0,Number(vt.amount_cents??vt.amountCents??0)/100),0),xn=(Ha||[]).length>1?Object.fromEntries((Ha||[]).map(yt=>[String(yt.method).toUpperCase(),Math.max(0,Number(yt.amount_cents??yt.amountCents??0)/100)])):void 0,ca=(Ha||[]).length>1?"MLTIPLO":(Ha||[])[0]?.method?String((Ha||[])[0].method).toUpperCase():"",Vr=(()=>{const yt=String(sn.status||"").toLowerCase(),vt=String(sn.status||"").toUpperCase();return yt==="cancelled"||vt==="CANCELLED"?"CANCELLED":sn.closed_at||sn.completed_at||yt==="closed"||vt==="DELIVERED"||ta?.deliveredAt?"DELIVERED":ta?.readyAt?"READY":ta?.preparingStart?"PREPARING":vt==="READY"?"READY":vt==="PREPARING"?"PREPARING":Un?.status||"NEW"})(),Ye={id:Jn,pin:Za||Un?.pin||"",password:Qn||Un?.password||"",items:(wa||[]).map(yt=>({id:String(yt.id),quantity:Number(yt.qty??1),menuItem:{id:String(yt.product_id??""),name:String(yt.product_name??"Item"),price:Math.max(0,Number(yt.unit_price_cents??0)/100),unitDeliveryCount:1,categoryId:String(yt.category_id??"")},productionUnits:Un?.items?.find(vt=>String(vt.id)===String(yt.id))?.productionUnits||[],skipKitchen:!1})),total:Math.max(0,Number(sn.total_cents??0)/100),customerWhatsApp:Un?.customerWhatsApp,paymentMethod:ca,status:Vr,createdAt:sn.opened_at?new Date(sn.opened_at):Un?.createdAt||new Date,readyAt:ta?.readyAt?new Date(ta.readyAt):Un?.readyAt,deliveredAt:ta?.deliveredAt?new Date(ta.deliveredAt):sn.closed_at?new Date(sn.closed_at):Un?.deliveredAt,slaMinutes:Un?.slaMinutes??30,createdBy:Un?.createdBy??"Sistema",amountPaid:pa>0?pa:Un?.amountPaid,changeAmount:Un?.changeAmount,updatedAt:ta?.preparingStart?new Date(ta.preparingStart):sn.updated_at?new Date(sn.updated_at):Un?.updatedAt,operationalSessionId:sn.operational_session_id?String(sn.operational_session_id):Un?.operationalSessionId};Gr.push(Ye)}return Gr})}catch(cr){console.warn("Erro ao recarregar pedidos aps mudana no banco:",cr)}},100)});return()=>{Lt&&Lt()}},[Br]),reactExports.useEffect(()=>{let wt=!0;const Lt=(()=>{const cr=__vite_import_meta_env__$3?.VITE_LAN_HUB_URL;return cr||`http://${typeof window<"u"&&window.location.hostname||"localhost"}:4000`})(),tr=__vite_import_meta_env__$3?.VITE_LAN_SYNC_SECRET||void 0;let Nr=null,sr=null,lr=null;return(async()=>{try{const cr=await getDeviceProfile(),yr=cr?.unitId||"default",$r=cr?.deviceId||crypto.randomUUID();try{const{supabase:Jn}=await __vitePreload(async()=>{const{supabase:Un}=await Promise.resolve().then(()=>supabase$1);return{supabase:Un}},void 0);if(Jn&&wt){const Un=async()=>{const Qn=await listTicketStatusRows(),ta=new Set,pa=new Set,xn=new Set,ca=new Set;for(const Vr of Array.isArray(Qn)?Qn:[]){const Ye=String(Vr?.orderId??""),yt=String(Vr?.status??"");Ye&&(yt==="queued"&&ta.add(Ye),yt==="prep"&&pa.add(Ye),yt==="ready"&&xn.add(Ye),yt==="done"&&ca.add(Ye))}wt&&Br(Vr=>Vr.map(Ye=>{const yt=String(Ye.id);return ca.has(yt)?{...Ye,status:"DELIVERED",deliveredAt:Ye.deliveredAt??new Date}:xn.has(yt)?{...Ye,status:"READY",readyAt:Ye.readyAt??new Date}:pa.has(yt)?{...Ye,status:"PREPARING",updatedAt:Ye.updatedAt??new Date}:(ta.has(yt)&&Ye.status==="NEW",Ye)}))};await Un();let wa=null;const Ha=async()=>{wa&&clearTimeout(wa),wa=setTimeout(async()=>{try{await Un()}catch{}wa=null},50)},Za=Jn.channel("pdv_kds_status_changes").on("postgres_changes",{event:"*",schema:"public",table:"kds_tickets"},Ha).on("postgres_changes",{event:"*",schema:"public",table:"kds_phase_times"},Ha).subscribe();Nr=()=>{wa&&clearTimeout(wa);try{Za.unsubscribe()}catch{}}}}catch{}if(!tr)return;const Gr=Lt.replace(/^http/,"ws")+`/realtime?token=${encodeURIComponent(tr)}`;let qr=0;const sn=()=>{if(!wt)return;qr++;try{sr?.close()}catch{}sr=new WebSocket(Gr),sr.addEventListener("open",()=>{sr?.send(JSON.stringify({unit_id:yr,device_id:$r}))}),sr.addEventListener("message",Un=>{if(!wt)return;let wa=[];try{const Qn=JSON.parse(String(Un.data));Qn?.type==="events"&&(wa=Qn.events||[])}catch{}try{(async()=>await applyHubEvents(wa))()}catch{}const Ha=wa.filter(Qn=>String(Qn.table)==="kdsTickets"&&(Qn.row||Qn.rows));if(Ha.length){const Qn=pa=>{const xn=String(pa||"").toLowerCase();return xn==="done"||xn==="delivered"?"DELIVERED":xn==="ready"?"READY":xn==="prep"||xn==="preparing"?"PREPARING":"NEW"},ta={};for(const pa of Ha){const xn=pa.row||{},ca=xn.order_id??xn.orderId??null;if(!ca)continue;const Vr=String(ca),Ye=Qn(String(xn.status??pa.status??"queued"));ta[Vr]=Ye}Br(pa=>pa.map(xn=>{const ca=String(xn.id),Vr=ta[ca];return Vr?Vr==="DELIVERED"?{...xn,status:"DELIVERED",deliveredAt:xn.deliveredAt??new Date}:Vr==="READY"?{...xn,status:"READY",readyAt:xn.readyAt??new Date}:Vr==="PREPARING"?{...xn,status:"PREPARING",updatedAt:xn.updatedAt??new Date}:(Vr==="NEW"&&xn.status==="NEW",xn):xn}))}const Za=wa.filter(Qn=>String(Qn.table)==="orders"&&(Qn.row||Qn.rows));if(Za.length){const Qn={};for(const ta of Za){const pa=ta.row||{},xn=String(pa.id??"");xn&&(Qn[xn]=pa)}Br(ta=>{const pa={NEW:0,PREPARING:1,READY:2,DELIVERED:3,CANCELLED:3},xn={};for(const ca of ta)xn[String(ca.id)]=ca;for(const[ca,Vr]of Object.entries(Qn)){const Ye=xn[ca];if(Ye){const yt=Vr.status?String(Vr.status).toUpperCase():void 0,vt=String(Ye.status||"NEW").toUpperCase(),Gt=yt&&(pa[yt]??0)<(pa[vt]??0);xn[ca]={...Ye,...Vr,status:Gt?Ye.status:Vr.status??Ye.status,createdAt:Vr.createdAt?new Date(Vr.createdAt):Ye.createdAt,updatedAt:Vr.updatedAt?new Date(Vr.updatedAt):Ye.updatedAt??new Date,readyAt:Vr.readyAt?new Date(Vr.readyAt):Ye.readyAt,deliveredAt:Vr.deliveredAt?new Date(Vr.deliveredAt):Ye.deliveredAt}}else xn[ca]={...Vr,createdAt:Vr.createdAt?new Date(Vr.createdAt):new Date,updatedAt:Vr.updatedAt?new Date(Vr.updatedAt):new Date,readyAt:Vr.readyAt?new Date(Vr.readyAt):void 0,deliveredAt:Vr.deliveredAt?new Date(Vr.deliveredAt):void 0}}return Object.values(xn)})}});const Jn=()=>{if(!wt)return;const Un=Math.min(3e4,1e3*Math.pow(2,Math.min(5,qr)));clearTimeout(lr),lr=setTimeout(()=>sn(),Un)};sr.addEventListener("error",()=>{Jn()}),sr.addEventListener("close",()=>{Jn()})};sn()}catch{}})(),()=>{wt=!1,clearTimeout(lr);try{sr?.close()}catch{}try{Nr?.()}catch{}}},[Br]);const Et=(wt,Lt,tr="error")=>{Wt({title:wt,message:Lt,variant:tr}),Bt(!0)},pr=()=>{if(!b||!R){Et("Erro","Usurio ou loja no identificados.","error");return}const wt={id:Date.now().toString(),pin:generateSessionPin(rt),storeId:R.id,storeName:R.name,openedByUserId:b.id,openedByUserName:b.name,openingTime:new Date,status:"OPEN"};ut(wt),nt(Lt=>Lt+1),showSuccess$1(`Sesso operacional ${wt.pin} iniciada!`),Zt(!0)},jr=()=>{if(Je){if($n.length>0){Et("Ao Bloqueada",`Ainda existem ${$n.length} pedidos em produo (Novo, Preparando ou Pronto). Marque-os como Entregue ou Cancelado antes de encerrar a sesso.`,"info");return}wr(!0)}},wn=()=>{if(!Je)return;const wt={...Je,closingTime:new Date,status:"CLOSED"};lt(Lt=>[...Lt,wt]),ut(null),Br(Lt=>Lt.filter(tr=>tr.status==="DELIVERED"||tr.status==="CANCELLED")),pt([]),showSuccess$1(`Sesso operacional ${wt.pin} encerrada com sucesso! Pedidos ativos foram limpos.`)},Bn=(wt,Lt,tr=0)=>{if(!Da){Et("Sesso Necessria"," necessrio iniciar uma sesso operacional para registrar vendas.","info");return}if(!Gn){Et("Caixa Fechado"," necessrio abrir o caixa para registrar vendas.","info"),Zt(!0);return}const Nr={unitId:Date.now().toString()+Math.random().toString(36).substring(2,9),unitStatus:"PENDING",operatorName:void 0,completedObservations:[]},sr=ye.findIndex(lr=>lr.menuItem.id===wt.id&&lr.observations===Lt&&Math.round(lr.discountPercentage||0)===Math.round(tr||0));if(sr>-1){const lr=[...ye];lr[sr].quantity+=1,!wt.skipKitchen&&lr[sr].productionUnits.push({unitId:Date.now().toString()+Math.random().toString(36).substring(2,9),unitStatus:"PENDING",operatorName:void 0,completedObservations:[]}),lr[sr].skipKitchen=!!wt.skipKitchen,Be(lr)}else{const lr=Math.max(0,wt.price*(1-Math.max(0,Math.min(100,tr||0))/100)),cr={id:Date.now().toString(),menuItem:wt,quantity:1,unitPrice:lr,observations:Lt,productionUnits:wt.skipKitchen?[]:[Nr],skipKitchen:!!wt.skipKitchen,discountPercentage:Math.max(0,Math.min(100,tr||0))};Be([...ye,cr])}},hn=(wt,Lt)=>{const tr=ye.find(lr=>lr.id===wt);if(!tr)return;if(Lt<=0){Sa(wt);return}const Nr=!!tr.skipKitchen||!!tr.menuItem.skipKitchen;let sr=Nr?[]:[...tr.productionUnits];if(!Nr&&Lt>tr.quantity){const lr=Lt-tr.quantity;for(let cr=0;cr<lr;cr++)sr.push({unitId:Date.now().toString()+cr,unitStatus:"PENDING",operatorName:void 0,completedObservations:[]})}else if(!Nr&&Lt<tr.quantity){const lr=tr.quantity-Lt;if(sr.filter(yr=>yr.unitStatus==="PENDING").length<lr){Et("Ao Bloqueada","No  possvel reduzir a quantidade pois algumas unidades j esto em preparo ou prontas.","error");return}sr=sr.slice(0,Lt)}Be(ye.map(lr=>lr.id===wt?{...lr,quantity:Lt,productionUnits:sr,skipKitchen:Nr}:lr))},Sa=wt=>{Be(ye.filter(Lt=>Lt.id!==wt))},va=()=>{Be([])},ya=(wt,Lt)=>{Be(ye.map(tr=>tr.id===wt?{...tr,observations:Lt||void 0}:tr))},Ns=wt=>{const Lt=wt.map(tr=>{const Nr=!!tr.skipKitchen||!!tr.menuItem.skipKitchen;if(!tr.productionUnits||tr.productionUnits.length!==tr.quantity){if(!Nr){const sr=[];for(let lr=0;lr<tr.quantity;lr++)sr.push({unitId:Date.now().toString()+lr,unitStatus:"PENDING",operatorName:void 0,completedObservations:[]});return{...tr,productionUnits:sr,skipKitchen:!1}}return{...tr,productionUnits:[],skipKitchen:!0}}return Nr?{...tr,productionUnits:[],skipKitchen:!0}:{...tr,skipKitchen:!1}});Be(Lt),showSuccess$1("Carrinho carregado com sucesso.")},os=async wt=>{try{const Lt=/\+/g.test(wt),tr=wt.replace(/\+/g,"").trim(),sr=(await searchProducts(tr)||[]).find(yr=>String(yr.sku??"").toLowerCase()===tr.toLowerCase()&&!!yr.isActive),cr=(sr?(()=>{const yr={id:sr.id,name:sr.name,price:(sr.priceCents??sr.price_cents??0)/100,sla:15,categoryId:sr.categoryId??sr.category_id,observations:[],requiredModifierGroups:[],image:void 0,active:!!(sr.isActive??sr.is_active??!0),code:sr.sku??void 0},$r=(B||[]).find(Gr=>Gr.id===sr.id||Gr.code&&Gr.code===sr.sku);return $r?{...yr,sla:typeof $r.sla=="number"?$r.sla:yr.sla,observations:Array.isArray($r.observations)?$r.observations:yr.observations,requiredModifierGroups:Array.isArray($r.requiredModifierGroups)?$r.requiredModifierGroups:yr.requiredModifierGroups,image:$r.image??yr.image,skipKitchen:!!($r.skipKitchen??!1),unitDeliveryCount:Math.max(1,Number($r.unitDeliveryCount??1))}:yr})():void 0)??U.find(yr=>yr.code?.toLowerCase()===tr.toLowerCase()&&yr.active);if(cr){const yr=(cr.requiredModifierGroups||[]).filter($r=>$r.active);Lt||yr.length>0?(zr(cr),Sr({}),un([]),an(""),Er(!0)):Bn(cr),qe("")}else showError(`Item com cdigo "${tr}" no encontrado ou inativo.`),qe("")}catch{showError("Falha na busca offline por produtos.")}Tn.current?.blur()},Gs=wt=>{os(wt),Qr(!1)},Ra=(wt,Lt)=>{const tr=T.filter(yr=>yr.active).sort((yr,$r)=>yr.order-$r.order),Nr=tr.findIndex(yr=>yr.id===wt);if(Nr===-1)return;const sr=[...T],lr=sr.find(yr=>yr.id===wt);let cr=Lt==="up"?Nr-1:Nr+1;if(cr>=0&&cr<tr.length){const yr=tr[cr],$r=lr.order;lr.order=yr.order,yr.order=$r,I(sr.map(Gr=>Gr.id===lr.id?lr:Gr.id===yr.id?yr:Gr))}},xs=()=>{if(!Da){Et("Sesso Fechada"," necessrio iniciar uma sesso operacional para abrir o caixa.","info");return}Zt(!0)},ls=async(wt,Lt)=>{try{const tr=await openSession({openedBy:wt.operatorName,openingAmountCents:Math.round((wt.initialAmount??0)*100)});Xt({id:tr,operatorName:wt.operatorName,initialAmount:wt.initialAmount??0,openingTime:new Date,notes:wt.notes??"",cashBreakdown:wt.cashBreakdown??{},status:"OPEN",initialAmountInputMode:Lt,finalAmountInputMode:"total"}),Zt(!1),pn([]);const Nr=await getCurrentSession(),sr=await listSessions();Nr&&Xt(bn(Nr)),jt((sr||[]).map(bn)),showSuccess$1(`Caixa aberto por ${wt.operatorName} com R$ ${wt.initialAmount.toFixed(2)}.`)}catch{showError("Falha ao abrir caixa no banco offline.")}},Ks=wt=>{if(!Gn){Et("Caixa Fechado"," necessrio abrir o caixa para registrar movimentos.","info");return}er(wt),ft(!0)},Kn=async wt=>{if(!Ft){Et("Caixa Fechado","Abra o caixa para registrar movimentos.","info");return}try{await addMovement({sessionId:Ft.id,type:wt.type==="IN"?"in":"out",reason:wt.description,amountCents:Math.round((wt.amount??0)*100)}),pn(Lt=>[...Lt,wt]),Wr(wt),ur(!0),showSuccess$1(`${wt.type==="IN"?"Entrada":"Retirada"} de R$ ${wt.amount.toFixed(2)} registrada.`)}catch{showError("Falha ao registrar movimento no banco offline.")}},Nn=()=>{if(!Ft||Ft.status!=="OPEN"){Et("Caixa Fechado","No h sesso ativa para fechar.","info");return}Ct(!0)},ba=async(wt,Lt)=>{try{await closeSession(Ft.id,{closedBy:wt.operatorName,closingAmountCents:Math.round((wt.finalAmount??0)*100)});const tr=await listSessions();jt((tr||[]).map(bn)),Xt(null),pt([]),Ct(!1);const Nr=wt.difference??0;showSuccess$1(`Caixa fechado com sucesso. Diferena: R$ ${Nr.toFixed(2)}.`)}catch{showError("Falha ao fechar caixa no banco offline.")}},ma=()=>{wr(!1),Gn?Nn():wn()},bs=(wt,Lt="all")=>{const tr=nr.find(cr=>cr.id===wt);if(!tr)return;const Nr=(tr.items||[]).filter(cr=>Lt==="directOnly"?cr.skipKitchen||cr.menuItem?.skipKitchen:!0),sr={},lr={};Nr.forEach(cr=>{const yr=Math.max(1,(cr.quantity||1)*Math.max(1,cr.menuItem?.unitDeliveryCount||1)),$r=Math.max(0,cr.directDeliveredUnitCount||0);for(let Gr=0;Gr<yr;Gr++){const qr=`${cr.id}-${Gr}`,sn=Gr<$r;sr[qr]=!!sn,sn&&(lr[qr]=!0)}}),Mr(sr),mn(lr),Ir({...tr,items:Nr}),Pr(Lt),Yn(!0)},[Na,wi]=reactExports.useState(null);ye.reduce((wt,Lt)=>wt+Lt.unitPrice*Lt.quantity,0);const ti=$n.length;return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full flex-1",children:[jsxRuntimeExports.jsx("div",{className:"bg-white border-b border-gray-200 flex-shrink-0",children:jsxRuntimeExports.jsxs("div",{className:"px-4 lg:px-6 py-3 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Caixa PDV"}),Da?jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs("span",{className:"px-3 py-1 rounded-md text-sm font-medium bg-gray-100 text-gray-800",children:["Sesso ",Je?.pin]}),Gn?jsxRuntimeExports.jsxs("span",{className:"px-3 py-1 rounded-md text-sm font-medium bg-green-100 text-green-800",children:["Caixa aberto por ",Ft?.operatorName]}):jsxRuntimeExports.jsx("span",{className:"px-3 py-1 rounded-md text-sm font-medium bg-red-100 text-red-800",children:"Caixa fechado"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 ml-2",children:[jsxRuntimeExports.jsx(Button,{variant:"danger",size:"md",onClick:Nn,disabled:!Gn,"aria-label":"Fechar Caixa",title:"Fechar Caixa",className:"!rounded-full w-9 h-9 flex items-center justify-center",children:jsxRuntimeExports.jsx("i",{className:"ri-lock-line"})}),jsxRuntimeExports.jsx(Button,{variant:"danger",size:"md",onClick:jr,disabled:!Je,"aria-label":"Encerrar Sesso",title:"Encerrar Sesso",className:"!rounded-full w-9 h-9 flex items-center justify-center",children:jsxRuntimeExports.jsx("i",{className:"ri-logout-box-line"})}),jsxRuntimeExports.jsx(Button,{variant:"info",size:"md",onClick:()=>Ks("IN"),disabled:!Gn,"aria-label":"Entrada de Dinheiro",title:"Entrada de Dinheiro",className:"!rounded-full w-9 h-9 flex items-center justify-center",children:jsxRuntimeExports.jsx("i",{className:"ri-add-line"})}),jsxRuntimeExports.jsx(Button,{variant:"secondary",size:"md",onClick:()=>Ks("OUT"),disabled:!Gn,"aria-label":"Retirada de Dinheiro",title:"Retirada de Dinheiro",className:"!rounded-full w-9 h-9 flex items-center justify-center",children:jsxRuntimeExports.jsx("i",{className:"ri-subtract-line"})}),Da&&!Gn&&jsxRuntimeExports.jsx(Button,{variant:"success",size:"md",onClick:xs,children:"Abrir Caixa"})]})]}):jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-3",children:jsxRuntimeExports.jsx(Button,{variant:"success",size:"md",onClick:pr,children:"Iniciar Sesso"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs(Button,{variant:"secondary",size:"sm",onClick:()=>Ot(!0),className:"hidden md:flex",children:[jsxRuntimeExports.jsx("i",{className:"ri-computer-line mr-2"}),At?Tt.find(wt=>wt.id===At)?.name||"Caixa":"Selecionar Caixa"]}),jsxRuntimeExports.jsx(OperationModeBadge,{}),jsxRuntimeExports.jsxs(Button,{variant:"secondary",size:"sm",onClick:()=>gr(!0),disabled:ti===0,className:`relative ${Oa>0?"animate-subtle-pulse bg-blue-100 text-blue-800 hover:bg-blue-200":""}`,children:[jsxRuntimeExports.jsx("i",{className:"ri-time-line mr-2"}),"Pedidos Ativos (",ti,")",Oa>0&&jsxRuntimeExports.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center ring-2 ring-white",children:Oa})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 p-1 rounded-lg",children:[jsxRuntimeExports.jsxs(Button,{size:"sm",variant:Fr==="pdv"?"primary":"secondary",onClick:()=>Yr("pdv"),className:"!rounded-md",children:[jsxRuntimeExports.jsx("i",{className:"ri-shopping-cart-line mr-2"}),"PDV"]}),jsxRuntimeExports.jsxs(Button,{size:"sm",variant:Fr==="orders"?"primary":"secondary",onClick:()=>Yr("orders"),className:"!rounded-md",children:[jsxRuntimeExports.jsx("i",{className:"ri-list-check-line mr-2"}),"Pedidos"]})]}),Fr==="orders"&&jsxRuntimeExports.jsxs(Button,{variant:"danger",size:"sm",onClick:()=>{wi({title:"Limpar pedidos",message:"Isso apaga todos os pedidos e tempos deste dispositivo. Esta ao no pode ser desfeita.",variant:"danger",confirmText:"Apagar tudo",onConfirm:()=>{(async()=>{try{await clearLocalOrders(),Br([]),showSuccess$1("Pedidos limpos com sucesso.")}catch{showError("Falha ao limpar pedidos.")}finally{wi(null)}})()}})},className:"!rounded-md",children:[jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-6-line mr-2"}),"Limpar pedidos"]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsxs(Button,{variant:"secondary",size:"sm",onClick:()=>{A("/caixa/configuracoes")},title:"Configuraes do PDV",children:[jsxRuntimeExports.jsx("i",{className:"ri-settings-3-line mr-2"}),"Configuraes"]})})]})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex overflow-hidden",tabIndex:0,ref:Sn,children:[Fr==="pdv"&&jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-row overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"order-1 xl:order-1 flex-shrink-0",children:jsxRuntimeExports.jsx(CategorySidebar,{categories:T,selectedCategory:K,onSelectCategory:wt=>{te(!0),J(wt)},onReorderCategory:Ra,kitchens:Xe,selectedKitchenId:Qe,onKitchenChange:st,categoryIdsByKitchen:ct})}),jsxRuntimeExports.jsxs("div",{className:"order-2 flex-1 min-w-0 flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"h-16 px-4 border-b border-gray-200 flex items-center flex-shrink-0 bg-white",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 w-full",children:[jsxRuntimeExports.jsx(Input,{ref:Tn,type:"text",value:Le,onChange:wt=>qe(wt.target.value),onKeyPress:wt=>{wt.key==="Enter"&&os(Le)},placeholder:"Buscar item por cdigo (Ex: XB001) ou use ESPAO",className:"flex-1"}),jsxRuntimeExports.jsx(Button,{onClick:()=>os(Le),disabled:!Le.trim(),children:jsxRuntimeExports.jsx("i",{className:"ri-search-line"})}),jsxRuntimeExports.jsxs(Button,{variant:"secondary",onClick:()=>Qr(!0),children:[jsxRuntimeExports.jsx("i",{className:"ri-list-check-line mr-2"}),"Lista"]})]})}),jsxRuntimeExports.jsx("div",{className:"mt-3 lg:mt-4 flex-1 min-h-0 overflow-y-auto",children:jsxRuntimeExports.jsx(MenuGrid,{items:Dn,onAddToCart:Bn,selectedIndex:Ge,onSelectIndex:$e})})]}),jsxRuntimeExports.jsx("div",{className:"order-3 flex-shrink-0",children:jsxRuntimeExports.jsx(Cart,{items:ye,onUpdateItem:hn,onRemoveItem:Sa,onClearCart:va,onUpdateObservations:ya,onLoadCart:Ns,onSaveOrders:Br,operationalSession:Je,onSetCashMovements:pn})})]}),Fr==="orders"&&jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto",children:jsxRuntimeExports.jsx(OrderListTab,{orders:nr,onMarkAsDelivered:bs})})]}),jsxRuntimeExports.jsx(CashOpening,{isOpen:kt&&Da,onClose:()=>Zt(!1),onConfirm:ls}),jsxRuntimeExports.jsx(CashMovement,{isOpen:Ar,onClose:()=>ft(!1),type:xr,cashSession:Ft,cashMovements:rn,onConfirmMovement:Kn}),jsxRuntimeExports.jsx(CashClosing,{isOpen:mt,onClose:()=>Ct(!1),onConfirm:ba,activeCashSession:Ft,cashMovements:rn}),jsxRuntimeExports.jsx(MovementConfirmationModal,{isOpen:Or,onClose:()=>ur(!1),movementData:Ur}),jsxRuntimeExports.jsx(OrderTrackerModal,{isOpen:Kr,onClose:()=>gr(!1),activeOrders:$n,onMarkAsDelivered:bs}),jsxRuntimeExports.jsx(Modal,{isOpen:kn,onClose:()=>{Yn(!1),Ir(null),Mr({})},title:"Confirmar Entrega",size:"lg",children:Hr&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-purple-50 border border-purple-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-purple-800",children:["Pedido ",jsxRuntimeExports.jsxs("span",{className:"font-bold",children:["#",Hr.pin]}),"  Senha ",jsxRuntimeExports.jsx("span",{className:"font-bold",children:Hr.password})]}),jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[jsxRuntimeExports.jsx("i",{className:"ri-check-double-line mr-1"}),"Conferncia de Entrega"]})]})}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:(Hr.items||[]).map(wt=>jsxRuntimeExports.jsxs("div",{className:"border rounded-lg p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-800",children:wt.menuItem?.name||"Item"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600",children:["Qtd: ",Math.max(1,wt.quantity||1)]})]}),jsxRuntimeExports.jsx("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:Array.from({length:Math.max(1,(wt.quantity||1)*Math.max(1,wt.menuItem?.unitDeliveryCount||1))}).map((Lt,tr)=>{const Nr=`${wt.id}-${tr}`,sr=!!tn[Nr],lr=!!Jr[Nr];return jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>{lr||Mr(cr=>({...cr,[Nr]:!cr[Nr]}))},className:`flex items-center justify-between px-3 py-2 rounded-lg border text-sm ${sr?"bg-green-50 border-green-400 text-green-700":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50"} ${lr?"opacity-70 cursor-not-allowed":""}`,children:[jsxRuntimeExports.jsxs("span",{children:["Unidade ",tr+1]}),jsxRuntimeExports.jsx("i",{className:sr?"ri-check-line":"ri-checkbox-blank-line"})]},Nr)})})]},wt.id))}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 pt-2",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>{Yn(!1),Ir(null),Mr({}),mn({})},className:"flex-1",children:"Cancelar"}),jsxRuntimeExports.jsx(Button,{onClick:()=>{if(!Hr)return;Br(nr.map(Lt=>{if(Lt.id!==Hr.id)return Lt;const tr=Lt.items.map(Nr=>{const sr=Math.max(1,(Nr.quantity||1)*Math.max(1,Nr.menuItem?.unitDeliveryCount||1)),lr=new Date,cr=Array.isArray(Nr.directDeliveredUnitTimes)?Nr.directDeliveredUnitTimes:[],yr=Array.from({length:sr},(qr,sn)=>{const Jn=cr[sn];return Jn?new Date(Jn):void 0}),$r=[];for(let qr=0;qr<sr;qr++){const sn=`${Nr.id}-${qr}`,Jn=!!yr[qr];!!tn[sn]?$r[qr]=Jn?yr[qr]:lr:$r[qr]=void 0}const Gr=$r.filter(Boolean).length;return{...Nr,directDeliveredUnitCount:Gr,directDeliveredUnitTimes:$r}});return{...Lt,items:tr}})),(async()=>{try{const Lt=Hr.id;for(const tr of Hr.items||[]){const Nr=Math.max(1,(tr.quantity||1)*Math.max(1,tr.menuItem?.unitDeliveryCount||1)),sr=Array.isArray(tr.directDeliveredUnitTimes)?tr.directDeliveredUnitTimes:[],lr=new Date;for(let cr=0;cr<Nr;cr++){const yr=`${tr.id}-${cr}`,Gr=!!tn[yr]?sr[cr]?new Date(sr[cr]).toISOString():lr.toISOString():void 0,qr=`${tr.id}-${cr+1}`;await setUnitDelivered(Lt,tr.id,qr,Gr)}}}catch{}})(),(async()=>{try{const Lt=__vite_import_meta_env__$3?.VITE_LAN_HUB_URL,tr=typeof window<"u"&&window.location.hostname||"localhost",Nr=(Lt||`http://${tr}:4000`).replace(/\/$/,""),sr=__vite_import_meta_env__$3?.VITE_LAN_SYNC_SECRET||"",cr=(await getDeviceProfile())?.unitId||"default",yr={"Content-Type":"application/json"};sr&&(yr.Authorization=`Bearer ${sr}`);const $r=(Hr.items||[]).map(sn=>{const Jn=Math.max(1,(sn.quantity||1)*Math.max(1,sn.menuItem?.unitDeliveryCount||1)),Un=Array.isArray(sn.directDeliveredUnitTimes)?sn.directDeliveredUnitTimes:[],wa=Array.from({length:Jn},(ta,pa)=>{const xn=Un[pa];return xn?new Date(xn):void 0}),Ha=new Date,Za=[];for(let ta=0;ta<Jn;ta++){const pa=`${sn.id}-${ta}`,xn=!!wa[ta],ca=!!tn[pa];Za[ta]=ca?xn?wa[ta]:Ha:void 0}const Qn=Za.filter(Boolean).length;return{...sn,directDeliveredUnitCount:Qn,directDeliveredUnitTimes:Za}}),qr=[{table:"orders",row:{...Hr,items:$r},unit_id:cr}];await fetch(Nr+"/push",{method:"POST",headers:yr,body:JSON.stringify({events:qr})})}catch{}})();const wt=(Hr.items||[]).every(Lt=>{const tr=Math.max(1,(Lt.quantity||1)*Math.max(1,Lt.menuItem?.unitDeliveryCount||1));let Nr=0;for(let sr=0;sr<tr;sr++){const lr=`${Lt.id}-${sr}`;tn[lr]&&Nr++}return Nr>=tr});if(Qt==="all")if(wt){const Lt=new Date;Br(nr.map(tr=>tr.id===Hr.id?{...tr,status:"DELIVERED",deliveredAt:Lt}:tr)),(async()=>{try{const tr=__vite_import_meta_env__$3?.VITE_LAN_HUB_URL,Nr=typeof window<"u"&&window.location.hostname||"localhost",sr=(tr||`http://${Nr}:4000`).replace(/\/$/,""),lr=__vite_import_meta_env__$3?.VITE_LAN_SYNC_SECRET||"",yr=(await getDeviceProfile())?.unitId||"default",$r={"Content-Type":"application/json"};lr&&($r.Authorization=`Bearer ${lr}`);const qr=[{table:"orders",row:{...Hr,status:"DELIVERED",deliveredAt:Lt},unit_id:yr}];await fetch(sr+"/push",{method:"POST",headers:$r,body:JSON.stringify({events:qr})})}catch{}})(),(async()=>{try{await closeOrder(String(Hr.id))}catch{}try{const tr=Hr?.ticketId||Hr.id;await setTicketStatus(String(tr),"done")}catch{}})(),showSuccess$1(`Pedido #${Hr.pin} marcado como entregue.`)}else showInfo("Entrega parcial registrada. Conclua as unidades restantes depois.");else{const Lt=nr.find(Nr=>Nr.id===Hr.id);if(!(!!Lt&&(Lt.items||[]).some(Nr=>!(Nr.skipKitchen||Nr.menuItem?.skipKitchen)))&&wt){const Nr=new Date;Br(nr.map(sr=>sr.id===Hr.id?{...sr,status:"DELIVERED",deliveredAt:Nr}:sr)),(async()=>{try{const sr=__vite_import_meta_env__$3?.VITE_LAN_HUB_URL,lr=typeof window<"u"&&window.location.hostname||"localhost",cr=(sr||`http://${lr}:4000`).replace(/\/$/,""),yr=__vite_import_meta_env__$3?.VITE_LAN_SYNC_SECRET||"",Gr=(await getDeviceProfile())?.unitId||"default",qr={"Content-Type":"application/json"};yr&&(qr.Authorization=`Bearer ${yr}`);const Jn=[{table:"orders",row:{...Hr,status:"DELIVERED",deliveredAt:Nr},unit_id:Gr}];await fetch(cr+"/push",{method:"POST",headers:qr,body:JSON.stringify({events:Jn})})}catch{}})(),(async()=>{try{await closeOrder(String(Hr.id))}catch{}try{const sr=Hr?.ticketId||Hr.id;await setTicketStatus(String(sr),"done")}catch{}})(),showSuccess$1(`Pedido #${Hr.pin} marcado como entregue.`)}else showSuccess$1("Entrega direta registrada. Os itens de cozinha seguem em preparo.")}Yn(!1),Ir(null),Mr({}),mn({}),Pr("all")},className:"flex-1",disabled:Object.values(tn).every(wt=>!wt),children:"Confirmar Entrega"})]})]})}),jsxRuntimeExports.jsx(CodeListModal,{isOpen:Rr,onClose:()=>Qr(!1),menuItems:U,categories:T,onSelectCode:Gs}),jsxRuntimeExports.jsx(Modal,{isOpen:or,onClose:()=>Er(!1),title:`Opes e Observaes - ${mr?.name??""}`,size:"lg",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",tabIndex:0,onKeyDown:wt=>{if(wt.key==="Enter"){if(wt.preventDefault(),wt.stopPropagation(),!mr)return;const Lt=(mr.requiredModifierGroups||[]).filter($r=>$r.active),tr=Lt.every($r=>!!nn[$r.id]);if(Lt.length>0&&!tr)return;const Nr=Lt.map($r=>{const Gr=nn[$r.id];return Gr?`[OBRIGATRIO] ${$r.name}: ${Gr}`:""}).filter($r=>$r.length>0).join(", "),sr=Zr.join(", "),lr=Xr.trim(),cr=[Nr,sr,lr].filter($r=>$r.length>0),yr=cr.length>0?cr.join(", "):void 0;Bn(mr,yr),Er(!1),zr(null),Sr({}),un([]),an("")}},children:[mr&&(mr.requiredModifierGroups||[]).filter(wt=>wt.active).length>0&&jsxRuntimeExports.jsxs("div",{className:"p-4 border border-red-300 rounded-lg bg-red-50 space-y-4",children:[jsxRuntimeExports.jsxs("h4",{className:"font-bold text-red-800 flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-alert-line mr-2"}),"Opes Obrigatrias (Selecione 1 por grupo): *"]}),(mr.requiredModifierGroups||[]).filter(wt=>wt.active).map(wt=>jsxRuntimeExports.jsxs("div",{className:"border border-red-200 rounded-lg p-3",children:[jsxRuntimeExports.jsxs("h5",{className:"font-medium text-red-700 mb-2",children:[wt.name,":"]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-2",children:wt.options.map(Lt=>jsxRuntimeExports.jsx("button",{onClick:()=>Sr(tr=>({...tr,[wt.id]:tr[wt.id]===Lt?"":Lt})),className:`p-3 text-sm rounded-lg border-2 transition-colors cursor-pointer whitespace-nowrap ${nn[wt.id]===Lt?"bg-red-100 border-red-500 text-red-800 font-medium":"bg-white border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:Lt},Lt))}),!nn[wt.id]&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-600 mt-2",children:"Seleo obrigatria."})]},wt.id))]}),mr&&[...mr.observations||[],...vn].length>0&&jsxRuntimeExports.jsxs("div",{className:"p-4 border border-amber-300 rounded-lg bg-amber-50",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-amber-800 mb-3",children:"Observaes Opcionais:"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-2",children:[...new Set([...mr.observations||[],...vn])].map(wt=>jsxRuntimeExports.jsxs("button",{onClick:()=>un(Lt=>Lt.includes(wt)?Lt.filter(tr=>tr!==wt):[...Lt,wt]),className:`p-2 text-sm rounded-lg border transition-colors text-left ${Zr.includes(wt)?"bg-amber-100 border-amber-500 text-amber-900":"bg-white border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:[jsxRuntimeExports.jsx("i",{className:`mr-2 ${Zr.includes(wt)?"ri-check-line":"ri-add-line"}`}),wt]},wt))})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Observao personalizada:"}),jsxRuntimeExports.jsx(Input,{type:"text",value:Xr,onChange:wt=>an(wt.target.value),placeholder:"Ex: sem pimenta, sem cebola..."})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 pt-2",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>Er(!1),className:"flex-1",children:"Cancelar"}),jsxRuntimeExports.jsx(Button,{onClick:()=>{if(!mr)return;const wt=(mr.requiredModifierGroups||[]).filter(yr=>yr.active),Lt=wt.every(yr=>!!nn[yr.id]);if(wt.length>0&&!Lt){alert("Selecione uma opo para todos os campos obrigatrios.");return}const tr=wt.map(yr=>{const $r=nn[yr.id];return $r?`[OBRIGATRIO] ${yr.name}: ${$r}`:""}).filter(yr=>yr.length>0).join(", "),Nr=Zr.join(", "),sr=Xr.trim(),lr=[tr,Nr,sr].filter(yr=>yr.length>0),cr=lr.length>0?lr.join(", "):void 0;Bn(mr,cr),Er(!1),zr(null),Sr({}),un([]),an("")},className:"flex-1",disabled:mr&&(mr.requiredModifierGroups||[]).filter(wt=>wt.active).some(wt=>!nn[wt.id]),children:"Adicionar ao Carrinho"})]})]})}),jsxRuntimeExports.jsx(AlertModal,{isOpen:$t,onClose:()=>Bt(!1),title:Pt.title,message:Pt.message,variant:Pt.variant}),jsxRuntimeExports.jsx(ConfirmationModal,{isOpen:Mt,onClose:()=>wr(!1),onConfirm:ma,title:"Encerrar Sesso Operacional",message:Gn?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["O caixa ainda est aberto. Voc deve fech-lo antes de encerrar a sesso operacional.",jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm text-gray-600",children:'Ao clicar em "Fechar Caixa", voc ser redirecionado para a tela de fechamento.'})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Tem certeza que deseja encerrar a sesso operacional?",jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"Pedidos entregues sero limpos das listas visuais do PDV/Cozinha. No  possvel encerrar a sesso com pedidos ativos."})]}),variant:Gn?"warning":"danger",confirmText:Gn?"Fechar Caixa":"Sim, Encerrar Sesso"}),Na&&jsxRuntimeExports.jsx(ConfirmationModal,{isOpen:!!Na,onClose:()=>wi(null),onConfirm:Na.onConfirm,title:Na.title,message:Na.message,variant:Na.variant,confirmText:Na.confirmText}),jsxRuntimeExports.jsx(Modal,{isOpen:Nt,onClose:()=>Ot(!1),title:"Selecionar Caixa / Estao",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Selecione qual caixa este dispositivo est operando:"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 gap-2 max-h-60 overflow-y-auto",children:[Tt.map(wt=>jsxRuntimeExports.jsxs("button",{onClick:()=>{It(wt.id),Ot(!1),window.location.reload()},className:`p-3 rounded-lg border text-left flex justify-between items-center ${At===wt.id?"bg-amber-50 border-amber-500 text-amber-900":"bg-white border-gray-200 hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:wt.name}),At===wt.id&&jsxRuntimeExports.jsx("i",{className:"ri-check-line text-amber-600"})]},wt.id)),Tt.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhuma estao cadastrada."}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Cadastre 'stations' no banco de dados."})]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end mt-4",children:jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>Ot(!1),children:"Cancelar"})})]})})]})}const calculateProductionTimeStatus=b=>{const R=new Date(b.createdAt).getTime(),A=b.status==="READY"||b.status==="DELIVERED"?new Date(b.updatedAt||b.createdAt).getTime():Date.now(),T=Math.floor((A-R)/1e3),I=T/60>b.slaMinutes;return{totalTimeSeconds:T,wasLate:I}},extractRequiredOptions$2=b=>b?b.split(", ").filter(R=>R.startsWith("[OBRIGATRIO]")).map(R=>R.replace("[OBRIGATRIO]","").trim()):[],extractOptionalObservations$2=b=>b?b.split(", ").filter(R=>!R.startsWith("[OBRIGATRIO]")).map(R=>R.trim()).filter(R=>R.length>0):[],getAllChecklistItems=b=>{const R=extractRequiredOptions$2(b).map(T=>({label:T,isRequired:!0})),A=extractOptionalObservations$2(b).map(T=>({label:T,isRequired:!1}));return[...R,...A]},formatOrderPin$2=b=>{const R=String(b??"").trim();return R?`#${R.replace(/^#+/,"")}`:"#-"};function OrderCardComponent({order:b,operators:R,categories:A,onUpdateStatus:T,onCancelOrder:I,onAssignOperator:B,onAssignOperatorToAll:U,onUpdateItemStatus:q}){const[K,J]=reactExports.useState(!1),[ee,te]=reactExports.useState(""),[xe,fe]=reactExports.useState(""),[ye,Be]=reactExports.useState(""),[Le,qe]=reactExports.useState(!1),[Ge,$e]=reactExports.useState(""),[Xe,He]=reactExports.useState(()=>b.status==="NEW"||b.status==="READY"),Qe=reactExports.useRef({}),[st,ct]=reactExports.useState(!1),[gt,Nt]=reactExports.useState(!1),[Ot,Tt]=reactExports.useState(!1),[ir,At]=reactExports.useState({});reactExports.useEffect(()=>{if(!Xe&&Object.keys(Qe.current).length===0){const nr={};b.items.filter(pt=>!pt.skipKitchen).forEach(pt=>{(pt.observations||pt.quantity>1)&&(nr[pt.id]=!0)}),Qe.current=nr}},[Xe,b.items]);const It=nr=>{Qe.current={...Qe.current,[nr]:!Qe.current[nr]},ct(Br=>!Br)},Je=b.status==="NEW"||b.status==="PREPARING",{timeElapsed:ut,isOverdue:et,formatTime:lt}=useTimer(b.createdAt,b.slaMinutes,Je),rt=reactExports.useMemo(()=>A.reduce((nr,Br)=>(nr[Br.id]=Br.name,nr),{}),[A]),nt=reactExports.useMemo(()=>b.items.filter(nr=>!nr.skipKitchen),[b.items]),kt=reactExports.useMemo(()=>b.items.filter(nr=>nr.skipKitchen||nr.menuItem?.skipKitchen),[b.items]),Zt=reactExports.useMemo(()=>{const nr=new Set;return nt.forEach(Br=>{(Br.productionUnits||[]).forEach(pt=>{pt.operatorName&&nr.add(pt.operatorName)})}),Array.from(nr)},[nt]),Ar=reactExports.useMemo(()=>{const nr=nt.flatMap($t=>$t.productionUnits||[]);if(nr.length===0)return null;const Br=nr[0].operatorName;return Br&&nr.every($t=>$t.operatorName===Br)?Br:null},[nt]);reactExports.useEffect(()=>{R.length===1&&b.status==="NEW"&&nt.some(Br=>(Br.productionUnits||[]).some(pt=>!pt.operatorName))&&U(b.id,R[0].name)},[b.id,b.status,R,nt,U]);const ft=nr=>{switch(nr){case"NEW":return"PREPARING";case"PREPARING":return"READY";case"READY":return"DELIVERED";default:return null}},mt=nr=>{switch(nr){case"PREPARING":return"NEW";case"READY":return"PREPARING";case"DELIVERED":return"READY";default:return null}},Ct=nr=>{switch(nr){case"NEW":return"Iniciar Preparo";case"PREPARING":return"Pronto";case"READY":return"Entregue";default:return null}},xr=nr=>{switch(nr){case"NEW":return"info";case"PREPARING":return"success";case"READY":return"success";default:return"primary"}},er=nr=>{switch(nr){case"PREPARING":return"Voltar";case"READY":return"Voltar";case"DELIVERED":return"Voltar";default:return null}},Ft=reactExports.useMemo(()=>nt.every(nr=>(nr.productionUnits||[]).every(Br=>{const pt=Br.unitStatus==="READY",$t=getAllChecklistItems(nr.observations),Bt=$t.length===0||Br.completedObservations&&Br.completedObservations.length===$t.length;return pt&&Bt})),[nt]),Xt=reactExports.useMemo(()=>nt.every(nr=>(nr.productionUnits||[]).every(Br=>!!Br.operatorName)),[nt]),it=nr=>{nr.stopPropagation();const Br=ft(b.status);if(Br){if(b.status==="NEW"&&Br==="PREPARING"){if(R.length===0){$e("No h operadores cadastrados. Adicione um operador para iniciar o preparo."),qe(!0);return}if(!nt.every($t=>($t.productionUnits||[]).every(Bt=>!!Bt.operatorName))){$e(" necessrio atribuir um operador a todas as unidades antes de iniciar o preparo."),qe(!0);return}}if(b.status==="PREPARING"&&Br==="READY"&&!Ft){$e('Todas as unidades de produo devem ser marcadas como "Pronto" e todos os itens do checklist (opes obrigatrias e observaes) devem ser checados.'),qe(!0);return}if(b.status==="READY"&&Br==="DELIVERED"&&kt.length>0){const pt={};kt.forEach($t=>{pt[$t.id]=!!ir[$t.id]}),At(pt),Tt(!0);return}T(b.id,Br)}},jt=(nr,Br,pt,$t)=>{nr.stopPropagation();const Bt=$t?"READY":"PENDING",Pt=b.items.find(wr=>wr.id===Br),Wt=Pt?.productionUnits.find(wr=>wr.unitId===pt);if($t){const wr=getAllChecklistItems(Pt?.observations),Or=wr.length===0||Wt?.completedObservations&&Wt.completedObservations.length===wr.length;if(wr.length>0&&!Or){$e("Complete todos os itens do checklist (opes obrigatrias e observaes) antes de marcar a unidade como pronta."),qe(!0);return}}const Mt=$t?Wt?.completedObservations:[];q(b.id,Br,pt,Bt,Mt)},or=(nr,Br,pt,$t,Bt)=>{if(nr.stopPropagation(),b.status!=="PREPARING")return;const Pt=b.items.find(Ur=>Ur.id===Br),Wt=Pt?.productionUnits.find(Ur=>Ur.unitId===pt);if(!Wt)return;let Mt=[...Wt.completedObservations||[]];Bt?Mt.includes($t)||Mt.push($t):Mt=Mt.filter(Ur=>Ur!==$t);const Or=getAllChecklistItems(Pt.observations).length===Mt.length;let ur=Wt.unitStatus;Wt.unitStatus==="READY"&&!Or&&(ur="PENDING"),q(b.id,Br,pt,ur,Mt)},Er=nr=>{if(nr.stopPropagation(),Be(""),!ee.trim()){Be("O motivo do cancelamento  obrigatrio.");return}if(xe!=="159753"){Be("Senha incorreta!"),fe("");return}I(b.id,ee),mr()},mr=()=>{J(!1),te(""),fe(""),Be("")},zr=nr=>{const Br=Math.floor(nr/60),pt=nr%60;return Br>0?`${Br}h ${pt}m`:`${pt}m`},{totalTimeSeconds:nn,wasLate:Sr}=calculateProductionTimeStatus(b),Zr=b.status==="READY"||b.status==="DELIVERED"?lt(nn):lt(ut),un=b.status==="READY"||b.status==="DELIVERED"?Sr:et,Xr=Ct(b.status),an=b.status==="NEW"||b.status==="PREPARING"||b.status==="READY",vn=mt(b.status)&&b.status!=="PREPARING"&&b.status!=="READY",rn=b.status==="PREPARING",pn=rn,sa=b.status!=="NEW",Hn=!rn;nt.some(nr=>nr.observations);const bn=Ft;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:`bg-white rounded-lg border-2 p-4 shadow-sm transition-all ${un&&(b.status==="NEW"||b.status==="PREPARING")?"border-red-500 bg-red-50 shadow-lg ring-2 ring-red-200 animate-pulse":"border-gray-200"}`,children:[jsxRuntimeExports.jsxs("div",{className:"cursor-pointer pb-3",onClick:()=>He(nr=>!nr),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 min-w-0",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-gray-600",children:formatOrderPin$2(b.pin)}),jsxRuntimeExports.jsx("span",{className:"bg-blue-500 text-white text-lg font-bold px-3 py-1 rounded-lg flex-shrink-0",children:b.password}),Zt.length>0&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:Zt.map(nr=>jsxRuntimeExports.jsxs("span",{className:"text-xs font-medium bg-amber-300 text-amber-900 px-2 py-0.5 rounded-full",children:[jsxRuntimeExports.jsx("i",{className:"ri-user-line mr-1"}),nr]},nr))}),b.customerWhatsApp&&jsxRuntimeExports.jsxs("span",{className:"text-green-600 text-sm hidden sm:inline truncate",children:[jsxRuntimeExports.jsx("i",{className:"ri-whatsapp-line mr-1"}),b.customerWhatsApp]})]}),jsxRuntimeExports.jsx("i",{className:`ri-arrow-${Xe?"down":"up"}-s-line text-xl text-gray-500 flex-shrink-0`})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx("i",{className:"ri-time-line text-gray-500"}),jsxRuntimeExports.jsx("span",{className:`font-bold ${un?"text-red-600":"text-blue-600"}`,children:Zr})]}),jsxRuntimeExports.jsxs("div",{className:"text-gray-500",children:["SLA: ",zr(b.slaMinutes)]}),kt.length>0&&jsxRuntimeExports.jsxs("button",{type:"button",onClick:nr=>{nr.stopPropagation(),Tt(!0)},className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-purple-100 text-purple-700 border border-purple-200 hover:bg-purple-200 hover:text-purple-800",title:"Ver Entrega Direta",children:[jsxRuntimeExports.jsx("i",{className:"ri-truck-line mr-1"}),`Entrega Direta (${kt.length})`]})]}),(b.status==="NEW"||b.status==="PREPARING"||b.status==="READY")&&jsxRuntimeExports.jsx("span",{className:`text-white text-xs font-bold px-2.5 py-1 rounded-full flex-shrink-0 ${un?"bg-red-600":"bg-green-600"}`,children:un?"ATRASADO":"NO PRAZO"})]})]}),!Xe&&jsxRuntimeExports.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[R.length>0&&!sa&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-2",children:"Atribuir a todas as unidades"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:R.map(nr=>jsxRuntimeExports.jsx(Button,{size:"md",variant:Ar===nr.name?"primary":"secondary",className:`text-sm px-3 py-1.5 ${Ar===nr.name?"!bg-amber-500 !text-white !font-semibold hover:!bg-amber-600":""}`,onClick:Br=>{Br.stopPropagation();const pt=Ar===nr.name?"":nr.name;U(b.id,pt)},children:nr.name},nr.id))})]}),jsxRuntimeExports.jsx("div",{className:"space-y-3 mb-4",children:nt.map(nr=>{const Br=rt[nr.menuItem.categoryId]||"Sem Categoria",pt=nr.quantity===1,$t=Qe.current[nr.id],Bt=nr.productionUnits.length,Pt=nr.productionUnits.filter(Kr=>Kr.unitStatus==="READY").length,Wt=Bt-Pt,Mt=Wt===0,wr=nr.productionUnits.filter(Kr=>!!Kr.operatorName).length,Or=Bt-wr,ur=extractRequiredOptions$2(nr.observations),Ur=extractOptionalObservations$2(nr.observations),Wr=ur.length>0||Ur.length>0;return getAllChecklistItems(nr.observations),jsxRuntimeExports.jsxs("div",{className:"border-l-4 pl-3 p-2 rounded-r-lg transition-colors border-amber-400",children:[jsxRuntimeExports.jsxs("div",{className:`font-medium flex items-center justify-between cursor-pointer p-2 rounded-lg border transition-colors text-white ${b.status==="NEW"?wr===Bt?"bg-blue-500 hover:bg-blue-600 border-blue-500":"bg-gray-500 hover:bg-gray-600 border-gray-500":Mt?"bg-green-500 hover:bg-green-600 border-green-500":"bg-amber-500 hover:bg-amber-600 border-amber-500"}`,onClick:()=>It(nr.id),children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0 pr-2 flex items-center",children:[jsxRuntimeExports.jsxs("span",{className:"mx-1 text-amber-100 text-xs font-normal",children:["[",Br,"]"]}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:nr.menuItem.name}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-amber-100 ml-2",children:["(",nr.quantity," ",(nr.quantity===1,"unid."),")"]}),b.status==="NEW"?wr===Bt?jsxRuntimeExports.jsx("i",{className:"ri-user-check-line text-white ml-3 text-base",title:"Todas as unidades atribudas"}):jsxRuntimeExports.jsxs("span",{className:"text-xs font-bold bg-white text-gray-600 px-2 py-0.5 rounded-full ml-3 flex-shrink-0",children:[Or," PENDENTE",Or>1?"S":""]}):Mt?jsxRuntimeExports.jsx("i",{className:"ri-check-double-line text-white ml-3 text-base",title:"Todas as unidades prontas"}):jsxRuntimeExports.jsxs("span",{className:"text-xs font-bold bg-white text-amber-600 px-2 py-0.5 rounded-full ml-3 flex-shrink-0",children:[Wt," PENDENTE",Wt>1?"S":""]}),!$t&&Wr&&jsxRuntimeExports.jsx("i",{className:"ri-alert-line text-white ml-2 text-base"})]}),jsxRuntimeExports.jsx("i",{className:`ri-arrow-${$t?"up":"down"}-s-line text-xl text-white flex-shrink-0`})," "]}),$t&&ur.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-2 bg-red-100 border border-red-300 rounded-lg p-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-2",children:[jsxRuntimeExports.jsx("i",{className:"ri-checkbox-circle-line text-red-600 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("div",{className:"text-xs font-semibold text-red-800 uppercase tracking-wide mb-1",children:"OPES:"}),jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-red-900 leading-relaxed",children:ur.map((Kr,gr)=>jsxRuntimeExports.jsxs("div",{className:"mb-1 last:mb-0",children:[" ",Kr]},gr))})]})]})}),$t&&Ur.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-2 bg-yellow-100 border border-yellow-300 rounded-lg p-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-2",children:[jsxRuntimeExports.jsx("i",{className:"ri-alert-line text-yellow-600 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("div",{className:"text-xs font-semibold text-yellow-800 uppercase tracking-wide mb-1",children:"OBSERVAES:"}),jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-yellow-900 leading-relaxed",children:Ur.map((Kr,gr)=>jsxRuntimeExports.jsxs("div",{className:"mb-1 last:mb-0",children:[" ",Kr]},gr))})]})]})}),$t&&jsxRuntimeExports.jsxs("div",{className:"mt-3 space-y-2 border-t pt-3",children:[!pt&&jsxRuntimeExports.jsx("h5",{className:"text-xs font-medium text-gray-700 mb-2",children:"Rastreamento por Unidade:"}),(nr.productionUnits||[]).map((Kr,gr)=>{const Rr=Kr.unitStatus==="READY",Qr=Kr.operatorName,kn=getAllChecklistItems(nr.observations),Yn=kn.length===0||Kr.completedObservations&&Kr.completedObservations.length===kn.length,Hr=!Rr&&kn.length>0&&!Yn;return jsxRuntimeExports.jsxs("div",{className:`p-2 rounded-lg border transition-colors ${Rr?"bg-green-100 border-green-300":"bg-gray-50 border-gray-200"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Unidade ",pt?"nica":gr+1,":",jsxRuntimeExports.jsx("span",{className:`ml-1 font-bold ${Rr?"text-green-700":"text-gray-700"}`,children:Rr?"Pronto":"Pendente"})]}),pn&&jsxRuntimeExports.jsxs(Button,{size:"md",variant:Rr?"success":"primary",onClick:Ir=>jt(Ir,nr.id,Kr.unitId,!Rr),className:`ml-2 flex-shrink-0 ${Rr?"":"bg-green-500 text-white hover:bg-green-600"}`,title:Rr?"Marcar como Pendente":"Marcar como Pronto",disabled:Hr,children:[jsxRuntimeExports.jsx("i",{className:`mr-1 ${Rr?"ri-checkbox-circle-line":"ri-check-line"}`}),Rr?"Pronto":"Marcar Pronto"]})]}),kn.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-200 space-y-1",children:[jsxRuntimeExports.jsx("h6",{className:"text-xs font-medium text-gray-700 mb-2",children:"Checklist de Conferncia:"}),kn.map((Ir,tn)=>{const Mr=Kr.completedObservations?.includes(Ir.label)||!1;return jsxRuntimeExports.jsxs("label",{className:"flex items-center space-x-2 text-xs text-gray-700 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Mr,onChange:Jr=>or(Jr,nr.id,Kr.unitId,Ir.label,!Mr),className:`rounded border-gray-300 text-amber-600 focus:ring-amber-500 ${Ir.isRequired?"border-red-500":""}`,disabled:Hn}),jsxRuntimeExports.jsx("span",{className:`${Ir.isRequired?"font-bold text-red-700":"text-gray-700"}`,children:Ir.label})]},tn)})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[jsxRuntimeExports.jsx("i",{className:"ri-user-line text-gray-500 flex-shrink-0"}),sa?Qr?jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-blue-700 bg-blue-100 px-2 py-1 rounded",children:Qr}):jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:"No Atribudo"}):R.length>0?jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1 min-w-0",children:R.map(Ir=>jsxRuntimeExports.jsx("button",{type:"button",onClick:tn=>{if(tn.stopPropagation(),b.status!=="NEW")return;const Mr=Qr===Ir.name?"":Ir.name;B(b.id,nr.id,Kr.unitId,Mr)},className:`px-2 py-1 text-xs rounded-md transition-colors whitespace-nowrap pointer-events-auto ${Qr===Ir.name?"bg-amber-300 !text-amber-900 !font-semibold hover:!bg-amber-400":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:Ir.name},Ir.id))}):jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Nenhum operador"})]}),Kr.completedAt&&jsxRuntimeExports.jsxs("div",{className:"mt-2 text-xs text-green-700 font-medium",children:["Concludo s: ",new Date(Kr.completedAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]},Kr.unitId)})]})]},nr.id)})})]}),jsxRuntimeExports.jsx(Modal,{isOpen:Ot,onClose:()=>Tt(!1),title:"Itens de Entrega Direta",size:"md",overlayClassName:"bg-transparent",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"space-y-2",children:kt.map(nr=>jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm text-gray-800",children:[jsxRuntimeExports.jsx("i",{className:"ri-truck-line text-purple-600 mr-2"}),nr.quantity,"x ",nr.menuItem.name]},nr.id))}),jsxRuntimeExports.jsx("div",{className:"pt-2",children:jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>Tt(!1),className:"w-full",children:"Fechar"})})]})}),an||b.status==="CANCELLED"||b.status==="DELIVERED"?jsxRuntimeExports.jsx("div",{className:"space-y-2 pt-4 border-t border-gray-200",children:b.status==="CANCELLED"?jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Cancelado"}),b.cancelReason&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1",children:b.cancelReason})]}):b.status==="DELIVERED"?jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Entregue"})}),vn&&jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:nr=>{nr.stopPropagation(),T(b.id,mt(b.status))},className:"w-full",size:"sm",children:"Voltar"})]}):jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-3",children:[Xr&&jsxRuntimeExports.jsx(Button,{onClick:it,className:"flex-1 min-w-[48%] text-base",size:"md",variant:xr(b.status),disabled:b.status==="NEW"&&(R.length===0||!Xt)||b.status==="PREPARING"&&!bn,children:b.status==="NEW"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("i",{className:"ri-play-line mr-2"}),"Iniciar Preparo"]}):b.status==="PREPARING"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("i",{className:"ri-check-line mr-2"}),"Pronto"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("i",{className:"ri-truck-line mr-2"}),"Entregue"]})}),vn&&jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:nr=>{nr.stopPropagation(),T(b.id,mt(b.status))},className:"flex-1 min-w-[48%] text-base",size:"md",children:er(b.status)}),jsxRuntimeExports.jsxs(Button,{variant:"secondary",onClick:nr=>{nr.stopPropagation(),J(!0)},className:"flex-1 min-w-[48%] text-base bg-red-50 text-red-600 hover:bg-red-100",size:"md",children:[jsxRuntimeExports.jsx("i",{className:"ri-close-circle-line mr-2"}),"Cancelar"]})]})}):null]}),jsxRuntimeExports.jsx(Modal,{isOpen:K,onClose:mr,title:"Cancelar Pedido",size:"sm",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:["Tem certeza que deseja cancelar o pedido ",formatOrderPin$2(b.pin),"?"]}),jsxRuntimeExports.jsx(Input,{label:"Motivo do cancelamento *",value:ee,onChange:nr=>te(nr.target.value),placeholder:"Ex: Cliente desistiu, falta de ingrediente...",required:!0}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Input,{label:"Senha de confirmao *",type:"password",value:xe,onChange:nr=>{fe(nr.target.value),ye&&Be("")},placeholder:"Digite a senha para confirmar",required:!0,error:ye?" ":void 0}),ye&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-600",children:ye})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:mr,className:"flex-1",children:"Voltar"}),jsxRuntimeExports.jsx(Button,{variant:"primary",onClick:Er,className:"flex-1 bg-red-600 hover:bg-red-700",children:"Cancelar Pedido"})]})]})}),jsxRuntimeExports.jsx(AlertModal,{isOpen:Le,onClose:()=>qe(!1),title:"Ao Necessria",message:Ge})]})}const OrderCard=reactExports.memo(OrderCardComponent),extractRequiredOptions$1=b=>b?b.split(", ").filter(R=>R.startsWith("[OBRIGATRIO]")).map(R=>R.replace("[OBRIGATRIO]","").trim()):[],extractOptionalObservations$1=b=>b?b.split(", ").filter(R=>!R.startsWith("[OBRIGATRIO]")).map(R=>R.trim()).filter(R=>R.length>0):[],formatOrderPin$1=b=>{const R=String(b??"").trim();return R?`#${R.replace(/^#+/,"")}`:"#-"};function ReadyTimeStatus({order:b}){const R=b.readyAt?new Date(b.readyAt):b.updatedAt?new Date(b.updatedAt):new Date(b.createdAt),{timeElapsed:A,formatTime:T}=useTimer(R,99999,!0);return jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Aguardando:"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-blue-700 text-lg",children:T(A)})]})}function KitchenTimeStatus({order:b}){const R=normalizeSlaMinutes(b.slaMinutes,15),{totalTimeSeconds:A,wasLate:T,newTimeSeconds:I,preparingTimeSeconds:B}=reactExports.useMemo(()=>{const U=new Date(b.createdAt).getTime(),q=b.updatedAt&&b.status!=="NEW"?new Date(b.updatedAt).getTime():U,K=b.readyAt?new Date(b.readyAt).getTime():q,J=Math.floor((K-U)/1e3),ee=J/60>R,te=Math.floor((q-U)/1e3),xe=J-te;return{totalTimeSeconds:Math.max(0,J),wasLate:ee,newTimeSeconds:Math.max(0,te),preparingTimeSeconds:Math.max(0,xe)}},[b,R]);return jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Tempo Cozinha:"}),jsxRuntimeExports.jsx("span",{className:`font-bold text-lg ${T?"text-red-600":"text-green-600"}`,children:formatDurationSeconds(A)}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500",children:["Espera: ",formatDurationSeconds(I)]}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500",children:["Preparo: ",formatDurationSeconds(B,{minSeconds:1})]}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500",children:["SLA: ",R,"m"]})]})}function ReadyOrderTable({readyOrders:b,onUpdateStatus:R,onUpdateDirectDelivery:A,onConfirmDelivery:T}){const{store:I}=useAuth(),[B,U]=reactExports.useState(!1),[q,K]=reactExports.useState([]),[J,ee]=reactExports.useState(null),[te,xe]=reactExports.useState({}),[fe,ye]=reactExports.useState({}),Be=reactExports.useMemo(()=>[...b].sort((Le,qe)=>{const Ge=new Date(Le.readyAt||Le.updatedAt||Le.createdAt).getTime(),$e=new Date(qe.readyAt||qe.updatedAt||qe.createdAt).getTime();return Ge-$e}),[b]);return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:jsxRuntimeExports.jsxs("h2",{className:"font-semibold text-gray-900 text-xl flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-check-line mr-2 text-green-600"}),"Pedidos Prontos para Retirada (",b.length,")"]})}),Be.length===0?jsxRuntimeExports.jsxs("div",{className:"p-8 text-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-emotion-happy-line text-4xl text-gray-400 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Nenhum pedido pronto no momento."})]}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10 shadow-sm",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-16",children:"Pedido"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-16",children:"Senha"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Pronto Desde"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Tempo Entrega"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Tempo"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-96",children:"Itens & Produo"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Aes"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Be.map(Le=>{const qe=Le.readyAt?new Date(Le.readyAt):Le.updatedAt?new Date(Le.updatedAt):new Date(Le.createdAt),Ge=Le.items.reduce((He,Qe)=>{const st=Math.max(1,Qe.menuItem.unitDeliveryCount||1);return He+Math.max(1,Qe.quantity*st)},0),$e=Le.items.reduce((He,Qe)=>{const ct=(Array.isArray(Qe.productionUnits)?Qe.productionUnits:[]).filter(gt=>!!gt.deliveredAt||Le.status==="DELIVERED").length;return He+ct},0),Xe=$e>0&&$e<Ge;return jsxRuntimeExports.jsxs("tr",{className:"hover:bg-green-50/50",children:[jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 align-top",children:[jsxRuntimeExports.jsx("span",{className:"bg-amber-100 text-amber-800 px-2 py-1 rounded-full text-xs font-bold inline-block w-fit",children:formatOrderPin$1(Le.pin)}),Xe&&jsxRuntimeExports.jsxs("div",{className:"mt-1 inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-amber-100 text-amber-800 border border-amber-200",children:["entregue parcial ",$e,"/",Ge]})]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 align-top",children:jsxRuntimeExports.jsx("div",{className:"text-lg font-bold text-green-600",children:Le.password})}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 align-top text-sm text-gray-900",children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-600",children:qe.toLocaleDateString("pt-BR")}),jsxRuntimeExports.jsx("div",{className:"text-sm font-medium",children:qe.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 align-top",children:jsxRuntimeExports.jsx(ReadyTimeStatus,{order:Le})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 align-top",children:jsxRuntimeExports.jsx(KitchenTimeStatus,{order:Le})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 align-top text-sm text-gray-900",children:jsxRuntimeExports.jsx("div",{className:"space-y-2",children:Le.items.map((He,Qe)=>{const st=extractRequiredOptions$1(He.observations),ct=extractOptionalObservations$1(He.observations),gt=Array.isArray(He.productionUnits)?He.productionUnits.filter(Tt=>!!Tt.deliveredAt||Le.status==="DELIVERED").length:Math.max(0,He.directDeliveredUnitCount||0),Nt=Math.max(1,He.quantity*Math.max(1,He.menuItem.unitDeliveryCount||1)),Ot=gt>0&&gt<Nt;return jsxRuntimeExports.jsxs("div",{className:"border border-gray-200 rounded-lg p-2 bg-white",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium mb-1",children:[He.quantity,"x ",He.menuItem.name,He.skipKitchen&&jsxRuntimeExports.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-purple-100 text-purple-800 border border-purple-200 align-middle",children:[jsxRuntimeExports.jsx("i",{className:"ri-truck-line mr-1"}),"Entrega Direta"]}),Ot&&Le.status!=="DELIVERED"&&jsxRuntimeExports.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-amber-100 text-amber-800 border border-amber-200 align-middle",children:[jsxRuntimeExports.jsx("i",{className:"ri-time-line mr-1"}),"entregue parcial ",gt,"/",Nt]})]}),st.length>0&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-red-800 bg-red-50 border border-red-200 rounded p-1.5 flex items-start mb-2",children:[jsxRuntimeExports.jsx("i",{className:"ri-checkbox-circle-line mr-1 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("span",{className:"flex-1 font-medium",children:["Opes: ",st.join(" | ")]})]}),ct.length>0&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-yellow-800 bg-yellow-50 border border-yellow-200 rounded p-1.5 flex items-start mb-2",children:[jsxRuntimeExports.jsx("i",{className:"ri-alert-line mr-1 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("span",{className:"flex-1",children:["Obs: ",ct.join(" | ")]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-1",children:(He.productionUnits&&He.productionUnits.length>0?He.productionUnits:Array.from({length:Nt}).map((Tt,ir)=>({unitId:`direct-${ir}`,completedAt:void 0,operatorName:void 0,unitStatus:void 0}))).map((Tt,ir)=>{const At=Tt.operatorName,It=Tt.completedAt?new Date(Tt.completedAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"N/A",Je=He.directDeliveredUnitTimes||[],ut=!!Tt.deliveredAt||!!Je[ir]||Le.status==="DELIVERED",lt=ut?Tt.deliveredAt?new Date(Tt.deliveredAt):Je[ir]||(Le.status==="DELIVERED"&&Le.deliveredAt?new Date(Le.deliveredAt):void 0):void 0,rt=lt?new Date(lt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):void 0,nt=He.skipKitchen?ut?"bg-green-500":"bg-amber-500":"";return jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[He.skipKitchen&&jsxRuntimeExports.jsx("span",{className:`w-2 h-2 rounded-full ${nt}`}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["Unidade ",He.quantity===1?"":ir+1]}),At&&jsxRuntimeExports.jsx("span",{className:"text-blue-600 bg-blue-50 px-1 rounded",children:At}),ut&&jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-full text-[10px] font-semibold bg-green-100 text-green-800 border border-green-200",children:[jsxRuntimeExports.jsx("i",{className:"ri-check-line mr-1"}),"entregue"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[!He.skipKitchen&&jsxRuntimeExports.jsxs("span",{className:"text-green-700 font-medium",children:["Pronto s ",It]}),rt&&jsxRuntimeExports.jsxs("span",{className:"text-gray-700 font-medium",children:["Entregue s ",rt]})]})]},Tt.unitId)})})]},Qe)})})}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 align-top space-y-2",children:[jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"success",onClick:()=>{const He=Le.items.map(ct=>({itemId:ct.id,quantity:ct.quantity,menuItem:ct.menuItem,deliveredCount:Math.max(0,ct.directDeliveredUnitCount||0)})),Qe={},st={};He.forEach(ct=>{const gt=ct.deliveredCount;for(let Nt=0;Nt<gt;Nt++){const Ot=`${ct.itemId}-${Nt}`;Qe[Ot]=!0,st[Ot]=!0}}),K(He),xe(Qe),ye(st),ee(Le.id),U(!0)},className:"w-full",children:[jsxRuntimeExports.jsx("i",{className:"ri-check-double-line mr-1"}),"Entregue"]}),jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"secondary",onClick:He=>{He.stopPropagation(),printOrder(Le,void 0,I?.name)},className:"w-full",children:[jsxRuntimeExports.jsx("i",{className:"ri-printer-line mr-1"}),"Imprimir"]})]})]},Le.id)})})]})}),jsxRuntimeExports.jsx(Modal,{isOpen:B,onClose:()=>U(!1),title:"Confirmar Entrega",size:"md",overlayClassName:"bg-transparent",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[q.map((Le,qe)=>{const Ge=Math.max(1,Le.quantity*Math.max(1,Le.menuItem.unitDeliveryCount||1));return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm text-gray-800 mb-2",children:[Le.menuItem.skipKitchen?jsxRuntimeExports.jsx("i",{className:"ri-truck-line text-purple-600 mr-2"}):jsxRuntimeExports.jsx("i",{className:"ri-restaurant-line text-green-600 mr-2"}),Le.quantity,"x ",Le.menuItem.name]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:Array.from({length:Ge}).map(($e,Xe)=>{const He=`${Le.itemId}-${Xe}`,Qe=!!te[He],st=!!fe[He];return jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>{st||xe(ct=>({...ct,[He]:!ct[He]}))},className:`flex items-center justify-between px-3 py-2 rounded-lg border text-sm ${Qe?"bg-green-50 border-green-400 text-green-700":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50"} ${st?"opacity-70 cursor-not-allowed":""}`,children:[jsxRuntimeExports.jsxs("span",{children:["Unidade ",Xe+1]}),jsxRuntimeExports.jsx("i",{className:Qe?"ri-check-line":"ri-checkbox-blank-line"})]},He)})})]},qe)}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>{U(!1),ee(null),K([]),xe({}),ye({})},className:"flex-1",children:"Fechar"}),jsxRuntimeExports.jsx(Button,{className:"flex-1",onClick:()=>{if(!J)return;const Le=q.map(Ge=>{const $e=Math.max(1,Ge.quantity*Math.max(1,Ge.menuItem.unitDeliveryCount||1));let Xe=0;for(let He=0;He<$e;He++){const Qe=`${Ge.itemId}-${He}`;te[Qe]&&Xe++}return{itemId:Ge.itemId,deliveredCount:Xe}});A(J,Le),Le.every((Ge,$e)=>{const Xe=q[$e],He=Math.max(1,Xe.quantity*Math.max(1,Xe.menuItem.unitDeliveryCount||1));return Ge.deliveredCount>=He})&&(T?T(J):R(J,"DELIVERED")),U(!1),ee(null),K([]),xe({}),ye({})},disabled:Object.values(te).every(Le=>!Le),children:"Confirmar"})]})]})})]})}const extractRequiredOptions=b=>b?b.split(", ").filter(R=>R.startsWith("[OBRIGATRIO]")).map(R=>R.replace("[OBRIGATRIO]","").trim()):[],extractOptionalObservations=b=>b?b.split(", ").filter(R=>!R.startsWith("[OBRIGATRIO]")).map(R=>R.trim()).filter(R=>R.length>0):[],formatOrderPin=b=>{const R=String(b??"").trim();return R?`#${R.replace(/^#+/,"")}`:"#-"};function DeliveredOrderItem({order:b}){const[R,A]=reactExports.useState(!1),T=normalizeSlaMinutes(b.slaMinutes,15),{totalTimeSeconds:I,wasLate:B,deliveredTime:U,createdTime:q,newTimeSeconds:K,readyTimeSeconds:J,preparingTimeSeconds:ee,preparationStartTimeMs:te}=reactExports.useMemo(()=>{const xe=new Date(b.createdAt).getTime(),fe=b.updatedAt&&b.status!=="NEW"?new Date(b.updatedAt).getTime():xe,ye=b.readyAt?new Date(b.readyAt).getTime():fe,Be=b.status==="DELIVERED"&&(b.deliveredAt||b.updatedAt)?new Date(b.deliveredAt||b.updatedAt).getTime():ye,Le=ye-xe,qe=Math.floor(Le/1e3),Ge=Le/6e4>b.slaMinutes,$e=fe-xe,Xe=Math.floor($e/1e3),He=ye-fe,Qe=Math.floor(He/1e3),st=Be-ye,ct=Math.floor(st/1e3),gt=b.deliveredAt||b.updatedAt?new Date(b.deliveredAt||b.updatedAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"N/A",Nt=new Date(b.createdAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});return{totalTimeSeconds:Math.max(0,qe),wasLate:Ge,deliveredTime:gt,createdTime:Nt,newTimeSeconds:Math.max(0,Xe),readyTimeSeconds:Math.max(0,ct),preparingTimeSeconds:Math.max(0,Qe),preparationStartTimeMs:fe}},[b]);return reactExports.useMemo(()=>{const xe=new Set;return b.items.forEach(fe=>{(fe.productionUnits||[]).forEach(ye=>{ye.operatorName&&xe.add(ye.operatorName)})}),Array.from(xe)},[b.items]),jsxRuntimeExports.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:`p-4 cursor-pointer transition-colors ${R?"bg-gray-50":"hover:bg-gray-50"}`,onClick:()=>A(!R),children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900",children:formatOrderPin(b.pin)}),jsxRuntimeExports.jsx("span",{className:"bg-green-500 text-white text-sm font-bold px-3 py-1 rounded",children:b.password}),jsxRuntimeExports.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${B?"bg-red-500 text-white":"bg-green-500 text-white"}`,children:B?"ATRASADO":"NO PRAZO"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-600",children:[jsxRuntimeExports.jsxs("span",{className:"hidden sm:inline",children:["Tempo Cozinha: ",formatDurationSeconds(I,{minSeconds:1})]}),jsxRuntimeExports.jsx("i",{className:`ri-arrow-${R?"up":"down"}-s-line text-xl`})]})]})}),R&&jsxRuntimeExports.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-700",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("i",{className:"ri-time-line mr-1 text-gray-600"}),"SLA: ",jsxRuntimeExports.jsxs("span",{className:"font-bold",children:[T," min"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("i",{className:"ri-calendar-line mr-1 text-gray-600"}),"Criado s: ",jsxRuntimeExports.jsx("span",{className:"font-bold",children:q})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("i",{className:"ri-check-double-line mr-1 text-green-600"}),"Entregue s: ",jsxRuntimeExports.jsx("span",{className:"font-bold",children:U})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("i",{className:"ri-restaurant-line mr-1 text-amber-600"}),"Tempo Cozinha: ",jsxRuntimeExports.jsx("span",{className:"font-bold",children:formatDurationSeconds(I)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("i",{className:"ri-hourglass-line mr-1 text-blue-600"}),"Tempo de Espera: ",jsxRuntimeExports.jsx("span",{className:"font-bold",children:formatDurationSeconds(K)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("i",{className:"ri-fire-line mr-1 text-red-600"}),"Tempo de Preparo: ",jsxRuntimeExports.jsx("span",{className:"font-bold",children:formatDurationSeconds(ee,{minSeconds:1})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("i",{className:"ri-truck-line mr-1 text-purple-600"}),"Tempo para Entregar: ",jsxRuntimeExports.jsx("span",{className:"font-bold",children:formatDurationSeconds(J,{minSeconds:1})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 pl-4 border-l-2 border-green-200",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Itens:"}),b.items.map((xe,fe)=>jsxRuntimeExports.jsxs("div",{className:"border border-gray-100 rounded-lg p-3 bg-gray-50",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium text-gray-900 mb-1",children:[xe.quantity,"x ",xe.menuItem.name]}),jsxRuntimeExports.jsx("div",{className:"space-y-1 mt-2",children:(xe.productionUnits||[]).map((ye,Be)=>{const Le=ye.completedAt?new Date(ye.completedAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"N/A";return jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["Unidade ",xe.quantity===1?"":Be+1]}),ye.operatorName&&jsxRuntimeExports.jsx("span",{className:"text-blue-600 bg-blue-100 px-1 rounded",children:ye.operatorName})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-2",children:jsxRuntimeExports.jsxs("span",{className:"text-green-700 font-medium",children:["Pronto s: ",Le]})})]},ye.unitId)})}),(()=>{const ye=extractRequiredOptions(xe.observations),Be=extractOptionalObservations(xe.observations);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ye.length>0&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-red-800 bg-red-50 border border-red-200 rounded p-1.5 flex items-start mb-2 mt-2",children:[jsxRuntimeExports.jsx("i",{className:"ri-checkbox-circle-line mr-1 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("span",{className:"flex-1 font-medium",children:["Opes: ",ye.join(" | ")]})]}),Be.length>0&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-yellow-800 bg-yellow-50 border border-yellow-200 rounded p-1.5 flex items-start mb-2",children:[jsxRuntimeExports.jsx("i",{className:"ri-alert-line mr-1 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("span",{className:"flex-1",children:["Obs: ",Be.join(" | ")]})]})]})})()]},fe))]})]})]})}function DeliveredOrderList({deliveredOrders:b}){const R=reactExports.useMemo(()=>[...b].sort((A,T)=>{const I=new Date(A.updatedAt||A.createdAt).getTime();return new Date(T.updatedAt||T.createdAt).getTime()-I}),[b]);return jsxRuntimeExports.jsx("div",{className:"max-h-96 overflow-y-auto space-y-3",children:R.map(A=>jsxRuntimeExports.jsx(DeliveredOrderItem,{order:A},A.id))})}const statusColumns=[{status:"NEW",title:"Novos",color:"bg-blue-50 border-blue-200"},{status:"PREPARING",title:"Preparando",color:"bg-yellow-50 border-yellow-200"}],MemoizedOrderCard=reactExports.memo(OrderCard);function OrderBoard({orders:b,operators:R,categories:A,onUpdateStatus:T,onCancelOrder:I,onAssignOperator:B,onAssignOperatorToAll:U,onUpdateItemStatus:q,onUpdateDirectDelivery:K,onConfirmDelivery:J}){const[ee,te]=reactExports.useState(!1),[xe,fe]=reactExports.useState(!1),[ye,Be]=reactExports.useState(!1),Le=(He,Qe)=>{T(He,Qe)},qe=b.filter(He=>["NEW","PREPARING"].includes(He.status)),Ge=b.filter(He=>He.status==="READY"),$e=b.filter(He=>He.status==="CANCELLED"),Xe=b.filter(He=>He.status==="DELIVERED");return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"flex flex-nowrap gap-6 overflow-x-auto flex-1 min-h-0",children:statusColumns.map(He=>{const Qe=qe.filter(st=>st.status===He.status);return jsxRuntimeExports.jsxs("div",{className:`rounded-lg border-2 ${He.color} p-4 flex flex-col h-full min-h-0 flex-shrink-0 flex-grow min-w-[380px] lg:min-w-[45%]`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[jsxRuntimeExports.jsx("h2",{className:"font-semibold text-gray-900 text-lg",children:He.title}),jsxRuntimeExports.jsx("span",{className:"bg-white px-2 py-1 rounded-full text-sm font-medium text-gray-600",children:Qe.length})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-hidden min-h-0",children:jsxRuntimeExports.jsxs("div",{className:"h-full overflow-y-auto pr-2 grid grid-cols-1 md:grid-cols-2 gap-3",children:[Qe.map(st=>jsxRuntimeExports.jsx(MemoizedOrderCard,{order:st,operators:R,categories:A,onUpdateStatus:Le,onCancelOrder:I,onAssignOperator:B,onAssignOperatorToAll:U,onUpdateItemStatus:q},st.id)),Qe.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-8 text-gray-400",children:[jsxRuntimeExports.jsx("i",{className:"ri-inbox-line text-3xl mb-2 block"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"Nenhum pedido"})]})]})})]},He.status)})}),jsxRuntimeExports.jsxs(Modal,{isOpen:ye,onClose:()=>Be(!1),title:"Pedidos Prontos para Retirada",size:"full",children:[jsxRuntimeExports.jsx(ReadyOrderTable,{readyOrders:Ge,onUpdateStatus:T,onUpdateDirectDelivery:K||(()=>{}),onConfirmDelivery:J}),jsxRuntimeExports.jsx("div",{className:"flex justify-end pt-4 border-t mt-4",children:jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>Be(!1),children:"Fechar"})})]}),jsxRuntimeExports.jsx(Modal,{isOpen:xe,onClose:()=>fe(!1),title:"Pedidos Entregues",size:"lg",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[Xe.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx("i",{className:"ri-check-double-line text-4xl text-gray-400 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Nenhum pedido entregue"})]}):jsxRuntimeExports.jsx(DeliveredOrderList,{deliveredOrders:Xe}),jsxRuntimeExports.jsx("div",{className:"flex justify-end pt-4 border-t",children:jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>fe(!1),children:"Fechar"})})]})}),jsxRuntimeExports.jsx(Modal,{isOpen:ee,onClose:()=>te(!1),title:"Pedidos Cancelados",size:"lg",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[$e.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx("i",{className:"ri-close-circle-line text-4xl text-gray-400 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Nenhum pedido cancelado"})]}):jsxRuntimeExports.jsx(DeliveredOrderList,{deliveredOrders:$e}),jsxRuntimeExports.jsx("div",{className:"flex justify-end pt-4 border-t",children:jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>te(!1),children:"Fechar"})})]})})]})}function OperatorManagementModal({isOpen:b,onClose:R,operators:A,setOperators:T}){const[I,B]=reactExports.useState(""),[U,q]=reactExports.useState(!1),[K,J]=reactExports.useState(null),[ee,te]=reactExports.useState(null),[xe,fe]=reactExports.useState(""),ye=async()=>{if(I.trim()===""){alert("O nome do operador no pode ser vazio.");return}if(A.some(He=>He.name.toLowerCase()===I.trim().toLowerCase())){alert("Este operador j existe.");return}const Xe=await upsertOperator({name:I.trim()});try{const Qe=(await listOperators()||[]).map(st=>({id:String(st.id),name:String(st.name||"")}));T(Qe)}catch{const He={id:String(Xe),name:I.trim()};T([...A,He])}B("")},Be=Xe=>{te(Xe),fe(Xe.name)},Le=async()=>{if(!ee||xe.trim()===""){alert("O nome no pode ser vazio.");return}const Xe=xe.trim();if(A.some(He=>He.name.toLowerCase()===Xe.toLowerCase()&&He.id!==ee.id)){alert("Este nome j est em uso por outro operador.");return}await upsertOperator({id:ee.id,name:Xe});try{const Qe=(await listOperators()||[]).map(st=>({id:String(st.id),name:String(st.name||"")}));T(Qe)}catch{T(A.map(He=>He.id===ee.id?{...He,name:Xe}:He))}te(null),fe("")},qe=()=>{te(null),fe("")},Ge=Xe=>{J(Xe),q(!0)},$e=async()=>{if(K){await deleteOperator(K.id);try{const He=(await listOperators()||[]).map(Qe=>({id:String(Qe.id),name:String(Qe.name||"")}));T(He)}catch{T(A.filter(Xe=>Xe.id!==K.id))}}q(!1),J(null)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Modal,{isOpen:b,onClose:R,title:"Gerenciar Operadores da Cozinha",size:"md",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Adicionar Novo Operador"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx(Input,{value:I,onChange:Xe=>B(Xe.target.value),placeholder:"Nome do operador",className:"flex-1",onKeyPress:Xe=>Xe.key==="Enter"&&ye()}),jsxRuntimeExports.jsxs(Button,{onClick:ye,children:[jsxRuntimeExports.jsx("i",{className:"ri-add-line mr-2"}),"Adicionar"]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:["Operadores Cadastrados (",A.length,")"]}),A.length===0?jsxRuntimeExports.jsx("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Nenhum operador cadastrado."})}):jsxRuntimeExports.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2 border border-gray-200 rounded-lg p-3",children:A.map(Xe=>{const He=ee?.id===Xe.id;return jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between p-2 bg-white rounded hover:bg-gray-50",children:He?jsxRuntimeExports.jsxs("div",{className:"flex-1 flex space-x-2 items-center",children:[jsxRuntimeExports.jsx(Input,{value:xe,onChange:Qe=>fe(Qe.target.value),onKeyPress:Qe=>Qe.key==="Enter"&&Le(),className:"flex-1",autoFocus:!0}),jsxRuntimeExports.jsx(Button,{size:"sm",onClick:Le,disabled:!xe.trim(),children:jsxRuntimeExports.jsx("i",{className:"ri-save-line"})}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"secondary",onClick:qe,children:jsxRuntimeExports.jsx("i",{className:"ri-close-line"})})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-800",children:Xe.name}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Be(Xe),className:"text-blue-500 hover:text-blue-700",title:"Editar operador",children:jsxRuntimeExports.jsx("i",{className:"ri-edit-line"})}),jsxRuntimeExports.jsx("button",{onClick:()=>Ge(Xe),className:"text-red-500 hover:text-red-700",title:"Remover operador",children:jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-line"})})]})]})},Xe.id)})})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end pt-4 border-t",children:jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:R,children:"Fechar"})})]})}),K&&jsxRuntimeExports.jsx(ConfirmationModal,{isOpen:U,onClose:()=>q(!1),onConfirm:$e,title:"Confirmar Excluso",message:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Tem certeza que deseja remover o operador:",jsxRuntimeExports.jsxs("span",{className:"font-bold text-red-700 block mt-1",children:['"',K.name,'"']}),"?",jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Esta ao no afetar os registros de pedidos antigos."})]}),confirmText:"Sim, remover",variant:"danger"})]})}function KitchenSelectModal({onSelect:b,onCancel:R,operators:A}){const[T,I]=reactExports.useState([]),[B,U]=reactExports.useState(!0),[q,K]=reactExports.useState(null),[J,ee]=reactExports.useState(""),te=reactExports.useCallback(async()=>{const fe=window?.api;try{if(fe?.db?.query){const ye=await fe.db.query("SELECT * FROM kitchens WHERE is_active = 1 ORDER BY display_order, name");ye?.rows&&I(ye.rows)}else{const{supabase:ye}=await __vitePreload(async()=>{const{supabase:Be}=await Promise.resolve().then(()=>supabase$1);return{supabase:Be}},void 0);if(ye){const{data:Be,error:Le}=await ye.from("kitchens").select("id,name,is_active,display_order").eq("is_active",!0).order("display_order",{ascending:!0}).order("name",{ascending:!0});Le?console.error("Erro Supabase ao carregar cozinhas:",Le):I((Be||[]).map(qe=>({id:qe.id,name:qe.name,is_active:1})))}}}catch(ye){console.error("Erro ao carregar cozinhas:",ye)}finally{U(!1)}},[]);reactExports.useEffect(()=>{te()},[te]);const xe=()=>{const fe=T.find(ye=>ye.id===q);b(q,fe?.name||"Todas as Cozinhas",J.trim()||"Operador")};return B?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full mx-4",children:jsxRuntimeExports.jsxs("div",{className:"animate-pulse space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mx-auto"}),jsxRuntimeExports.jsx("div",{className:"h-20 bg-gray-200 rounded"}),jsxRuntimeExports.jsx("div",{className:"h-12 bg-gray-200 rounded"})]})})}):jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 px-6 py-5 text-white",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-14 h-14 rounded-xl bg-white/20 flex items-center justify-center",children:jsxRuntimeExports.jsx("i",{className:"ri-restaurant-2-fill text-3xl"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold",children:"Cozinha (KDS)"}),jsxRuntimeExports.jsx("p",{className:"text-emerald-100",children:"Selecione a cozinha e operador"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[jsxRuntimeExports.jsx("i",{className:"ri-restaurant-line mr-2"}),"Qual cozinha voc vai operar?"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>K(null),className:`w-full p-4 rounded-xl border-2 transition-all flex items-center gap-4 ${q===null?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:[jsxRuntimeExports.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${q===null?"bg-emerald-500 text-white":"bg-gray-100"}`,children:jsxRuntimeExports.jsx("i",{className:"ri-apps-line text-xl"})}),jsxRuntimeExports.jsxs("div",{className:"text-left",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Todas as Cozinhas"}),jsxRuntimeExports.jsx("p",{className:"text-sm opacity-70",children:"Ver pedidos de todas as cozinhas"})]}),q===null&&jsxRuntimeExports.jsx("i",{className:"ri-check-line text-xl ml-auto text-emerald-600"})]}),T.map(fe=>jsxRuntimeExports.jsxs("button",{onClick:()=>K(fe.id),className:`w-full p-4 rounded-xl border-2 transition-all flex items-center gap-4 ${q===fe.id?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:[jsxRuntimeExports.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${q===fe.id?"bg-emerald-500 text-white":"bg-gray-100"}`,children:jsxRuntimeExports.jsx("i",{className:"ri-restaurant-2-fill text-xl"})}),jsxRuntimeExports.jsxs("div",{className:"text-left",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:fe.name}),jsxRuntimeExports.jsx("p",{className:"text-sm opacity-70",children:"Filtrar por esta cozinha"})]}),q===fe.id&&jsxRuntimeExports.jsx("i",{className:"ri-check-line text-xl ml-auto text-emerald-600"})]},fe.id)),T.length===0&&jsxRuntimeExports.jsx("p",{className:"text-center text-gray-500 py-4",children:"Nenhuma cozinha cadastrada. V em ADM  Cozinhas para criar."})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[jsxRuntimeExports.jsx("i",{className:"ri-user-line mr-2"}),"Quem est operando?"]}),A.length>0?jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-2 mb-3",children:A.map((fe,ye)=>jsxRuntimeExports.jsxs("button",{onClick:()=>ee(fe.name),className:`p-3 rounded-lg border transition-all ${J===fe.name?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 hover:border-gray-300"}`,children:[jsxRuntimeExports.jsx("i",{className:"ri-user-fill mr-2"}),fe.name]},ye))}):null,jsxRuntimeExports.jsx(Input,{value:J,onChange:fe=>ee(fe.target.value),placeholder:"Nome do operador",className:"w-full"})]})]}),jsxRuntimeExports.jsxs("div",{className:"px-6 pb-6 flex gap-3",children:[jsxRuntimeExports.jsxs(Button,{variant:"secondary",onClick:R,className:"flex-1",children:[jsxRuntimeExports.jsx("i",{className:"ri-arrow-left-line mr-2"}),"Voltar"]}),jsxRuntimeExports.jsxs(Button,{onClick:xe,className:"flex-1 bg-emerald-500 hover:bg-emerald-600",children:[jsxRuntimeExports.jsx("i",{className:"ri-check-line mr-2"}),"Iniciar"]})]})]})})}const __vite_import_meta_env__$2={},createProductionUnits=b=>{const R=[];for(let A=0;A<b;A++)R.push({unitId:Date.now().toString()+Math.random().toString(36).substring(2,9),unitStatus:"PENDING",operatorName:void 0,completedObservations:[]});return R};function CozinhaPage(){const{user:b,store:R}=useAuth(),A=useNavigate(),[T,I]=reactExports.useState(!0),[B,U]=useLocalStorage("kds_selected_kitchen_id",null),[q,K]=useLocalStorage("kds_selected_kitchen_name","Todas as Cozinhas"),[J,ee]=useLocalStorage("kds_current_operator",""),[te,xe]=reactExports.useState([]),fe=reactExports.useRef({}),[ye,Be]=useLocalStorage("kitchenOperators",[]);reactExports.useEffect(()=>{(async()=>{try{await broadcastOperators(ye)}catch{}})()},[ye]);const[Le,qe]=useLocalStorage("categories",mockCategories),[Ge]=useLocalStorage("currentOperationalSession",null),[$e,Xe]=useLocalStorage("currentCashSession",null),[He,Qe]=reactExports.useState(!1),[st,ct]=reactExports.useState(!1),[gt,Nt]=reactExports.useState(""),[Ot,Tt]=reactExports.useState(!0),[ir,At]=reactExports.useState(!1),[It,Je]=reactExports.useState(!1),[ut,et]=reactExports.useState(!1),[lt,rt]=reactExports.useState(!1),[nt,kt]=reactExports.useState({title:"",message:"",variant:"error"}),[Zt,Ar]=reactExports.useState(!1),[ft,mt]=reactExports.useState(null),[Ct,xr]=reactExports.useState({}),er=reactExports.useRef(te),Ft=reactExports.useRef(!1),Xt=reactExports.useRef(null),it=reactExports.useRef({}),jt=pt=>{try{const $t=localStorage.getItem("kdsOrderDetails");return($t?JSON.parse($t):{})[pt]||{}}catch{return{}}},or=(pt,$t)=>{try{const Bt=localStorage.getItem("kdsOrderDetails"),Pt=Bt?JSON.parse(Bt):{};Pt[pt]={...Pt[pt]||{},...$t},localStorage.setItem("kdsOrderDetails",JSON.stringify(Pt))}catch{}};reactExports.useMemo(()=>!!Ge&&Ge.status==="OPEN",[Ge]);const Er=pt=>pt==="DELIVERED"||pt==="CANCELLED"?3:pt==="READY"?2:pt==="PREPARING"?1:0,mr=(pt,$t,Bt)=>{const Pt=$t??Bt;let Wt=Er(Bt)<Er(Pt)?Pt:Bt;const Mt=fe.current[pt],wr=Date.now();return Mt&&Mt.until>wr?(Er(Mt.status)>Er(Wt)&&(Wt=Mt.status),Er(Wt)>=Er(Mt.status)&&delete fe.current[pt]):Mt&&delete fe.current[pt],Wt},zr=(pt,$t)=>{const Bt={};for(const Pt of pt)Bt[String(Pt.id)]=Pt;return $t.map(Pt=>{const Wt=Bt[String(Pt.id)],Mt=mr(String(Pt.id),Wt?.status,Pt.status),wr=(Ir,tn)=>Ir&&tn?Ir.getTime()<=tn.getTime()?Ir:tn:Ir??tn,Or=wr(Wt?.createdAt,Pt.createdAt)??Pt.createdAt,ur=wr(Wt?.updatedAt,Pt.updatedAt),Ur=wr(Wt?.readyAt,Pt.readyAt),Wr=wr(Wt?.deliveredAt,Pt.deliveredAt),Kr=Pt.pin&&String(Pt.pin).trim()?Pt.pin:Wt?.pin??"",gr=Pt.password&&String(Pt.password).trim()?Pt.password:Wt?.password??"",Rr=Array.isArray(Wt?.items)?Wt.items:[],Qr=Array.isArray(Pt.items)?Pt.items:[],kn=Qr.length?Qr:Rr,Yn={};for(const Ir of Rr)Yn[String(Ir.id)]=Ir;const Hr=kn.map(Ir=>{const tn=Yn[String(Ir.id)];if(!tn||!Array.isArray(tn.productionUnits)||!Array.isArray(Ir.productionUnits))return Ir;const Mr={};for(const mn of tn.productionUnits)Mr[String(mn.unitId)]=mn;const Jr=Ir.productionUnits.map(mn=>{const Qt=Mr[String(mn.unitId)];if(!Qt)return mn;const Pr=String(Qt.unitStatus).toUpperCase()==="READY"||String(mn.unitStatus).toUpperCase()==="READY"?"READY":"PENDING";return{...mn,operatorName:mn.operatorName??Qt.operatorName,unitStatus:Pr,completedObservations:Array.isArray(mn.completedObservations)?mn.completedObservations:Qt.completedObservations,completedAt:mn.completedAt??Qt.completedAt,deliveredAt:mn.deliveredAt??Qt.deliveredAt}});return{...Ir,productionUnits:Jr}});return{...Pt,status:Mt,createdAt:Or,updatedAt:ur,readyAt:Ur,deliveredAt:Wr,pin:Kr,password:gr,items:Hr}})};reactExports.useMemo(()=>te.filter(pt=>["NEW","PREPARING","READY"].includes(pt.status)),[te]),reactExports.useEffect(()=>{let pt=!0;const $t=(()=>{const Pt=__vite_import_meta_env__$2?.VITE_LAN_HUB_URL;return Pt||`http://${typeof window<"u"&&window.location.hostname||"localhost"}:4000`})(),Bt=__vite_import_meta_env__$2?.VITE_LAN_SYNC_SECRET||void 0;return(async()=>{try{const Pt=await getDeviceProfile(),Wt=Pt?.unitId||"default",Mt=Pt?.deviceId||crypto.randomUUID();if(!Bt){try{const{supabase:Wr}=await __vitePreload(async()=>{const{supabase:Kr}=await Promise.resolve().then(()=>supabase$1);return{supabase:Kr}},void 0);if(Wr&&pt){let Kr=null;const gr=()=>{Kr||(Kr=setTimeout(()=>{Kr=null;try{Xt.current?.()}catch{}},50))},Rr=Wr.channel("kds_realtime_changes").on("postgres_changes",{event:"*",schema:"public",table:"kds_tickets"},()=>gr()).on("postgres_changes",{event:"*",schema:"public",table:"order_items"},()=>gr()).on("postgres_changes",{event:"*",schema:"public",table:"orders"},()=>gr()).on("postgres_changes",{event:"*",schema:"public",table:"kds_phase_times"},()=>gr()).on("postgres_changes",{event:"*",schema:"public",table:"kds_unit_states"},()=>gr()).subscribe();return()=>{Kr&&clearTimeout(Kr);try{Rr.unsubscribe()}catch{}}}}catch{}return}const wr=$t.replace(/^http/,"ws")+`/realtime?token=${encodeURIComponent(Bt)}`;let Or=0,ur=null;const Ur=()=>{if(!pt)return;Or++;const Wr=new WebSocket(wr);Wr.addEventListener("open",()=>{Wr.send(JSON.stringify({unit_id:Wt,device_id:Mt}))}),Wr.addEventListener("message",gr=>{if(!pt)return;let Rr=[];try{const Hr=JSON.parse(String(gr.data));Hr?.type==="events"&&(Rr=Hr.events||[])}catch{}if(!Array.isArray(Rr)||Rr.length===0)return;try{(async()=>await applyHubEvents(Rr))()}catch{}const Qr=Rr.filter(Hr=>String(Hr.table)==="kdsTickets"&&(Hr.row||Hr.rows)),kn=Rr.filter(Hr=>String(Hr.table)==="orders"&&(Hr.row||Hr.rows)),Yn=Rr.filter(Hr=>String(Hr.table)==="kds_phase_times"&&(Hr.row||Hr.rows));if(Qr.length||kn.length||Yn.length)try{Xt.current?.()}catch{}if(Qr.length){const Hr=tn=>{const Mr=String(tn).toUpperCase();return Mr==="QUEUED"||Mr==="NEW"?"NEW":Mr==="PREP"||Mr==="PREPARING"?"PREPARING":Mr==="READY"?"READY":Mr==="DONE"||Mr==="DELIVERED"?"DELIVERED":"NEW"},Ir={};for(const tn of Qr){const Mr=tn.row?[tn.row]:Array.isArray(tn.rows)?tn.rows:[];for(const Jr of Mr){const mn=String(Jr.order_id??Jr.orderId??Jr.id),Qt=Hr(String(Jr.status??tn.status??"queued"));Ir[mn]=Qt}}try{const tn=new Date().toISOString(),Mr=[];for(const Jr of Qr){const mn=Jr.row?[Jr.row]:Array.isArray(Jr.rows)?Jr.rows:[];for(const Qt of mn){const Pr=String(Qt.id??""),Fr=String(Qt.order_id??Qt.orderId??"");if(!Pr||!Fr||it.current[Pr])continue;it.current[Pr]=Date.now();const Yr=Qt.updated_at??Qt.updatedAt??null,Tn=(()=>{const Sn=Yr?new Date(String(Yr)).getTime():NaN,Va=Date.now()-Sn;return Number.isFinite(Va)&&Va>=0?Va:null})();Mr.push({table:"kdsAcks",row:{ticketId:Pr,orderId:Fr,receivedAt:tn,receiverDeviceId:Mt,senderUpdatedAt:Yr,receiveDelayMs:Tn},unit_id:Wt})}}if(Mr.length){const Jr={"Content-Type":"application/json",Authorization:`Bearer ${Bt}`};fetch(`${$t.replace(/\/$/,"")}/push`,{method:"POST",headers:Jr,body:JSON.stringify({events:Mr})}).catch(()=>{})}}catch{}reactExports.startTransition(()=>{xe(tn=>tn.map(Mr=>{const Jr=String(Mr.id),mn=Ir[Jr];if(!mn)return Mr;const Qt=mr(Jr,Mr.status,mn);return Qt===Mr.status?Mr:Qt==="DELIVERED"?{...Mr,status:"DELIVERED",deliveredAt:Mr.deliveredAt??new Date,updatedAt:Mr.updatedAt}:Qt==="READY"?{...Mr,status:"READY",readyAt:Mr.readyAt??new Date}:Qt==="PREPARING"?{...Mr,status:"PREPARING",updatedAt:Mr.updatedAt??new Date,readyAt:void 0}:Qt==="NEW"?{...Mr,status:"NEW",updatedAt:void 0,readyAt:void 0}:Mr}))})}if(kn.length){for(const Hr of kn){const Ir=Hr.row||{},tn=String(Ir.id||""),Mr=typeof Ir.pin=="string"?Ir.pin:void 0,Jr=typeof Ir.password=="string"?Ir.password:void 0;tn&&(Mr||Jr)&&or(tn,{pin:Mr,password:Jr})}reactExports.startTransition(()=>{xe(Hr=>Hr.map(Ir=>{const tn=kn.filter(Pr=>String(Pr.row?.id||Pr.rows?.[0]?.id||"")===String(Ir.id)),Mr=tn.length?tn[tn.length-1].row||{}:{},Jr=String(Mr.status||"").toLowerCase(),mn=jt(String(Ir.id)),Qt={...Ir};return!Qt.pin&&mn.pin&&(Qt.pin=mn.pin),!Qt.password&&mn.password&&(Qt.password=mn.password),Jr==="closed"&&(Qt.status="DELIVERED",Qt.deliveredAt=Mr.closed_at?new Date(Mr.closed_at):Ir.deliveredAt??new Date),Qt}))})}Yn.length&&reactExports.startTransition(()=>{xe(Hr=>Hr.map(Ir=>{const tn=Yn.filter(Fr=>String(Fr.row?.orderId||"")===String(Ir.id));if(!tn.length)return Ir;const Mr=tn.reduce((Fr,Yr)=>({...Fr,...Yr.row}),{}),Jr=Mr.newStart?new Date(Mr.newStart):Ir.createdAt,mn=Mr.preparingStart?new Date(Mr.preparingStart):Ir.updatedAt,Qt=Mr.readyAt?new Date(Mr.readyAt):Ir.readyAt,Pr=Mr.deliveredAt?new Date(Mr.deliveredAt):Ir.deliveredAt;return{...Ir,createdAt:Jr,updatedAt:mn,readyAt:Qt,deliveredAt:Pr}}))})});const Kr=()=>{if(!pt)return;const gr=Math.min(3e4,1e3*Math.pow(2,Math.min(5,Or)));clearTimeout(ur),ur=setTimeout(()=>Ur(),gr)};Wr.addEventListener("error",()=>{Kr()}),Wr.addEventListener("close",()=>{Kr()})};Ur()}catch{}})(),()=>{pt=!1}},[xe,B]),reactExports.useEffect(()=>{const pt=window?.api;if(!pt?.db?.onChange)return;const $t=pt.db.onChange(Bt=>{if(!Bt||!Bt.table)return;const{table:Pt,operation:Wt}=Bt;["orders","order_items","payments","kds_phase_times","kds_tickets","orders_details","kds_unit_states"].includes(Pt)&&(Wt==="insert"||Wt==="update"||Wt==="delete")&&setTimeout(async()=>{try{const wr=await listTicketsByStatus("queued"),Or=await listTicketsByStatus("prep"),ur=await listTicketsByStatus("ready"),Ur=await listTicketsByStatus("done"),Wr=[...wr,...Or,...ur,...Ur],Kr=[];for(const gr of Wr){const Rr=String(gr.order_id??gr.orderId??"");if(!Rr)continue;const Qr=await getPhaseTimes(Rr),kn=window?.api,Hr=((kn?.db?await kn.db.query("SELECT oi.*, p.name as product_name, p.category_id as category_id FROM order_items oi LEFT JOIN products p ON p.id = oi.product_id WHERE oi.order_id = ?",[Rr]):{rows:[]})?.rows??[]).map(Ir=>({id:String(Ir.id),quantity:Number(Ir.qty??1),skipKitchen:!1,menuItem:{id:String(Ir.product_id??""),name:String(Ir.product_name??"Item"),unitDeliveryCount:1,categoryId:String(Ir.category_id??"")},productionUnits:Array.from({length:Math.max(1,Number(Ir.qty??1))},(tn,Mr)=>({unitId:`${String(Ir.id)}-${Mr+1}`,unitStatus:"PENDING",operatorName:void 0,completedObservations:[],completedAt:void 0}))}));try{const Ir=await loadUnitStatesForOrder(Rr),tn=Hr.map(Qt=>({...Qt,productionUnits:Qt.productionUnits.map(Pr=>{const Fr=`${Rr}:${String(Qt.id)}:${Pr.unitId}`,Yr=Ir[Fr]||{};return{...Pr,operatorName:Yr.operatorName||Pr.operatorName,unitStatus:Yr.unitStatus||Pr.unitStatus,completedObservations:Array.isArray(Yr.completedObservations)?Yr.completedObservations:Pr.completedObservations,completedAt:Yr.completedAt||Pr.completedAt,deliveredAt:Yr.deliveredAt||Pr.deliveredAt}})})),Mr=gr.pin,Jr=gr.password,mn={queued:"NEW",prep:"PREPARING",ready:"READY",done:"DELIVERED"};Kr.push({id:Rr,ticketId:String(gr.id),pin:Mr||"",password:Jr||"",items:tn,total:0,status:mn[String(gr.status)]||"NEW",createdAt:Qr?.newStart?new Date(Qr.newStart):new Date,readyAt:Qr?.readyAt?new Date(Qr.readyAt):void 0,deliveredAt:Qr?.deliveredAt?new Date(Qr.deliveredAt):void 0,slaMinutes:30,createdBy:"Sistema",updatedAt:Qr?.preparingStart?new Date(Qr.preparingStart):void 0})}catch{const Ir=gr.pin,tn=gr.password,Mr={queued:"NEW",prep:"PREPARING",ready:"READY",done:"DELIVERED"},Jr=gr.phase_times||gr.phaseTimes||{},mn=Jr?.newStart?new Date(Jr.newStart):gr.created_at?new Date(gr.created_at):new Date;Kr.push({id:Rr,ticketId:String(gr.id),pin:Ir||"",password:tn||"",items:Hr,total:0,status:Mr[String(gr.status)]||"NEW",createdAt:mn,readyAt:Jr?.readyAt?new Date(Jr.readyAt):void 0,deliveredAt:Jr?.deliveredAt?new Date(Jr.deliveredAt):void 0,slaMinutes:30,createdBy:"Sistema",updatedAt:Jr?.preparingStart?new Date(Jr.preparingStart):void 0})}}reactExports.startTransition(()=>{xe(gr=>zr(gr,Kr))})}catch(wr){console.warn("Erro ao recarregar pedidos aps mudana no banco:",wr)}},100)});return()=>{$t&&$t()}},[xe]);const nn=reactExports.useMemo(()=>te.filter(pt=>pt.status==="READY"),[te]),Sr=reactExports.useMemo(()=>te.filter(pt=>pt.status==="DELIVERED"),[te]),Zr=reactExports.useMemo(()=>te.filter(pt=>pt.status==="CANCELLED"),[te]),un=reactExports.useMemo(()=>{const pt={};return te.forEach($t=>{($t.items||[]).forEach(Bt=>{Bt.skipKitchen||Bt.menuItem?.skipKitchen||(Bt.productionUnits||[]).forEach(Pt=>{const Wt=Pt.operatorName||"Sem Operador",Mt=pt[Wt]||{name:Wt,units:[]};Mt.units.push({orderId:$t.id,orderPin:$t.pin,itemName:Bt.menuItem?.name||"Item",unitId:Pt.unitId,status:Pt.unitStatus}),pt[Wt]=Mt})})}),Object.values(pt).sort(($t,Bt)=>$t.name.localeCompare(Bt.name))},[te]);reactExports.useEffect(()=>{const pt=setInterval(()=>{reactExports.startTransition(()=>{xe($t=>$t.map(Bt=>{try{const Pt=localStorage.getItem("kdsPhaseTimes"),Mt=(Pt?JSON.parse(Pt):{})[String(Bt.id)]||{};return{...Bt,createdAt:Mt.newStart?new Date(Mt.newStart):Bt.createdAt,updatedAt:Mt.preparingStart?new Date(Mt.preparingStart):Bt.updatedAt,readyAt:Mt.readyAt?new Date(Mt.readyAt):Bt.readyAt,deliveredAt:Mt.deliveredAt?new Date(Mt.deliveredAt):Bt.deliveredAt}}catch{return Bt}}))})},1e3);return()=>clearInterval(pt)},[]),reactExports.useEffect(()=>{if(Ft.current)return;let pt=!1;const $t=te.map(Bt=>{let Pt=!1,Wt=Bt;!("operationalSessionId"in Wt)&&Ge&&(Pt=!0,Wt={...Wt,operationalSessionId:Ge.id});const Mt=Wt.items.map(wr=>{let Or=!1,ur=wr;if(!ur.productionUnits||ur.productionUnits.length===0||ur.productionUnits.length!==ur.quantity){Or=!0;const Kr=ur.itemStatus,gr=createProductionUnits(ur.quantity);Kr==="READY"&&gr.forEach(Rr=>Rr.unitStatus="READY"),ur={...ur,productionUnits:gr,operatorName:void 0,itemStatus:void 0}}const Wr=ur.productionUnits.map(Kr=>{let gr=Kr,Rr=!1;return"completedObservations"in Kr||(Rr=!0,gr={...gr,completedObservations:[]}),"completedAt"in Kr||(Rr=!0,gr={...gr,completedAt:void 0}),Rr?(Or=!0,gr):Kr});return Or?(Pt=!0,{...ur,productionUnits:Wr}):ur});return Pt?(pt=!0,{...Wt,items:Mt}):Wt});pt&&(xe($t),console.log("Dados de pedidos migrados para nova estrutura de ProductionUnits.")),Ft.current=!0},[te,xe,Ge]),reactExports.useEffect(()=>{let pt=!0;return(async()=>{try{try{await ensureDeviceProfile({role:"kds"})}catch{}await migrateLocalStorageCatalog();const[$t,Bt,Pt]=await Promise.all([listOperators(),listCategories(),getCurrentSession()]);if(!pt)return;if(Array.isArray($t)&&reactExports.startTransition(()=>Be($t)),Array.isArray(Bt)){const Wt=Bt.map((Mt,wr)=>({id:String(Mt.id),name:String(Mt.name??"Sem nome"),active:!0,order:wr}));reactExports.startTransition(()=>qe(Wt))}Pt&&reactExports.startTransition(()=>Xe(Pt))}catch($t){console.warn("cozinha: carregamento inicial",$t)}})(),()=>{pt=!1}},[Be,qe,Xe]),reactExports.useEffect(()=>{let pt=!0;const $t=Ur=>{const Wr=String(Ur).toUpperCase();return Wr==="QUEUED"||Wr==="NEW"?"NEW":Wr==="PREP"||Wr==="PREPARING"?"PREPARING":Wr==="READY"?"READY":Wr==="DONE"||Wr==="DELIVERED"?"DELIVERED":"NEW"},Bt=Ur=>{const Wr=Number(Ur);return Number.isFinite(Wr)&&Wr>0?Wr:15},Pt=async()=>{if(pt){performance.now();try{const Ur=B||void 0,{supabase:Wr}=await __vitePreload(async()=>{const{supabase:Qt}=await Promise.resolve().then(()=>supabase$1);return{supabase:Qt}},void 0),Kr=!!Wr&&(typeof navigator>"u"||navigator.onLine);let gr=[],Rr=Kr;if(Rr){let Qt=Wr.from("kds_tickets").select("id, order_id, status, created_at, updated_at, kitchen_id").in("status",["NEW","PREPARING","READY","DELIVERED"]);Ur&&(Qt=Qt.eq("kitchen_id",Ur));const{data:Pr,error:Fr}=await Qt;Fr&&(Rr=!1),gr=Array.isArray(Pr)?Pr:[];try{const Yr=new Date().toISOString(),Tn=gr.filter(Sn=>Sn&&String(Sn.status)==="NEW"&&Sn.created_at&&Sn.updated_at&&String(Sn.created_at)===String(Sn.updated_at)).map(Sn=>String(Sn.id)).filter(Boolean);if(Tn.length>0){await Wr.from("kds_tickets").update({updated_at:Yr}).in("id",Tn);const Sn=gr.filter(Qa=>Tn.includes(String(Qa?.id))&&Qa?.created_at).map(Qa=>{const Dn=new Date(String(Qa.created_at)).getTime(),ss=Date.now()-Dn;return Number.isFinite(ss)&&ss>=0?ss:null}).filter(Qa=>typeof Qa=="number"),Va=Sn.length>0?Math.round(Sn.reduce((Qa,Dn)=>Qa+Dn,0)/Sn.length):null;console.log("[PDV->KDS] Confirmao de recebimento (KDS)",{count:Tn.length,kitchenId:Ur??null,avgTransferMs:Va})}}catch{}}if(!Rr){const[Qt,Pr,Fr,Yr]=await Promise.all([listTicketsByStatus("queued",Ur),listTicketsByStatus("prep",Ur),listTicketsByStatus("ready",Ur),listTicketsByStatus("done",Ur)]);gr=[].concat(Qt||[],Pr||[],Fr||[],Yr||[])}if(!pt||!Array.isArray(gr))return;const Qr=gr.map(Qt=>String(Qt.order_id??Qt.orderId??"")).filter(Qt=>Qt);let kn={};if(Rr&&Qr.length>0)try{const{data:Qt}=await Wr.from("orders").select("id, opened_at, created_at").in("id",Qr);Qt&&(kn=Qt.reduce((Pr,Fr)=>({...Pr,[Fr.id]:Fr}),{}))}catch{}const Yn={};if(Rr&&Qr.length>0)try{const{data:Qt}=await Wr.from("kds_phase_times").select("*").in("order_id",Qr);for(const Pr of Qt||[]){const Fr=String(Pr.order_id);Yn[Fr]={newStart:Pr.new_start??Pr.newStart,preparingStart:Pr.preparing_start??Pr.preparingStart,readyAt:Pr.ready_at??Pr.readyAt,deliveredAt:Pr.delivered_at??Pr.deliveredAt}}}catch{}const Hr={};if(Qr.length>0)if(Rr)try{const{data:Qt}=await Wr.from("kds_unit_states").select("*").in("order_id",Qr);for(const Pr of Qt||[]){const Fr=String(Pr.order_id);Hr[Fr]||(Hr[Fr]={});const Yr=Pr.production_unit_id||Pr.unit_id,Tn=`${Fr}:${String(Pr.order_item_id||Pr.item_id)}:${String(Yr)}`;Hr[Fr][Tn]={operatorName:Pr.operator_name??void 0,unitStatus:Pr.status||Pr.unit_status||void 0,completedObservations:(()=>{try{const Sn=JSON.parse(String(Pr.completed_observations_json??"null"));return Array.isArray(Sn)?Sn:[]}catch{return[]}})(),completedAt:Pr.completed_at||Pr.updated_at||void 0,deliveredAt:Pr.delivered_at||void 0}}}catch{}else for(const Qt of Qr)try{const Pr=await loadUnitStatesForOrder(Qt);Hr[Qt]=Pr||{}}catch{Hr[Qt]={}}const Ir={};if(Rr&&Qr.length>0)try{const{data:Qt,error:Pr}=await Wr.from("order_items").select("id, order_id, quantity, unit_price_cents, product_id, product_name").in("order_id",Qr);if(!Pr)for(const Fr of Qt||[]){const Yr=String(Fr.order_id);Ir[Yr]||(Ir[Yr]=[]),Ir[Yr].push({id:String(Fr.id),quantity:Number(Fr.quantity??1),skipKitchen:!1,menuItem:{id:String(Fr.product_id??""),name:String(Fr.product_name??"Item"),unitDeliveryCount:1,sla:15,categoryId:""},productionUnits:Array.from({length:Math.max(1,Number(Fr.quantity??1))},(Tn,Sn)=>({unitId:`${String(Fr.id)}-${Sn+1}`,unitStatus:"PENDING",operatorName:void 0,completedObservations:[],completedAt:void 0}))})}}catch{}const tn=[];for(const Qt of gr){const Pr=String(Qt.order_id??Qt.orderId??""),Fr=Yn[Pr]||{};let Yr=Ir[Pr]&&Ir[Pr].length>0?Ir[Pr]:Array.isArray(Qt.items)?Qt.items:[];const Tn=Hr[Pr]||{};Yr=Yr.map(Dn=>{const ss=Array.from({length:Math.max(1,Number(Dn.quantity??1))},(Oa,Gn)=>({unitId:`${String(Dn.id)}-${Gn+1}`,unitStatus:"PENDING",operatorName:void 0,completedObservations:[],completedAt:void 0})),ea=(Array.isArray(Dn.productionUnits)?Dn.productionUnits:ss).map(Oa=>{const Gn=`${Pr}:${String(Dn.id)}:${Oa.unitId}`,Da=Tn[Gn]||{};return{...Oa,unitId:Oa.unitId??`${String(Dn.id)}-1`,operatorName:Da.operatorName||Oa.operatorName,unitStatus:Da.unitStatus||Oa.unitStatus||"PENDING",completedObservations:Array.isArray(Da.completedObservations)?Da.completedObservations:Oa.completedObservations||[],completedAt:Da.completedAt?new Date(Da.completedAt):Oa.completedAt?new Date(Oa.completedAt):void 0,deliveredAt:Da.deliveredAt?new Date(Da.deliveredAt):Oa.deliveredAt?new Date(Oa.deliveredAt):void 0}});return{id:String(Dn.id??Math.random().toString(36)),quantity:Number(Dn.quantity??1),skipKitchen:!!(Dn.skipKitchen??!1),menuItem:{id:String(Dn.menuItem?.id??Dn.menuItemId??""),name:String(Dn.menuItem?.name??Dn.name??"Item"),unitDeliveryCount:Number(Dn.menuItem?.unitDeliveryCount??Dn.unitDeliveryCount??1),sla:Bt(Dn.menuItem?.sla??Dn.sla??15),categoryId:String(Dn.menuItem?.categoryId??Dn.categoryId??"")},productionUnits:ea}});const Sn=Math.max(1,Yr.reduce((Dn,ss)=>Dn+Bt(ss.menuItem?.sla??15)*Math.max(1,Number(ss.quantity??1)),0)),Va=jt(String(Qt.order_id??Qt.orderId??Qt.id??"")),Qa={id:String(Qt.order_id??Qt.orderId??""),pin:String(Qt.pin??Qt.orderPin??Va.pin??""),password:String(Qt.password??Va.password??""),status:$t(String(Qt.status??"queued")),createdAt:Qt.createdAt?new Date(Qt.createdAt):Fr.newStart?new Date(Fr.newStart):kn[Pr]?.opened_at?new Date(kn[Pr].opened_at):kn[Pr]?.created_at?new Date(kn[Pr].created_at):Qt.created_at?new Date(Qt.created_at):new Date,updatedAt:Qt.updatedAt?new Date(Qt.updatedAt):Fr.preparingStart?new Date(Fr.preparingStart):Qt.updated_at?new Date(Qt.updated_at):void 0,readyAt:Qt.readyAt?new Date(Qt.readyAt):Fr.readyAt?new Date(Fr.readyAt):void 0,deliveredAt:Qt.deliveredAt?new Date(Qt.deliveredAt):Fr.deliveredAt?new Date(Fr.deliveredAt):void 0,items:Yr,slaMinutes:Sn,total:0,paymentMethod:"",createdBy:"KDS"};Qa.ticketId=String(Qt.id??Qt.ticketId??Qa.id),tn.push(Qa)}const Mr=tn.filter(Qt=>Qt.id&&String(Qt.id).trim().length>0),Jr={};for(const Qt of Mr){const Pr=Jr[Qt.id];if(!Pr){Jr[Qt.id]=Qt;continue}const Fr=(Pr.items||[]).length,Yr=(Qt.items||[]).length;if(Yr>Fr){Jr[Qt.id]=Qt;continue}Yr===Fr&&Er(Qt.status)>Er(Pr.status)&&(Jr[Qt.id]=Qt)}const mn=Object.values(Jr);reactExports.startTransition(()=>{xe(Qt=>zr(Qt,mn))})}catch{}}};Pt();let Wt=null,Mt=!1,wr=!1;const Or=()=>{Wt||(Wt=setTimeout(async()=>{if(Wt=null,Mt){wr=!0;return}Mt=!0;try{await Pt()}finally{Mt=!1,wr&&(wr=!1,Or())}},50))};Xt.current=Or;const ur=setInterval(()=>{document.visibilityState==="visible"&&Pt()},8e3);return()=>{pt=!1,Xt.current=null,Wt&&clearTimeout(Wt),clearInterval(ur)}},[xe,B]),reactExports.useEffect(()=>{const pt=er.current;te.forEach($t=>{const Bt=pt.find(Pt=>Pt.id===$t.id);$t.status==="READY"&&Bt?.status}),er.current=te},[te]),reactExports.useEffect(()=>{if(Zt&&ft){const pt={};(ft.items||[]).forEach($t=>{const Bt=Math.max(1,($t.quantity||1)*Math.max(1,$t.menuItem?.unitDeliveryCount||1)),Pt=Math.max(0,$t.directDeliveredUnitCount||0);for(let Wt=0;Wt<Bt;Wt++){const Mt=`${$t.id}-${Wt}`;pt[Mt]=Wt<Pt}}),xr(pt)}else xr({})},[Zt,ft]);const Xr=(pt,$t)=>{if(console.log(`[Cozinha] updateOrderStatus chamado para pedido ${pt} com status ${$t}`),$t==="DELIVERED"){const Bt=te.find(Pt=>Pt.id===pt);Bt&&(mt(Bt),Ar(!0));return}xe(Bt=>Bt.map(Pt=>Pt.id===pt?{...Pt,status:$t,updatedAt:new Date}:Pt)),fe.current[String(pt)]={status:$t,until:Date.now()+8e3}(async()=>{try{const Bt=Mt=>Mt==="NEW"?"queued":Mt==="PREPARING"?"prep":Mt==="READY"?"ready":Mt==="DELIVERED"?"done":"queued",Wt=te.find(Mt=>Mt.id===pt)?.ticketId||pt;if(nr){const{supabase:Mt}=await __vitePreload(async()=>{const{supabase:wr}=await Promise.resolve().then(()=>supabase$1);return{supabase:wr}},void 0);if(Mt){const wr=$t,{error:Or}=await Mt.from("kds_tickets").update({status:wr,updated_at:new Date().toISOString()}).eq("id",Wt);if(Or)console.error("[Cozinha] Erro ao atualizar Supabase:",Or);else{try{const ur=new Date().toISOString(),Ur={order_id:pt};$t==="NEW"&&(Ur.new_start=ur),$t==="PREPARING"&&(Ur.preparing_start=ur),$t==="READY"&&(Ur.ready_at=ur),$t==="DELIVERED"&&(Ur.delivered_at=ur);const{data:Wr}=await Mt.from("kds_phase_times").select("id").eq("order_id",pt).limit(1);if(Wr&&Wr.length>0)await Mt.from("kds_phase_times").update(Ur).eq("order_id",pt);else{const{error:Kr}=await Mt.from("kds_phase_times").insert(Ur);Kr&&await Mt.from("kds_phase_times").update(Ur).eq("order_id",pt)}}catch{}await Mt.from("orders").update({status:$t,updated_at:new Date().toISOString()}).eq("id",pt);try{await setTicketStatus(String(Wt),Bt($t))}catch{}return}}}await setTicketStatus(String(Wt),Bt($t))}catch(Bt){console.error("[Cozinha] ERRO ao atualizar status:",Bt)}})(),xe(Bt=>Bt.map(Pt=>{if(String(Pt.id)===String(pt)){const Wt=new Date;let Mt=Pt.readyAt,wr=Pt.updatedAt;if($t==="PREPARING"&&Pt.status==="NEW"){const Or=(Pt.items||[]).map(ur=>({...ur,productionUnits:(ur.productionUnits||[]).map(Ur=>({...Ur,unitStatus:Ur.unitStatus||"PENDING",completedAt:void 0}))}));return wr=Wt,{...Pt,status:$t,items:Or,updatedAt:wr,readyAt:void 0}}if($t==="READY"&&Pt.status==="PREPARING"){Mt=Wt;const Or=(Pt.items||[]).map(ur=>({...ur,productionUnits:(ur.productionUnits||[]).map(Ur=>({...Ur,unitStatus:"READY",completedAt:Ur.unitStatus==="READY"?Ur.completedAt:Wt}))}));return{...Pt,status:$t,items:Or,updatedAt:Pt.updatedAt,readyAt:Mt}}return $t==="DELIVERED"&&Pt.status==="READY"?{...Pt,status:$t,deliveredAt:Wt,updatedAt:Pt.updatedAt,readyAt:Mt}:$t==="PREPARING"&&Pt.status==="READY"?(Mt=void 0,{...Pt,status:$t,updatedAt:Pt.updatedAt,readyAt:void 0}):$t==="NEW"&&Pt.status==="PREPARING"?{...Pt,status:$t,updatedAt:void 0,readyAt:void 0}:{...Pt,status:$t,updatedAt:Wt,readyAt:Mt}}return Pt}))},an=(pt,$t)=>{xe(Bt=>Bt.map(Pt=>{if(Pt.id!==pt)return Pt;const Wt=Pt.items.map(Mt=>{const wr=$t.find(Rr=>Rr.itemId===Mt.id);if(!wr)return Mt;const Or=Math.max(1,Mt.quantity*Math.max(1,Mt.menuItem.unitDeliveryCount||1)),ur=Math.min(Or,Math.max(0,wr.deliveredCount)),Ur=Math.max(0,Mt.directDeliveredUnitCount||0),Wr=ur-Ur;let Kr=Array.isArray(Mt.directDeliveredUnitTimes)?[...Mt.directDeliveredUnitTimes]:[];const gr=new Date;if(Wr>0)for(let Rr=0;Rr<Wr;Rr++)Kr.push(gr);else Wr<0&&(Kr=Kr.slice(0,Math.max(0,Kr.length+Wr)));try{for(let Rr=0;Rr<ur;Rr++){const Qr=`${Mt.id}-${Rr+1}`;setUnitDelivered(pt,Mt.id,Qr,Kr[Rr]?new Date(Kr[Rr]).toISOString():gr.toISOString())}for(let Rr=ur;Rr<Or;Rr++){const Qr=`${Mt.id}-${Rr+1}`;setUnitDelivered(pt,Mt.id,Qr,void 0)}}catch{}return{...Mt,directDeliveredUnitCount:ur,directDeliveredUnitTimes:Kr}});return{...Pt,items:Wt}}))},vn=()=>{if(ft){fe.current[String(ft.id)]={status:"DELIVERED",until:Date.now()+8e3},reactExports.startTransition(()=>{xe(pt=>pt.map($t=>$t.id===ft.id?{...$t,status:"DELIVERED",deliveredAt:new Date,updatedAt:$t.updatedAt}:$t))}),showSuccess$1(`Pedido #${ft.pin} marcado como entregue.`);try{const pt=ft?.ticketId||ft.id;setTicketStatus(String(pt),"done")}catch{}Ar(!1),mt(null)}},rn=pt=>{fe.current[String(pt)]={status:"DELIVERED",until:Date.now()+8e3},reactExports.startTransition(()=>{xe(Bt=>Bt.map(Pt=>Pt.id===pt?{...Pt,status:"DELIVERED",deliveredAt:new Date,updatedAt:Pt.updatedAt}:Pt))});const $t=te.find(Bt=>Bt.id===pt);showSuccess$1(`Pedido #${$t?.pin??pt} marcado como entregue.`);try{const Bt=$t?.ticketId||pt;setTicketStatus(String(Bt),"done")}catch{}},pn=(pt,$t,Bt,Pt,Wt)=>{reactExports.startTransition(()=>{xe(Mt=>Mt.map(wr=>{if(wr.id===pt){const Or=new Date;let ur=wr.status,Ur=wr.readyAt;const Wr=wr.items.map(Rr=>{if(Rr.id===$t){const Qr=Rr.productionUnits.map(kn=>{if(kn.unitId===Bt){const Yn={...kn,unitStatus:Pt};return Pt==="READY"?Yn.completedAt=Or:Yn.completedAt=void 0,Wt!==void 0&&(Yn.completedObservations=Wt),Yn}return kn});return{...Rr,productionUnits:Qr}}return Rr}),Kr=Wr.every(Rr=>Rr.productionUnits.every(Qr=>Qr.unitStatus==="READY"));wr.status==="NEW"&&Pt==="READY"&&(ur="PREPARING"),wr.status==="READY"&&Pt==="PENDING"&&!Kr&&(ur="PREPARING",Ur=void 0);let gr=wr.updatedAt;return ur==="PREPARING"&&wr.status==="NEW"&&(gr=Or),{...wr,items:Wr,status:ur,updatedAt:wr.status==="NEW"&&ur==="PREPARING"?gr:wr.updatedAt,readyAt:Ur}}return wr}))});try{setUnitStatus(pt,$t,Bt,Pt,Wt)}catch{}},sa=(pt,$t,Bt,Pt)=>{reactExports.startTransition(()=>{xe(Wt=>Wt.map(Mt=>Mt.id===pt?{...Mt,items:Mt.items.map(wr=>wr.id===$t?{...wr,productionUnits:wr.productionUnits.map(Or=>Or.unitId===Bt?{...Or,operatorName:Pt}:Or)}:wr)}:Mt))});try{setUnitOperator(pt,$t,Bt,Pt)}catch{}},Hn=(pt,$t)=>{reactExports.startTransition(()=>{xe(Bt=>Bt.map(Pt=>Pt.id===pt?{...Pt,items:Pt.items.map(Wt=>({...Wt,productionUnits:Wt.productionUnits.map(Mt=>({...Mt,operatorName:$t}))}))}:Pt))});try{const Bt=te.find(Pt=>Pt.id===pt);for(const Pt of Bt?.items||[])for(const Wt of Pt.productionUnits||[])setUnitOperator(pt,Pt.id,Wt.unitId,$t)}catch{}},bn=(pt,$t)=>{reactExports.startTransition(()=>{xe(te.map(Bt=>Bt.id===pt?{...Bt,status:"CANCELLED",cancelReason:$t,updatedAt:new Date}:Bt))})},{isOnline:nr}=useOffline();reactExports.useMemo(()=>te.filter(pt=>["NEW","PREPARING"].includes(pt.status)),[te]);const Br=(pt,$t,Bt)=>{U(pt),K($t),ee(Bt),I(!1)};return T?jsxRuntimeExports.jsx(KitchenSelectModal,{onSelect:Br,onCancel:()=>A("/module-selector"),operators:ye}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-gray-50 overflow-x-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-green-500 text-white px-4 py-2 flex items-center justify-between flex-shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("i",{className:"ri-restaurant-2-fill text-xl"}),jsxRuntimeExports.jsx("span",{className:"font-bold",children:q})]}),jsxRuntimeExports.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-emerald-100",children:[jsxRuntimeExports.jsx("i",{className:"ri-user-fill"}),jsxRuntimeExports.jsx("span",{children:J||"Operador"})]})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>I(!0),className:"px-3 py-1 bg-white/20 hover:bg-white/30 rounded-lg text-sm transition-colors",children:[jsxRuntimeExports.jsx("i",{className:"ri-refresh-line mr-1"}),"Trocar"]})]}),!nr&&jsxRuntimeExports.jsxs("div",{className:"bg-yellow-500 text-white text-center py-2 text-sm font-medium flex-shrink-0",children:[jsxRuntimeExports.jsx("span",{className:"material-symbols-outlined align-middle mr-2",children:"wifi_off"}),"Modo Offline - Algumas funcionalidades podem estar limitadas"]}),jsxRuntimeExports.jsxs("div",{className:"px-4 lg:px-6 py-4 flex-shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cozinha - KDS"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-600 hidden sm:block",children:"Sistema de Display da Cozinha"}),jsxRuntimeExports.jsx(OperationModeBadge,{compact:!0})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-3",children:[jsxRuntimeExports.jsxs(Button,{variant:"secondary",onClick:()=>At(!0),className:"bg-green-50 text-green-600 hover:bg-green-100 flex-shrink-0",size:"sm",children:[jsxRuntimeExports.jsx("span",{className:"material-symbols-outlined mr-2",children:"done"}),"Prontos (",nn.length,")"]}),jsxRuntimeExports.jsxs(Button,{variant:"secondary",onClick:()=>Je(!0),className:"bg-green-50 text-green-600 hover:bg-green-100 flex-shrink-0",size:"sm",children:[jsxRuntimeExports.jsx("span",{className:"material-symbols-outlined mr-2",children:"done_all"}),"Entregues (",Sr.length,")"]}),jsxRuntimeExports.jsxs(Button,{variant:"secondary",onClick:()=>et(!0),className:"bg-red-50 text-red-600 hover:bg-red-100 flex-shrink-0",size:"sm",children:[jsxRuntimeExports.jsx(Icon,{name:"XCircle",className:"mr-2"}),"Cancelados (",Zr.length,")"]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>Qe(!0),size:"sm",className:"flex-shrink-0",children:[jsxRuntimeExports.jsx(Icon,{name:"UserPlus",className:"mr-2"}),"+ Operador"]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>ct(!0),size:"sm",className:"flex-shrink-0",children:[jsxRuntimeExports.jsx(Icon,{name:"ListChecks",className:"mr-2"}),"Por Operador"]})]})]}),jsxRuntimeExports.jsx("div",{className:"pb-6 flex-1 overflow-y-auto min-h-0",children:jsxRuntimeExports.jsx("div",{className:"px-4 lg:px-6 h-full",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col h-full",children:jsxRuntimeExports.jsx("div",{className:"flex-1 flex flex-col min-h-0",children:jsxRuntimeExports.jsx(OrderBoard,{orders:te,operators:ye,categories:Le,onUpdateStatus:Xr,onCancelOrder:bn,onAssignOperator:sa,onAssignOperatorToAll:Hn,onUpdateItemStatus:pn,onUpdateDirectDelivery:an,onConfirmDelivery:rn})})})})}),jsxRuntimeExports.jsx(OperatorManagementModal,{isOpen:He,onClose:()=>Qe(!1),operators:ye,setOperators:Be}),jsxRuntimeExports.jsx(Modal,{isOpen:st,onClose:()=>ct(!1),title:"Viso por Operador",size:"lg",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[un.length===0?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-gray-500",children:"Nenhuma unidade em produo"}):jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("select",{className:"border rounded px-2 py-1",value:gt,onChange:pt=>Nt(pt.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Todos"}),jsxRuntimeExports.jsx("option",{value:"Sem Operador",children:"Sem Operador"}),ye.map(pt=>jsxRuntimeExports.jsx("option",{value:pt.name,children:pt.name},pt.id))]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Ot,onChange:pt=>Tt(pt.target.checked)}),"Mostrar apenas em preparo"]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:un.filter(pt=>!gt||pt.name===gt).map(pt=>{const $t=pt.units.length,Bt=Ot?pt.units.filter(Mt=>Mt.status!=="READY"):pt.units,Pt=Bt.filter(Mt=>Mt.status==="PENDING").length,Wt=Bt.filter(Mt=>Mt.status==="READY").length;return jsxRuntimeExports.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("div",{className:"font-semibold text-gray-900",children:pt.name}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full bg-gray-100 text-gray-700",children:["Total ",$t]}),jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full bg-yellow-100 text-yellow-700",children:["Pendentes ",Pt]}),jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full bg-green-100 text-green-700",children:["Prontos ",Wt]})]})]}),jsxRuntimeExports.jsx("div",{className:"divide-y",children:Bt.map(Mt=>jsxRuntimeExports.jsxs("div",{className:"py-2 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-800",children:["Pedido #",Mt.orderPin,"  ",Mt.itemName]}),jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs ${Mt.status==="READY"?"bg-green-50 text-green-700 border border-green-200":"bg-yellow-50 text-yellow-700 border border-yellow-200"}`,children:Mt.status==="READY"?"Pronto":"Em preparo"})]},Mt.unitId))})]},pt.name)})})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end pt-4 border-t",children:jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>ct(!1),children:"Fechar"})})]})}),jsxRuntimeExports.jsx(AlertModal,{isOpen:lt,onClose:()=>rt(!1),title:nt.title,message:nt.message,variant:nt.variant}),ft&&jsxRuntimeExports.jsx(Modal,{isOpen:Zt,onClose:()=>{Ar(!1),xr({})},title:"Confirmar Entrega do Pedido",zIndex:"z-[1000]",size:"lg",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-green-50 border border-green-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-green-800",children:["Pedido ",jsxRuntimeExports.jsxs("span",{className:"font-bold",children:["#",ft.pin]}),"  Senha ",jsxRuntimeExports.jsx("span",{className:"font-bold",children:ft.password})]}),jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[jsxRuntimeExports.jsx(Icon,{name:"Check",className:"mr-1"}),"Conferncia de Entrega"]})]})}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:(ft.items||[]).map(pt=>jsxRuntimeExports.jsxs("div",{className:"border rounded-lg p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-800",children:pt.menuItem?.name||"Item"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600",children:["Qtd: ",Math.max(1,pt.quantity||1)]})]}),jsxRuntimeExports.jsx("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:Array.from({length:Math.max(1,(pt.quantity||1)*Math.max(1,pt.menuItem?.unitDeliveryCount||1))}).map(($t,Bt)=>{const Pt=`${pt.id}-${Bt}`,Wt=!!Ct[Pt];return jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>{xr(Mt=>({...Mt,[Pt]:!Mt[Pt]}))},className:`flex items-center justify-between px-3 py-2 rounded-lg border text-sm ${Wt?"bg-green-50 border-green-400 text-green-700":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsxs("span",{children:["Unidade ",Bt+1]}),Wt?jsxRuntimeExports.jsx(Icon,{name:"Check"}):jsxRuntimeExports.jsx(Icon,{name:"Square"})]},Pt)})})]},pt.id))}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 pt-2",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>{Ar(!1),xr({})},className:"flex-1",children:"Cancelar"}),jsxRuntimeExports.jsx(Button,{onClick:()=>{if(!ft)return;const pt=(ft.items||[]).map(Bt=>{const Pt=Math.max(1,(Bt.quantity||1)*Math.max(1,Bt.menuItem?.unitDeliveryCount||1));let Wt=Math.max(0,Bt.directDeliveredUnitCount||0);for(let Mt=0;Mt<Pt;Mt++){const wr=`${Bt.id}-${Mt}`;Ct[wr]&&Wt++}return{itemId:Bt.id,deliveredCount:Math.min(Pt,Wt)}});xe(Bt=>Bt.map(Pt=>{if(Pt.id!==ft.id)return Pt;const Wt=Pt.items.map(Mt=>{const wr=pt.find(Or=>Or.itemId===Mt.id);return wr?{...Mt,directDeliveredUnitCount:wr.deliveredCount}:Mt});return{...Pt,items:Wt}})),pt.every(Bt=>{const Pt=(ft.items||[]).find(Mt=>Mt.id===Bt.itemId),Wt=Math.max(1,(Pt.quantity||1)*Math.max(1,Pt.menuItem?.unitDeliveryCount||1));return Bt.deliveredCount>=Wt})?vn():(showSuccess$1("Entrega parcial registrada. Continue a entrega das unidades restantes quando necessrio."),Ar(!1),mt(null))},className:"flex-1",disabled:Object.values(Ct).every(pt=>!pt),children:"Confirmar"})]})]})}),jsxRuntimeExports.jsxs(Modal,{isOpen:ir,onClose:()=>At(!1),title:"Pedidos Prontos para Retirada",size:"full",children:[jsxRuntimeExports.jsx(ReadyOrderTable,{readyOrders:nn,onUpdateStatus:Xr,onUpdateDirectDelivery:an,onConfirmDelivery:rn}),jsxRuntimeExports.jsx("div",{className:"flex justify-end pt-4 border-t mt-4",children:jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>At(!1),children:"Fechar"})})]}),jsxRuntimeExports.jsx(Modal,{isOpen:It,onClose:()=>Je(!1),title:"Pedidos Entregues",size:"lg",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[Sr.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx("i",{className:"ri-check-double-line text-4xl text-gray-400 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Nenhum pedido entregue"})]}):jsxRuntimeExports.jsx(DeliveredOrderList,{deliveredOrders:Sr}),jsxRuntimeExports.jsx("div",{className:"flex justify-end pt-4 border-t",children:jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>Je(!1),children:"Fechar"})})]})}),jsxRuntimeExports.jsx(Modal,{isOpen:ut,onClose:()=>et(!1),title:"Pedidos Cancelados",size:"lg",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[Zr.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx("i",{className:"ri-close-circle-line text-4xl text-gray-400 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Nenhum pedido cancelado"})]}):jsxRuntimeExports.jsx(DeliveredOrderList,{deliveredOrders:Zr}),jsxRuntimeExports.jsx("div",{className:"flex justify-end pt-4 border-t",children:jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>et(!1),children:"Fechar"})})]})})]})})}const __vite_import_meta_env__$1={},hubUrl=__vite_import_meta_env__$1?.VITE_LAN_HUB_URL||"http://localhost:4000",hubSecret=__vite_import_meta_env__$1?.VITE_LAN_SYNC_SECRET||"",unitDefault="default";function ConfiguracoesPage(){const R=useLocation().pathname.includes("/cozinha/"),[A,T]=reactExports.useState(R?"device":"categories"),[I,B]=useLocalStorage("categories",mockCategories),[U,q]=useLocalStorage("menuItems",mockMenuItems),[K,J]=useLocalStorage("paymentMethods",mockPaymentMethods),[ee,te]=useLocalStorage("globalObservations",DEFAULT_GLOBAL_OBSERVATIONS),[xe,fe]=useLocalStorage("appConfig",{checkoutShortcut:"F",soundAlert:!0,darkMode:!1,defaultSla:15,establishmentName:"Meu Trailer",passwordFormat:"numeric"}),[ye,Be]=useLocalStorage("paymentShortcuts",DEFAULT_PAYMENT_SHORTCUTS),[Le,qe]=reactExports.useState([]),[Ge,$e]=useLocalStorage("currentStationId",""),[Xe,He]=reactExports.useState([]),[Qe,st]=reactExports.useState(null);reactExports.useEffect(()=>{(async()=>{try{const Ye=await getCurrentUnitId();if(Ye){const yt=await listStations(Ye);qe(yt||[])}}catch{}})()},[]),reactExports.useEffect(()=>{(async()=>{try{const Ye={"Content-Type":"application/json"};hubSecret&&(Ye.Authorization=`Bearer ${hubSecret}`),await fetch(hubUrl.replace(/\/$/,"")+"/push",{method:"POST",headers:Ye,body:JSON.stringify({events:[{table:"global_observations",unit_id:unitDefault,row:{observations:ee,updated_at:new Date().toISOString()}}]})})}catch{}})()},[ee]),reactExports.useEffect(()=>{typeof window?.api?.db?.query!="function"&&(async()=>{try{const{supabase:yt}=await __vitePreload(async()=>{const{supabase:br}=await Promise.resolve().then(()=>supabase$1);return{supabase:br}},void 0);if(!yt){console.warn("[Configuraes] Supabase no disponvel para carregar associaes categoria-cozinha");return}console.log("[Configuraes] Carregando associaes categoria-cozinha do Supabase...");const{data:vt,error:Gt}=await yt.from("category_kitchens").select("category_id, kitchen_id");if(Gt){console.error("[Configuraes] Erro ao carregar associaes:",Gt);return}if(vt&&vt.length>0){const br=vt.reduce((_r,Lr)=>(_r[Lr.category_id]||(_r[Lr.category_id]=[]),_r[Lr.category_id].push(Lr.kitchen_id),_r),{});B(_r=>_r.map(Lr=>({...Lr,kitchenIds:br[Lr.id]||void 0}))),console.log("[Configuraes] Associaes categoria-cozinha carregadas:",Object.keys(br).length,"categorias")}else console.log("[Configuraes] Nenhuma associao categoria-cozinha encontrada")}catch(yt){console.error("[Configuraes] Erro ao carregar associaes categoria-cozinha:",yt)}})()},[]),reactExports.useEffect(()=>{typeof window?.api?.db?.query!="function"&&(async()=>{try{const{supabase:yt}=await __vitePreload(async()=>{const{supabase:na}=await Promise.resolve().then(()=>supabase$1);return{supabase:na}},void 0);if(!yt)return;console.log("[Configuraes]  Verificando produtos sem categoria...");const[vt,Gt]=await Promise.all([yt.from("products").select("id, name, category_id").eq("is_active",!0),yt.from("categories").select("id, name")]);if(vt.error||Gt.error){console.error("[Configuraes] Erro ao carregar produtos/categorias:",vt.error||Gt.error);return}const br=vt.data||[],_r=Gt.data||[];console.log("[Configuraes] Produtos carregados:",br.length),console.log("[Configuraes] Categorias carregadas:",_r.length);const Lr=na=>na.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,""),Rn=new Map;_r.forEach(na=>{const Zn=Lr(na.name);Rn.has(Zn)||Rn.set(Zn,na.id)});const Cn=JSON.parse(localStorage.getItem("menuItems")||"[]"),zn=JSON.parse(localStorage.getItem("categories")||"[]");console.log("[Configuraes] Produtos no localStorage:",Cn.length),console.log("[Configuraes] Categorias no localStorage:",zn.length);const ra=[];for(const na of br){const Zn=na.category_id;if(Zn){if(!_r.some(_n=>_n.id===Zn)){console.log(`[Configuraes]  Produto "${na.name}" tem categoria invlida: ${Zn}`);const _n=Cn.find(dn=>dn.id===na.id||dn.name===na.name);if(_n&&_n.categoryId){const dn=zn.find(Vn=>Vn.id===_n.categoryId);if(dn&&dn.name){const Vn=Lr(dn.name),gi=Rn.get(Vn);gi&&(ra.push({productId:na.id,productName:na.name,newCategoryId:gi,categoryName:dn.name}),console.log(`[Configuraes]  Produto "${na.name}" ser reatribudo  categoria "${dn.name}" (${gi})`))}}}}else{const Ia=Cn.find(_n=>_n.id===na.id||_n.name===na.name);if(Ia&&Ia.categoryId){const _n=zn.find(dn=>dn.id===Ia.categoryId);if(_n&&_n.name){const dn=Lr(_n.name),Vn=Rn.get(dn);Vn&&(ra.push({productId:na.id,productName:na.name,newCategoryId:Vn,categoryName:_n.name}),console.log(`[Configuraes]  Produto "${na.name}" ser associado  categoria "${_n.name}" (${Vn})`))}}}}if(ra.length>0){console.log(`[Configuraes]  Corrigindo ${ra.length} produtos sem categoria...`);for(const dn of ra){const{error:Vn}=await yt.from("products").update({category_id:dn.newCategoryId}).eq("id",dn.productId);Vn?console.error(`[Configuraes]  Erro ao corrigir produto "${dn.productName}":`,Vn):console.log(`[Configuraes]  Produto "${dn.productName}" corrigido  categoria "${dn.categoryName}"`)}console.log("[Configuraes]  Recarregando produtos e categorias...");const[na,Zn]=await Promise.all([listProducts(),listCategories()]),Ia=(Zn||[]).map((dn,Vn)=>({id:dn.id,name:dn.name,icon:"",order:Vn,active:!0})),_n=(na||[]).map(dn=>{const Vn=Cn.find(gi=>gi.id===dn.id||gi.code&&gi.code===dn.sku);return{id:dn.id,name:dn.name,price:(dn.priceCents??dn.price_cents??0)/100,sla:typeof Vn?.sla=="number"?Vn.sla:15,categoryId:dn.categoryId??dn.category_id,observations:Array.isArray(Vn?.observations)?Vn.observations:[],requiredModifierGroups:Array.isArray(Vn?.requiredModifierGroups)?Vn.requiredModifierGroups:[],image:Vn?.image,active:!!(dn.isActive??dn.is_active??!0),code:dn.sku??void 0,skipKitchen:!!(Vn?.skipKitchen??!1),unitDeliveryCount:Math.max(1,Number(Vn?.unitDeliveryCount??1)),isPromo:!!(Vn?.isPromo??!1),comboItemIds:Array.isArray(Vn?.comboItemIds)?Vn.comboItemIds:[]}});B(Ia),q(_n),console.log(`[Configuraes]  ${ra.length} produtos corrigidos e dados recarregados`),console.log("[Configuraes] Categorias atualizadas:",Ia.length),console.log("[Configuraes] Produtos atualizados:",_n.length)}else console.log("[Configuraes]  Nenhum produto precisa de correo")}catch(yt){console.error("[Configuraes]  Erro ao corrigir produtos:",yt)}})()},[]),reactExports.useEffect(()=>{(async()=>{if(typeof window?.api?.db?.query!="function")try{const{supabase:yt}=await __vitePreload(async()=>{const{supabase:Lr}=await Promise.resolve().then(()=>supabase$1);return{supabase:Lr}},void 0);if(!yt)return;const{data:vt}=await yt.from("category_kitchens").select("id").limit(1);if((vt||[]).length>0)return;const{data:Gt}=await yt.from("categories").select("id"),br=Qe;if(!br||!Array.isArray(Gt)||Gt.length===0)return;const _r=Gt.map(Lr=>({category_id:Lr.id,kitchen_id:br,updated_at:new Date().toISOString()}));await yt.from("category_kitchens").insert(_r),console.log("[Configuraes] Associaes iniciais aplicadas para cozinha padro")}catch(yt){console.warn("[Configuraes] Falha ao aplicar associaes iniciais:",yt)}})()},[Qe]);const[ct,gt]=reactExports.useState(null),[Nt,Ot]=reactExports.useState(""),[Tt,ir]=reactExports.useState([]),[At,It]=reactExports.useState([]),[Je,ut]=reactExports.useState([]),[et,lt]=reactExports.useState(""),[rt,nt]=reactExports.useState(""),[kt,Zt]=reactExports.useState(null),[Ar,ft]=reactExports.useState(null),[mt,Ct]=reactExports.useState(null),[xr,er]=reactExports.useState(null),Ft=reactExports.useRef(null),Xt=reactExports.useRef(null),it=reactExports.useRef(null),jt=reactExports.useRef(null),or=reactExports.useRef(null),Er=()=>{Xt.current===null&&(Xt.current=window.setInterval(()=>{const Ye=Ft.current;if(Ye==null)return;const yt=80,vt=28,Gt=A==="items"?it.current:A==="categories"?jt.current:null;if(Gt&&Gt.scrollHeight>Gt.clientHeight){const Lr=Gt.getBoundingClientRect();Ye<Lr.top+yt?Gt.scrollTop=Math.max(0,Gt.scrollTop-vt):Ye>Lr.bottom-yt&&(Gt.scrollTop=Math.min(Gt.scrollHeight,Gt.scrollTop+vt));return}const br=document.querySelector(".flex-1.overflow-y-auto");if(br&&br.scrollHeight>br.clientHeight){const Lr=br.getBoundingClientRect();Ye<Lr.top+yt?br.scrollTop=Math.max(0,br.scrollTop-vt):Ye>Lr.bottom-yt&&(br.scrollTop=Math.min(br.scrollHeight,br.scrollTop+vt));return}const _r=window.innerHeight;Ye<yt?window.scrollBy({top:-vt,behavior:"auto"}):Ye>_r-yt&&window.scrollBy({top:vt,behavior:"auto"})},16))},mr=()=>{Xt.current!==null&&(window.clearInterval(Xt.current),Xt.current=null),Ft.current=null},zr=Ye=>{Ye.preventDefault(),Ft.current=Ye.clientY},nn=()=>{if(or.current)return;const Ye=yt=>{Ft.current=yt.clientY};or.current=Ye,window.addEventListener("dragover",Ye)},Sr=()=>{const Ye=or.current;Ye&&(window.removeEventListener("dragover",Ye),or.current=null)},[Zr,un]=reactExports.useState(!1),[Xr,an]=reactExports.useState(!1),[vn,rn]=reactExports.useState(!1),[pn,sa]=reactExports.useState(!1),[Hn,bn]=reactExports.useState(!1),[nr,Br]=reactExports.useState(null),[pt,$t]=reactExports.useState(null),[Bt,Pt]=reactExports.useState(null),[Wt,Mt]=reactExports.useState(""),[wr,Or]=reactExports.useState({name:"",price:"",includedItemIds:[]});reactExports.useEffect(()=>{(async()=>{const Ye=typeof window?.api?.db?.query=="function";try{if(Ye){const yt=window?.api;if(!yt?.db?.query)return;const vt=await yt.db.query("SELECT * FROM kitchens WHERE is_active = 1 ORDER BY display_order, name");vt?.rows&&He(vt.rows.map(Gt=>({id:Gt.id,name:Gt.name})))}else{const{supabase:yt}=await __vitePreload(async()=>{const{supabase:br}=await Promise.resolve().then(()=>supabase$1);return{supabase:br}},void 0);if(!yt){console.warn("[Configuraes] Supabase no disponvel para carregar cozinhas");return}const{data:vt,error:Gt}=await yt.from("kitchens").select("id, name").eq("is_active",!0).order("display_order",{ascending:!0}).order("name",{ascending:!0});if(Gt){console.error("[Configuraes] Erro ao carregar cozinhas:",Gt);return}if(vt){const br=vt.map(Lr=>({id:Lr.id,name:Lr.name}));He(br);const _r=br.find(Lr=>Lr.name.toLowerCase()==="mexicano")||br[0]||null;st(_r?_r.id:null),console.log("[Configuraes] Cozinhas carregadas:",vt.length)}}}catch(yt){console.error("[Configuraes] Erro ao carregar cozinhas:",yt)}})()},[]);const[ur,Ur]=reactExports.useState({name:"",icon:"ri-restaurant-line",integrationCode:"",kitchenIds:[]}),[Wr,Kr]=reactExports.useState(""),[gr,Rr]=reactExports.useState({name:"",price:"",sla:"",categoryId:"",observations:[],requiredModifierGroups:[],image:"",code:"",integrationCode:"",skipKitchen:!1,allowPartialDelivery:!1,unitDeliveryCount:""}),[Qr,kn]=reactExports.useState(""),[Yn,Hr]=reactExports.useState(""),[Ir,tn]=reactExports.useState(""),[Mr,Jr]=reactExports.useState(""),[mn,Qt]=reactExports.useState([]),[Pr,Fr]=reactExports.useState(!0),[Yr,Tn]=reactExports.useState(null),Sn=()=>{Ur({name:"",icon:"ri-restaurant-line",integrationCode:"",kitchenIds:Qe?[Qe]:[]}),Rr({name:"",price:"",sla:"",categoryId:"",observations:[],requiredModifierGroups:[],image:"",code:"",integrationCode:"",skipKitchen:!1,allowPartialDelivery:!0,unitDeliveryCount:""}),kn(""),Hr(""),tn(""),Jr(""),Qt([]),Fr(!0),Tn(null),gt(null),Ot("")},Va=()=>{ir([]),It([]),ut([])},[Qa,Dn]=reactExports.useState(!1),[ss,$n]=reactExports.useState([]),[ea,Oa]=reactExports.useState([]),[Gn,Da]=reactExports.useState("");reactExports.useEffect(()=>{(async()=>{try{const Ye=await listIngredients();Oa(Array.isArray(Ye)?Ye:[])}catch{}})()},[]);const Et=async Ye=>{try{const yt=await listRecipeByProduct(String(Ye.id));$n(Array.isArray(yt)?yt:[])}catch{$n([])}Da(Ye.name),Dn(!0)},pr=Ye=>{B(I.map(yt=>yt.id===Ye?{...yt,active:!yt.active}:yt))},jr=Ye=>{const yt=U.map(Gt=>Gt.id===Ye?{...Gt,active:!Gt.active}:Gt);q(yt);const vt=yt.find(Gt=>Gt.id===Ye);vt&&setProductActive(String(Ye),!!vt.active).catch(()=>{})},wn=Ye=>{Rr(yt=>({...yt,requiredModifierGroups:yt.requiredModifierGroups.map(vt=>vt.id===Ye?{...vt,active:!vt.active}:vt)}))},Bn=Ye=>{ir(yt=>yt.includes(Ye)?yt.filter(vt=>vt!==Ye):[...yt,Ye])},hn=Ye=>{It(yt=>yt.includes(Ye)?yt.filter(vt=>vt!==Ye):[...yt,Ye])},Sa=Ye=>{ut(yt=>yt.includes(Ye)?yt.filter(vt=>vt!==Ye):[...yt,Ye])},va=()=>{Tt.length===I.length?ir([]):ir(I.map(Ye=>Ye.id))},ya=()=>{At.length===U.length?It([]):It(U.map(Ye=>Ye.id))},Ns=()=>{Je.length===K.length?ut([]):ut([...K])},os=reactExports.useMemo(()=>{const Ye=et.trim().toLowerCase();return[...Ye?U.filter(vt=>{const Gt=I.find(_r=>_r.id===vt.categoryId);return[vt.name,vt.code,Gt?.name].filter(Boolean).map(_r=>String(_r).toLowerCase()).some(_r=>_r.includes(Ye))}):U].sort((vt,Gt)=>{const br=parseInt((vt.code||"0").toString(),10)||0,_r=parseInt((Gt.code||"0").toString(),10)||0;return br-_r})},[et,U,I]),Gs=reactExports.useMemo(()=>{const Ye=rt.trim().toLowerCase();return Ye?I.filter(yt=>[yt.name].filter(Boolean).map(Gt=>String(Gt).toLowerCase()).some(Gt=>Gt.includes(Ye))):I},[rt,I]),Ra=()=>{Tt.length!==0&&(Br({title:`Excluir ${Tt.length} Categoria(s)`,message:`Tem certeza que deseja excluir ${Tt.length} categoria(s) selecionada(s)? Esta ao  irreversvel.`,onConfirm:()=>{B(I.filter(Ye=>!Tt.includes(Ye.id))),deleteCategories(Tt.map(String)).catch(()=>{}),ir([]),bn(!1)},variant:"danger",confirmText:"Excluir"}),bn(!0))},xs=()=>{At.length!==0&&(Br({title:`Excluir ${At.length} Item(s) do Cardpio`,message:`Tem certeza que deseja excluir ${At.length} item(s) selecionado(s) do cardpio? Esta ao  irreversvel.`,onConfirm:()=>{q(U.filter(Ye=>!At.includes(Ye.id))),deleteProducts(At.map(String)).catch(()=>{}),It([]),bn(!1)},variant:"danger",confirmText:"Excluir"}),bn(!0))},ls=()=>{Je.length!==0&&(Br({title:`Excluir ${Je.length} Forma(s) de Pagamento`,message:`Tem certeza que deseja excluir ${Je.length} forma(s) de pagamento selecionada(s)?`,onConfirm:()=>{const Ye=Je;J(K.filter(vt=>!Ye.includes(vt))),ut([]);const yt={...ye};Ye.forEach(vt=>delete yt[vt]),Be(yt),bn(!1)},variant:"danger",confirmText:"Excluir"}),bn(!0))},Ks=()=>{Yn.trim()&&!ee.includes(Yn.trim())&&(te([...ee,Yn.trim()]),Hr(""))},Kn=Ye=>{te(ee.filter(yt=>yt!==Ye))},Nn=()=>{Mr.trim()&&(Qt(Ye=>[...Ye,Mr.trim()]),Jr(""))},ba=Ye=>{Qt(yt=>yt.filter(vt=>vt!==Ye))},ma=()=>{if(!Ir.trim()||mn.length===0){alert("O nome do grupo e pelo menos uma opo so obrigatrios.");return}const Ye={id:Yr||Date.now().toString(),name:Ir.trim(),options:mn,active:Pr};Rr(Yr?yt=>({...yt,requiredModifierGroups:yt.requiredModifierGroups.map(vt=>vt.id===Yr?Ye:vt)}):yt=>({...yt,requiredModifierGroups:[...yt.requiredModifierGroups,Ye]})),tn(""),Qt([]),Fr(!0),Tn(null)},bs=Ye=>{Rr(yt=>({...yt,requiredModifierGroups:yt.requiredModifierGroups.filter(vt=>vt.id!==Ye)}))},Na=async()=>{if(!ur.name.trim()){alert("Nome da categoria  obrigatrio");return}const Ye=window?.api,yt=typeof Ye?.db?.query=="function";try{if(pt){let vt=pt.id;try{if(console.log("[Configuraes] Salvando categoria...",{idAntigo:pt.id,nome:ur.name}),vt=await upsertCategory({id:String(pt.id),name:ur.name}),console.log("[Configuraes]  Categoria salva com ID vlido:",vt),console.log("[Configuraes] ID antigo era:",pt.id),console.log("[Configuraes] ID novo :",vt),!yt){console.log("[Configuraes] Aguardando 1s para garantir commit no Supabase..."),await new Promise(Lr=>setTimeout(Lr,1e3));const{supabase:_r}=await __vitePreload(async()=>{const{supabase:Lr}=await Promise.resolve().then(()=>supabase$1);return{supabase:Lr}},void 0);if(_r){const{data:Lr,error:Rn}=await _r.from("categories").select("id, name").eq("id",vt).maybeSingle();if(Rn&&Rn.code!=="PGRST116")console.error("[Configuraes]  Erro ao verificar categoria aps commit:",Rn);else if(Lr)console.log("[Configuraes]  Categoria confirmada aps commit:",Lr);else{console.error("[Configuraes]  Categoria ainda no encontrada aps commit!");const{data:Cn}=await _r.from("categories").select("id, name").eq("name",ur.name).maybeSingle();Cn&&(console.log("[Configuraes]  Categoria encontrada pelo nome aps commit:",Cn),vt=Cn.id)}}}}catch(br){console.error("[Configuraes] Erro ao salvar categoria:",br);const _r=br?.message||String(br);alert(`Erro ao salvar categoria:

${_r}

Verifique o console (F12) para mais detalhes.`);return}const Gt=I.map(br=>br.id===pt.id?{...br,id:vt,name:ur.name,icon:ur.icon,integrationCode:ur.integrationCode,kitchenIds:ur.kitchenIds.length>0?ur.kitchenIds:void 0}:br);B(Gt),$t({...pt,id:vt});try{if(yt&&Ye?.db?.query){await Ye.db.query("DELETE FROM category_kitchens WHERE category_id = ?",[vt]);for(const br of ur.kitchenIds)await Ye.db.query("INSERT INTO category_kitchens (category_id, kitchen_id, updated_at) VALUES (?, ?, ?)",[vt,br,new Date().toISOString()])}else{const{supabase:br}=await __vitePreload(async()=>{const{supabase:Rn}=await Promise.resolve().then(()=>supabase$1);return{supabase:Rn}},void 0);if(!br){console.warn("[Configuraes] Supabase no disponvel para salvar associaes categoria-cozinha");return}console.log("[Configuraes] Atualizando associaes categoria-cozinha no Supabase..."),console.log("[Configuraes] Usando ID vlido da categoria:",vt),pt.id!==vt&&(console.log("[Configuraes] Removendo associaes do ID antigo:",pt.id),await br.from("category_kitchens").delete().eq("category_id",pt.id)),console.log("[Configuraes] Deletando associaes antigas para categoria:",vt);const{error:_r,data:Lr}=await br.from("category_kitchens").delete().eq("category_id",vt).select();if(_r)throw console.error("[Configuraes] Erro ao deletar associaes antigas:",_r),console.error("[Configuraes] Detalhes do erro:",{code:_r.code,message:_r.message,details:_r.details,hint:_r.hint}),_r;if(console.log("[Configuraes] Associaes antigas deletadas:",Lr),ur.kitchenIds.length>0){console.log("[Configuraes]  Verificando se categoria existe no Supabase antes de criar associaes..."),console.log("[Configuraes] ID da categoria a verificar:",vt),console.log("[Configuraes] Nome da categoria:",ur.name),await new Promise(_n=>setTimeout(_n,500));let Rn=null,Cn=vt,zn=0;const ra=3;for(;zn<ra&&!Rn;){const{data:_n,error:dn}=await br.from("categories").select("id, name").eq("id",vt).maybeSingle();if(dn&&dn.code!=="PGRST116")throw console.error("[Configuraes]  Erro ao verificar categoria pelo ID:",dn),new Error(`Erro ao verificar categoria: ${dn.message}`);if(_n){Rn=_n,console.log(`[Configuraes]  Categoria encontrada pelo ID aps ${zn+1} tentativa(s):`,Rn);break}zn++,zn<ra&&(console.log(`[Configuraes] Categoria no encontrada, tentando novamente (${zn+1}/${ra})...`),await new Promise(Vn=>setTimeout(Vn,500)))}if(!Rn){console.log("[Configuraes] Categoria no encontrada pelo ID aps mltiplas tentativas, buscando pelo nome...");const{data:_n,error:dn}=await br.from("categories").select("id, name").eq("name",ur.name).maybeSingle();if(dn&&dn.code!=="PGRST116")throw console.error("[Configuraes]  Erro ao verificar categoria pelo nome:",dn),new Error(`Erro ao verificar categoria pelo nome: ${dn.message}`);if(_n)Rn=_n,Cn=_n.id,console.log("[Configuraes]  Categoria encontrada pelo nome:",Rn),console.log(`[Configuraes] Usando ID correto: ${Cn} (ao invs de ${vt})`);else throw console.error("[Configuraes]  Categoria no encontrada no Supabase!",{idProcurado:vt,nomeCategoria:ur.name}),new Error(`A categoria "${ur.name}" (ID: ${vt}) no foi encontrada no Supabase. Tente salvar a categoria novamente.`)}vt=Cn,console.log("[Configuraes]  Categoria confirmada no Supabase:",Rn),console.log("[Configuraes] ID final a ser usado:",vt);const na=ur.kitchenIds.map(_n=>({category_id:vt,kitchen_id:_n,updated_at:new Date().toISOString()})).filter(_n=>{const dn=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;return dn.test(_n.category_id)&&dn.test(_n.kitchen_id)});console.log("[Configuraes]  Preparando para inserir associaes:",{quantidade:na.length,associaes:na});for(const _n of na){const{data:dn,error:Vn}=await br.from("kitchens").select("id, name").eq("id",_n.kitchen_id).maybeSingle();Vn&&Vn.code!=="PGRST116"?console.error(`[Configuraes]  Erro ao verificar cozinha ${_n.kitchen_id}:`,Vn):dn?console.log(`[Configuraes]  Cozinha confirmada: ${dn.name} (${dn.id})`):console.error(`[Configuraes]  Cozinha no encontrada: ${_n.kitchen_id}`)}const{error:Zn,data:Ia}=await br.from("category_kitchens").insert(na).select();if(Zn)if(console.error("[Configuraes]  Erro ao inserir associaes:",Zn),console.error("[Configuraes] Detalhes completos do erro:",{code:Zn.code,message:Zn.message,details:Zn.details,hint:Zn.hint,categoryId:vt,kitchenIds:ur.kitchenIds}),Zn.code==="23503"||Zn.message?.includes("foreign key")){console.error("[Configuraes]  Erro de foreign key detectado"),console.log("[Configuraes]  Aguardando 2s antes de retry..."),await new Promise(Fc=>setTimeout(Fc,2e3));const{data:_n,error:dn}=await br.from("categories").select("id, name").eq("id",vt).maybeSingle();if(!_n)throw new Error(`Categoria ainda no existe aps retry. ID: ${vt}`);console.log("[Configuraes]  Categoria confirmada novamente antes do retry:",_n);const{error:Vn,data:gi}=await br.from("category_kitchens").insert(na).select();if(Vn)throw console.error("[Configuraes]  Erro persistente aps retry:",Vn),new Error(`Erro ao salvar associaes aps retry: ${Vn.message}`);console.log("[Configuraes]  Associaes inseridas com sucesso aps retry!",gi)}else throw Zn;else console.log("[Configuraes]  Associaes categoria-cozinha criadas com sucesso!",Ia)}else console.log("[Configuraes] Nenhuma cozinha selecionada, apenas removendo associaes antigas")}}catch(br){console.error("[Configuraes] Erro ao atualizar cozinhas da categoria:",br);let _r="Erro desconhecido";if(br?.message)_r=br.message;else if(br?.error?.message)_r=br.error.message;else if(br?.details)_r=br.details;else if(typeof br=="string")_r=br;else try{_r=JSON.stringify(br,null,2)}catch{_r=String(br)}alert(`Erro ao salvar associaes:

${_r}

Verifique o console (F12) para mais detalhes.`)}un(!1),$t(null),Sn()}else{try{console.log("[Configuraes] Criando nova categoria...",{nome:ur.name});const vt=await upsertCategory({name:ur.name});console.log("[Configuraes]  Nova categoria criada com ID:",vt);const Gt=typeof window?.api?.db?.query=="function";if(!Gt){console.log("[Configuraes] Aguardando 1s para garantir commit da categoria no Supabase..."),await new Promise(Lr=>setTimeout(Lr,1e3));const{supabase:_r}=await __vitePreload(async()=>{const{supabase:Lr}=await Promise.resolve().then(()=>supabase$1);return{supabase:Lr}},void 0);if(_r){let Lr=0,Rn=!1;for(;Lr<3&&!Rn;){const{data:Cn,error:zn}=await _r.from("categories").select("id").eq("id",vt).maybeSingle();if(zn&&zn.code!=="PGRST116"){console.error("[Configuraes] Erro ao verificar categoria:",zn);break}if(Cn){Rn=!0,console.log("[Configuraes]  Categoria confirmada no Supabase aps",Lr+1,"tentativa(s)");break}Lr++,Lr<3&&(console.log(`[Configuraes] Categoria no encontrada, tentando novamente (${Lr+1}/3)...`),await new Promise(ra=>setTimeout(ra,500)))}Rn||console.warn("[Configuraes]  Categoria no encontrada aps 3 tentativas, mas continuando...")}}const br={id:String(vt),name:ur.name,icon:ur.icon,order:I.length+1,active:!0,integrationCode:ur.integrationCode,kitchenIds:ur.kitchenIds.length>0?ur.kitchenIds:void 0};if(B([...I,br]),ur.kitchenIds.length>0)try{if(Gt&&window?.api?.db?.query)for(const _r of ur.kitchenIds)await window.api.db.query("INSERT INTO category_kitchens (category_id, kitchen_id, updated_at) VALUES (?, ?, ?)",[vt,_r,new Date().toISOString()]);else{const{supabase:_r}=await __vitePreload(async()=>{const{supabase:Zn}=await Promise.resolve().then(()=>supabase$1);return{supabase:Zn}},void 0);if(!_r){console.warn("[Configuraes] Supabase no disponvel para salvar associaes categoria-cozinha");return}console.log("[Configuraes] Criando associaes categoria-cozinha no Supabase..."),console.log("[Configuraes] Nova categoria ID:",vt),console.log("[Configuraes] Kitchen IDs:",ur.kitchenIds),await new Promise(Zn=>setTimeout(Zn,500));let Lr=!1,Rn=0;const Cn=3;for(;Rn<Cn&&!Lr;){const{data:Zn,error:Ia}=await _r.from("categories").select("id").eq("id",vt).maybeSingle();if(Ia&&Ia.code!=="PGRST116"){console.error("[Configuraes] Erro ao verificar categoria:",Ia);break}if(Zn){Lr=!0,console.log(`[Configuraes]  Categoria confirmada no Supabase aps ${Rn+1} tentativa(s)`);break}Rn++,Rn<Cn&&(console.log(`[Configuraes] Categoria no encontrada, tentando novamente (${Rn+1}/${Cn})...`),await new Promise(_n=>setTimeout(_n,500)))}if(!Lr)throw new Error(`A categoria no foi encontrada no Supabase aps ${Cn} tentativas. ID: ${vt}`);const zn=ur.kitchenIds.map(Zn=>({category_id:vt,kitchen_id:Zn,updated_at:new Date().toISOString()})).filter(Zn=>{const Ia=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;return Ia.test(Zn.category_id)&&Ia.test(Zn.kitchen_id)});console.log("[Configuraes] Dados a inserir:",zn);const{error:ra,data:na}=await _r.from("category_kitchens").insert(zn).select();if(ra)if(console.error("[Configuraes] Erro ao inserir associaes:",ra),console.error("[Configuraes] Detalhes do erro:",{code:ra.code,message:ra.message,details:ra.details,hint:ra.hint}),ra.code==="23503"||ra.message?.includes("foreign key")){console.error("[Configuraes]  Erro de foreign key - aguardando e tentando novamente..."),await new Promise(dn=>setTimeout(dn,1e3));const{data:Zn}=await _r.from("categories").select("id").eq("id",vt).maybeSingle();if(!Zn)throw new Error(`Categoria no encontrada aps retry. ID: ${vt}`);const{error:Ia,data:_n}=await _r.from("category_kitchens").insert(zn).select();if(Ia)throw new Error(`Erro ao salvar associaes aps retry: ${Ia.message}`);console.log("[Configuraes]  Associaes inseridas com sucesso aps retry!",_n)}else throw ra;else console.log("[Configuraes]  Associaes categoria-cozinha criadas com sucesso!",na)}}catch(_r){console.error("[Configuraes] Erro ao inserir cozinhas da categoria:",_r);let Lr="Erro desconhecido";if(_r?.message)Lr=_r.message;else if(_r?.error?.message)Lr=_r.error.message;else if(_r?.details)Lr=_r.details;else if(typeof _r=="string")Lr=_r;else try{Lr=JSON.stringify(_r,null,2)}catch{Lr=String(_r)}alert(`Erro ao salvar associaes:

${Lr}

Verifique o console (F12) para mais detalhes.`)}}catch(vt){console.error("[Configuraes] Erro ao criar categoria:",vt);const Gt=vt?.message||String(vt);alert(`Erro ao criar categoria:

${Gt}

Verifique o console (F12) para mais detalhes.`);return}un(!1),$t(null),Sn()}}catch(vt){console.error("[Configuraes] Erro geral ao salvar categoria:",vt);const Gt=vt?.message||String(vt);alert(`Erro ao salvar categoria:

${Gt}

Verifique o console (F12) para mais detalhes.`)}},wi=()=>{if(!gr.name.trim()||!gr.price||!gr.sla||!gr.categoryId){alert("Todos os campos obrigatrios devem ser preenchidos");return}const Ye={name:gr.name,price:parseFloat(gr.price),sla:parseInt(gr.sla),categoryId:gr.categoryId,observations:gr.observations,requiredModifierGroups:gr.requiredModifierGroups,image:void 0,active:Bt?Bt.active:!0,integrationCode:gr.integrationCode,code:gr.code,skipKitchen:!!gr.skipKitchen,allowPartialDelivery:!0,unitDeliveryCount:Math.max(1,parseInt(String(gr.unitDeliveryCount||"1"))),isPromo:Bt?.isPromo??!1,comboItemIds:Bt?.comboItemIds??[]};if(Bt){const yt=U.map(Gt=>Gt.id===Bt.id?{...Gt,...Ye}:Gt);q(yt);const vt=Math.round((Number(Ye.price)||0)*100);upsertProduct({id:String(Bt.id),sku:Ye.code||null,name:Ye.name,categoryId:String(Ye.categoryId),priceCents:vt,isActive:!!Bt.active}).catch(()=>{})}else{const yt=Math.round((Number(Ye.price)||0)*100);upsertProduct({sku:Ye.code||null,name:Ye.name,categoryId:String(Ye.categoryId),priceCents:yt,isActive:!0}).then(vt=>{const Gt={id:String(vt),...Ye};q([...U,Gt])}).catch(()=>{const vt={id:Date.now().toString(),...Ye};q([...U,vt])})}an(!1),Pt(null),Sn()},ti=()=>{if(!wr.name.trim()||!wr.price){alert("Nome e preo do combo so obrigatrios");return}const Ye=parseFloat(wr.price),yt=Math.round((Number(Ye)||0)*100);upsertProduct({sku:null,name:wr.name,categoryId:null,priceCents:yt,isActive:!0}).then(vt=>{const Gt={id:String(vt),name:wr.name,price:Ye,sla:15,categoryId:"",observations:[],requiredModifierGroups:[],image:"",active:!0,code:void 0,integrationCode:void 0,skipKitchen:!1,allowPartialDelivery:!0,unitDeliveryCount:1,isPromo:!0,comboItemIds:wr.includedItemIds};q([...U,Gt])}).catch(()=>{const vt={id:Date.now().toString(),name:wr.name,price:Ye,sla:15,categoryId:"",observations:[],requiredModifierGroups:[],image:"",active:!0,code:void 0,integrationCode:void 0,skipKitchen:!1,allowPartialDelivery:!0,unitDeliveryCount:1,isPromo:!0,comboItemIds:wr.includedItemIds};q([...U,vt])}),sa(!1),Or({name:"",price:"",includedItemIds:[]})},wt=()=>{if(!Qr.trim()){alert("Nome da forma de pagamento  obrigatrio");return}if(Wt){if(J(K.map(Ye=>Ye===Wt?Qr:Ye)),Wt!==Qr){const Ye=ye[Wt],yt={...ye};delete yt[Wt],Ye&&(yt[Qr]=Ye),Be(yt)}}else J([...K,Qr]);rn(!1),Mt(""),kn("")},Lt=Ye=>{Br({title:"Excluir Categoria",message:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Tem certeza que deseja excluir a categoria:",jsxRuntimeExports.jsxs("span",{className:"font-bold text-red-700 block mt-1",children:['"',Ye.name,'"']}),"? Todos os itens associados a ela permanecero no cardpio, mas sem categoria."]}),onConfirm:()=>{B(I.filter(yt=>yt.id!==Ye.id)),deleteCategories([String(Ye.id)]).catch(()=>{}),bn(!1)},variant:"danger",confirmText:"Excluir Categoria"}),bn(!0)},tr=Ye=>{Br({title:"Excluir Item do Cardpio",message:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Tem certeza que deseja excluir o item:",jsxRuntimeExports.jsxs("span",{className:"font-bold text-red-700 block mt-1",children:['"',Ye.name,'"']}),"? Esta ao  irreversvel."]}),onConfirm:()=>{q(U.filter(yt=>yt.id!==Ye.id)),bn(!1)},variant:"danger",confirmText:"Excluir Item"}),bn(!0)},Nr=Ye=>{Br({title:"Excluir Forma de Pagamento",message:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Tem certeza que deseja excluir a forma de pagamento:",jsxRuntimeExports.jsxs("span",{className:"font-bold text-red-700 block mt-1",children:['"',Ye,'"']}),"? Isso pode afetar pedidos futuros."]}),onConfirm:()=>{J(K.filter(vt=>vt!==Ye));const yt={...ye};delete yt[Ye],Be(yt),bn(!1)},variant:"danger",confirmText:"Excluir Forma"}),bn(!0)},sr=async Ye=>{const yt=typeof window?.api?.db?.query=="function";let vt=Ye.kitchenIds||(Ye.kitchenId?[Ye.kitchenId]:[]);if(!yt)try{const{supabase:Gt}=await __vitePreload(async()=>{const{supabase:br}=await Promise.resolve().then(()=>supabase$1);return{supabase:br}},void 0);if(Gt){const{data:br,error:_r}=await Gt.from("category_kitchens").select("kitchen_id").eq("category_id",Ye.id);!_r&&br&&(vt=br.map(Lr=>Lr.kitchen_id),console.log("[Configuraes] KitchenIds carregados do Supabase para categoria:",Ye.name,vt))}}catch(Gt){console.error("[Configuraes] Erro ao carregar kitchenIds do Supabase:",Gt)}$t(Ye),Ur({name:Ye.name,icon:Ye.icon,integrationCode:Ye.integrationCode||"",kitchenIds:vt}),un(!0)},lr=Ye=>{Pt(Ye),Rr({name:Ye.name,price:Ye.price.toString(),sla:Ye.sla.toString(),categoryId:Ye.categoryId,observations:Ye.observations||[],requiredModifierGroups:Ye.requiredModifierGroups||[],image:Ye.image||"",code:Ye.code||"",integrationCode:Ye.integrationCode||"",skipKitchen:!!Ye.skipKitchen,allowPartialDelivery:!!Ye.allowPartialDelivery,unitDeliveryCount:Ye.unitDeliveryCount?String(Ye.unitDeliveryCount):""}),Ot(Ye.image||""),gt(null),tn(""),Jr(""),Qt([]),Fr(!0),Tn(null),an(!0)},cr=Ye=>{Mt(Ye),kn(Ye),rn(!0)},yr=()=>{Yn.trim()&&!gr.observations.includes(Yn.trim())&&(Rr({...gr,observations:[...gr.observations,Yn.trim()]}),Hr(""))},$r=Ye=>{Ye.key==="Enter"&&(Ye.preventDefault(),yr())},Gr=Ye=>{Rr({...gr,observations:gr.observations.filter(yt=>yt!==Ye)})},qr=[{value:"ri-restaurant-line",label:"Pratos Principais",icon:"ri-restaurant-line"},{value:"ri-restaurant-2-line",label:"Restaurante",icon:"ri-restaurant-2-line"},{value:"ri-bowl-line",label:"Sopas e Caldos",icon:"ri-bowl-line"},{value:"ri-cake-3-line",label:"Lanches",icon:"ri-cake-3-line"},{value:"ri-knife-line",label:"Carnes",icon:"ri-knife-line"},{value:"ri-plant-line",label:"Saladas",icon:"ri-plant-line"},{value:"ri-cake-line",label:"Hambrguer",icon:"ri-cake-line"},{value:"ri-cake-2-line",label:"Pizza",icon:"ri-cake-2-line"},{value:"ri-cake-3-fill",label:"Donuts",icon:"ri-cake-3-fill"},{value:"ri-cookie-line",label:"Biscoitos e Cookies",icon:"ri-cookie-line"},{value:"ri-cup-line",label:"Cafs e Chs",icon:"ri-cup-line"},{value:"ri-cup-fill",label:"Bebidas Quentes",icon:"ri-cup-fill"},{value:"ri-beer-line",label:"Cervejas",icon:"ri-beer-line"},{value:"ri-wine-line",label:"Vinhos",icon:"ri-wine-line"},{value:"ri-goblet-line",label:"Drinks e Coquetis",icon:"ri-goblet-line"},{value:"ri-bottle-line",label:"Destilados",icon:"ri-bottle-line"},{value:"ri-drop-line",label:"Sucos e Refrigerantes",icon:"ri-drop-line"},{value:"ri-water-percent-line",label:"guas e Isotnicos",icon:"ri-water-percent-line"},{value:"ri-glass-line",label:"Bebidas Geladas",icon:"ri-glass-line"},{value:"ri-soda-line",label:"Refrigerante (lata)",icon:"ri-soda-line"},{value:"ri-soda-fill",label:"Refrigerante (lata)",icon:"ri-soda-fill"},{value:"ri-cake-fill",label:"Bolos e Tortas",icon:"ri-cake-fill"},{value:"ri-cake-2-fill",label:"Doces e Sobremesas",icon:"ri-cake-2-fill"},{value:"ri-snowflake-line",label:"Sorvetes e Gelados",icon:"ri-snowflake-line"},{value:"ri-snowflake-fill",label:"Pratos Frios",icon:"ri-snowflake-fill"},{value:"ri-apple-line",label:"Frutas e Saladas",icon:"ri-apple-line"},{value:"ri-leaf-line",label:"Vegetariano/Vegano",icon:"ri-leaf-line"},{value:"ri-seedling-line",label:"Orgnicos",icon:"ri-seedling-line"},{value:"ri-flower-line",label:"Produtos Naturais",icon:"ri-flower-line"},{value:"ri-fire-line",label:"Pratos Picantes",icon:"ri-fire-line"},{value:"ri-sun-line",label:"Pratos Quentes",icon:"ri-sun-line"},{value:"ri-heart-line",label:"Favoritos dos Clientes",icon:"ri-heart-line"},{value:"ri-star-line",label:"Especialidades da Casa",icon:"ri-star-line"},{value:"ri-award-line",label:"Prmios e Destaques",icon:"ri-award-line"},{value:"ri-gift-line",label:"Promoes",icon:"ri-gift-line"},{value:"ri-money-dollar-circle-line",label:"Combos Econmicos",icon:"ri-money-dollar-circle-line"},{value:"ri-time-line",label:"Preparo Rpido",icon:"ri-time-line"},{value:"ri-home-line",label:"Receitas Caseiras",icon:"ri-home-line"},{value:"ri-truck-line",label:"Delivery",icon:"ri-truck-line"},{value:"ri-sun-cloudy-line",label:"Caf da Manh",icon:"ri-sun-cloudy-line"},{value:"ri-sun-fill",label:"Almoo",icon:"ri-sun-fill"},{value:"ri-moon-line",label:"Jantar",icon:"ri-moon-line"},{value:"ri-moon-fill",label:"Noturno",icon:"ri-moon-fill"},{value:"ri-earth-line",label:"Cozinha Internacional",icon:"ri-earth-line"},{value:"ri-map-pin-line",label:"Cozinha Regional",icon:"ri-map-pin-line"},{value:"ri-building-line",label:"Cozinha Urbana",icon:"ri-building-line"},{value:"ri-fish-line",label:"Peixes e Frutos do Mar",icon:"ri-fish-line"},{value:"ri-add-circle-line",label:"Adicionais",icon:"ri-add-circle-line"},{value:"ri-more-line",label:"Acompanhamentos",icon:"ri-more-line"},{value:"ri-checkbox-multiple-line",label:"Opcionais",icon:"ri-checkbox-multiple-line"},{value:"ri-emotion-happy-line",label:"Menu Infantil",icon:"ri-emotion-happy-line"},{value:"ri-emotion-laugh-line",label:"Kids",icon:"ri-emotion-laugh-line"},{value:"ri-heart-pulse-line",label:"Fitness",icon:"ri-heart-pulse-line"},{value:"ri-run-line",label:"Saudvel",icon:"ri-run-line"},{value:"ri-coffee-line",label:"Caf Especial",icon:"ri-coffee-line"},{value:"ri-tea-line",label:"Chs",icon:"ri-tea-line"},{value:"ri-ice-cream-line",label:"Sorvetes",icon:"ri-ice-cream-line"},{value:"ri-ice-cream-fill",label:"Sorvetes",icon:"ri-ice-cream-fill"},{value:"ri-takeaway-line",label:"Para Viagem",icon:"ri-takeaway-line"},{value:"ri-takeaway-fill",label:"Para Viagem",icon:"ri-takeaway-fill"},{value:"ri-restaurant-fill",label:"Comida Regional",icon:"ri-restaurant-fill"},{value:"ri-bowl-fill",label:"Sopas Especiais",icon:"ri-bowl-fill"},{value:"ri-bread-line",label:"Pes e Massas",icon:"ri-bread-line"},{value:"ri-knife-fill",label:"Grelhados",icon:"ri-knife-fill"},{value:"ri-plant-fill",label:"Vegetais",icon:"ri-plant-fill"},{value:"ri-star-fill",label:"Especiais",icon:"ri-star-fill"},{value:"ri-heart-fill",label:"Favoritos",icon:"ri-heart-fill"},{value:"ri-award-fill",label:"Premiados",icon:"ri-award-fill"},{value:"ri-gift-fill",label:"Ofertas",icon:"ri-gift-fill"},{value:"ri-price-tag-3-line",label:"Promoes",icon:"ri-price-tag-3-line"},{value:"ri-coupon-line",label:"Cupons",icon:"ri-coupon-line"},{value:"ri-service-line",label:"Servios",icon:"ri-service-line"},{value:"ri-customer-service-line",label:"Atendimento",icon:"ri-customer-service-line"},{value:"ri-time-fill",label:"Horrio Especial",icon:"ri-time-fill"},{value:"ri-calendar-line",label:"Agenda",icon:"ri-calendar-line"},{value:"ri-map-pin-fill",label:"Local Especial",icon:"ri-map-pin-fill"},{value:"ri-store-line",label:"Loja",icon:"ri-store-line"},{value:"ri-temp-hot-line",label:"Quente",icon:"ri-temp-hot-line"},{value:"ri-temp-cold-line",label:"Gelado",icon:"ri-temp-cold-line"},{value:"ri-shopping-bag-line",label:"Para Viagem",icon:"ri-shopping-bag-line"},{value:"ri-user-line",label:"Individual",icon:"ri-user-line"},{value:"ri-group-line",label:"Famlia",icon:"ri-group-line"},{value:"ri-vip-crown-line",label:"VIP",icon:"ri-vip-crown-line"},{value:"ri-medal-line",label:"Premium",icon:"ri-medal-line"},{value:"ri-flashlight-line",label:"Destaque",icon:"ri-flashlight-line"}],sn=reactExports.useMemo(()=>R?[{id:"device",name:"Dispositivo",icon:"ri-computer-line"}]:[{id:"categories",name:"Categorias",icon:"ri-folder-line"},{id:"items",name:"Cardpio",icon:"ri-restaurant-line"},{id:"promotions",name:"Promoes e Combos",icon:"ri-gift-line"},{id:"payments",name:"Pagamentos",icon:"ri-money-dollar-circle-line"},{id:"shortcuts",name:"Atalhos",icon:"ri-keyboard-line"},{id:"general",name:"Geral",icon:"ri-settings-line"},{id:"device",name:"Dispositivo",icon:"ri-computer-line"}],[R]),[Jn]=useSearchParams();reactExports.useEffect(()=>{const Ye=Jn.get("tab");Ye&&sn.some(yt=>yt.id===Ye)&&T(Ye)},[Jn]);const Un=(Ye,yt)=>{const vt=I.findIndex(_r=>_r.id===Ye);if(vt===-1)return;const Gt=[...I],br=Gt[vt];if(yt==="up"&&vt>0){const _r=Gt[vt-1],Lr=br.order;br.order=_r.order,_r.order=Lr}else if(yt==="down"&&vt<Gt.length-1){const _r=Gt[vt+1],Lr=br.order;br.order=_r.order,_r.order=Lr}B(Gt)},wa=Ye=>Ye.map((yt,vt)=>({...yt,code:String(vt+1)})),Ha=(Ye,yt)=>{if(Ye===yt)return;const vt=[...U],[Gt]=vt.splice(Ye,1);vt.splice(yt,0,Gt),q(wa(vt))},Za=(Ye,yt)=>{Ye.preventDefault(),Ar!==yt&&ft(yt);const vt=80,Gt=20,br=Ye.clientY,_r=window.innerHeight;br<vt?window.scrollBy({top:-Gt,behavior:"auto"}):br>_r-vt&&window.scrollBy({top:Gt,behavior:"auto"}),kt!==null&&kt!==yt&&(Ha(kt,yt),Zt(yt))},Qn=(Ye,yt)=>{if(Ye===yt)return;const vt=[...I].sort((Rn,Cn)=>Rn.order-Cn.order),Gt=vt.findIndex(Rn=>Rn.id===Ye),br=vt.findIndex(Rn=>Rn.id===yt);if(Gt===-1||br===-1||Gt===br)return;const[_r]=vt.splice(Gt,1);vt.splice(br,0,_r);const Lr=vt.map((Rn,Cn)=>({...Rn,order:Cn+1}));B(Lr)},ta=(Ye,yt)=>{Ye.preventDefault(),xr!==yt&&er(yt);const vt=80,Gt=20,br=Ye.clientY,_r=window.innerHeight;if(br<vt?window.scrollBy({top:-Gt,behavior:"auto"}):br>_r-vt&&window.scrollBy({top:Gt,behavior:"auto"}),mt&&mt!==yt){const Lr=[...I].sort((zn,ra)=>zn.order-ra.order),Rn=Lr.findIndex(zn=>zn.id===mt),Cn=Lr.findIndex(zn=>zn.id===yt);if(Rn===-1||Cn===-1||Rn===Cn)return;Qn(mt,yt)}},pa=(Ye,yt)=>{const vt=U.findIndex(br=>br.id===Ye);if(vt===-1)return;const Gt=[...U];if(yt==="up"&&vt>0){const br=Gt[vt-1];Gt[vt-1]=Gt[vt],Gt[vt]=br}else if(yt==="down"&&vt<Gt.length-1){const br=Gt[vt+1];Gt[vt+1]=Gt[vt],Gt[vt]=br}q(wa(Gt))},xn=(Ye,yt)=>{fe(vt=>({...vt,[Ye]:yt}))},ca=(Ye,yt)=>{const vt=yt.toUpperCase().slice(0,1),Gt=Object.keys(ye).find(br=>ye[br]===vt&&br!==Ye);if(Gt&&vt){alert(`O atalho "${vt}" j est sendo usado pela forma de pagamento "${Gt}".`);return}Be(br=>({...br,[Ye]:vt}))},Vr=()=>{try{["categories","menuItems","paymentMethods","globalObservations","appConfig","paymentShortcuts"].forEach(yt=>window.localStorage.removeItem(yt)),showSuccess$1("Dados locais reiniciados. Recarregando a aplicao..."),setTimeout(()=>{window.location.reload()},300)}catch(Ye){console.warn("Falha ao reiniciar dados locais",Ye)}};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white border-b border-gray-200 flex-shrink-0",children:[jsxRuntimeExports.jsx("div",{className:"px-6 py-4",children:jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuraes"})}),jsxRuntimeExports.jsx("div",{className:"px-6",children:jsxRuntimeExports.jsx("div",{className:"flex space-x-8",children:sn.map(Ye=>jsxRuntimeExports.jsxs("button",{onClick:()=>{T(Ye.id),Va()},className:`py-4 px-2 border-b-2 font-medium text-sm transition-colors cursor-pointer whitespace-nowrap ${A===Ye.id?"border-amber-500 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[jsxRuntimeExports.jsx("i",{className:`${Ye.icon} mr-2`}),Ye.name]},Ye.id))})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto p-6 pb-24",children:[A==="device"&&jsxRuntimeExports.jsx(DeviceTab,{}),A==="promotions"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-4",children:jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Promoes e Combos"})}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3",children:[At.length>0&&jsxRuntimeExports.jsxs(Button,{variant:"secondary",onClick:xs,className:"bg-red-50 text-red-600 hover:bg-red-100",children:[jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-line mr-2"}),"Excluir Selecionados (",At.length,")"]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>sa(!0),children:[jsxRuntimeExports.jsx("i",{className:"ri-add-line mr-2"}),"Novo Combo"]})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"divide-y divide-gray-200",children:[U.filter(Ye=>Ye.isPromo).length===0&&jsxRuntimeExports.jsx("div",{className:"p-4 text-sm text-gray-500 italic",children:"Nenhuma promoo/combo cadastrado"}),U.filter(Ye=>Ye.isPromo).map(Ye=>jsxRuntimeExports.jsxs("div",{className:`p-4 flex items-center justify-between transition-colors transition-all duration-200 ease-out ${At.includes(Ye.id)?"bg-amber-50":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:At.includes(Ye.id),onChange:()=>hn(Ye.id),className:"rounded border-gray-300 text-amber-600 focus:ring-amber-500 cursor-pointer"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[jsxRuntimeExports.jsx("span",{className:`font-medium text-gray-900 ${Ye.active?"":"line-through text-gray-500"}`,children:Ye.name}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:"Combo"})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:jsxRuntimeExports.jsxs("span",{children:["R$ ",Ye.price.toFixed(2)]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",checked:Ye.active,onChange:()=>jr(Ye.id)}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-amber-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900",children:Ye.active?"Ativo":"Inativo"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>lr(Ye),className:"text-blue-600 hover:text-blue-800 cursor-pointer",children:jsxRuntimeExports.jsx("i",{className:"ri-edit-line"})}),jsxRuntimeExports.jsx("button",{onClick:()=>tr(Ye),className:"text-red-600 hover:text-red-800 cursor-pointer",children:jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-line"})})]})]},Ye.id))]})})]}),A==="categories"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6 overflow-y-auto",ref:jt,onDragOverCapture:zr,children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Categorias"}),jsxRuntimeExports.jsx(Input,{type:"text",value:rt,onChange:Ye=>nt(Ye.target.value),placeholder:"Pesquisar",className:"w-72"})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3",children:[Tt.length>0&&jsxRuntimeExports.jsxs(Button,{variant:"secondary",onClick:Ra,className:"bg-red-50 text-red-600 hover:bg-red-100",children:[jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-line mr-2"}),"Excluir Selecionados (",Tt.length,")"]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>un(!0),children:[jsxRuntimeExports.jsx("i",{className:"ri-add-line mr-2"}),"Nova Categoria"]})]})]}),I.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Tt.length===I.length,onChange:va,className:"rounded border-gray-300 text-amber-600 focus:ring-amber-500 cursor-pointer"}),jsxRuntimeExports.jsx("span",{children:"Selecionar todos"})]}),Tt.length>0&&jsxRuntimeExports.jsxs("span",{className:"text-amber-600 font-medium",children:[Tt.length," de ",I.length," selecionados"]})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"divide-y divide-gray-200",children:[Gs.length===0&&jsxRuntimeExports.jsx("div",{className:"p-4 text-sm text-gray-500 italic",children:"Nenhuma categoria encontrada"}),Gs.sort((Ye,yt)=>Ye.order-yt.order).map((Ye,yt)=>jsxRuntimeExports.jsxs("div",{className:`p-4 flex items-center justify-between transition-colors transition-all duration-200 ease-out group ${Tt.includes(Ye.id)?"bg-amber-50":""} ${xr===Ye.id?"ring-2 ring-amber-400":""} ${mt===Ye.id?"opacity-80":""}`,onDragOver:vt=>ta(vt,Ye.id),onDrop:vt=>{vt.preventDefault(),Ct(null),er(null),mr(),Sr()},children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Tt.includes(Ye.id),onChange:()=>Bn(Ye.id),className:"rounded border-gray-300 text-amber-600 focus:ring-amber-500 cursor-pointer"}),jsxRuntimeExports.jsx("span",{className:"text-gray-400 cursor-grab",title:"Arrastar para reordenar",draggable:!0,onDragStart:vt=>{Ct(Ye.id),Ft.current=vt.clientY,nn(),Er()},onDragEnd:()=>{Ct(null),er(null),mr(),Sr()},children:jsxRuntimeExports.jsx("i",{className:"ri-drag-move-line"})}),jsxRuntimeExports.jsx("i",{className:`${Ye.icon} text-xl ${Ye.active?"text-amber-500":"text-gray-400"}`}),jsxRuntimeExports.jsx("span",{className:`font-medium text-gray-900 ${Ye.active?"":"line-through text-gray-500"}`,children:Ye.name}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-500",children:["#",Ye.order]}),(Ye.kitchenIds?.length>0||Ye.kitchenId)&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded-full flex items-center gap-1",children:[jsxRuntimeExports.jsx("i",{className:"ri-restaurant-line"}),Ye.kitchenIds?.length>0?`${Ye.kitchenIds.length} cozinha(s)`:Xe.find(vt=>vt.id===Ye.kitchenId)?.name||"Cozinha"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",checked:Ye.active,onChange:()=>pr(Ye.id)}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-amber-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900",children:Ye.active?"Ativa":"Inativa"})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Un(Ye.id,"up"),disabled:yt===0,className:`w-6 h-6 flex items-center justify-center rounded cursor-pointer transition-colors ${yt===0?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:text-amber-600 hover:bg-amber-50"}`,title:"Mover para cima",children:jsxRuntimeExports.jsx("i",{className:"ri-arrow-up-s-line text-sm"})}),jsxRuntimeExports.jsx("button",{onClick:()=>Un(Ye.id,"down"),disabled:yt===I.length-1,className:`w-6 h-6 flex items-center justify-center rounded cursor-pointer transition-colors ${yt===I.length-1?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:text-amber-600 hover:bg-amber-50"}`,title:"Mover para baixo",children:jsxRuntimeExports.jsx("i",{className:"ri-arrow-down-s-line text-sm"})})]}),jsxRuntimeExports.jsx("button",{onClick:()=>sr(Ye),className:"text-blue-600 hover:text-blue-800 cursor-pointer",children:jsxRuntimeExports.jsx("i",{className:"ri-edit-line"})}),jsxRuntimeExports.jsx("button",{onClick:()=>Lt(Ye),className:"text-red-600 hover:text-red-800 cursor-pointer",children:jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-line"})})]})]})]},Ye.id))]})})]}),A==="items"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6 overflow-y-auto",ref:it,onDragOverCapture:zr,children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Cardpio"}),jsxRuntimeExports.jsx(Input,{type:"text",value:et,onChange:Ye=>lt(Ye.target.value),placeholder:"Pesquisar",className:"w-72"})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3",children:[At.length>0&&jsxRuntimeExports.jsxs(Button,{variant:"secondary",onClick:xs,className:"bg-red-50 text-red-600 hover:bg-red-100",children:[jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-line mr-2"}),"Excluir Selecionados (",At.length,")"]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>an(!0),children:[jsxRuntimeExports.jsx("i",{className:"ri-add-line mr-2"}),"Novo Item"]})]})]}),U.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:At.length===U.length,onChange:ya,className:"rounded border-gray-300 text-amber-600 focus:ring-amber-500 cursor-pointer"}),jsxRuntimeExports.jsx("span",{children:"Selecionar todos"})]}),At.length>0&&jsxRuntimeExports.jsxs("span",{className:"text-amber-600 font-medium",children:[At.length," de ",U.length," selecionados"]})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"divide-y divide-gray-200",children:[os.length===0&&jsxRuntimeExports.jsx("div",{className:"p-4 text-sm text-gray-500 italic",children:"Nenhum item encontrado"}),os.map(Ye=>{const yt=I.find(Gt=>Gt.id===Ye.categoryId),vt=U.findIndex(Gt=>Gt.id===Ye.id);return jsxRuntimeExports.jsxs("div",{className:`p-4 flex items-center justify-between transition-colors transition-all duration-200 ease-out ${At.includes(Ye.id)?"bg-amber-50":""} ${Ar===vt?"ring-2 ring-amber-400":""} ${kt===vt?"opacity-80":""}`,onDragOver:Gt=>{Za(Gt,vt),Ft.current=Gt.clientY},onDrop:Gt=>{Gt.preventDefault(),Zt(null),ft(null),mr(),Sr()},children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:At.includes(Ye.id),onChange:()=>hn(Ye.id),className:"rounded border-gray-300 text-amber-600 focus:ring-amber-500 cursor-pointer"}),jsxRuntimeExports.jsx("span",{className:"text-gray-400 cursor-grab",title:"Arrastar para reordenar",draggable:!0,onDragStart:Gt=>{Zt(vt),Ft.current=Gt.clientY,nn(),Er()},onDragEnd:()=>{Zt(null),ft(null),mr(),Sr()},children:jsxRuntimeExports.jsx("i",{className:"ri-drag-move-line"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[jsxRuntimeExports.jsx("span",{className:`font-medium text-gray-900 ${Ye.active?"":"line-through text-gray-500"}`,children:Ye.name}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-500",children:["(",yt?.name||"Sem Categoria",")"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[jsxRuntimeExports.jsxs("span",{children:["R$ ",Ye.price.toFixed(2)]}),jsxRuntimeExports.jsxs("span",{children:[Ye.sla," min"]}),Ye.code&&jsxRuntimeExports.jsxs("span",{className:"text-blue-600",children:["#",Ye.code]}),Ye.observations&&Ye.observations.length>0&&jsxRuntimeExports.jsxs("span",{className:"text-amber-600",children:[Ye.observations.length," observaes"]}),Ye.requiredModifierGroups&&Ye.requiredModifierGroups.length>0&&jsxRuntimeExports.jsxs("span",{className:"text-red-600 font-medium",children:[Ye.requiredModifierGroups.length," grupos obrigatrios"]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>pa(Ye.id,"up"),disabled:vt===0,className:`w-6 h-6 flex items-center justify-center rounded cursor-pointer transition-colors ${vt===0?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:text-amber-600 hover:bg-amber-50"}`,title:"Mover para cima",children:jsxRuntimeExports.jsx("i",{className:"ri-arrow-up-s-line text-sm"})}),jsxRuntimeExports.jsx("button",{onClick:()=>pa(Ye.id,"down"),disabled:vt===U.length-1,className:`w-6 h-6 flex items-center justify-center rounded cursor-pointer transition-colors ${vt===U.length-1?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:text-amber-600 hover:bg-amber-50"}`,title:"Mover para baixo",children:jsxRuntimeExports.jsx("i",{className:"ri-arrow-down-s-line text-sm"})})]}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",checked:Ye.active,onChange:()=>jr(Ye.id)}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-amber-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900",children:Ye.active?"Ativo":"Inativo"})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>lr(Ye),className:"text-blue-600 hover:text-blue-800 cursor-pointer",children:jsxRuntimeExports.jsx("i",{className:"ri-edit-line"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:Gt=>{Gt.preventDefault(),Gt.stopPropagation(),Et(Ye)},onKeyDown:Gt=>{(Gt.key==="Enter"||Gt.key===" ")&&(Gt.preventDefault(),Gt.stopPropagation(),Et(Ye))},className:"text-amber-600 hover:text-amber-800 cursor-pointer",title:"Ficha tcnica (janela)","aria-label":"Abrir ficha tcnica do item",children:jsxRuntimeExports.jsx("i",{className:"ri-article-line pointer-events-none"})}),jsxRuntimeExports.jsx("button",{onClick:Gt=>{Gt.preventDefault(),Gt.stopPropagation(),tr(Ye)},className:"text-red-600 hover:text-red-800 cursor-pointer",children:jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-line"})})]})]})]},Ye.id)})]})})]}),A==="payments"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Formas de Pagamento"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3",children:[Je.length>0&&jsxRuntimeExports.jsxs(Button,{variant:"secondary",onClick:ls,className:"bg-red-50 text-red-600 hover:bg-red-100",children:[jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-line mr-2"}),"Excluir Selecionados (",Je.length,")"]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>rn(!0),children:[jsxRuntimeExports.jsx("i",{className:"ri-add-line mr-2"}),"Nova Forma"]})]})]}),K.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Je.length===K.length,onChange:Ns,className:"rounded border-gray-300 text-amber-600 focus:ring-amber-500 cursor-pointer"}),jsxRuntimeExports.jsx("span",{children:"Selecionar todos"})]}),Je.length>0&&jsxRuntimeExports.jsxs("span",{className:"text-amber-600 font-medium",children:[Je.length," de ",K.length," selecionados"]})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:jsxRuntimeExports.jsx("div",{className:"divide-y divide-gray-200",children:K.map((Ye,yt)=>jsxRuntimeExports.jsxs("div",{className:`p-4 flex items-center justify-between transition-colors ${Je.includes(Ye)?"bg-amber-50":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Je.includes(Ye),onChange:()=>Sa(Ye),className:"rounded border-gray-300 text-amber-600 focus:ring-amber-500 cursor-pointer"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-900",children:Ye}),ye[Ye]&&jsxRuntimeExports.jsx("span",{className:"text-xs font-bold bg-gray-200 px-2 py-0.5 rounded border",style:{fontFamily:"inherit"},children:ye[Ye]})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>cr(Ye),className:"text-blue-600 hover:text-blue-800 cursor-pointer",children:jsxRuntimeExports.jsx("i",{className:"ri-edit-line"})}),jsxRuntimeExports.jsx("button",{onClick:()=>Nr(Ye),className:"text-red-600 hover:text-red-800 cursor-pointer",children:jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-line"})})]})]},yt))})})]}),A==="shortcuts"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Atalhos de Pedido e Pagamento"}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"divide-y divide-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-900",children:"Finalizar Pedido (Checkout)"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx(Input,{type:"text",value:xe.checkoutShortcut,onChange:Ye=>xn("checkoutShortcut",Ye.target.value.toUpperCase().slice(0,1)),placeholder:"Ex: F",maxLength:1,className:"w-16 text-center uppercase"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-500",children:["Atalho atual: ",jsxRuntimeExports.jsx("span",{className:"font-bold",children:xe.checkoutShortcut||"Nenhum"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Atalhos de Formas de Pagamento"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Defina uma nica letra para usar como atalho rpido no checkout."}),jsxRuntimeExports.jsx("div",{className:"divide-y divide-gray-200 border border-gray-200 rounded-lg",children:K.map(Ye=>jsxRuntimeExports.jsxs("div",{className:"p-4 flex items-center justify-between bg-white",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-900",children:Ye}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx(Input,{type:"text",value:ye[Ye]||"",onChange:yt=>ca(Ye,yt.target.value),placeholder:"Ex: P",maxLength:1,className:"w-16 text-center uppercase"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-500",children:["Atalho atual: ",jsxRuntimeExports.jsx("span",{className:"font-bold",children:ye[Ye]||"Nenhum"})]})]})]},Ye))})]})]})})]}),A==="general"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Configuraes Gerais"}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-200 mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Identificao do Caixa (Estao)"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Selecione qual caixa est sendo operado neste dispositivo. Esta informao ser usada para identificar as sesses e movimentos de caixa nos relatrios."}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 items-center",children:[jsxRuntimeExports.jsxs("select",{className:"block w-full max-w-xs pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm rounded-md",value:Ge,onChange:Ye=>$e(Ye.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Selecione o Caixa..."}),Le.map(Ye=>jsxRuntimeExports.jsx("option",{value:Ye.id,children:Ye.name},Ye.id))]}),Ge&&jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[jsxRuntimeExports.jsx("i",{className:"ri-check-line mr-1"})," Ativo"]})]}),Le.length===0&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-2",children:"* Nenhuma estao encontrada. Cadastre 'stations' no banco de dados."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Formato da Senha do Pedido"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Define se a senha de retirada do pedido deve ser numrica, alfabtica ou alfanumrica."}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-4",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>xn("passwordFormat","numeric"),className:`flex-1 p-3 rounded-lg border-2 transition-colors cursor-pointer ${xe.passwordFormat==="numeric"?"border-amber-500 bg-amber-50 text-amber-800":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}`,children:[jsxRuntimeExports.jsx("i",{className:"ri-hashtag text-xl mb-1"}),jsxRuntimeExports.jsx("div",{className:"font-medium text-sm",children:"Numrica (0-9)"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>xn("passwordFormat","alphabetic"),className:`flex-1 p-3 rounded-lg border-2 transition-colors cursor-pointer ${xe.passwordFormat==="alphabetic"?"border-amber-500 bg-amber-50 text-amber-800":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}`,children:[jsxRuntimeExports.jsx("i",{className:"ri-font-size-2 text-xl mb-1"}),jsxRuntimeExports.jsx("div",{className:"font-medium text-sm",children:"Alfabtica (A-Z)"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>xn("passwordFormat","alphanumeric"),className:`flex-1 p-3 rounded-lg border-2 transition-colors cursor-pointer ${xe.passwordFormat==="alphanumeric"?"border-amber-500 bg-amber-50 text-amber-800":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}`,children:[jsxRuntimeExports.jsx("i",{className:"ri-text text-xl mb-1"}),jsxRuntimeExports.jsx("div",{className:"font-medium text-sm",children:"Alfanumrica"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900",children:"Som de novo pedido"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Alerta sonoro quando chegar novo pedido na cozinha"})]}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",checked:xe.soundAlert,onChange:Ye=>xn("soundAlert",Ye.target.checked)}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-amber-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-600"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900",children:"Modo escuro"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Alternar entre tema claro e escuro"})]}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",checked:xe.darkMode,onChange:Ye=>{xn("darkMode",Ye.target.checked),Ye.target.checked?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-amber-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-600"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"SLA padro (minutos)"}),jsxRuntimeExports.jsx(Input,{type:"number",value:xe.defaultSla,onChange:Ye=>xn("defaultSla",parseInt(Ye.target.value)||0),className:"w-32"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Nome do estabelecimento"}),jsxRuntimeExports.jsx(Input,{type:"text",value:xe.establishmentName,onChange:Ye=>xn("establishmentName",Ye.target.value),className:"w-64"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Observaes Globais"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Observaes que estaro disponveis para todos os itens do cardpio"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx(Input,{value:Yn,onChange:Ye=>Hr(Ye.target.value),placeholder:"Digite uma observao global...",className:"flex-1"}),jsxRuntimeExports.jsx(Button,{onClick:Ks,size:"sm",children:"Adicionar"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Observaes Globais Ativas:"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto",children:[ee.map((Ye,yt)=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-amber-100 text-amber-800",children:[Ye,jsxRuntimeExports.jsx("button",{onClick:()=>Kn(Ye),className:"ml-2 text-amber-600 hover:text-amber-800 cursor-pointer",children:jsxRuntimeExports.jsx("i",{className:"ri-close-line text-sm"})})]},yt)),ee.length===0&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 italic",children:"Nenhuma observao global configurada"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"pt-6 border-t",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Dados Locais"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Reinicia categorias, itens, pagamentos e configuraes salvos localmente. Use quando a tela estiver sem dados ou aps migraes."}),jsxRuntimeExports.jsxs(Button,{onClick:Vr,className:"bg-red-600 hover:bg-red-700 text-white",children:[jsxRuntimeExports.jsx("i",{className:"ri-refresh-line mr-2"}),"Reiniciar dados locais"]})]})]})})]})]}),nr&&jsxRuntimeExports.jsx(ConfirmationModal,{isOpen:Hn,onClose:()=>bn(!1),onConfirm:nr.onConfirm,title:nr.title,message:nr.message,variant:nr.variant,confirmText:nr.confirmText}),jsxRuntimeExports.jsx(Modal,{isOpen:Zr,onClose:()=>{un(!1),$t(null),Sn()},title:pt?"Editar Categoria":"Nova Categoria",size:"md",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Input,{label:"Nome da categoria *",value:ur.name,onChange:Ye=>Ur({...ur,name:Ye.target.value}),placeholder:"Ex: Lanches, Bebidas...",required:!0}),jsxRuntimeExports.jsx(Input,{label:"Cdigo de integrao (opcional)",type:"number",value:ur.integrationCode||"",onChange:Ye=>Ur({...ur,integrationCode:Ye.target.value}),placeholder:"Somente nmeros"}),Xe.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[jsxRuntimeExports.jsx("i",{className:"ri-restaurant-line mr-1"}),"Cozinhas que preparam esta categoria"]}),jsxRuntimeExports.jsx("div",{className:"border border-gray-300 rounded-lg p-3 max-h-40 overflow-y-auto space-y-2",children:Xe.map(Ye=>jsxRuntimeExports.jsxs("label",{className:`flex items-center gap-3 p-2 rounded-lg cursor-pointer transition-colors ${ur.kitchenIds.includes(Ye.id)?"bg-amber-50 border border-amber-300":"hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:ur.kitchenIds.includes(Ye.id),onChange:yt=>{yt.target.checked?Ur({...ur,kitchenIds:[...ur.kitchenIds,Ye.id]}):Ur({...ur,kitchenIds:ur.kitchenIds.filter(vt=>vt!==Ye.id)})},className:"w-4 h-4 text-amber-600 border-gray-300 rounded focus:ring-amber-500"}),jsxRuntimeExports.jsx("i",{className:"ri-restaurant-2-line text-orange-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700",children:Ye.name})]},Ye.id))}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-2",children:ur.kitchenIds.length===0?" Nenhuma selecionada = Aparece em todas as cozinhas":` ${ur.kitchenIds.length} cozinha(s) selecionada(s)`})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"cone da categoria *"}),jsxRuntimeExports.jsx(Input,{type:"text",value:Wr,onChange:Ye=>Kr(Ye.target.value),placeholder:"Pesquisar cones...",className:"w-full mb-2"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-6 gap-2 max-h-48 overflow-y-auto border border-gray-200 rounded-lg p-3",children:qr.filter(Ye=>{const yt=Wr.toLowerCase();return!yt||Ye.label.toLowerCase().includes(yt)||Ye.value.toLowerCase().includes(yt)}).map(Ye=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Ur({...ur,icon:Ye.value}),className:`p-3 rounded-lg border-2 transition-all cursor-pointer hover:bg-gray-50 ${ur.icon===Ye.value?"border-amber-500 bg-amber-50":"border-gray-200"}`,title:Ye.label,children:jsxRuntimeExports.jsx("i",{className:`${Ye.icon} text-xl ${ur.icon===Ye.value?"text-amber-600":"text-gray-600"}`})},Ye.value))}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["cone selecionado: ",jsxRuntimeExports.jsx("i",{className:`${ur.icon} mr-1`}),qr.find(Ye=>Ye.value===ur.icon)?.label]})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>{un(!1),$t(null),Sn()},className:"flex-1",children:"Cancelar"}),jsxRuntimeExports.jsx(Button,{onClick:Na,className:"flex-1",children:pt?"Salvar":"Criar"})]})]})}),jsxRuntimeExports.jsx(Modal,{isOpen:Xr,onClose:()=>{an(!1),Pt(null),Sn()},title:Bt?"Editar Item":"Novo Item",size:"lg",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Input,{label:"Nome do item *",value:gr.name,onChange:Ye=>Rr({...gr,name:Ye.target.value}),placeholder:"Ex: X-Burger, Coca-Cola...",required:!0}),jsxRuntimeExports.jsx(Input,{label:"Cdigo do item (automtico)",type:"number",value:gr.code,readOnly:!0,disabled:!0,placeholder:"Gerado pela posio na lista"}),jsxRuntimeExports.jsx(Input,{label:"Cdigo de integrao (opcional)",type:"number",value:gr.integrationCode||"",onChange:Ye=>Rr({...gr,integrationCode:Ye.target.value}),placeholder:"Somente nmeros"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(Input,{label:"Preo *",type:"number",step:"0.01",value:gr.price,onChange:Ye=>Rr({...gr,price:Ye.target.value}),placeholder:"0.00",required:!0}),jsxRuntimeExports.jsx(Input,{label:"SLA (minutos) *",type:"number",value:gr.sla,onChange:Ye=>Rr({...gr,sla:Ye.target.value}),placeholder:"15",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria *"}),jsxRuntimeExports.jsxs("select",{value:gr.categoryId,onChange:Ye=>Rr({...gr,categoryId:Ye.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent pr-8",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Selecione uma categoria"}),I.map(Ye=>jsxRuntimeExports.jsx("option",{value:Ye.id,children:Ye.name},Ye.id))]})]}),jsxRuntimeExports.jsxs("div",{className:"pt-2",children:[jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!gr.skipKitchen,onChange:Ye=>Rr({...gr,skipKitchen:Ye.target.checked})}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-amber-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900",children:"Pular Cozinha (Entrega Direta)"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Quando ativo, o item no gera unidades de produo nem aparece na Cozinha."})]}),jsxRuntimeExports.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[jsxRuntimeExports.jsxs("h3",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-checkbox-circle-line mr-2 text-red-600"}),"Grupos de Opes Obrigatrias (Seleo nica)"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Crie grupos onde o operador deve selecionar exatamente uma opo."}),jsxRuntimeExports.jsxs("div",{className:"p-4 border border-blue-200 rounded-lg bg-blue-50 space-y-3 mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-blue-800",children:"Novo Grupo / Editar Selecionado"}),jsxRuntimeExports.jsx(Input,{value:Ir,onChange:Ye=>tn(Ye.target.value),placeholder:"Nome do Grupo (Ex: Ponto da Carne)"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx(Input,{value:Mr,onChange:Ye=>Jr(Ye.target.value),onKeyPress:Ye=>Ye.key==="Enter"&&Nn(),placeholder:"Opo (Ex: Mal Passada)",className:"flex-1"}),jsxRuntimeExports.jsx(Button,{onClick:Nn,size:"sm",variant:"info",disabled:!Mr.trim(),children:"+ Opo"})]}),mn.length>0&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 p-2 border-t border-blue-200 pt-3",children:mn.map((Ye,yt)=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[Ye,jsxRuntimeExports.jsx("button",{onClick:()=>ba(Ye),className:"ml-1 text-blue-600 hover:text-blue-800 cursor-pointer",children:jsxRuntimeExports.jsx("i",{className:"ri-close-line text-xs"})})]},yt))}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-blue-200",children:[jsxRuntimeExports.jsx("h5",{className:"text-sm font-medium text-blue-800",children:"Status do Grupo:"}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",checked:Pr,onChange:Ye=>Fr(Ye.target.checked)}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-amber-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900",children:Pr?"Ativo":"Inativo"})]})]}),jsxRuntimeExports.jsxs(Button,{onClick:ma,disabled:!Ir.trim()||mn.length===0,className:"w-full",variant:"primary",children:[jsxRuntimeExports.jsx("i",{className:"ri-add-line mr-2"}),"Adicionar/Atualizar Grupo"]})]}),gr.requiredModifierGroups.length>0&&jsxRuntimeExports.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-lg divide-y divide-gray-100",children:gr.requiredModifierGroups.map(Ye=>jsxRuntimeExports.jsxs("div",{className:`p-3 flex items-center justify-between bg-white ${Ye.active?"":"bg-gray-50"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0 pr-4",children:[jsxRuntimeExports.jsx("span",{className:`font-medium text-gray-900 block truncate ${Ye.active?"":"line-through text-gray-500"}`,children:Ye.name}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 mt-1 flex flex-wrap gap-1",children:Ye.options.map((yt,vt)=>jsxRuntimeExports.jsx("span",{className:"bg-gray-100 px-1 rounded",children:yt},vt))})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",checked:Ye.active,onChange:()=>wn(Ye.id)}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-amber-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})]}),jsxRuntimeExports.jsx(Button,{variant:"secondary",size:"sm",onClick:()=>{tn(Ye.name),Qt(Ye.options),Fr(Ye.active),Tn(Ye.id)},children:jsxRuntimeExports.jsx("i",{className:"ri-edit-line"})}),jsxRuntimeExports.jsx(Button,{variant:"danger",size:"sm",onClick:()=>bs(Ye.id),children:jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-line"})})]})]},Ye.id))})]}),jsxRuntimeExports.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[jsxRuntimeExports.jsxs("h3",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-information-line mr-2 text-amber-600"}),"Observaes Opcionais"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Observaes que o operador PODE adicionar ao item."}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2 mb-2",children:[jsxRuntimeExports.jsx(Input,{value:Yn,onChange:Ye=>Hr(Ye.target.value),onKeyPress:$r,placeholder:"Digite uma observao...",className:"flex-1"}),jsxRuntimeExports.jsx(Button,{onClick:yr,size:"sm",children:"Adicionar"})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto p-1",children:gr.observations.map((Ye,yt)=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-amber-100 text-amber-800",children:[Ye,jsxRuntimeExports.jsx("button",{onClick:()=>Gr(Ye),className:"ml-1 text-amber-600 hover:text-amber-800 cursor-pointer",children:jsxRuntimeExports.jsx("i",{className:"ri-close-line text-xs"})})]},yt))})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3 pt-4 border-t",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>{an(!1),Pt(null),Sn()},className:"flex-1",children:"Cancelar"}),jsxRuntimeExports.jsx(Button,{onClick:wi,className:"flex-1",children:Bt?"Salvar":"Criar"})]})]})}),jsxRuntimeExports.jsx(Modal,{isOpen:Qa,onClose:()=>Dn(!1),title:`Ficha Tcnica - ${Gn}`,size:"md",children:jsxRuntimeExports.jsx("div",{className:"space-y-2",children:ss.length===0?jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Nenhum insumo cadastrado"}):jsxRuntimeExports.jsx("div",{className:"divide-y",children:ss.map(Ye=>jsxRuntimeExports.jsxs("div",{className:"py-1 flex items-center justify-between",children:[jsxRuntimeExports.jsx("div",{className:"text-sm",children:ea.find(yt=>String(yt.id)===String(Ye.ingredient_id))?.name||Ye.ingredient_id}),jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[Ye.quantity," ",Ye.unit]})]},String(Ye.id)))})})}),jsxRuntimeExports.jsx(Modal,{isOpen:vn,onClose:()=>{rn(!1),Mt(""),kn("")},title:Wt?"Editar Forma de Pagamento":"Nova Forma de Pagamento",size:"sm",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Input,{label:"Nome da forma de pagamento *",value:Qr,onChange:Ye=>kn(Ye.target.value),placeholder:"Ex: PIX, Dinheiro, Carto...",required:!0}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>{rn(!1),Mt(""),kn("")},className:"flex-1",children:"Cancelar"}),jsxRuntimeExports.jsx(Button,{onClick:wt,className:"flex-1",children:Wt?"Salvar":"Criar"})]})]})}),jsxRuntimeExports.jsx(Modal,{isOpen:pn,onClose:()=>{sa(!1),Or({name:"",price:"",includedItemIds:[]})},title:"Novo Combo",size:"md",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Input,{label:"Nome do combo *",value:wr.name,onChange:Ye=>Or({...wr,name:Ye.target.value}),placeholder:"Ex: Combo X",required:!0}),jsxRuntimeExports.jsx(Input,{label:"Preo do combo *",type:"number",value:wr.price,onChange:Ye=>Or({...wr,price:Ye.target.value}),placeholder:"Ex: 19.90",required:!0}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:"Itens includos (opcional)"}),jsxRuntimeExports.jsx("div",{className:"max-h-40 overflow-y-auto border rounded",children:U.filter(Ye=>Ye.active).map(Ye=>jsxRuntimeExports.jsxs("label",{className:"flex items-center px-3 py-2 text-sm gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:wr.includedItemIds.includes(Ye.id),onChange:yt=>{const Gt=yt.target.checked?[...wr.includedItemIds,Ye.id]:wr.includedItemIds.filter(br=>br!==Ye.id);Or({...wr,includedItemIds:Gt})}}),jsxRuntimeExports.jsx("span",{children:Ye.name})]},Ye.id))})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3 pt-2",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>{sa(!1),Or({name:"",price:"",includedItemIds:[]})},className:"flex-1",children:"Cancelar"}),jsxRuntimeExports.jsx(Button,{onClick:ti,className:"flex-1",children:"Criar"})]})]})})]})}function DeviceTab(){const[b,R]=reactExports.useState(!1),[A,T]=reactExports.useState(null),[I,B]=reactExports.useState(null),[U,q]=reactExports.useState({appVersion:"0.0.0",electronVersion:"unknown"}),[K,J]=reactExports.useState(null),[ee,te]=reactExports.useState(null);async function xe(){R(!0);try{const[ye,Be,Le]=await Promise.all([getOperationInfo(),getDeviceProfile(),getDbVersion()]);T(ye),B(Be),q(getAppVersions()),J(Le),te(getDataPath())}finally{R(!1)}}reactExports.useEffect(()=>{xe()},[]);const fe=async()=>{const ye=[`Unidade: ${A?.unitName??""}`,`Dispositivo: ${I?.deviceName??""}`,`Papel do mdulo: ${I?.role??""}`,`IP local: ${A?.localIp??""}`,`Modo de operao: ${A?.mode??""}`,`Fila pendente: ${A?.queueSize??0}`,`ltima sync: ${A?.lastSyncAt?new Date(A.lastSyncAt).toLocaleString():""}`,`DB user_version: ${K??""}`,`Dados em: ${ee??""}`,`Verso app: ${U.appVersion}`,`Electron: ${U.electronVersion}`];await navigator.clipboard.writeText(ye.join(`
`)),showSuccess$1("Informaes do dispositivo copiadas")};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Dispositivo"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"secondary",onClick:xe,disabled:b,children:[jsxRuntimeExports.jsx("i",{className:"ri-refresh-line mr-2"}),"Atualizar"]}),jsxRuntimeExports.jsxs(Button,{variant:"primary",onClick:fe,disabled:b,children:[jsxRuntimeExports.jsx("i",{className:"ri-file-copy-line mr-2"}),"Copiar informaes"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Identificao"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Unidade:"})," ",A?.unitName??""]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Dispositivo:"})," ",I?.deviceName??""]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Mdulo:"})," ",I?.role??""]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Rede e Sync"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"IP local:"})," ",A?.localIp??""]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Modo:"})," ",A?.mode??""]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Fila pendente:"})," ",A?.queueSize??0]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"ltima sync:"})," ",A?.lastSyncAt?new Date(A.lastSyncAt).toLocaleString():""]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Verses"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"App:"})," ",U.appVersion]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Electron:"})," ",U.electronVersion]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"DB user_version:"})," ",K??""]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Data path:"})," ",ee??""]})]})]})]})]})}function r(b){var R,A,T="";if(typeof b=="string"||typeof b=="number")T+=b;else if(typeof b=="object")if(Array.isArray(b)){var I=b.length;for(R=0;R<I;R++)b[R]&&(A=r(b[R]))&&(T&&(T+=" "),T+=A)}else for(A in b)b[A]&&(T&&(T+=" "),T+=A);return T}function clsx(){for(var b,R,A=0,T="",I=arguments.length;A<I;A++)(b=arguments[A])&&(R=r(b))&&(T&&(T+=" "),T+=R);return T}var get$2={},isUnsafeProperty={},hasRequiredIsUnsafeProperty;function requireIsUnsafeProperty(){return hasRequiredIsUnsafeProperty||(hasRequiredIsUnsafeProperty=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});function R(A){return A==="__proto__"}b.isUnsafeProperty=R})(isUnsafeProperty)),isUnsafeProperty}var isDeepKey={},hasRequiredIsDeepKey;function requireIsDeepKey(){return hasRequiredIsDeepKey||(hasRequiredIsDeepKey=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});function R(A){switch(typeof A){case"number":case"symbol":return!1;case"string":return A.includes(".")||A.includes("[")||A.includes("]")}}b.isDeepKey=R})(isDeepKey)),isDeepKey}var toKey={},hasRequiredToKey;function requireToKey(){return hasRequiredToKey||(hasRequiredToKey=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});function R(A){return typeof A=="string"||typeof A=="symbol"?A:Object.is(A?.valueOf?.(),-0)?"-0":String(A)}b.toKey=R})(toKey)),toKey}var toPath={},toString$1={},hasRequiredToString;function requireToString(){return hasRequiredToString||(hasRequiredToString=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});function R(A){if(A==null)return"";if(typeof A=="string")return A;if(Array.isArray(A))return A.map(R).join(",");const T=String(A);return T==="0"&&Object.is(Number(A),-0)?"-0":T}b.toString=R})(toString$1)),toString$1}var hasRequiredToPath;function requireToPath(){return hasRequiredToPath||(hasRequiredToPath=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireToString(),A=requireToKey();function T(I){if(Array.isArray(I))return I.map(A.toKey);if(typeof I=="symbol")return[I];I=R.toString(I);const B=[],U=I.length;if(U===0)return B;let q=0,K="",J="",ee=!1;for(I.charCodeAt(0)===46&&(B.push(""),q++);q<U;){const te=I[q];J?te==="\\"&&q+1<U?(q++,K+=I[q]):te===J?J="":K+=te:ee?te==='"'||te==="'"?J=te:te==="]"?(ee=!1,B.push(K),K=""):K+=te:te==="["?(ee=!0,K&&(B.push(K),K="")):te==="."?K&&(B.push(K),K=""):K+=te,q++}return K&&B.push(K),B}b.toPath=T})(toPath)),toPath}var hasRequiredGet$1;function requireGet$1(){return hasRequiredGet$1||(hasRequiredGet$1=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireIsUnsafeProperty(),A=requireIsDeepKey(),T=requireToKey(),I=requireToPath();function B(q,K,J){if(q==null)return J;switch(typeof K){case"string":{if(R.isUnsafeProperty(K))return J;const ee=q[K];return ee===void 0?A.isDeepKey(K)?B(q,I.toPath(K),J):J:ee}case"number":case"symbol":{typeof K=="number"&&(K=T.toKey(K));const ee=q[K];return ee===void 0?J:ee}default:{if(Array.isArray(K))return U(q,K,J);if(Object.is(K?.valueOf(),-0)?K="-0":K=String(K),R.isUnsafeProperty(K))return J;const ee=q[K];return ee===void 0?J:ee}}}function U(q,K,J){if(K.length===0)return J;let ee=q;for(let te=0;te<K.length;te++){if(ee==null||R.isUnsafeProperty(K[te]))return J;ee=ee[K[te]]}return ee===void 0?J:ee}b.get=B})(get$2)),get$2}var get$1,hasRequiredGet;function requireGet(){return hasRequiredGet||(hasRequiredGet=1,get$1=requireGet$1().get),get$1}var getExports=requireGet();const get=getDefaultExportFromCjs(getExports);var reactIs={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production_min;function requireReactIs_production_min(){if(hasRequiredReactIs_production_min)return reactIs_production_min;hasRequiredReactIs_production_min=1;var b=typeof Symbol=="function"&&Symbol.for,R=b?Symbol.for("react.element"):60103,A=b?Symbol.for("react.portal"):60106,T=b?Symbol.for("react.fragment"):60107,I=b?Symbol.for("react.strict_mode"):60108,B=b?Symbol.for("react.profiler"):60114,U=b?Symbol.for("react.provider"):60109,q=b?Symbol.for("react.context"):60110,K=b?Symbol.for("react.async_mode"):60111,J=b?Symbol.for("react.concurrent_mode"):60111,ee=b?Symbol.for("react.forward_ref"):60112,te=b?Symbol.for("react.suspense"):60113,xe=b?Symbol.for("react.suspense_list"):60120,fe=b?Symbol.for("react.memo"):60115,ye=b?Symbol.for("react.lazy"):60116,Be=b?Symbol.for("react.block"):60121,Le=b?Symbol.for("react.fundamental"):60117,qe=b?Symbol.for("react.responder"):60118,Ge=b?Symbol.for("react.scope"):60119;function $e(He){if(typeof He=="object"&&He!==null){var Qe=He.$$typeof;switch(Qe){case R:switch(He=He.type,He){case K:case J:case T:case B:case I:case te:return He;default:switch(He=He&&He.$$typeof,He){case q:case ee:case ye:case fe:case U:return He;default:return Qe}}case A:return Qe}}}function Xe(He){return $e(He)===J}return reactIs_production_min.AsyncMode=K,reactIs_production_min.ConcurrentMode=J,reactIs_production_min.ContextConsumer=q,reactIs_production_min.ContextProvider=U,reactIs_production_min.Element=R,reactIs_production_min.ForwardRef=ee,reactIs_production_min.Fragment=T,reactIs_production_min.Lazy=ye,reactIs_production_min.Memo=fe,reactIs_production_min.Portal=A,reactIs_production_min.Profiler=B,reactIs_production_min.StrictMode=I,reactIs_production_min.Suspense=te,reactIs_production_min.isAsyncMode=function(He){return Xe(He)||$e(He)===K},reactIs_production_min.isConcurrentMode=Xe,reactIs_production_min.isContextConsumer=function(He){return $e(He)===q},reactIs_production_min.isContextProvider=function(He){return $e(He)===U},reactIs_production_min.isElement=function(He){return typeof He=="object"&&He!==null&&He.$$typeof===R},reactIs_production_min.isForwardRef=function(He){return $e(He)===ee},reactIs_production_min.isFragment=function(He){return $e(He)===T},reactIs_production_min.isLazy=function(He){return $e(He)===ye},reactIs_production_min.isMemo=function(He){return $e(He)===fe},reactIs_production_min.isPortal=function(He){return $e(He)===A},reactIs_production_min.isProfiler=function(He){return $e(He)===B},reactIs_production_min.isStrictMode=function(He){return $e(He)===I},reactIs_production_min.isSuspense=function(He){return $e(He)===te},reactIs_production_min.isValidElementType=function(He){return typeof He=="string"||typeof He=="function"||He===T||He===J||He===B||He===I||He===te||He===xe||typeof He=="object"&&He!==null&&(He.$$typeof===ye||He.$$typeof===fe||He.$$typeof===U||He.$$typeof===q||He.$$typeof===ee||He.$$typeof===Le||He.$$typeof===qe||He.$$typeof===Ge||He.$$typeof===Be)},reactIs_production_min.typeOf=$e,reactIs_production_min}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production_min()),reactIs.exports}var reactIsExports=requireReactIs(),mathSign=b=>b===0?0:b>0?1:-1,isNan=b=>typeof b=="number"&&b!=+b,isPercent=b=>typeof b=="string"&&b.indexOf("%")===b.length-1,isNumber=b=>(typeof b=="number"||b instanceof Number)&&!isNan(b),isNumOrStr=b=>isNumber(b)||typeof b=="string",idCounter=0,uniqueId=b=>{var R=++idCounter;return"".concat(b||"").concat(R)},getPercentValue=function b(R,A){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(R)&&typeof R!="string")return T;var B;if(isPercent(R)){if(A==null)return T;var U=R.indexOf("%");B=A*parseFloat(R.slice(0,U))/100}else B=+R;return isNan(B)&&(B=T),I&&A!=null&&B>A&&(B=A),B},hasDuplicate=b=>{if(!Array.isArray(b))return!1;for(var R=b.length,A={},T=0;T<R;T++)if(!A[b[T]])A[b[T]]=!0;else return!0;return!1};function interpolate$1(b,R,A){return isNumber(b)&&isNumber(R)?b+A*(R-b):R}function findEntryInArray(b,R,A){if(!(!b||!b.length))return b.find(T=>T&&(typeof R=="function"?R(T):get(T,R))===A)}var isNullish=b=>b===null||typeof b>"u",upperFirst=b=>isNullish(b)?b:"".concat(b.charAt(0).toUpperCase()).concat(b.slice(1)),EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function isEventKey(b){if(typeof b!="string")return!1;var R=EventKeys;return R.includes(b)}var SVGContainerPropKeys=["viewBox","children"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},adaptEventHandlers=(b,R)=>{if(!b||typeof b=="function"||typeof b=="boolean")return null;var A=b;if(reactExports.isValidElement(b)&&(A=b.props),typeof A!="object"&&typeof A!="function")return null;var T={};return Object.keys(A).forEach(I=>{isEventKey(I)&&(T[I]=(B=>A[I](A,B)))}),T},getEventHandlerOfChild=(b,R,A)=>T=>(b(R,A,T),null),adaptEventsOfChild=(b,R,A)=>{if(b===null||typeof b!="object"&&typeof b!="function")return null;var T=null;return Object.keys(b).forEach(I=>{var B=b[I];isEventKey(I)&&typeof B=="function"&&(T||(T={}),T[I]=getEventHandlerOfChild(B,R,A))}),T},SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function isSvgElementPropKey(b){if(typeof b!="string")return!1;var R=SVGElementPropKeys;return R.includes(b)}function svgPropertiesNoEvents(b){var R=Object.entries(b).filter(A=>{var[T]=A;return isSvgElementPropKey(T)});return Object.fromEntries(R)}var getDisplayName=b=>typeof b=="string"?b:b?b.displayName||b.name||"Component":"",lastChildren=null,lastResult=null,toArray$1=b=>{if(b===lastChildren&&Array.isArray(lastResult))return lastResult;var R=[];return reactExports.Children.forEach(b,A=>{isNullish(A)||(reactIsExports.isFragment(A)?R=R.concat(toArray$1(A.props.children)):R.push(A))}),lastResult=R,lastChildren=b,R};function findAllByType(b,R){var A=[],T=[];return Array.isArray(R)?T=R.map(I=>getDisplayName(I)):T=[getDisplayName(R)],toArray$1(b).forEach(I=>{var B=get(I,"type.displayName")||get(I,"type.name");T.indexOf(B)!==-1&&A.push(I)}),A}var isClipDot=b=>b&&typeof b=="object"&&"clipDot"in b?!!b.clipDot:!0,isValidSpreadableProp=(b,R,A,T)=>{var I;if(typeof R=="symbol"||typeof R=="number")return!0;var B=(I=T&&FilteredElementKeyMap?.[T])!==null&&I!==void 0?I:[],U=R.startsWith("data-"),q=typeof b!="function"&&(!!T&&B.includes(R)||isSvgElementPropKey(R)),K=!!A&&isEventKey(R);return U||q||K},filterProps=(b,R,A)=>{if(!b||typeof b=="function"||typeof b=="boolean")return null;var T=b;if(reactExports.isValidElement(b)&&(T=b.props),typeof T!="object"&&typeof T!="function")return null;var I={};return Object.keys(T).forEach(B=>{var U;isValidSpreadableProp((U=T)===null||U===void 0?void 0:U[B],B,R,A)&&(I[B]=T[B])}),I},_excluded$k=["children","width","height","viewBox","className","style","title","desc"];function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var T in A)({}).hasOwnProperty.call(A,T)&&(b[T]=A[T])}return b},_extends$o.apply(null,arguments)}function _objectWithoutProperties$k(b,R){if(b==null)return{};var A,T,I=_objectWithoutPropertiesLoose$k(b,R);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(b);for(T=0;T<B.length;T++)A=B[T],R.indexOf(A)===-1&&{}.propertyIsEnumerable.call(b,A)&&(I[A]=b[A])}return I}function _objectWithoutPropertiesLoose$k(b,R){if(b==null)return{};var A={};for(var T in b)if({}.hasOwnProperty.call(b,T)){if(R.indexOf(T)!==-1)continue;A[T]=b[T]}return A}var Surface=reactExports.forwardRef((b,R)=>{var{children:A,width:T,height:I,viewBox:B,className:U,style:q,title:K,desc:J}=b,ee=_objectWithoutProperties$k(b,_excluded$k),te=B||{width:T,height:I,x:0,y:0},xe=clsx("recharts-surface",U);return reactExports.createElement("svg",_extends$o({},filterProps(ee,!0,"svg"),{className:xe,width:T,height:I,style:q,viewBox:"".concat(te.x," ").concat(te.y," ").concat(te.width," ").concat(te.height),ref:R}),reactExports.createElement("title",null,K),reactExports.createElement("desc",null,J),A)}),_excluded$j=["children","className"];function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var T in A)({}).hasOwnProperty.call(A,T)&&(b[T]=A[T])}return b},_extends$n.apply(null,arguments)}function _objectWithoutProperties$j(b,R){if(b==null)return{};var A,T,I=_objectWithoutPropertiesLoose$j(b,R);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(b);for(T=0;T<B.length;T++)A=B[T],R.indexOf(A)===-1&&{}.propertyIsEnumerable.call(b,A)&&(I[A]=b[A])}return I}function _objectWithoutPropertiesLoose$j(b,R){if(b==null)return{};var A={};for(var T in b)if({}.hasOwnProperty.call(b,T)){if(R.indexOf(T)!==-1)continue;A[T]=b[T]}return A}var Layer=reactExports.forwardRef((b,R)=>{var{children:A,className:T}=b,I=_objectWithoutProperties$j(b,_excluded$j),B=clsx("recharts-layer",T);return reactExports.createElement("g",_extends$n({className:B},filterProps(I,!0),{ref:R}),A)}),LegendPortalContext=reactExports.createContext(null),useLegendPortal=()=>reactExports.useContext(LegendPortalContext);function constant$1(b){return function(){return b}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(b){this._+=b[0];for(let R=1,A=b.length;R<A;++R)this._+=arguments[R]+b[R]}function appendRound(b){let R=Math.floor(b);if(!(R>=0))throw new Error(`invalid digits: ${b}`);if(R>15)return append;const A=10**R;return function(T){this._+=T[0];for(let I=1,B=T.length;I<B;++I)this._+=Math.round(arguments[I]*A)/A+T[I]}}class Path{constructor(R){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=R==null?append:appendRound(R)}moveTo(R,A){this._append`M${this._x0=this._x1=+R},${this._y0=this._y1=+A}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(R,A){this._append`L${this._x1=+R},${this._y1=+A}`}quadraticCurveTo(R,A,T,I){this._append`Q${+R},${+A},${this._x1=+T},${this._y1=+I}`}bezierCurveTo(R,A,T,I,B,U){this._append`C${+R},${+A},${+T},${+I},${this._x1=+B},${this._y1=+U}`}arcTo(R,A,T,I,B){if(R=+R,A=+A,T=+T,I=+I,B=+B,B<0)throw new Error(`negative radius: ${B}`);let U=this._x1,q=this._y1,K=T-R,J=I-A,ee=U-R,te=q-A,xe=ee*ee+te*te;if(this._x1===null)this._append`M${this._x1=R},${this._y1=A}`;else if(xe>epsilon)if(!(Math.abs(te*K-J*ee)>epsilon)||!B)this._append`L${this._x1=R},${this._y1=A}`;else{let fe=T-U,ye=I-q,Be=K*K+J*J,Le=fe*fe+ye*ye,qe=Math.sqrt(Be),Ge=Math.sqrt(xe),$e=B*Math.tan((pi-Math.acos((Be+xe-Le)/(2*qe*Ge)))/2),Xe=$e/Ge,He=$e/qe;Math.abs(Xe-1)>epsilon&&this._append`L${R+Xe*ee},${A+Xe*te}`,this._append`A${B},${B},0,0,${+(te*fe>ee*ye)},${this._x1=R+He*K},${this._y1=A+He*J}`}}arc(R,A,T,I,B,U){if(R=+R,A=+A,T=+T,U=!!U,T<0)throw new Error(`negative radius: ${T}`);let q=T*Math.cos(I),K=T*Math.sin(I),J=R+q,ee=A+K,te=1^U,xe=U?I-B:B-I;this._x1===null?this._append`M${J},${ee}`:(Math.abs(this._x1-J)>epsilon||Math.abs(this._y1-ee)>epsilon)&&this._append`L${J},${ee}`,T&&(xe<0&&(xe=xe%tau+tau),xe>tauEpsilon?this._append`A${T},${T},0,1,${te},${R-q},${A-K}A${T},${T},0,1,${te},${this._x1=J},${this._y1=ee}`:xe>epsilon&&this._append`A${T},${T},0,${+(xe>=pi)},${te},${this._x1=R+T*Math.cos(B)},${this._y1=A+T*Math.sin(B)}`)}rect(R,A,T,I){this._append`M${this._x0=this._x1=+R},${this._y0=this._y1=+A}h${T=+T}v${+I}h${-T}Z`}toString(){return this._}}function withPath(b){let R=3;return b.digits=function(A){if(!arguments.length)return R;if(A==null)R=null;else{const T=Math.floor(A);if(!(T>=0))throw new RangeError(`invalid digits: ${A}`);R=T}return b},()=>new Path(R)}function array(b){return typeof b=="object"&&"length"in b?b:Array.from(b)}function Linear(b){this._context=b}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(b,R){switch(b=+b,R=+R,this._point){case 0:this._point=1,this._line?this._context.lineTo(b,R):this._context.moveTo(b,R);break;case 1:this._point=2;default:this._context.lineTo(b,R);break}}};function curveLinear(b){return new Linear(b)}function x(b){return b[0]}function y(b){return b[1]}function shapeLine(b,R){var A=constant$1(!0),T=null,I=curveLinear,B=null,U=withPath(q);b=typeof b=="function"?b:b===void 0?x:constant$1(b),R=typeof R=="function"?R:R===void 0?y:constant$1(R);function q(K){var J,ee=(K=array(K)).length,te,xe=!1,fe;for(T==null&&(B=I(fe=U())),J=0;J<=ee;++J)!(J<ee&&A(te=K[J],J,K))===xe&&((xe=!xe)?B.lineStart():B.lineEnd()),xe&&B.point(+b(te,J,K),+R(te,J,K));if(fe)return B=null,fe+""||null}return q.x=function(K){return arguments.length?(b=typeof K=="function"?K:constant$1(+K),q):b},q.y=function(K){return arguments.length?(R=typeof K=="function"?K:constant$1(+K),q):R},q.defined=function(K){return arguments.length?(A=typeof K=="function"?K:constant$1(!!K),q):A},q.curve=function(K){return arguments.length?(I=K,T!=null&&(B=I(T)),q):I},q.context=function(K){return arguments.length?(K==null?T=B=null:B=I(T=K),q):T},q}function shapeArea(b,R,A){var T=null,I=constant$1(!0),B=null,U=curveLinear,q=null,K=withPath(J);b=typeof b=="function"?b:b===void 0?x:constant$1(+b),R=typeof R=="function"?R:constant$1(R===void 0?0:+R),A=typeof A=="function"?A:A===void 0?y:constant$1(+A);function J(te){var xe,fe,ye,Be=(te=array(te)).length,Le,qe=!1,Ge,$e=new Array(Be),Xe=new Array(Be);for(B==null&&(q=U(Ge=K())),xe=0;xe<=Be;++xe){if(!(xe<Be&&I(Le=te[xe],xe,te))===qe)if(qe=!qe)fe=xe,q.areaStart(),q.lineStart();else{for(q.lineEnd(),q.lineStart(),ye=xe-1;ye>=fe;--ye)q.point($e[ye],Xe[ye]);q.lineEnd(),q.areaEnd()}qe&&($e[xe]=+b(Le,xe,te),Xe[xe]=+R(Le,xe,te),q.point(T?+T(Le,xe,te):$e[xe],A?+A(Le,xe,te):Xe[xe]))}if(Ge)return q=null,Ge+""||null}function ee(){return shapeLine().defined(I).curve(U).context(B)}return J.x=function(te){return arguments.length?(b=typeof te=="function"?te:constant$1(+te),T=null,J):b},J.x0=function(te){return arguments.length?(b=typeof te=="function"?te:constant$1(+te),J):b},J.x1=function(te){return arguments.length?(T=te==null?null:typeof te=="function"?te:constant$1(+te),J):T},J.y=function(te){return arguments.length?(R=typeof te=="function"?te:constant$1(+te),A=null,J):R},J.y0=function(te){return arguments.length?(R=typeof te=="function"?te:constant$1(+te),J):R},J.y1=function(te){return arguments.length?(A=te==null?null:typeof te=="function"?te:constant$1(+te),J):A},J.lineX0=J.lineY0=function(){return ee().x(b).y(R)},J.lineY1=function(){return ee().x(b).y(A)},J.lineX1=function(){return ee().x(T).y(R)},J.defined=function(te){return arguments.length?(I=typeof te=="function"?te:constant$1(!!te),J):I},J.curve=function(te){return arguments.length?(U=te,B!=null&&(q=U(B)),J):U},J.context=function(te){return arguments.length?(te==null?B=q=null:q=U(B=te),J):B},J}class Bump{constructor(R,A){this._context=R,this._x=A}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(R,A){switch(R=+R,A=+A,this._point){case 0:{this._point=1,this._line?this._context.lineTo(R,A):this._context.moveTo(R,A);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+R)/2,this._y0,this._x0,A,R,A):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+A)/2,R,this._y0,R,A);break}}this._x0=R,this._y0=A}}function bumpX(b){return new Bump(b,!0)}function bumpY(b){return new Bump(b,!1)}const symbolCircle={draw(b,R){const A=sqrt$1(R/pi$1);b.moveTo(A,0),b.arc(0,0,A,0,tau$1)}},symbolCross={draw(b,R){const A=sqrt$1(R/5)/2;b.moveTo(-3*A,-A),b.lineTo(-A,-A),b.lineTo(-A,-3*A),b.lineTo(A,-3*A),b.lineTo(A,-A),b.lineTo(3*A,-A),b.lineTo(3*A,A),b.lineTo(A,A),b.lineTo(A,3*A),b.lineTo(-A,3*A),b.lineTo(-A,A),b.lineTo(-3*A,A),b.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(b,R){const A=sqrt$1(R/tan30_2),T=A*tan30;b.moveTo(0,-A),b.lineTo(T,0),b.lineTo(0,A),b.lineTo(-T,0),b.closePath()}},symbolSquare={draw(b,R){const A=sqrt$1(R),T=-A/2;b.rect(T,T,A,A)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(b,R){const A=sqrt$1(R*ka),T=kx*A,I=ky*A;b.moveTo(0,-A),b.lineTo(T,I);for(let B=1;B<5;++B){const U=tau$1*B/5,q=cos(U),K=sin(U);b.lineTo(K*A,-q*A),b.lineTo(q*T-K*I,K*T+q*I)}b.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(b,R){const A=-sqrt$1(R/(sqrt3*3));b.moveTo(0,A*2),b.lineTo(-sqrt3*A,-A),b.lineTo(sqrt3*A,-A),b.closePath()}},c=-.5,s=sqrt$1(3)/2,k=1/sqrt$1(12),a=(k/2+1)*3,symbolWye={draw(b,R){const A=sqrt$1(R/a),T=A/2,I=A*k,B=T,U=A*k+A,q=-B,K=U;b.moveTo(T,I),b.lineTo(B,U),b.lineTo(q,K),b.lineTo(c*T-s*I,s*T+c*I),b.lineTo(c*B-s*U,s*B+c*U),b.lineTo(c*q-s*K,s*q+c*K),b.lineTo(c*T+s*I,c*I-s*T),b.lineTo(c*B+s*U,c*U-s*B),b.lineTo(c*q+s*K,c*K-s*q),b.closePath()}};function Symbol$1(b,R){let A=null,T=withPath(I);b=typeof b=="function"?b:constant$1(b||symbolCircle),R=typeof R=="function"?R:constant$1(R===void 0?64:+R);function I(){let B;if(A||(A=B=T()),b.apply(this,arguments).draw(A,+R.apply(this,arguments)),B)return A=null,B+""||null}return I.type=function(B){return arguments.length?(b=typeof B=="function"?B:constant$1(B),I):b},I.size=function(B){return arguments.length?(R=typeof B=="function"?B:constant$1(+B),I):R},I.context=function(B){return arguments.length?(A=B??null,I):A},I}function noop$5(){}function point$2(b,R,A){b._context.bezierCurveTo((2*b._x0+b._x1)/3,(2*b._y0+b._y1)/3,(b._x0+2*b._x1)/3,(b._y0+2*b._y1)/3,(b._x0+4*b._x1+R)/6,(b._y0+4*b._y1+A)/6)}function Basis(b){this._context=b}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(b,R){switch(b=+b,R=+R,this._point){case 0:this._point=1,this._line?this._context.lineTo(b,R):this._context.moveTo(b,R);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,b,R);break}this._x0=this._x1,this._x1=b,this._y0=this._y1,this._y1=R}};function curveBasis(b){return new Basis(b)}function BasisClosed(b){this._context=b}BasisClosed.prototype={areaStart:noop$5,areaEnd:noop$5,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(b,R){switch(b=+b,R=+R,this._point){case 0:this._point=1,this._x2=b,this._y2=R;break;case 1:this._point=2,this._x3=b,this._y3=R;break;case 2:this._point=3,this._x4=b,this._y4=R,this._context.moveTo((this._x0+4*this._x1+b)/6,(this._y0+4*this._y1+R)/6);break;default:point$2(this,b,R);break}this._x0=this._x1,this._x1=b,this._y0=this._y1,this._y1=R}};function curveBasisClosed(b){return new BasisClosed(b)}function BasisOpen(b){this._context=b}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(b,R){switch(b=+b,R=+R,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var A=(this._x0+4*this._x1+b)/6,T=(this._y0+4*this._y1+R)/6;this._line?this._context.lineTo(A,T):this._context.moveTo(A,T);break;case 3:this._point=4;default:point$2(this,b,R);break}this._x0=this._x1,this._x1=b,this._y0=this._y1,this._y1=R}};function curveBasisOpen(b){return new BasisOpen(b)}function LinearClosed(b){this._context=b}LinearClosed.prototype={areaStart:noop$5,areaEnd:noop$5,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(b,R){b=+b,R=+R,this._point?this._context.lineTo(b,R):(this._point=1,this._context.moveTo(b,R))}};function curveLinearClosed(b){return new LinearClosed(b)}function sign(b){return b<0?-1:1}function slope3(b,R,A){var T=b._x1-b._x0,I=R-b._x1,B=(b._y1-b._y0)/(T||I<0&&-0),U=(A-b._y1)/(I||T<0&&-0),q=(B*I+U*T)/(T+I);return(sign(B)+sign(U))*Math.min(Math.abs(B),Math.abs(U),.5*Math.abs(q))||0}function slope2(b,R){var A=b._x1-b._x0;return A?(3*(b._y1-b._y0)/A-R)/2:R}function point$1(b,R,A){var T=b._x0,I=b._y0,B=b._x1,U=b._y1,q=(B-T)/3;b._context.bezierCurveTo(T+q,I+q*R,B-q,U-q*A,B,U)}function MonotoneX(b){this._context=b}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(b,R){var A=NaN;if(b=+b,R=+R,!(b===this._x1&&R===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(b,R):this._context.moveTo(b,R);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,A=slope3(this,b,R)),A);break;default:point$1(this,this._t0,A=slope3(this,b,R));break}this._x0=this._x1,this._x1=b,this._y0=this._y1,this._y1=R,this._t0=A}}};function MonotoneY(b){this._context=new ReflectContext(b)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(b,R){MonotoneX.prototype.point.call(this,R,b)};function ReflectContext(b){this._context=b}ReflectContext.prototype={moveTo:function(b,R){this._context.moveTo(R,b)},closePath:function(){this._context.closePath()},lineTo:function(b,R){this._context.lineTo(R,b)},bezierCurveTo:function(b,R,A,T,I,B){this._context.bezierCurveTo(R,b,T,A,B,I)}};function monotoneX(b){return new MonotoneX(b)}function monotoneY(b){return new MonotoneY(b)}function Natural(b){this._context=b}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var b=this._x,R=this._y,A=b.length;if(A)if(this._line?this._context.lineTo(b[0],R[0]):this._context.moveTo(b[0],R[0]),A===2)this._context.lineTo(b[1],R[1]);else for(var T=controlPoints(b),I=controlPoints(R),B=0,U=1;U<A;++B,++U)this._context.bezierCurveTo(T[0][B],I[0][B],T[1][B],I[1][B],b[U],R[U]);(this._line||this._line!==0&&A===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(b,R){this._x.push(+b),this._y.push(+R)}};function controlPoints(b){var R,A=b.length-1,T,I=new Array(A),B=new Array(A),U=new Array(A);for(I[0]=0,B[0]=2,U[0]=b[0]+2*b[1],R=1;R<A-1;++R)I[R]=1,B[R]=4,U[R]=4*b[R]+2*b[R+1];for(I[A-1]=2,B[A-1]=7,U[A-1]=8*b[A-1]+b[A],R=1;R<A;++R)T=I[R]/B[R-1],B[R]-=T,U[R]-=T*U[R-1];for(I[A-1]=U[A-1]/B[A-1],R=A-2;R>=0;--R)I[R]=(U[R]-I[R+1])/B[R];for(B[A-1]=(b[A]+I[A-1])/2,R=0;R<A-1;++R)B[R]=2*b[R+1]-I[R+1];return[I,B]}function curveNatural(b){return new Natural(b)}function Step(b,R){this._context=b,this._t=R}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(b,R){switch(b=+b,R=+R,this._point){case 0:this._point=1,this._line?this._context.lineTo(b,R):this._context.moveTo(b,R);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,R),this._context.lineTo(b,R);else{var A=this._x*(1-this._t)+b*this._t;this._context.lineTo(A,this._y),this._context.lineTo(A,R)}break}}this._x=b,this._y=R}};function curveStep(b){return new Step(b,.5)}function stepBefore(b){return new Step(b,0)}function stepAfter(b){return new Step(b,1)}function stackOffsetNone(b,R){if((U=b.length)>1)for(var A=1,T,I,B=b[R[0]],U,q=B.length;A<U;++A)for(I=B,B=b[R[A]],T=0;T<q;++T)B[T][1]+=B[T][0]=isNaN(I[T][1])?I[T][0]:I[T][1]}function stackOrderNone(b){for(var R=b.length,A=new Array(R);--R>=0;)A[R]=R;return A}function stackValue(b,R){return b[R]}function stackSeries(b){const R=[];return R.key=b,R}function shapeStack(){var b=constant$1([]),R=stackOrderNone,A=stackOffsetNone,T=stackValue;function I(B){var U=Array.from(b.apply(this,arguments),stackSeries),q,K=U.length,J=-1,ee;for(const te of B)for(q=0,++J;q<K;++q)(U[q][J]=[0,+T(te,U[q].key,J,B)]).data=te;for(q=0,ee=array(R(U));q<K;++q)U[ee[q]].index=q;return A(U,ee),U}return I.keys=function(B){return arguments.length?(b=typeof B=="function"?B:constant$1(Array.from(B)),I):b},I.value=function(B){return arguments.length?(T=typeof B=="function"?B:constant$1(+B),I):T},I.order=function(B){return arguments.length?(R=B==null?stackOrderNone:typeof B=="function"?B:constant$1(Array.from(B)),I):R},I.offset=function(B){return arguments.length?(A=B??stackOffsetNone,I):A},I}function stackOffsetExpand(b,R){if((T=b.length)>0){for(var A,T,I=0,B=b[0].length,U;I<B;++I){for(U=A=0;A<T;++A)U+=b[A][I][1]||0;if(U)for(A=0;A<T;++A)b[A][I][1]/=U}stackOffsetNone(b,R)}}function stackOffsetSilhouette(b,R){if((I=b.length)>0){for(var A=0,T=b[R[0]],I,B=T.length;A<B;++A){for(var U=0,q=0;U<I;++U)q+=b[U][A][1]||0;T[A][1]+=T[A][0]=-q/2}stackOffsetNone(b,R)}}function stackOffsetWiggle(b,R){if(!(!((U=b.length)>0)||!((B=(I=b[R[0]]).length)>0))){for(var A=0,T=1,I,B,U;T<B;++T){for(var q=0,K=0,J=0;q<U;++q){for(var ee=b[R[q]],te=ee[T][1]||0,xe=ee[T-1][1]||0,fe=(te-xe)/2,ye=0;ye<q;++ye){var Be=b[R[ye]],Le=Be[T][1]||0,qe=Be[T-1][1]||0;fe+=Le-qe}K+=te,J+=fe*te}I[T-1][1]+=I[T-1][0]=A,K&&(A-=J/K)}I[T-1][1]+=I[T-1][0]=A,stackOffsetNone(b,R)}}var _excluded$i=["type","size","sizeType"];function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var T in A)({}).hasOwnProperty.call(A,T)&&(b[T]=A[T])}return b},_extends$m.apply(null,arguments)}function ownKeys$z(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$z(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$z(Object(A),!0).forEach(function(T){_defineProperty$D(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$z(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$D(b,R,A){return(R=_toPropertyKey$D(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$D(b){var R=_toPrimitive$D(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$D(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}function _objectWithoutProperties$i(b,R){if(b==null)return{};var A,T,I=_objectWithoutPropertiesLoose$i(b,R);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(b);for(T=0;T<B.length;T++)A=B[T],R.indexOf(A)===-1&&{}.propertyIsEnumerable.call(b,A)&&(I[A]=b[A])}return I}function _objectWithoutPropertiesLoose$i(b,R){if(b==null)return{};var A={};for(var T in b)if({}.hasOwnProperty.call(b,T)){if(R.indexOf(T)!==-1)continue;A[T]=b[T]}return A}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$1=Math.PI/180,getSymbolFactory=b=>{var R="symbol".concat(upperFirst(b));return symbolFactories[R]||symbolCircle},calculateAreaSize=(b,R,A)=>{if(R==="area")return b;switch(A){case"cross":return 5*b*b/9;case"diamond":return .5*b*b/Math.sqrt(3);case"square":return b*b;case"star":{var T=18*RADIAN$1;return 1.25*b*b*(Math.tan(T)-Math.tan(T*2)*Math.tan(T)**2)}case"triangle":return Math.sqrt(3)*b*b/4;case"wye":return(21-10*Math.sqrt(3))*b*b/8;default:return Math.PI*b*b/4}},registerSymbol=(b,R)=>{symbolFactories["symbol".concat(upperFirst(b))]=R},Symbols=b=>{var{type:R="circle",size:A=64,sizeType:T="area"}=b,I=_objectWithoutProperties$i(b,_excluded$i),B=_objectSpread$z(_objectSpread$z({},I),{},{type:R,size:A,sizeType:T}),U="circle";typeof R=="string"&&(U=R);var q=()=>{var xe=getSymbolFactory(U),fe=Symbol$1().type(xe).size(calculateAreaSize(A,T,U));return fe()},{className:K,cx:J,cy:ee}=B,te=filterProps(B,!0);return J===+J&&ee===+ee&&A===+A?reactExports.createElement("path",_extends$m({},te,{className:clsx("recharts-symbols",K),transform:"translate(".concat(J,", ").concat(ee,")"),d:q()})):null};Symbols.registerSymbol=registerSymbol;function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var T in A)({}).hasOwnProperty.call(A,T)&&(b[T]=A[T])}return b},_extends$l.apply(null,arguments)}function ownKeys$y(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$y(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$y(Object(A),!0).forEach(function(T){_defineProperty$C(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$y(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$C(b,R,A){return(R=_toPropertyKey$C(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$C(b){var R=_toPrimitive$C(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$C(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}var SIZE=32;class DefaultLegendContent extends reactExports.PureComponent{renderIcon(R,A){var{inactiveColor:T}=this.props,I=SIZE/2,B=SIZE/6,U=SIZE/3,q=R.inactive?T:R.color,K=A??R.type;if(K==="none")return null;if(K==="plainline")return reactExports.createElement("line",{strokeWidth:4,fill:"none",stroke:q,strokeDasharray:R.payload.strokeDasharray,x1:0,y1:I,x2:SIZE,y2:I,className:"recharts-legend-icon"});if(K==="line")return reactExports.createElement("path",{strokeWidth:4,fill:"none",stroke:q,d:"M0,".concat(I,"h").concat(U,`
            A`).concat(B,",").concat(B,",0,1,1,").concat(2*U,",").concat(I,`
            H`).concat(SIZE,"M").concat(2*U,",").concat(I,`
            A`).concat(B,",").concat(B,",0,1,1,").concat(U,",").concat(I),className:"recharts-legend-icon"});if(K==="rect")return reactExports.createElement("path",{stroke:"none",fill:q,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-SIZE,"z"),className:"recharts-legend-icon"});if(reactExports.isValidElement(R.legendIcon)){var J=_objectSpread$y({},R);return delete J.legendIcon,reactExports.cloneElement(R.legendIcon,J)}return reactExports.createElement(Symbols,{fill:q,cx:I,cy:I,size:SIZE,sizeType:"diameter",type:K})}renderItems(){var{payload:R,iconSize:A,layout:T,formatter:I,inactiveColor:B,iconType:U}=this.props,q={x:0,y:0,width:SIZE,height:SIZE},K={display:T==="horizontal"?"inline-block":"block",marginRight:10},J={display:"inline-block",verticalAlign:"middle",marginRight:4};return R.map((ee,te)=>{var xe=ee.formatter||I,fe=clsx({"recharts-legend-item":!0,["legend-item-".concat(te)]:!0,inactive:ee.inactive});if(ee.type==="none")return null;var ye=ee.inactive?B:ee.color,Be=xe?xe(ee.value,ee,te):ee.value;return reactExports.createElement("li",_extends$l({className:fe,style:K,key:"legend-item-".concat(te)},adaptEventsOfChild(this.props,ee,te)),reactExports.createElement(Surface,{width:A,height:A,viewBox:q,style:J,"aria-label":"".concat(Be," legend icon")},this.renderIcon(ee,U)),reactExports.createElement("span",{className:"recharts-legend-item-text",style:{color:ye}},Be))})}render(){var{payload:R,layout:A,align:T}=this.props;if(!R||!R.length)return null;var I={padding:0,margin:0,textAlign:A==="horizontal"?T:"left"};return reactExports.createElement("ul",{className:"recharts-default-legend",style:I},this.renderItems())}}_defineProperty$C(DefaultLegendContent,"displayName","Legend");_defineProperty$C(DefaultLegendContent,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var uniqBy$3={},uniqBy$2={},hasRequiredUniqBy$2;function requireUniqBy$2(){return hasRequiredUniqBy$2||(hasRequiredUniqBy$2=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});function R(A,T){const I=new Map;for(let B=0;B<A.length;B++){const U=A[B],q=T(U);I.has(q)||I.set(q,U)}return Array.from(I.values())}b.uniqBy=R})(uniqBy$2)),uniqBy$2}var identity$4={},hasRequiredIdentity;function requireIdentity(){return hasRequiredIdentity||(hasRequiredIdentity=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});function R(A){return A}b.identity=R})(identity$4)),identity$4}var isArrayLikeObject={},isArrayLike={},isLength={},hasRequiredIsLength;function requireIsLength(){return hasRequiredIsLength||(hasRequiredIsLength=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});function R(A){return Number.isSafeInteger(A)&&A>=0}b.isLength=R})(isLength)),isLength}var hasRequiredIsArrayLike;function requireIsArrayLike(){return hasRequiredIsArrayLike||(hasRequiredIsArrayLike=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireIsLength();function A(T){return T!=null&&typeof T!="function"&&R.isLength(T.length)}b.isArrayLike=A})(isArrayLike)),isArrayLike}var isObjectLike={},hasRequiredIsObjectLike;function requireIsObjectLike(){return hasRequiredIsObjectLike||(hasRequiredIsObjectLike=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});function R(A){return typeof A=="object"&&A!==null}b.isObjectLike=R})(isObjectLike)),isObjectLike}var hasRequiredIsArrayLikeObject;function requireIsArrayLikeObject(){return hasRequiredIsArrayLikeObject||(hasRequiredIsArrayLikeObject=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireIsArrayLike(),A=requireIsObjectLike();function T(I){return A.isObjectLike(I)&&R.isArrayLike(I)}b.isArrayLikeObject=T})(isArrayLikeObject)),isArrayLikeObject}var iteratee={},property={},hasRequiredProperty;function requireProperty(){return hasRequiredProperty||(hasRequiredProperty=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireGet$1();function A(T){return function(I){return R.get(I,T)}}b.property=A})(property)),property}var matches={},isMatch={},isMatchWith={},isObject={},hasRequiredIsObject;function requireIsObject(){return hasRequiredIsObject||(hasRequiredIsObject=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});function R(A){return A!==null&&(typeof A=="object"||typeof A=="function")}b.isObject=R})(isObject)),isObject}var isPrimitive={},hasRequiredIsPrimitive;function requireIsPrimitive(){return hasRequiredIsPrimitive||(hasRequiredIsPrimitive=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});function R(A){return A==null||typeof A!="object"&&typeof A!="function"}b.isPrimitive=R})(isPrimitive)),isPrimitive}var eq={},hasRequiredEq;function requireEq(){return hasRequiredEq||(hasRequiredEq=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});function R(A,T){return A===T||Number.isNaN(A)&&Number.isNaN(T)}b.eq=R})(eq)),eq}var hasRequiredIsMatchWith;function requireIsMatchWith(){return hasRequiredIsMatchWith||(hasRequiredIsMatchWith=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireIsMatch(),A=requireIsObject(),T=requireIsPrimitive(),I=requireEq();function B(te,xe,fe){return typeof fe!="function"?R.isMatch(te,xe):U(te,xe,function ye(Be,Le,qe,Ge,$e,Xe){const He=fe(Be,Le,qe,Ge,$e,Xe);return He!==void 0?!!He:U(Be,Le,ye,Xe)},new Map)}function U(te,xe,fe,ye){if(xe===te)return!0;switch(typeof xe){case"object":return q(te,xe,fe,ye);case"function":return Object.keys(xe).length>0?U(te,{...xe},fe,ye):I.eq(te,xe);default:return A.isObject(te)?typeof xe=="string"?xe==="":!0:I.eq(te,xe)}}function q(te,xe,fe,ye){if(xe==null)return!0;if(Array.isArray(xe))return J(te,xe,fe,ye);if(xe instanceof Map)return K(te,xe,fe,ye);if(xe instanceof Set)return ee(te,xe,fe,ye);const Be=Object.keys(xe);if(te==null)return Be.length===0;if(Be.length===0)return!0;if(ye&&ye.has(xe))return ye.get(xe)===te;ye&&ye.set(xe,te);try{for(let Le=0;Le<Be.length;Le++){const qe=Be[Le];if(!T.isPrimitive(te)&&!(qe in te)||xe[qe]===void 0&&te[qe]!==void 0||xe[qe]===null&&te[qe]!==null||!fe(te[qe],xe[qe],qe,te,xe,ye))return!1}return!0}finally{ye&&ye.delete(xe)}}function K(te,xe,fe,ye){if(xe.size===0)return!0;if(!(te instanceof Map))return!1;for(const[Be,Le]of xe.entries()){const qe=te.get(Be);if(fe(qe,Le,Be,te,xe,ye)===!1)return!1}return!0}function J(te,xe,fe,ye){if(xe.length===0)return!0;if(!Array.isArray(te))return!1;const Be=new Set;for(let Le=0;Le<xe.length;Le++){const qe=xe[Le];let Ge=!1;for(let $e=0;$e<te.length;$e++){if(Be.has($e))continue;const Xe=te[$e];let He=!1;if(fe(Xe,qe,Le,te,xe,ye)&&(He=!0),He){Be.add($e),Ge=!0;break}}if(!Ge)return!1}return!0}function ee(te,xe,fe,ye){return xe.size===0?!0:te instanceof Set?J([...te],[...xe],fe,ye):!1}b.isMatchWith=B,b.isSetMatch=ee})(isMatchWith)),isMatchWith}var hasRequiredIsMatch;function requireIsMatch(){return hasRequiredIsMatch||(hasRequiredIsMatch=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireIsMatchWith();function A(T,I){return R.isMatchWith(T,I,()=>{})}b.isMatch=A})(isMatch)),isMatch}var cloneDeep$1={},cloneDeepWith$1={},getSymbols={},hasRequiredGetSymbols;function requireGetSymbols(){return hasRequiredGetSymbols||(hasRequiredGetSymbols=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});function R(A){return Object.getOwnPropertySymbols(A).filter(T=>Object.prototype.propertyIsEnumerable.call(A,T))}b.getSymbols=R})(getSymbols)),getSymbols}var getTag={},hasRequiredGetTag;function requireGetTag(){return hasRequiredGetTag||(hasRequiredGetTag=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});function R(A){return A==null?A===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(A)}b.getTag=R})(getTag)),getTag}var tags={},hasRequiredTags;function requireTags(){return hasRequiredTags||(hasRequiredTags=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R="[object RegExp]",A="[object String]",T="[object Number]",I="[object Boolean]",B="[object Arguments]",U="[object Symbol]",q="[object Date]",K="[object Map]",J="[object Set]",ee="[object Array]",te="[object Function]",xe="[object ArrayBuffer]",fe="[object Object]",ye="[object Error]",Be="[object DataView]",Le="[object Uint8Array]",qe="[object Uint8ClampedArray]",Ge="[object Uint16Array]",$e="[object Uint32Array]",Xe="[object BigUint64Array]",He="[object Int8Array]",Qe="[object Int16Array]",st="[object Int32Array]",ct="[object BigInt64Array]",gt="[object Float32Array]",Nt="[object Float64Array]";b.argumentsTag=B,b.arrayBufferTag=xe,b.arrayTag=ee,b.bigInt64ArrayTag=ct,b.bigUint64ArrayTag=Xe,b.booleanTag=I,b.dataViewTag=Be,b.dateTag=q,b.errorTag=ye,b.float32ArrayTag=gt,b.float64ArrayTag=Nt,b.functionTag=te,b.int16ArrayTag=Qe,b.int32ArrayTag=st,b.int8ArrayTag=He,b.mapTag=K,b.numberTag=T,b.objectTag=fe,b.regexpTag=R,b.setTag=J,b.stringTag=A,b.symbolTag=U,b.uint16ArrayTag=Ge,b.uint32ArrayTag=$e,b.uint8ArrayTag=Le,b.uint8ClampedArrayTag=qe})(tags)),tags}var isTypedArray={},hasRequiredIsTypedArray;function requireIsTypedArray(){return hasRequiredIsTypedArray||(hasRequiredIsTypedArray=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});function R(A){return ArrayBuffer.isView(A)&&!(A instanceof DataView)}b.isTypedArray=R})(isTypedArray)),isTypedArray}var hasRequiredCloneDeepWith$1;function requireCloneDeepWith$1(){return hasRequiredCloneDeepWith$1||(hasRequiredCloneDeepWith$1=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireGetSymbols(),A=requireGetTag(),T=requireTags(),I=requireIsPrimitive(),B=requireIsTypedArray();function U(ee,te){return q(ee,void 0,ee,new Map,te)}function q(ee,te,xe,fe=new Map,ye=void 0){const Be=ye?.(ee,te,xe,fe);if(Be!==void 0)return Be;if(I.isPrimitive(ee))return ee;if(fe.has(ee))return fe.get(ee);if(Array.isArray(ee)){const Le=new Array(ee.length);fe.set(ee,Le);for(let qe=0;qe<ee.length;qe++)Le[qe]=q(ee[qe],qe,xe,fe,ye);return Object.hasOwn(ee,"index")&&(Le.index=ee.index),Object.hasOwn(ee,"input")&&(Le.input=ee.input),Le}if(ee instanceof Date)return new Date(ee.getTime());if(ee instanceof RegExp){const Le=new RegExp(ee.source,ee.flags);return Le.lastIndex=ee.lastIndex,Le}if(ee instanceof Map){const Le=new Map;fe.set(ee,Le);for(const[qe,Ge]of ee)Le.set(qe,q(Ge,qe,xe,fe,ye));return Le}if(ee instanceof Set){const Le=new Set;fe.set(ee,Le);for(const qe of ee)Le.add(q(qe,void 0,xe,fe,ye));return Le}if(typeof Buffer<"u"&&Buffer.isBuffer(ee))return ee.subarray();if(B.isTypedArray(ee)){const Le=new(Object.getPrototypeOf(ee)).constructor(ee.length);fe.set(ee,Le);for(let qe=0;qe<ee.length;qe++)Le[qe]=q(ee[qe],qe,xe,fe,ye);return Le}if(ee instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&ee instanceof SharedArrayBuffer)return ee.slice(0);if(ee instanceof DataView){const Le=new DataView(ee.buffer.slice(0),ee.byteOffset,ee.byteLength);return fe.set(ee,Le),K(Le,ee,xe,fe,ye),Le}if(typeof File<"u"&&ee instanceof File){const Le=new File([ee],ee.name,{type:ee.type});return fe.set(ee,Le),K(Le,ee,xe,fe,ye),Le}if(typeof Blob<"u"&&ee instanceof Blob){const Le=new Blob([ee],{type:ee.type});return fe.set(ee,Le),K(Le,ee,xe,fe,ye),Le}if(ee instanceof Error){const Le=new ee.constructor;return fe.set(ee,Le),Le.message=ee.message,Le.name=ee.name,Le.stack=ee.stack,Le.cause=ee.cause,K(Le,ee,xe,fe,ye),Le}if(ee instanceof Boolean){const Le=new Boolean(ee.valueOf());return fe.set(ee,Le),K(Le,ee,xe,fe,ye),Le}if(ee instanceof Number){const Le=new Number(ee.valueOf());return fe.set(ee,Le),K(Le,ee,xe,fe,ye),Le}if(ee instanceof String){const Le=new String(ee.valueOf());return fe.set(ee,Le),K(Le,ee,xe,fe,ye),Le}if(typeof ee=="object"&&J(ee)){const Le=Object.create(Object.getPrototypeOf(ee));return fe.set(ee,Le),K(Le,ee,xe,fe,ye),Le}return ee}function K(ee,te,xe=ee,fe,ye){const Be=[...Object.keys(te),...R.getSymbols(te)];for(let Le=0;Le<Be.length;Le++){const qe=Be[Le],Ge=Object.getOwnPropertyDescriptor(ee,qe);(Ge==null||Ge.writable)&&(ee[qe]=q(te[qe],qe,xe,fe,ye))}}function J(ee){switch(A.getTag(ee)){case T.argumentsTag:case T.arrayTag:case T.arrayBufferTag:case T.dataViewTag:case T.booleanTag:case T.dateTag:case T.float32ArrayTag:case T.float64ArrayTag:case T.int8ArrayTag:case T.int16ArrayTag:case T.int32ArrayTag:case T.mapTag:case T.numberTag:case T.objectTag:case T.regexpTag:case T.setTag:case T.stringTag:case T.symbolTag:case T.uint8ArrayTag:case T.uint8ClampedArrayTag:case T.uint16ArrayTag:case T.uint32ArrayTag:return!0;default:return!1}}b.cloneDeepWith=U,b.cloneDeepWithImpl=q,b.copyProperties=K})(cloneDeepWith$1)),cloneDeepWith$1}var hasRequiredCloneDeep$1;function requireCloneDeep$1(){return hasRequiredCloneDeep$1||(hasRequiredCloneDeep$1=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireCloneDeepWith$1();function A(T){return R.cloneDeepWithImpl(T,void 0,T,new Map,void 0)}b.cloneDeep=A})(cloneDeep$1)),cloneDeep$1}var hasRequiredMatches;function requireMatches(){return hasRequiredMatches||(hasRequiredMatches=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireIsMatch(),A=requireCloneDeep$1();function T(I){return I=A.cloneDeep(I),B=>R.isMatch(B,I)}b.matches=T})(matches)),matches}var matchesProperty={},cloneDeep={},cloneDeepWith={},hasRequiredCloneDeepWith;function requireCloneDeepWith(){return hasRequiredCloneDeepWith||(hasRequiredCloneDeepWith=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireCloneDeepWith$1(),A=requireTags();function T(I,B){return R.cloneDeepWith(I,(U,q,K,J)=>{const ee=B?.(U,q,K,J);if(ee!==void 0)return ee;if(typeof I=="object")switch(Object.prototype.toString.call(I)){case A.numberTag:case A.stringTag:case A.booleanTag:{const te=new I.constructor(I?.valueOf());return R.copyProperties(te,I),te}case A.argumentsTag:{const te={};return R.copyProperties(te,I),te.length=I.length,te[Symbol.iterator]=I[Symbol.iterator],te}default:return}})}b.cloneDeepWith=T})(cloneDeepWith)),cloneDeepWith}var hasRequiredCloneDeep;function requireCloneDeep(){return hasRequiredCloneDeep||(hasRequiredCloneDeep=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireCloneDeepWith();function A(T){return R.cloneDeepWith(T)}b.cloneDeep=A})(cloneDeep)),cloneDeep}var has$1={},isIndex={},hasRequiredIsIndex;function requireIsIndex(){return hasRequiredIsIndex||(hasRequiredIsIndex=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=/^(?:0|[1-9]\d*)$/;function A(T,I=Number.MAX_SAFE_INTEGER){switch(typeof T){case"number":return Number.isInteger(T)&&T>=0&&T<I;case"symbol":return!1;case"string":return R.test(T)}}b.isIndex=A})(isIndex)),isIndex}var isArguments={},hasRequiredIsArguments;function requireIsArguments(){return hasRequiredIsArguments||(hasRequiredIsArguments=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireGetTag();function A(T){return T!==null&&typeof T=="object"&&R.getTag(T)==="[object Arguments]"}b.isArguments=A})(isArguments)),isArguments}var hasRequiredHas;function requireHas(){return hasRequiredHas||(hasRequiredHas=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireIsDeepKey(),A=requireIsIndex(),T=requireIsArguments(),I=requireToPath();function B(U,q){let K;if(Array.isArray(q)?K=q:typeof q=="string"&&R.isDeepKey(q)&&U?.[q]==null?K=I.toPath(q):K=[q],K.length===0)return!1;let J=U;for(let ee=0;ee<K.length;ee++){const te=K[ee];if((J==null||!Object.hasOwn(J,te))&&!((Array.isArray(J)||T.isArguments(J))&&A.isIndex(te)&&te<J.length))return!1;J=J[te]}return!0}b.has=B})(has$1)),has$1}var hasRequiredMatchesProperty;function requireMatchesProperty(){return hasRequiredMatchesProperty||(hasRequiredMatchesProperty=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireIsMatch(),A=requireToKey(),T=requireCloneDeep(),I=requireGet$1(),B=requireHas();function U(q,K){switch(typeof q){case"object":{Object.is(q?.valueOf(),-0)&&(q="-0");break}case"number":{q=A.toKey(q);break}}return K=T.cloneDeep(K),function(J){const ee=I.get(J,q);return ee===void 0?B.has(J,q):K===void 0?ee===void 0:R.isMatch(ee,K)}}b.matchesProperty=U})(matchesProperty)),matchesProperty}var hasRequiredIteratee;function requireIteratee(){return hasRequiredIteratee||(hasRequiredIteratee=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireIdentity(),A=requireProperty(),T=requireMatches(),I=requireMatchesProperty();function B(U){if(U==null)return R.identity;switch(typeof U){case"function":return U;case"object":return Array.isArray(U)&&U.length===2?I.matchesProperty(U[0],U[1]):T.matches(U);case"string":case"symbol":case"number":return A.property(U)}}b.iteratee=B})(iteratee)),iteratee}var hasRequiredUniqBy$1;function requireUniqBy$1(){return hasRequiredUniqBy$1||(hasRequiredUniqBy$1=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireUniqBy$2(),A=requireIdentity(),T=requireIsArrayLikeObject(),I=requireIteratee();function B(U,q=A.identity){return T.isArrayLikeObject(U)?R.uniqBy(Array.from(U),I.iteratee(q)):[]}b.uniqBy=B})(uniqBy$3)),uniqBy$3}var uniqBy$1,hasRequiredUniqBy;function requireUniqBy(){return hasRequiredUniqBy||(hasRequiredUniqBy=1,uniqBy$1=requireUniqBy$1().uniqBy),uniqBy$1}var uniqByExports=requireUniqBy();const uniqBy=getDefaultExportFromCjs(uniqByExports);function getUniqPayload(b,R,A){return R===!0?uniqBy(b,A):typeof R=="function"?uniqBy(b,R):b}var withSelector$1={exports:{}},withSelector_production={},shim={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreShim_production;function requireUseSyncExternalStoreShim_production(){if(hasRequiredUseSyncExternalStoreShim_production)return useSyncExternalStoreShim_production;hasRequiredUseSyncExternalStoreShim_production=1;var b=requireReact();function R(te,xe){return te===xe&&(te!==0||1/te===1/xe)||te!==te&&xe!==xe}var A=typeof Object.is=="function"?Object.is:R,T=b.useState,I=b.useEffect,B=b.useLayoutEffect,U=b.useDebugValue;function q(te,xe){var fe=xe(),ye=T({inst:{value:fe,getSnapshot:xe}}),Be=ye[0].inst,Le=ye[1];return B(function(){Be.value=fe,Be.getSnapshot=xe,K(Be)&&Le({inst:Be})},[te,fe,xe]),I(function(){return K(Be)&&Le({inst:Be}),te(function(){K(Be)&&Le({inst:Be})})},[te]),U(fe),fe}function K(te){var xe=te.getSnapshot;te=te.value;try{var fe=xe();return!A(te,fe)}catch{return!0}}function J(te,xe){return xe()}var ee=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?J:q;return useSyncExternalStoreShim_production.useSyncExternalStore=b.useSyncExternalStore!==void 0?b.useSyncExternalStore:ee,useSyncExternalStoreShim_production}var hasRequiredShim;function requireShim(){return hasRequiredShim||(hasRequiredShim=1,shim.exports=requireUseSyncExternalStoreShim_production()),shim.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredWithSelector_production;function requireWithSelector_production(){if(hasRequiredWithSelector_production)return withSelector_production;hasRequiredWithSelector_production=1;var b=requireReact(),R=requireShim();function A(J,ee){return J===ee&&(J!==0||1/J===1/ee)||J!==J&&ee!==ee}var T=typeof Object.is=="function"?Object.is:A,I=R.useSyncExternalStore,B=b.useRef,U=b.useEffect,q=b.useMemo,K=b.useDebugValue;return withSelector_production.useSyncExternalStoreWithSelector=function(J,ee,te,xe,fe){var ye=B(null);if(ye.current===null){var Be={hasValue:!1,value:null};ye.current=Be}else Be=ye.current;ye=q(function(){function qe(Qe){if(!Ge){if(Ge=!0,$e=Qe,Qe=xe(Qe),fe!==void 0&&Be.hasValue){var st=Be.value;if(fe(st,Qe))return Xe=st}return Xe=Qe}if(st=Xe,T($e,Qe))return st;var ct=xe(Qe);return fe!==void 0&&fe(st,ct)?($e=Qe,st):($e=Qe,Xe=ct)}var Ge=!1,$e,Xe,He=te===void 0?null:te;return[function(){return qe(ee())},He===null?void 0:function(){return qe(He())}]},[ee,te,xe,fe]);var Le=I(J,ye[0],ye[1]);return U(function(){Be.hasValue=!0,Be.value=Le},[Le]),K(Le),Le},withSelector_production}var hasRequiredWithSelector$1;function requireWithSelector$1(){return hasRequiredWithSelector$1||(hasRequiredWithSelector$1=1,withSelector$1.exports=requireWithSelector_production()),withSelector$1.exports}var withSelectorExports=requireWithSelector$1(),RechartsReduxContext=reactExports.createContext(null),noopDispatch=b=>b,useAppDispatch=()=>{var b=reactExports.useContext(RechartsReduxContext);return b?b.store.dispatch:noopDispatch},noop$4=()=>{},addNestedSubNoop=()=>noop$4,refEquality=(b,R)=>b===R;function useAppSelector(b){var R=reactExports.useContext(RechartsReduxContext);return withSelectorExports.useSyncExternalStoreWithSelector(R?R.subscription.addNestedSub:addNestedSubNoop,R?R.store.getState:noop$4,R?R.store.getState:noop$4,R?b:noop$4,refEquality)}function assertIsFunction(b,R=`expected a function, instead received ${typeof b}`){if(typeof b!="function")throw new TypeError(R)}function assertIsObject(b,R=`expected an object, instead received ${typeof b}`){if(typeof b!="object")throw new TypeError(R)}function assertIsArrayOfFunctions(b,R="expected all items to be functions, instead received the following types: "){if(!b.every(A=>typeof A=="function")){const A=b.map(T=>typeof T=="function"?`function ${T.name||"unnamed"}()`:typeof T).join(", ");throw new TypeError(`${R}[${A}]`)}}var ensureIsArray=b=>Array.isArray(b)?b:[b];function getDependencies(b){const R=Array.isArray(b[0])?b[0]:b;return assertIsArrayOfFunctions(R,"createSelector expects all input-selectors to be functions, but received the following types: "),R}function collectInputSelectorResults(b,R){const A=[],{length:T}=b;for(let I=0;I<T;I++)A.push(b[I].apply(null,R));return A}var StrongRef=class{constructor(b){this.value=b}deref(){return this.value}},Ref=typeof WeakRef<"u"?WeakRef:StrongRef,UNTERMINATED=0,TERMINATED=1;function createCacheNode(){return{s:UNTERMINATED,v:void 0,o:null,p:null}}function weakMapMemoize(b,R={}){let A=createCacheNode();const{resultEqualityCheck:T}=R;let I,B=0;function U(){let q=A;const{length:K}=arguments;for(let te=0,xe=K;te<xe;te++){const fe=arguments[te];if(typeof fe=="function"||typeof fe=="object"&&fe!==null){let ye=q.o;ye===null&&(q.o=ye=new WeakMap);const Be=ye.get(fe);Be===void 0?(q=createCacheNode(),ye.set(fe,q)):q=Be}else{let ye=q.p;ye===null&&(q.p=ye=new Map);const Be=ye.get(fe);Be===void 0?(q=createCacheNode(),ye.set(fe,q)):q=Be}}const J=q;let ee;if(q.s===TERMINATED)ee=q.v;else if(ee=b.apply(null,arguments),B++,T){const te=I?.deref?.()??I;te!=null&&T(te,ee)&&(ee=te,B!==0&&B--),I=typeof ee=="object"&&ee!==null||typeof ee=="function"?new Ref(ee):ee}return J.s=TERMINATED,J.v=ee,ee}return U.clearCache=()=>{A=createCacheNode(),U.resetResultsCount()},U.resultsCount=()=>B,U.resetResultsCount=()=>{B=0},U}function createSelectorCreator(b,...R){const A=typeof b=="function"?{memoize:b,memoizeOptions:R}:b,T=(...I)=>{let B=0,U=0,q,K={},J=I.pop();typeof J=="object"&&(K=J,J=I.pop()),assertIsFunction(J,`createSelector expects an output function after the inputs, but received: [${typeof J}]`);const ee={...A,...K},{memoize:te,memoizeOptions:xe=[],argsMemoize:fe=weakMapMemoize,argsMemoizeOptions:ye=[]}=ee,Be=ensureIsArray(xe),Le=ensureIsArray(ye),qe=getDependencies(I),Ge=te(function(){return B++,J.apply(null,arguments)},...Be),$e=fe(function(){U++;const He=collectInputSelectorResults(qe,arguments);return q=Ge.apply(null,He),q},...Le);return Object.assign($e,{resultFunc:J,memoizedResultFunc:Ge,dependencies:qe,dependencyRecomputations:()=>U,resetDependencyRecomputations:()=>{U=0},lastResult:()=>q,recomputations:()=>B,resetRecomputations:()=>{B=0},memoize:te,argsMemoize:fe})};return Object.assign(T,{withTypes:()=>T}),T}var createSelector=createSelectorCreator(weakMapMemoize),createStructuredSelector=Object.assign((b,R=createSelector)=>{assertIsObject(b,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof b}`);const A=Object.keys(b),T=A.map(B=>b[B]);return R(T,(...B)=>B.reduce((U,q,K)=>(U[A[K]]=q,U),{}))},{withTypes:()=>createStructuredSelector}),sortBy$2={},orderBy={},compareValues={},hasRequiredCompareValues;function requireCompareValues(){return hasRequiredCompareValues||(hasRequiredCompareValues=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});function R(T){return typeof T=="symbol"?1:T===null?2:T===void 0?3:T!==T?4:0}const A=(T,I,B)=>{if(T!==I){const U=R(T),q=R(I);if(U===q&&U===0){if(T<I)return B==="desc"?1:-1;if(T>I)return B==="desc"?-1:1}return B==="desc"?q-U:U-q}return 0};b.compareValues=A})(compareValues)),compareValues}var isKey={},isSymbol={},hasRequiredIsSymbol;function requireIsSymbol(){return hasRequiredIsSymbol||(hasRequiredIsSymbol=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});function R(A){return typeof A=="symbol"||A instanceof Symbol}b.isSymbol=R})(isSymbol)),isSymbol}var hasRequiredIsKey;function requireIsKey(){return hasRequiredIsKey||(hasRequiredIsKey=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireIsSymbol(),A=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,T=/^\w*$/;function I(B,U){return Array.isArray(B)?!1:typeof B=="number"||typeof B=="boolean"||B==null||R.isSymbol(B)?!0:typeof B=="string"&&(T.test(B)||!A.test(B))||U!=null&&Object.hasOwn(U,B)}b.isKey=I})(isKey)),isKey}var hasRequiredOrderBy;function requireOrderBy(){return hasRequiredOrderBy||(hasRequiredOrderBy=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireCompareValues(),A=requireIsKey(),T=requireToPath();function I(B,U,q,K){if(B==null)return[];q=K?void 0:q,Array.isArray(B)||(B=Object.values(B)),Array.isArray(U)||(U=U==null?[null]:[U]),U.length===0&&(U=[null]),Array.isArray(q)||(q=q==null?[]:[q]),q=q.map(fe=>String(fe));const J=(fe,ye)=>{let Be=fe;for(let Le=0;Le<ye.length&&Be!=null;++Le)Be=Be[ye[Le]];return Be},ee=(fe,ye)=>ye==null||fe==null?ye:typeof fe=="object"&&"key"in fe?Object.hasOwn(ye,fe.key)?ye[fe.key]:J(ye,fe.path):typeof fe=="function"?fe(ye):Array.isArray(fe)?J(ye,fe):typeof ye=="object"?ye[fe]:ye,te=U.map(fe=>(Array.isArray(fe)&&fe.length===1&&(fe=fe[0]),fe==null||typeof fe=="function"||Array.isArray(fe)||A.isKey(fe)?fe:{key:fe,path:T.toPath(fe)}));return B.map(fe=>({original:fe,criteria:te.map(ye=>ee(ye,fe))})).slice().sort((fe,ye)=>{for(let Be=0;Be<te.length;Be++){const Le=R.compareValues(fe.criteria[Be],ye.criteria[Be],q[Be]);if(Le!==0)return Le}return 0}).map(fe=>fe.original)}b.orderBy=I})(orderBy)),orderBy}var flatten={},hasRequiredFlatten;function requireFlatten(){return hasRequiredFlatten||(hasRequiredFlatten=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});function R(A,T=1){const I=[],B=Math.floor(T),U=(q,K)=>{for(let J=0;J<q.length;J++){const ee=q[J];Array.isArray(ee)&&K<B?U(ee,K+1):I.push(ee)}};return U(A,0),I}b.flatten=R})(flatten)),flatten}var isIterateeCall={},hasRequiredIsIterateeCall;function requireIsIterateeCall(){return hasRequiredIsIterateeCall||(hasRequiredIsIterateeCall=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireIsIndex(),A=requireIsArrayLike(),T=requireIsObject(),I=requireEq();function B(U,q,K){return T.isObject(K)&&(typeof q=="number"&&A.isArrayLike(K)&&R.isIndex(q)&&q<K.length||typeof q=="string"&&q in K)?I.eq(K[q],U):!1}b.isIterateeCall=B})(isIterateeCall)),isIterateeCall}var hasRequiredSortBy$1;function requireSortBy$1(){return hasRequiredSortBy$1||(hasRequiredSortBy$1=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireOrderBy(),A=requireFlatten(),T=requireIsIterateeCall();function I(B,...U){const q=U.length;return q>1&&T.isIterateeCall(B,U[0],U[1])?U=[]:q>2&&T.isIterateeCall(U[0],U[1],U[2])&&(U=[U[0]]),R.orderBy(B,A.flatten(U),["asc"])}b.sortBy=I})(sortBy$2)),sortBy$2}var sortBy$1,hasRequiredSortBy;function requireSortBy(){return hasRequiredSortBy||(hasRequiredSortBy=1,sortBy$1=requireSortBy$1().sortBy),sortBy$1}var sortByExports=requireSortBy();const sortBy=getDefaultExportFromCjs(sortByExports);var selectLegendSettings=b=>b.legend.settings,selectLegendSize=b=>b.legend.size,selectAllLegendPayload2DArray=b=>b.legend.payload,selectLegendPayload=createSelector([selectAllLegendPayload2DArray,selectLegendSettings],(b,R)=>{var{itemSorter:A}=R,T=b.flat(1);return A?sortBy(T,A):T});function useLegendPayload(){return useAppSelector(selectLegendPayload)}var EPS$1=1;function useElementOffset(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[R,A]=reactExports.useState({height:0,left:0,top:0,width:0}),T=reactExports.useCallback(I=>{if(I!=null){var B=I.getBoundingClientRect(),U={height:B.height,left:B.left,top:B.top,width:B.width};(Math.abs(U.height-R.height)>EPS$1||Math.abs(U.left-R.left)>EPS$1||Math.abs(U.top-R.top)>EPS$1||Math.abs(U.width-R.width)>EPS$1)&&A({height:U.height,left:U.left,top:U.top,width:U.width})}},[R.width,R.height,R.top,R.left,...b]);return[R,T]}function formatProdErrorMessage$1(b){return`Minified Redux error #${b}; visit https://redux.js.org/Errors?code=${b} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject$4(b){if(typeof b!="object"||b===null)return!1;let R=b;for(;Object.getPrototypeOf(R)!==null;)R=Object.getPrototypeOf(R);return Object.getPrototypeOf(b)===R||Object.getPrototypeOf(b)===null}function createStore(b,R,A){if(typeof b!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof R=="function"&&typeof A=="function"||typeof A=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof R=="function"&&typeof A>"u"&&(A=R,R=void 0),typeof A<"u"){if(typeof A!="function")throw new Error(formatProdErrorMessage$1(1));return A(createStore)(b,R)}let T=b,I=R,B=new Map,U=B,q=0,K=!1;function J(){U===B&&(U=new Map,B.forEach((Le,qe)=>{U.set(qe,Le)}))}function ee(){if(K)throw new Error(formatProdErrorMessage$1(3));return I}function te(Le){if(typeof Le!="function")throw new Error(formatProdErrorMessage$1(4));if(K)throw new Error(formatProdErrorMessage$1(5));let qe=!0;J();const Ge=q++;return U.set(Ge,Le),function(){if(qe){if(K)throw new Error(formatProdErrorMessage$1(6));qe=!1,J(),U.delete(Ge),B=null}}}function xe(Le){if(!isPlainObject$4(Le))throw new Error(formatProdErrorMessage$1(7));if(typeof Le.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof Le.type!="string")throw new Error(formatProdErrorMessage$1(17));if(K)throw new Error(formatProdErrorMessage$1(9));try{K=!0,I=T(I,Le)}finally{K=!1}return(B=U).forEach(Ge=>{Ge()}),Le}function fe(Le){if(typeof Le!="function")throw new Error(formatProdErrorMessage$1(10));T=Le,xe({type:actionTypes_default.REPLACE})}function ye(){const Le=te;return{subscribe(qe){if(typeof qe!="object"||qe===null)throw new Error(formatProdErrorMessage$1(11));function Ge(){const Xe=qe;Xe.next&&Xe.next(ee())}return Ge(),{unsubscribe:Le(Ge)}},[symbol_observable_default](){return this}}}return xe({type:actionTypes_default.INIT}),{dispatch:xe,subscribe:te,getState:ee,replaceReducer:fe,[symbol_observable_default]:ye}}function assertReducerShape(b){Object.keys(b).forEach(R=>{const A=b[R];if(typeof A(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof A(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(b){const R=Object.keys(b),A={};for(let B=0;B<R.length;B++){const U=R[B];typeof b[U]=="function"&&(A[U]=b[U])}const T=Object.keys(A);let I;try{assertReducerShape(A)}catch(B){I=B}return function(U={},q){if(I)throw I;let K=!1;const J={};for(let ee=0;ee<T.length;ee++){const te=T[ee],xe=A[te],fe=U[te],ye=xe(fe,q);if(typeof ye>"u")throw q&&q.type,new Error(formatProdErrorMessage$1(14));J[te]=ye,K=K||ye!==fe}return K=K||T.length!==Object.keys(U).length,K?J:U}}function compose$1(...b){return b.length===0?R=>R:b.length===1?b[0]:b.reduce((R,A)=>(...T)=>R(A(...T)))}function applyMiddleware(...b){return R=>(A,T)=>{const I=R(A,T);let B=()=>{throw new Error(formatProdErrorMessage$1(15))};const U={getState:I.getState,dispatch:(K,...J)=>B(K,...J)},q=b.map(K=>K(U));return B=compose$1(...q)(I.dispatch),{...I,dispatch:B}}}function isAction(b){return isPlainObject$4(b)&&"type"in b&&typeof b.type=="string"}var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(b,...R){throw new Error(`[Immer] minified error nr: ${b}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(b){return!!b&&!!b[DRAFT_STATE]}function isDraftable(b){return b?isPlainObject$3(b)||Array.isArray(b)||!!b[DRAFTABLE]||!!b.constructor?.[DRAFTABLE]||isMap(b)||isSet(b):!1}var objectCtorString=Object.prototype.constructor.toString();function isPlainObject$3(b){if(!b||typeof b!="object")return!1;const R=getPrototypeOf(b);if(R===null)return!0;const A=Object.hasOwnProperty.call(R,"constructor")&&R.constructor;return A===Object?!0:typeof A=="function"&&Function.toString.call(A)===objectCtorString}function each(b,R){getArchtype(b)===0?Reflect.ownKeys(b).forEach(A=>{R(A,b[A],b)}):b.forEach((A,T)=>R(T,A,b))}function getArchtype(b){const R=b[DRAFT_STATE];return R?R.type_:Array.isArray(b)?1:isMap(b)?2:isSet(b)?3:0}function has(b,R){return getArchtype(b)===2?b.has(R):Object.prototype.hasOwnProperty.call(b,R)}function set(b,R,A){const T=getArchtype(b);T===2?b.set(R,A):T===3?b.add(A):b[R]=A}function is(b,R){return b===R?b!==0||1/b===1/R:b!==b&&R!==R}function isMap(b){return b instanceof Map}function isSet(b){return b instanceof Set}function latest(b){return b.copy_||b.base_}function shallowCopy(b,R){if(isMap(b))return new Map(b);if(isSet(b))return new Set(b);if(Array.isArray(b))return Array.prototype.slice.call(b);const A=isPlainObject$3(b);if(R===!0||R==="class_only"&&!A){const T=Object.getOwnPropertyDescriptors(b);delete T[DRAFT_STATE];let I=Reflect.ownKeys(T);for(let B=0;B<I.length;B++){const U=I[B],q=T[U];q.writable===!1&&(q.writable=!0,q.configurable=!0),(q.get||q.set)&&(T[U]={configurable:!0,writable:!0,enumerable:q.enumerable,value:b[U]})}return Object.create(getPrototypeOf(b),T)}else{const T=getPrototypeOf(b);if(T!==null&&A)return{...b};const I=Object.create(T);return Object.assign(I,b)}}function freeze(b,R=!1){return isFrozen(b)||isDraft(b)||!isDraftable(b)||(getArchtype(b)>1&&Object.defineProperties(b,{set:{value:dontMutateFrozenCollections},add:{value:dontMutateFrozenCollections},clear:{value:dontMutateFrozenCollections},delete:{value:dontMutateFrozenCollections}}),Object.freeze(b),R&&Object.values(b).forEach(A=>freeze(A,!0))),b}function dontMutateFrozenCollections(){die(2)}function isFrozen(b){return Object.isFrozen(b)}var plugins={};function getPlugin(b){const R=plugins[b];return R||die(0,b),R}var currentScope;function getCurrentScope(){return currentScope}function createScope(b,R){return{drafts_:[],parent_:b,immer_:R,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(b,R){R&&(getPlugin("Patches"),b.patches_=[],b.inversePatches_=[],b.patchListener_=R)}function revokeScope(b){leaveScope(b),b.drafts_.forEach(revokeDraft),b.drafts_=null}function leaveScope(b){b===currentScope&&(currentScope=b.parent_)}function enterScope(b){return currentScope=createScope(currentScope,b)}function revokeDraft(b){const R=b[DRAFT_STATE];R.type_===0||R.type_===1?R.revoke_():R.revoked_=!0}function processResult(b,R){R.unfinalizedDrafts_=R.drafts_.length;const A=R.drafts_[0];return b!==void 0&&b!==A?(A[DRAFT_STATE].modified_&&(revokeScope(R),die(4)),isDraftable(b)&&(b=finalize(R,b),R.parent_||maybeFreeze(R,b)),R.patches_&&getPlugin("Patches").generateReplacementPatches_(A[DRAFT_STATE].base_,b,R.patches_,R.inversePatches_)):b=finalize(R,A,[]),revokeScope(R),R.patches_&&R.patchListener_(R.patches_,R.inversePatches_),b!==NOTHING?b:void 0}function finalize(b,R,A){if(isFrozen(R))return R;const T=R[DRAFT_STATE];if(!T)return each(R,(I,B)=>finalizeProperty(b,T,R,I,B,A)),R;if(T.scope_!==b)return R;if(!T.modified_)return maybeFreeze(b,T.base_,!0),T.base_;if(!T.finalized_){T.finalized_=!0,T.scope_.unfinalizedDrafts_--;const I=T.copy_;let B=I,U=!1;T.type_===3&&(B=new Set(I),I.clear(),U=!0),each(B,(q,K)=>finalizeProperty(b,T,I,q,K,A,U)),maybeFreeze(b,I,!1),A&&b.patches_&&getPlugin("Patches").generatePatches_(T,A,b.patches_,b.inversePatches_)}return T.copy_}function finalizeProperty(b,R,A,T,I,B,U){if(isDraft(I)){const q=B&&R&&R.type_!==3&&!has(R.assigned_,T)?B.concat(T):void 0,K=finalize(b,I,q);if(set(A,T,K),isDraft(K))b.canAutoFreeze_=!1;else return}else U&&A.add(I);if(isDraftable(I)&&!isFrozen(I)){if(!b.immer_.autoFreeze_&&b.unfinalizedDrafts_<1)return;finalize(b,I),(!R||!R.scope_.parent_)&&typeof T!="symbol"&&(isMap(A)?A.has(T):Object.prototype.propertyIsEnumerable.call(A,T))&&maybeFreeze(b,I)}}function maybeFreeze(b,R,A=!1){!b.parent_&&b.immer_.autoFreeze_&&b.canAutoFreeze_&&freeze(R,A)}function createProxyProxy(b,R){const A=Array.isArray(b),T={type_:A?1:0,scope_:R?R.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:R,base_:b,draft_:null,copy_:null,revoke_:null,isManual_:!1};let I=T,B=objectTraps;A&&(I=[T],B=arrayTraps);const{revoke:U,proxy:q}=Proxy.revocable(I,B);return T.draft_=q,T.revoke_=U,q}var objectTraps={get(b,R){if(R===DRAFT_STATE)return b;const A=latest(b);if(!has(A,R))return readPropFromProto(b,A,R);const T=A[R];return b.finalized_||!isDraftable(T)?T:T===peek(b.base_,R)?(prepareCopy(b),b.copy_[R]=createProxy(T,b)):T},has(b,R){return R in latest(b)},ownKeys(b){return Reflect.ownKeys(latest(b))},set(b,R,A){const T=getDescriptorFromProto(latest(b),R);if(T?.set)return T.set.call(b.draft_,A),!0;if(!b.modified_){const I=peek(latest(b),R),B=I?.[DRAFT_STATE];if(B&&B.base_===A)return b.copy_[R]=A,b.assigned_[R]=!1,!0;if(is(A,I)&&(A!==void 0||has(b.base_,R)))return!0;prepareCopy(b),markChanged(b)}return b.copy_[R]===A&&(A!==void 0||R in b.copy_)||Number.isNaN(A)&&Number.isNaN(b.copy_[R])||(b.copy_[R]=A,b.assigned_[R]=!0),!0},deleteProperty(b,R){return peek(b.base_,R)!==void 0||R in b.base_?(b.assigned_[R]=!1,prepareCopy(b),markChanged(b)):delete b.assigned_[R],b.copy_&&delete b.copy_[R],!0},getOwnPropertyDescriptor(b,R){const A=latest(b),T=Reflect.getOwnPropertyDescriptor(A,R);return T&&{writable:!0,configurable:b.type_!==1||R!=="length",enumerable:T.enumerable,value:A[R]}},defineProperty(){die(11)},getPrototypeOf(b){return getPrototypeOf(b.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(b,R)=>{arrayTraps[b]=function(){return arguments[0]=arguments[0][0],R.apply(this,arguments)}});arrayTraps.deleteProperty=function(b,R){return arrayTraps.set.call(this,b,R,void 0)};arrayTraps.set=function(b,R,A){return objectTraps.set.call(this,b[0],R,A,b[0])};function peek(b,R){const A=b[DRAFT_STATE];return(A?latest(A):b)[R]}function readPropFromProto(b,R,A){const T=getDescriptorFromProto(R,A);return T?"value"in T?T.value:T.get?.call(b.draft_):void 0}function getDescriptorFromProto(b,R){if(!(R in b))return;let A=getPrototypeOf(b);for(;A;){const T=Object.getOwnPropertyDescriptor(A,R);if(T)return T;A=getPrototypeOf(A)}}function markChanged(b){b.modified_||(b.modified_=!0,b.parent_&&markChanged(b.parent_))}function prepareCopy(b){b.copy_||(b.copy_=shallowCopy(b.base_,b.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(b){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(R,A,T)=>{if(typeof R=="function"&&typeof A!="function"){const B=A;A=R;const U=this;return function(K=B,...J){return U.produce(K,ee=>A.call(this,ee,...J))}}typeof A!="function"&&die(6),T!==void 0&&typeof T!="function"&&die(7);let I;if(isDraftable(R)){const B=enterScope(this),U=createProxy(R,void 0);let q=!0;try{I=A(U),q=!1}finally{q?revokeScope(B):leaveScope(B)}return usePatchesInScope(B,T),processResult(I,B)}else if(!R||typeof R!="object"){if(I=A(R),I===void 0&&(I=R),I===NOTHING&&(I=void 0),this.autoFreeze_&&freeze(I,!0),T){const B=[],U=[];getPlugin("Patches").generateReplacementPatches_(R,I,B,U),T(B,U)}return I}else die(1,R)},this.produceWithPatches=(R,A)=>{if(typeof R=="function")return(U,...q)=>this.produceWithPatches(U,K=>R(K,...q));let T,I;return[this.produce(R,A,(U,q)=>{T=U,I=q}),T,I]},typeof b?.autoFreeze=="boolean"&&this.setAutoFreeze(b.autoFreeze),typeof b?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(b.useStrictShallowCopy)}createDraft(b){isDraftable(b)||die(8),isDraft(b)&&(b=current(b));const R=enterScope(this),A=createProxy(b,void 0);return A[DRAFT_STATE].isManual_=!0,leaveScope(R),A}finishDraft(b,R){const A=b&&b[DRAFT_STATE];(!A||!A.isManual_)&&die(9);const{scope_:T}=A;return usePatchesInScope(T,R),processResult(void 0,T)}setAutoFreeze(b){this.autoFreeze_=b}setUseStrictShallowCopy(b){this.useStrictShallowCopy_=b}applyPatches(b,R){let A;for(A=R.length-1;A>=0;A--){const I=R[A];if(I.path.length===0&&I.op==="replace"){b=I.value;break}}A>-1&&(R=R.slice(A+1));const T=getPlugin("Patches").applyPatches_;return isDraft(b)?T(b,R):this.produce(b,I=>T(I,R))}};function createProxy(b,R){const A=isMap(b)?getPlugin("MapSet").proxyMap_(b,R):isSet(b)?getPlugin("MapSet").proxySet_(b,R):createProxyProxy(b,R);return(R?R.scope_:getCurrentScope()).drafts_.push(A),A}function current(b){return isDraft(b)||die(10,b),currentImpl(b)}function currentImpl(b){if(!isDraftable(b)||isFrozen(b))return b;const R=b[DRAFT_STATE];let A;if(R){if(!R.modified_)return R.base_;R.finalized_=!0,A=shallowCopy(b,R.scope_.immer_.useStrictShallowCopy_)}else A=shallowCopy(b,!0);return each(A,(T,I)=>{set(A,T,currentImpl(I))}),R&&(R.finalized_=!1),A}var immer=new Immer2,produce=immer.produce;function castDraft(b){return b}function createThunkMiddleware(b){return({dispatch:A,getState:T})=>I=>B=>typeof B=="function"?B(A,T,b):I(B)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose$1:compose$1.apply(null,arguments)};function createAction(b,R){function A(...T){if(R){let I=R(...T);if(!I)throw new Error(formatProdErrorMessage(0));return{type:b,payload:I.payload,..."meta"in I&&{meta:I.meta},..."error"in I&&{error:I.error}}}return{type:b,payload:T[0]}}return A.toString=()=>`${b}`,A.type=b,A.match=T=>isAction(T)&&T.type===b,A}var Tuple=class Ld extends Array{constructor(...R){super(...R),Object.setPrototypeOf(this,Ld.prototype)}static get[Symbol.species](){return Ld}concat(...R){return super.concat.apply(this,R)}prepend(...R){return R.length===1&&Array.isArray(R[0])?new Ld(...R[0].concat(this)):new Ld(...R.concat(this))}};function freezeDraftable(b){return isDraftable(b)?produce(b,()=>{}):b}function getOrInsertComputed(b,R,A){return b.has(R)?b.get(R):b.set(R,A(R)).get(R)}function isBoolean(b){return typeof b=="boolean"}var buildGetDefaultMiddleware=()=>function(R){const{thunk:A=!0,immutableCheck:T=!0,serializableCheck:I=!0,actionCreatorCheck:B=!0}=R??{};let U=new Tuple;return A&&(isBoolean(A)?U.push(thunk):U.push(withExtraArgument(A.extraArgument))),U},SHOULD_AUTOBATCH="RTK_autoBatch",createQueueWithTimer=b=>R=>{setTimeout(R,b)},autoBatchEnhancer=(b={type:"raf"})=>R=>(...A)=>{const T=R(...A);let I=!0,B=!1,U=!1;const q=new Set,K=b.type==="tick"?queueMicrotask:b.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10):b.type==="callback"?b.queueNotification:createQueueWithTimer(b.timeout),J=()=>{U=!1,B&&(B=!1,q.forEach(ee=>ee()))};return Object.assign({},T,{subscribe(ee){const te=()=>I&&ee(),xe=T.subscribe(te);return q.add(ee),()=>{xe(),q.delete(ee)}},dispatch(ee){try{return I=!ee?.meta?.[SHOULD_AUTOBATCH],B=!I,B&&(U||(U=!0,K(J))),T.dispatch(ee)}finally{I=!0}}})},buildGetDefaultEnhancers=b=>function(A){const{autoBatch:T=!0}=A??{};let I=new Tuple(b);return T&&I.push(autoBatchEnhancer(typeof T=="object"?T:void 0)),I};function configureStore(b){const R=buildGetDefaultMiddleware(),{reducer:A=void 0,middleware:T,devTools:I=!0,preloadedState:B=void 0,enhancers:U=void 0}=b||{};let q;if(typeof A=="function")q=A;else if(isPlainObject$4(A))q=combineReducers(A);else throw new Error(formatProdErrorMessage(1));let K;typeof T=="function"?K=T(R):K=R();let J=compose$1;I&&(J=composeWithDevTools({trace:!1,...typeof I=="object"&&I}));const ee=applyMiddleware(...K),te=buildGetDefaultEnhancers(ee);let xe=typeof U=="function"?U(te):te();const fe=J(...xe);return createStore(q,B,fe)}function executeReducerBuilderCallback(b){const R={},A=[];let T;const I={addCase(B,U){const q=typeof B=="string"?B:B.type;if(!q)throw new Error(formatProdErrorMessage(28));if(q in R)throw new Error(formatProdErrorMessage(29));return R[q]=U,I},addAsyncThunk(B,U){return U.pending&&(R[B.pending.type]=U.pending),U.rejected&&(R[B.rejected.type]=U.rejected),U.fulfilled&&(R[B.fulfilled.type]=U.fulfilled),U.settled&&A.push({matcher:B.settled,reducer:U.settled}),I},addMatcher(B,U){return A.push({matcher:B,reducer:U}),I},addDefaultCase(B){return T=B,I}};return b(I),[R,A,T]}function isStateFunction(b){return typeof b=="function"}function createReducer(b,R){let[A,T,I]=executeReducerBuilderCallback(R),B;if(isStateFunction(b))B=()=>freezeDraftable(b());else{const q=freezeDraftable(b);B=()=>q}function U(q=B(),K){let J=[A[K.type],...T.filter(({matcher:ee})=>ee(K)).map(({reducer:ee})=>ee)];return J.filter(ee=>!!ee).length===0&&(J=[I]),J.reduce((ee,te)=>{if(te)if(isDraft(ee)){const fe=te(ee,K);return fe===void 0?ee:fe}else{if(isDraftable(ee))return produce(ee,xe=>te(xe,K));{const xe=te(ee,K);if(xe===void 0){if(ee===null)return ee;throw Error("A case reducer on a non-draftable value must not return undefined")}return xe}}return ee},q)}return U.getInitialState=B,U}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=(b=21)=>{let R="",A=b;for(;A--;)R+=urlAlphabet[Math.random()*64|0];return R},asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType(b,R){return`${b}/${R}`}function buildCreateSlice({creators:b}={}){const R=b?.asyncThunk?.[asyncThunkSymbol];return function(T){const{name:I,reducerPath:B=I}=T;if(!I)throw new Error(formatProdErrorMessage(11));const U=(typeof T.reducers=="function"?T.reducers(buildReducerCreators()):T.reducers)||{},q=Object.keys(U),K={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},J={addCase($e,Xe){const He=typeof $e=="string"?$e:$e.type;if(!He)throw new Error(formatProdErrorMessage(12));if(He in K.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return K.sliceCaseReducersByType[He]=Xe,J},addMatcher($e,Xe){return K.sliceMatchers.push({matcher:$e,reducer:Xe}),J},exposeAction($e,Xe){return K.actionCreators[$e]=Xe,J},exposeCaseReducer($e,Xe){return K.sliceCaseReducersByName[$e]=Xe,J}};q.forEach($e=>{const Xe=U[$e],He={reducerName:$e,type:getType(I,$e),createNotation:typeof T.reducers=="function"};isAsyncThunkSliceReducerDefinition(Xe)?handleThunkCaseReducerDefinition(He,Xe,J,R):handleNormalReducerDefinition(He,Xe,J)});function ee(){const[$e={},Xe=[],He=void 0]=typeof T.extraReducers=="function"?executeReducerBuilderCallback(T.extraReducers):[T.extraReducers],Qe={...$e,...K.sliceCaseReducersByType};return createReducer(T.initialState,st=>{for(let ct in Qe)st.addCase(ct,Qe[ct]);for(let ct of K.sliceMatchers)st.addMatcher(ct.matcher,ct.reducer);for(let ct of Xe)st.addMatcher(ct.matcher,ct.reducer);He&&st.addDefaultCase(He)})}const te=$e=>$e,xe=new Map,fe=new WeakMap;let ye;function Be($e,Xe){return ye||(ye=ee()),ye($e,Xe)}function Le(){return ye||(ye=ee()),ye.getInitialState()}function qe($e,Xe=!1){function He(st){let ct=st[$e];return typeof ct>"u"&&Xe&&(ct=getOrInsertComputed(fe,He,Le)),ct}function Qe(st=te){const ct=getOrInsertComputed(xe,Xe,()=>new WeakMap);return getOrInsertComputed(ct,st,()=>{const gt={};for(const[Nt,Ot]of Object.entries(T.selectors??{}))gt[Nt]=wrapSelector(Ot,st,()=>getOrInsertComputed(fe,st,Le),Xe);return gt})}return{reducerPath:$e,getSelectors:Qe,get selectors(){return Qe(He)},selectSlice:He}}const Ge={name:I,reducer:Be,actions:K.actionCreators,caseReducers:K.sliceCaseReducersByName,getInitialState:Le,...qe(B),injectInto($e,{reducerPath:Xe,...He}={}){const Qe=Xe??B;return $e.inject({reducerPath:Qe,reducer:Be},He),{...Ge,...qe(Qe,!0)}}};return Ge}}function wrapSelector(b,R,A,T){function I(B,...U){let q=R(B);return typeof q>"u"&&T&&(q=A()),b(q,...U)}return I.unwrapped=b,I}var createSlice=buildCreateSlice();function buildReducerCreators(){function b(R,A){return{_reducerDefinitionType:"asyncThunk",payloadCreator:R,...A}}return b.withTypes=()=>b,{reducer(R){return Object.assign({[R.name](...A){return R(...A)}}[R.name],{_reducerDefinitionType:"reducer"})},preparedReducer(R,A){return{_reducerDefinitionType:"reducerWithPrepare",prepare:R,reducer:A}},asyncThunk:b}}function handleNormalReducerDefinition({type:b,reducerName:R,createNotation:A},T,I){let B,U;if("reducer"in T){if(A&&!isCaseReducerWithPrepareDefinition(T))throw new Error(formatProdErrorMessage(17));B=T.reducer,U=T.prepare}else B=T;I.addCase(b,B).exposeCaseReducer(R,B).exposeAction(R,U?createAction(b,U):createAction(b))}function isAsyncThunkSliceReducerDefinition(b){return b._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(b){return b._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:b,reducerName:R},A,T,I){if(!I)throw new Error(formatProdErrorMessage(18));const{payloadCreator:B,fulfilled:U,pending:q,rejected:K,settled:J,options:ee}=A,te=I(b,B,ee);T.exposeAction(R,te),U&&T.addCase(te.fulfilled,U),q&&T.addCase(te.pending,q),K&&T.addCase(te.rejected,K),J&&T.addMatcher(te.settled,J),T.exposeCaseReducer(R,{fulfilled:U||noop$3,pending:q||noop$3,rejected:K||noop$3,settled:J||noop$3})}function noop$3(){}var task="task",listener="listener",completed="completed",cancelled="cancelled",taskCancelled=`task-${cancelled}`,taskCompleted=`task-${completed}`,listenerCancelled=`${listener}-${cancelled}`,listenerCompleted=`${listener}-${completed}`,TaskAbortError=class{constructor(b){this.code=b,this.message=`${task} ${cancelled} (reason: ${b})`}name="TaskAbortError";message},assertFunction=(b,R)=>{if(typeof b!="function")throw new TypeError(formatProdErrorMessage(32))},noop2=()=>{},catchRejection=(b,R=noop2)=>(b.catch(R),b),addAbortSignalListener=(b,R)=>(b.addEventListener("abort",R,{once:!0}),()=>b.removeEventListener("abort",R)),abortControllerWithReason=(b,R)=>{const A=b.signal;A.aborted||("reason"in A||Object.defineProperty(A,"reason",{enumerable:!0,value:R,configurable:!0,writable:!0}),b.abort(R))},validateActive=b=>{if(b.aborted){const{reason:R}=b;throw new TaskAbortError(R)}};function raceWithSignal(b,R){let A=noop2;return new Promise((T,I)=>{const B=()=>I(new TaskAbortError(b.reason));if(b.aborted){B();return}A=addAbortSignalListener(b,B),R.finally(()=>A()).then(T,I)}).finally(()=>{A=noop2})}var runTask=async(b,R)=>{try{return await Promise.resolve(),{status:"ok",value:await b()}}catch(A){return{status:A instanceof TaskAbortError?"cancelled":"rejected",error:A}}finally{R?.()}},createPause=b=>R=>catchRejection(raceWithSignal(b,R).then(A=>(validateActive(b),A))),createDelay=b=>{const R=createPause(b);return A=>R(new Promise(T=>setTimeout(T,A)))},{assign}=Object,INTERNAL_NIL_TOKEN={},alm="listenerMiddleware",createFork=(b,R)=>{const A=T=>addAbortSignalListener(b,()=>abortControllerWithReason(T,b.reason));return(T,I)=>{assertFunction(T);const B=new AbortController;A(B);const U=runTask(async()=>{validateActive(b),validateActive(B.signal);const q=await T({pause:createPause(B.signal),delay:createDelay(B.signal),signal:B.signal});return validateActive(B.signal),q},()=>abortControllerWithReason(B,taskCompleted));return I?.autoJoin&&R.push(U.catch(noop2)),{result:createPause(b)(U),cancel(){abortControllerWithReason(B,taskCancelled)}}}},createTakePattern=(b,R)=>{const A=async(T,I)=>{validateActive(R);let B=()=>{};const q=[new Promise((K,J)=>{let ee=b({predicate:T,effect:(te,xe)=>{xe.unsubscribe(),K([te,xe.getState(),xe.getOriginalState()])}});B=()=>{ee(),J()}})];I!=null&&q.push(new Promise(K=>setTimeout(K,I,null)));try{const K=await raceWithSignal(R,Promise.race(q));return validateActive(R),K}finally{B()}};return(T,I)=>catchRejection(A(T,I))},getListenerEntryPropsFrom=b=>{let{type:R,actionCreator:A,matcher:T,predicate:I,effect:B}=b;if(R)I=createAction(R).match;else if(A)R=A.type,I=A.match;else if(T)I=T;else if(!I)throw new Error(formatProdErrorMessage(21));return assertFunction(B),{predicate:I,type:R,effect:B}},createListenerEntry=assign(b=>{const{type:R,predicate:A,effect:T}=getListenerEntryPropsFrom(b);return{id:nanoid(),effect:T,type:R,predicate:A,pending:new Set,unsubscribe:()=>{throw new Error(formatProdErrorMessage(22))}}},{withTypes:()=>createListenerEntry}),findListenerEntry=(b,R)=>{const{type:A,effect:T,predicate:I}=getListenerEntryPropsFrom(R);return Array.from(b.values()).find(B=>(typeof A=="string"?B.type===A:B.predicate===I)&&B.effect===T)},cancelActiveListeners=b=>{b.pending.forEach(R=>{abortControllerWithReason(R,listenerCancelled)})},createClearListenerMiddleware=(b,R)=>()=>{for(const A of R.keys())cancelActiveListeners(A);b.clear()},safelyNotifyError=(b,R,A)=>{try{b(R,A)}catch(T){setTimeout(()=>{throw T},0)}},addListener=assign(createAction(`${alm}/add`),{withTypes:()=>addListener}),clearAllListeners=createAction(`${alm}/removeAll`),removeListener=assign(createAction(`${alm}/remove`),{withTypes:()=>removeListener}),defaultErrorHandler=(...b)=>{console.error(`${alm}/error`,...b)},createListenerMiddleware=(b={})=>{const R=new Map,A=new Map,T=fe=>{const ye=A.get(fe)??0;A.set(fe,ye+1)},I=fe=>{const ye=A.get(fe)??1;ye===1?A.delete(fe):A.set(fe,ye-1)},{extra:B,onError:U=defaultErrorHandler}=b;assertFunction(U);const q=fe=>(fe.unsubscribe=()=>R.delete(fe.id),R.set(fe.id,fe),ye=>{fe.unsubscribe(),ye?.cancelActive&&cancelActiveListeners(fe)}),K=fe=>{const ye=findListenerEntry(R,fe)??createListenerEntry(fe);return q(ye)};assign(K,{withTypes:()=>K});const J=fe=>{const ye=findListenerEntry(R,fe);return ye&&(ye.unsubscribe(),fe.cancelActive&&cancelActiveListeners(ye)),!!ye};assign(J,{withTypes:()=>J});const ee=async(fe,ye,Be,Le)=>{const qe=new AbortController,Ge=createTakePattern(K,qe.signal),$e=[];try{fe.pending.add(qe),T(fe),await Promise.resolve(fe.effect(ye,assign({},Be,{getOriginalState:Le,condition:(Xe,He)=>Ge(Xe,He).then(Boolean),take:Ge,delay:createDelay(qe.signal),pause:createPause(qe.signal),extra:B,signal:qe.signal,fork:createFork(qe.signal,$e),unsubscribe:fe.unsubscribe,subscribe:()=>{R.set(fe.id,fe)},cancelActiveListeners:()=>{fe.pending.forEach((Xe,He,Qe)=>{Xe!==qe&&(abortControllerWithReason(Xe,listenerCancelled),Qe.delete(Xe))})},cancel:()=>{abortControllerWithReason(qe,listenerCancelled),fe.pending.delete(qe)},throwIfCancelled:()=>{validateActive(qe.signal)}})))}catch(Xe){Xe instanceof TaskAbortError||safelyNotifyError(U,Xe,{raisedBy:"effect"})}finally{await Promise.all($e),abortControllerWithReason(qe,listenerCompleted),I(fe),fe.pending.delete(qe)}},te=createClearListenerMiddleware(R,A);return{middleware:fe=>ye=>Be=>{if(!isAction(Be))return ye(Be);if(addListener.match(Be))return K(Be.payload);if(clearAllListeners.match(Be)){te();return}if(removeListener.match(Be))return J(Be.payload);let Le=fe.getState();const qe=()=>{if(Le===INTERNAL_NIL_TOKEN)throw new Error(formatProdErrorMessage(23));return Le};let Ge;try{if(Ge=ye(Be),R.size>0){const $e=fe.getState(),Xe=Array.from(R.values());for(const He of Xe){let Qe=!1;try{Qe=He.predicate(Be,$e,Le)}catch(st){Qe=!1,safelyNotifyError(U,st,{raisedBy:"predicate"})}Qe&&ee(He,Be,fe,qe)}}}finally{Le=INTERNAL_NIL_TOKEN}return Ge},startListening:K,stopListening:J,clearListeners:te}};function formatProdErrorMessage(b){return`Minified Redux Toolkit error #${b}; visit https://redux-toolkit.js.org/Errors?code=${b} for the full message or use the non-minified dev environment for full errors. `}var initialState$a={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},chartLayoutSlice=createSlice({name:"chartLayout",initialState:initialState$a,reducers:{setLayout(b,R){b.layoutType=R.payload},setChartSize(b,R){b.width=R.payload.width,b.height=R.payload.height},setMargin(b,R){var A,T,I,B;b.margin.top=(A=R.payload.top)!==null&&A!==void 0?A:0,b.margin.right=(T=R.payload.right)!==null&&T!==void 0?T:0,b.margin.bottom=(I=R.payload.bottom)!==null&&I!==void 0?I:0,b.margin.left=(B=R.payload.left)!==null&&B!==void 0?B:0},setScale(b,R){b.scale=R.payload}}}),{setMargin,setLayout,setChartSize,setScale}=chartLayoutSlice.actions,chartLayoutReducer=chartLayoutSlice.reducer;function ownKeys$x(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$x(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$x(Object(A),!0).forEach(function(T){_defineProperty$B(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$x(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$B(b,R,A){return(R=_toPropertyKey$B(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$B(b){var R=_toPrimitive$B(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$B(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}var RADIAN=Math.PI/180,radianToDegree=b=>b*180/Math.PI,polarToCartesian=(b,R,A,T)=>({x:b+Math.cos(-RADIAN*T)*A,y:R+Math.sin(-RADIAN*T)*A}),getMaxRadius=function b(R,A){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(R-(T.left||0)-(T.right||0)),Math.abs(A-(T.top||0)-(T.bottom||0)))/2},distanceBetweenPoints=(b,R)=>{var{x:A,y:T}=b,{x:I,y:B}=R;return Math.sqrt((A-I)**2+(T-B)**2)},getAngleOfPoint=(b,R)=>{var{x:A,y:T}=b,{cx:I,cy:B}=R,U=distanceBetweenPoints({x:A,y:T},{x:I,y:B});if(U<=0)return{radius:U,angle:0};var q=(A-I)/U,K=Math.acos(q);return T>B&&(K=2*Math.PI-K),{radius:U,angle:radianToDegree(K),angleInRadian:K}},formatAngleOfSector=b=>{var{startAngle:R,endAngle:A}=b,T=Math.floor(R/360),I=Math.floor(A/360),B=Math.min(T,I);return{startAngle:R-B*360,endAngle:A-B*360}},reverseFormatAngleOfSector=(b,R)=>{var{startAngle:A,endAngle:T}=R,I=Math.floor(A/360),B=Math.floor(T/360),U=Math.min(I,B);return b+U*360},inRangeOfSector=(b,R)=>{var{x:A,y:T}=b,{radius:I,angle:B}=getAngleOfPoint({x:A,y:T},R),{innerRadius:U,outerRadius:q}=R;if(I<U||I>q||I===0)return null;var{startAngle:K,endAngle:J}=formatAngleOfSector(R),ee=B,te;if(K<=J){for(;ee>J;)ee-=360;for(;ee<K;)ee+=360;te=ee>=K&&ee<=J}else{for(;ee>K;)ee-=360;for(;ee<J;)ee+=360;te=ee>=J&&ee<=K}return te?_objectSpread$x(_objectSpread$x({},R),{},{radius:I,angle:reverseFormatAngleOfSector(ee,R)}):null};function getSliced(b,R,A){return Array.isArray(b)&&b&&R+A!==0?b.slice(R,A+1):b}function ownKeys$w(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$w(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$w(Object(A),!0).forEach(function(T){_defineProperty$A(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$w(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$A(b,R,A){return(R=_toPropertyKey$A(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$A(b){var R=_toPrimitive$A(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$A(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}function getValueByDataKey(b,R,A){return isNullish(b)||isNullish(R)?A:isNumOrStr(R)?get(b,R,A):typeof R=="function"?R(b):A}var calculateActiveTickIndex=(b,R,A,T,I)=>{var B,U=-1,q=(B=R?.length)!==null&&B!==void 0?B:0;if(q<=1||b==null)return 0;if(T==="angleAxis"&&I!=null&&Math.abs(Math.abs(I[1]-I[0])-360)<=1e-6)for(var K=0;K<q;K++){var J=K>0?A[K-1].coordinate:A[q-1].coordinate,ee=A[K].coordinate,te=K>=q-1?A[0].coordinate:A[K+1].coordinate,xe=void 0;if(mathSign(ee-J)!==mathSign(te-ee)){var fe=[];if(mathSign(te-ee)===mathSign(I[1]-I[0])){xe=te;var ye=ee+I[1]-I[0];fe[0]=Math.min(ye,(ye+J)/2),fe[1]=Math.max(ye,(ye+J)/2)}else{xe=J;var Be=te+I[1]-I[0];fe[0]=Math.min(ee,(Be+ee)/2),fe[1]=Math.max(ee,(Be+ee)/2)}var Le=[Math.min(ee,(xe+ee)/2),Math.max(ee,(xe+ee)/2)];if(b>Le[0]&&b<=Le[1]||b>=fe[0]&&b<=fe[1]){({index:U}=A[K]);break}}else{var qe=Math.min(J,te),Ge=Math.max(J,te);if(b>(qe+ee)/2&&b<=(Ge+ee)/2){({index:U}=A[K]);break}}}else if(R){for(var $e=0;$e<q;$e++)if($e===0&&b<=(R[$e].coordinate+R[$e+1].coordinate)/2||$e>0&&$e<q-1&&b>(R[$e].coordinate+R[$e-1].coordinate)/2&&b<=(R[$e].coordinate+R[$e+1].coordinate)/2||$e===q-1&&b>(R[$e].coordinate+R[$e-1].coordinate)/2){({index:U}=R[$e]);break}}return U},appendOffsetOfLegend=(b,R,A)=>{if(R&&A){var{width:T,height:I}=A,{align:B,verticalAlign:U,layout:q}=R;if((q==="vertical"||q==="horizontal"&&U==="middle")&&B!=="center"&&isNumber(b[B]))return _objectSpread$w(_objectSpread$w({},b),{},{[B]:b[B]+(T||0)});if((q==="horizontal"||q==="vertical"&&B==="center")&&U!=="middle"&&isNumber(b[U]))return _objectSpread$w(_objectSpread$w({},b),{},{[U]:b[U]+(I||0)})}return b},isCategoricalAxis=(b,R)=>b==="horizontal"&&R==="xAxis"||b==="vertical"&&R==="yAxis"||b==="centric"&&R==="angleAxis"||b==="radial"&&R==="radiusAxis",getCoordinatesOfGrid=(b,R,A,T)=>{if(T)return b.map(q=>q.coordinate);var I,B,U=b.map(q=>(q.coordinate===R&&(I=!0),q.coordinate===A&&(B=!0),q.coordinate));return I||U.push(R),B||U.push(A),U},getTicksOfAxis=(b,R,A)=>{if(!b)return null;var{duplicateDomain:T,type:I,range:B,scale:U,realScaleType:q,isCategorical:K,categoricalDomain:J,tickCount:ee,ticks:te,niceTicks:xe,axisType:fe}=b;if(!U)return null;var ye=q==="scaleBand"&&U.bandwidth?U.bandwidth()/2:2,Be=I==="category"&&U.bandwidth?U.bandwidth()/ye:0;if(Be=fe==="angleAxis"&&B&&B.length>=2?mathSign(B[0]-B[1])*2*Be:Be,te||xe){var Le=(te||xe||[]).map((qe,Ge)=>{var $e=T?T.indexOf(qe):qe;return{coordinate:U($e)+Be,value:qe,offset:Be,index:Ge}});return Le.filter(qe=>!isNan(qe.coordinate))}return K&&J?J.map((qe,Ge)=>({coordinate:U(qe)+Be,value:qe,index:Ge,offset:Be})):U.ticks&&ee!=null?U.ticks(ee).map((qe,Ge)=>({coordinate:U(qe)+Be,value:qe,offset:Be,index:Ge})):U.domain().map((qe,Ge)=>({coordinate:U(qe)+Be,value:T?T[qe]:qe,index:Ge,offset:Be}))},EPS=1e-4,checkDomainOfScale=b=>{var R=b.domain();if(!(!R||R.length<=2)){var A=R.length,T=b.range(),I=Math.min(T[0],T[1])-EPS,B=Math.max(T[0],T[1])+EPS,U=b(R[0]),q=b(R[A-1]);(U<I||U>B||q<I||q>B)&&b.domain([R[0],R[A-1]])}},truncateByDomain=(b,R)=>{if(!R||R.length!==2||!isNumber(R[0])||!isNumber(R[1]))return b;var A=Math.min(R[0],R[1]),T=Math.max(R[0],R[1]),I=[b[0],b[1]];return(!isNumber(b[0])||b[0]<A)&&(I[0]=A),(!isNumber(b[1])||b[1]>T)&&(I[1]=T),I[0]>T&&(I[0]=T),I[1]<A&&(I[1]=A),I},offsetSign=b=>{var R=b.length;if(!(R<=0))for(var A=0,T=b[0].length;A<T;++A)for(var I=0,B=0,U=0;U<R;++U){var q=isNan(b[U][A][1])?b[U][A][0]:b[U][A][1];q>=0?(b[U][A][0]=I,b[U][A][1]=I+q,I=b[U][A][1]):(b[U][A][0]=B,b[U][A][1]=B+q,B=b[U][A][1])}},offsetPositive=b=>{var R=b.length;if(!(R<=0))for(var A=0,T=b[0].length;A<T;++A)for(var I=0,B=0;B<R;++B){var U=isNan(b[B][A][1])?b[B][A][0]:b[B][A][1];U>=0?(b[B][A][0]=I,b[B][A][1]=I+U,I=b[B][A][1]):(b[B][A][0]=0,b[B][A][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=(b,R,A)=>{var T=STACK_OFFSET_MAP[A],I=shapeStack().keys(R).value((B,U)=>+getValueByDataKey(B,U,0)).order(stackOrderNone).offset(T);return I(b)};function getNormalizedStackId(b){return b==null?void 0:String(b)}function getCateCoordinateOfLine(b){var{axis:R,ticks:A,bandSize:T,entry:I,index:B,dataKey:U}=b;if(R.type==="category"){if(!R.allowDuplicatedCategory&&R.dataKey&&!isNullish(I[R.dataKey])){var q=findEntryInArray(A,"value",I[R.dataKey]);if(q)return q.coordinate+T/2}return A[B]?A[B].coordinate+T/2:null}var K=getValueByDataKey(I,isNullish(U)?R.dataKey:U);return isNullish(K)?null:R.scale(K)}var getCateCoordinateOfBar=b=>{var{axis:R,ticks:A,offset:T,bandSize:I,entry:B,index:U}=b;if(R.type==="category")return A[U]?A[U].coordinate+T:null;var q=getValueByDataKey(B,R.dataKey,R.scale.domain()[U]);return isNullish(q)?null:R.scale(q)-I/2+T},getBaseValueOfBar=b=>{var{numericAxis:R}=b,A=R.scale.domain();if(R.type==="number"){var T=Math.min(A[0],A[1]),I=Math.max(A[0],A[1]);return T<=0&&I>=0?0:I<0?I:T}return A[0]},getDomainOfSingle=b=>{var R=b.flat(2).filter(isNumber);return[Math.min(...R),Math.max(...R)]},makeDomainFinite=b=>[b[0]===1/0?0:b[0],b[1]===-1/0?0:b[1]],getDomainOfStackGroups=(b,R,A)=>{if(b!=null)return makeDomainFinite(Object.keys(b).reduce((T,I)=>{var B=b[I],{stackedData:U}=B,q=U.reduce((K,J)=>{var ee=getSliced(J,R,A),te=getDomainOfSingle(ee);return[Math.min(K[0],te[0]),Math.max(K[1],te[1])]},[1/0,-1/0]);return[Math.min(q[0],T[0]),Math.max(q[1],T[1])]},[1/0,-1/0]))},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,getBandSizeOfAxis=(b,R,A)=>{if(b&&b.scale&&b.scale.bandwidth){var T=b.scale.bandwidth();if(!A||T>0)return T}if(b&&R&&R.length>=2){for(var I=sortBy(R,ee=>ee.coordinate),B=1/0,U=1,q=I.length;U<q;U++){var K=I[U],J=I[U-1];B=Math.min((K.coordinate||0)-(J.coordinate||0),B)}return B===1/0?0:B}return A?void 0:0};function getTooltipEntry(b){var{tooltipEntrySettings:R,dataKey:A,payload:T,value:I,name:B}=b;return _objectSpread$w(_objectSpread$w({},R),{},{dataKey:A,payload:T,value:I,name:B})}function getTooltipNameProp(b,R){if(b)return String(b);if(typeof R=="string")return R}function inRange(b,R,A,T,I){if(A==="horizontal"||A==="vertical"){var B=b>=I.left&&b<=I.left+I.width&&R>=I.top&&R<=I.top+I.height;return B?{x:b,y:R}:null}return T?inRangeOfSector({x:b,y:R},T):null}var getActiveCoordinate=(b,R,A,T)=>{var I=R.find(J=>J&&J.index===A);if(I){if(b==="horizontal")return{x:I.coordinate,y:T.y};if(b==="vertical")return{x:T.x,y:I.coordinate};if(b==="centric"){var B=I.coordinate,{radius:U}=T;return _objectSpread$w(_objectSpread$w(_objectSpread$w({},T),polarToCartesian(T.cx,T.cy,U,B)),{},{angle:B,radius:U})}var q=I.coordinate,{angle:K}=T;return _objectSpread$w(_objectSpread$w(_objectSpread$w({},T),polarToCartesian(T.cx,T.cy,q,K)),{},{angle:K,radius:q})}return{x:0,y:0}},calculateTooltipPos=(b,R)=>R==="horizontal"?b.x:R==="vertical"?b.y:R==="centric"?b.angle:b.radius,selectChartWidth=b=>b.layout.width,selectChartHeight=b=>b.layout.height,selectContainerScale=b=>b.layout.scale,selectMargin=b=>b.layout.margin,selectAllXAxes=createSelector(b=>b.cartesianAxis.xAxis,b=>Object.values(b)),selectAllYAxes=createSelector(b=>b.cartesianAxis.yAxis,b=>Object.values(b)),DATA_ITEM_INDEX_ATTRIBUTE_NAME="data-recharts-item-index",DATA_ITEM_DATAKEY_ATTRIBUTE_NAME="data-recharts-item-data-key",DEFAULT_Y_AXIS_WIDTH=60;function ownKeys$v(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$v(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$v(Object(A),!0).forEach(function(T){_defineProperty$z(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$v(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$z(b,R,A){return(R=_toPropertyKey$z(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$z(b){var R=_toPrimitive$z(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$z(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}var selectBrushHeight=b=>b.brush.height;function selectLeftAxesOffset(b){var R=selectAllYAxes(b);return R.reduce((A,T)=>{if(T.orientation==="left"&&!T.mirror&&!T.hide){var I=typeof T.width=="number"?T.width:DEFAULT_Y_AXIS_WIDTH;return A+I}return A},0)}function selectRightAxesOffset(b){var R=selectAllYAxes(b);return R.reduce((A,T)=>{if(T.orientation==="right"&&!T.mirror&&!T.hide){var I=typeof T.width=="number"?T.width:DEFAULT_Y_AXIS_WIDTH;return A+I}return A},0)}function selectTopAxesOffset(b){var R=selectAllXAxes(b);return R.reduce((A,T)=>T.orientation==="top"&&!T.mirror&&!T.hide?A+T.height:A,0)}function selectBottomAxesOffset(b){var R=selectAllXAxes(b);return R.reduce((A,T)=>T.orientation==="bottom"&&!T.mirror&&!T.hide?A+T.height:A,0)}var selectChartOffsetInternal=createSelector([selectChartWidth,selectChartHeight,selectMargin,selectBrushHeight,selectLeftAxesOffset,selectRightAxesOffset,selectTopAxesOffset,selectBottomAxesOffset,selectLegendSettings,selectLegendSize],(b,R,A,T,I,B,U,q,K,J)=>{var ee={left:(A.left||0)+I,right:(A.right||0)+B},te={top:(A.top||0)+U,bottom:(A.bottom||0)+q},xe=_objectSpread$v(_objectSpread$v({},te),ee),fe=xe.bottom;xe.bottom+=T,xe=appendOffsetOfLegend(xe,K,J);var ye=b-xe.left-xe.right,Be=R-xe.top-xe.bottom;return _objectSpread$v(_objectSpread$v({brushBottom:fe},xe),{},{width:Math.max(ye,0),height:Math.max(Be,0)})}),selectChartViewBox=createSelector(selectChartOffsetInternal,b=>({x:b.left,y:b.top,width:b.width,height:b.height})),selectAxisViewBox=createSelector(selectChartWidth,selectChartHeight,(b,R)=>({x:0,y:0,width:b,height:R})),PanoramaContext=reactExports.createContext(null),useIsPanorama=()=>reactExports.useContext(PanoramaContext)!=null,selectBrushSettings=b=>b.brush,selectBrushDimensions=createSelector([selectBrushSettings,selectChartOffsetInternal,selectMargin],(b,R,A)=>({height:b.height,x:isNumber(b.x)?b.x:R.left,y:isNumber(b.y)?b.y:R.top+R.height+R.brushBottom-(A?.bottom||0),width:isNumber(b.width)?b.width:R.width})),useViewBox=()=>{var b,R=useIsPanorama(),A=useAppSelector(selectChartViewBox),T=useAppSelector(selectBrushDimensions),I=(b=useAppSelector(selectBrushSettings))===null||b===void 0?void 0:b.padding;return!R||!T||!I?A:{width:T.width-I.left-I.right,height:T.height-I.top-I.bottom,x:I.left,y:I.top}},manyComponentsThrowErrorsIfOffsetIsUndefined={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},useOffsetInternal=()=>{var b;return(b=useAppSelector(selectChartOffsetInternal))!==null&&b!==void 0?b:manyComponentsThrowErrorsIfOffsetIsUndefined},useChartWidth=()=>useAppSelector(selectChartWidth),useChartHeight=()=>useAppSelector(selectChartHeight),useMargin=()=>useAppSelector(b=>b.layout.margin),selectChartLayout=b=>b.layout.layoutType,useChartLayout=()=>useAppSelector(selectChartLayout),initialState$9={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},legendSlice=createSlice({name:"legend",initialState:initialState$9,reducers:{setLegendSize(b,R){b.size.width=R.payload.width,b.size.height=R.payload.height},setLegendSettings(b,R){b.settings.align=R.payload.align,b.settings.layout=R.payload.layout,b.settings.verticalAlign=R.payload.verticalAlign,b.settings.itemSorter=R.payload.itemSorter},addLegendPayload(b,R){b.payload.push(R.payload)},removeLegendPayload(b,R){var A=current(b).payload.indexOf(R.payload);A>-1&&b.payload.splice(A,1)}}}),{setLegendSize,setLegendSettings,addLegendPayload,removeLegendPayload}=legendSlice.actions,legendReducer=legendSlice.reducer,_excluded$h=["contextPayload"];function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var T in A)({}).hasOwnProperty.call(A,T)&&(b[T]=A[T])}return b},_extends$k.apply(null,arguments)}function ownKeys$u(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$u(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$u(Object(A),!0).forEach(function(T){_defineProperty$y(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$u(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$y(b,R,A){return(R=_toPropertyKey$y(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$y(b){var R=_toPrimitive$y(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$y(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}function _objectWithoutProperties$h(b,R){if(b==null)return{};var A,T,I=_objectWithoutPropertiesLoose$h(b,R);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(b);for(T=0;T<B.length;T++)A=B[T],R.indexOf(A)===-1&&{}.propertyIsEnumerable.call(b,A)&&(I[A]=b[A])}return I}function _objectWithoutPropertiesLoose$h(b,R){if(b==null)return{};var A={};for(var T in b)if({}.hasOwnProperty.call(b,T)){if(R.indexOf(T)!==-1)continue;A[T]=b[T]}return A}function defaultUniqBy$1(b){return b.value}function LegendContent(b){var{contextPayload:R}=b,A=_objectWithoutProperties$h(b,_excluded$h),T=getUniqPayload(R,b.payloadUniqBy,defaultUniqBy$1),I=_objectSpread$u(_objectSpread$u({},A),{},{payload:T});return reactExports.isValidElement(b.content)?reactExports.cloneElement(b.content,I):typeof b.content=="function"?reactExports.createElement(b.content,I):reactExports.createElement(DefaultLegendContent,I)}function getDefaultPosition(b,R,A,T,I,B){var{layout:U,align:q,verticalAlign:K}=R,J,ee;return(!b||(b.left===void 0||b.left===null)&&(b.right===void 0||b.right===null))&&(q==="center"&&U==="vertical"?J={left:((T||0)-B.width)/2}:J=q==="right"?{right:A&&A.right||0}:{left:A&&A.left||0}),(!b||(b.top===void 0||b.top===null)&&(b.bottom===void 0||b.bottom===null))&&(K==="middle"?ee={top:((I||0)-B.height)/2}:ee=K==="bottom"?{bottom:A&&A.bottom||0}:{top:A&&A.top||0}),_objectSpread$u(_objectSpread$u({},J),ee)}function LegendSettingsDispatcher(b){var R=useAppDispatch();return reactExports.useEffect(()=>{R(setLegendSettings(b))},[R,b]),null}function LegendSizeDispatcher(b){var R=useAppDispatch();return reactExports.useEffect(()=>(R(setLegendSize(b)),()=>{R(setLegendSize({width:0,height:0}))}),[R,b]),null}function LegendWrapper(b){var R=useLegendPayload(),A=useLegendPortal(),T=useMargin(),{width:I,height:B,wrapperStyle:U,portal:q}=b,[K,J]=useElementOffset([R]),ee=useChartWidth(),te=useChartHeight();if(ee==null||te==null)return null;var xe=ee-(T.left||0)-(T.right||0),fe=Legend.getWidthOrHeight(b.layout,B,I,xe),ye=q?U:_objectSpread$u(_objectSpread$u({position:"absolute",width:fe?.width||I||"auto",height:fe?.height||B||"auto"},getDefaultPosition(U,b,T,ee,te,K)),U),Be=q??A;if(Be==null)return null;var Le=reactExports.createElement("div",{className:"recharts-legend-wrapper",style:ye,ref:J},reactExports.createElement(LegendSettingsDispatcher,{layout:b.layout,align:b.align,verticalAlign:b.verticalAlign,itemSorter:b.itemSorter}),reactExports.createElement(LegendSizeDispatcher,{width:K.width,height:K.height}),reactExports.createElement(LegendContent,_extends$k({},b,fe,{margin:T,chartWidth:ee,chartHeight:te,contextPayload:R})));return reactDomExports.createPortal(Le,Be)}class Legend extends reactExports.PureComponent{static getWidthOrHeight(R,A,T,I){return R==="vertical"&&isNumber(A)?{height:A}:R==="horizontal"?{width:T||I}:null}render(){return reactExports.createElement(LegendWrapper,this.props)}}_defineProperty$y(Legend,"displayName","Legend");_defineProperty$y(Legend,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var T in A)({}).hasOwnProperty.call(A,T)&&(b[T]=A[T])}return b},_extends$j.apply(null,arguments)}function ownKeys$t(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$t(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$t(Object(A),!0).forEach(function(T){_defineProperty$x(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$t(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$x(b,R,A){return(R=_toPropertyKey$x(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$x(b){var R=_toPrimitive$x(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$x(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}function defaultFormatter(b){return Array.isArray(b)&&isNumOrStr(b[0])&&isNumOrStr(b[1])?b.join(" ~ "):b}var DefaultTooltipContent=b=>{var{separator:R=" : ",contentStyle:A={},itemStyle:T={},labelStyle:I={},payload:B,formatter:U,itemSorter:q,wrapperClassName:K,labelClassName:J,label:ee,labelFormatter:te,accessibilityLayer:xe=!1}=b,fe=()=>{if(B&&B.length){var He={padding:0,margin:0},Qe=(q?sortBy(B,q):B).map((st,ct)=>{if(st.type==="none")return null;var gt=st.formatter||U||defaultFormatter,{value:Nt,name:Ot}=st,Tt=Nt,ir=Ot;if(gt){var At=gt(Nt,Ot,st,ct,B);if(Array.isArray(At))[Tt,ir]=At;else if(At!=null)Tt=At;else return null}var It=_objectSpread$t({display:"block",paddingTop:4,paddingBottom:4,color:st.color||"#000"},T);return reactExports.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ct),style:It},isNumOrStr(ir)?reactExports.createElement("span",{className:"recharts-tooltip-item-name"},ir):null,isNumOrStr(ir)?reactExports.createElement("span",{className:"recharts-tooltip-item-separator"},R):null,reactExports.createElement("span",{className:"recharts-tooltip-item-value"},Tt),reactExports.createElement("span",{className:"recharts-tooltip-item-unit"},st.unit||""))});return reactExports.createElement("ul",{className:"recharts-tooltip-item-list",style:He},Qe)}return null},ye=_objectSpread$t({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},A),Be=_objectSpread$t({margin:0},I),Le=!isNullish(ee),qe=Le?ee:"",Ge=clsx("recharts-default-tooltip",K),$e=clsx("recharts-tooltip-label",J);Le&&te&&B!==void 0&&B!==null&&(qe=te(ee,B));var Xe=xe?{role:"status","aria-live":"assertive"}:{};return reactExports.createElement("div",_extends$j({className:Ge,style:ye},Xe),reactExports.createElement("p",{className:$e,style:Be},reactExports.isValidElement(qe)?qe:"".concat(qe)),fe())},CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(b){var{coordinate:R,translateX:A,translateY:T}=b;return clsx(CSS_CLASS_PREFIX,{["".concat(CSS_CLASS_PREFIX,"-right")]:isNumber(A)&&R&&isNumber(R.x)&&A>=R.x,["".concat(CSS_CLASS_PREFIX,"-left")]:isNumber(A)&&R&&isNumber(R.x)&&A<R.x,["".concat(CSS_CLASS_PREFIX,"-bottom")]:isNumber(T)&&R&&isNumber(R.y)&&T>=R.y,["".concat(CSS_CLASS_PREFIX,"-top")]:isNumber(T)&&R&&isNumber(R.y)&&T<R.y})}function getTooltipTranslateXY(b){var{allowEscapeViewBox:R,coordinate:A,key:T,offsetTopLeft:I,position:B,reverseDirection:U,tooltipDimension:q,viewBox:K,viewBoxDimension:J}=b;if(B&&isNumber(B[T]))return B[T];var ee=A[T]-q-(I>0?I:0),te=A[T]+I;if(R[T])return U[T]?ee:te;var xe=K[T];if(xe==null)return 0;if(U[T]){var fe=ee,ye=xe;return fe<ye?Math.max(te,xe):Math.max(ee,xe)}if(J==null)return 0;var Be=te+q,Le=xe+J;return Be>Le?Math.max(ee,xe):Math.max(te,xe)}function getTransformStyle(b){var{translateX:R,translateY:A,useTranslate3d:T}=b;return{transform:T?"translate3d(".concat(R,"px, ").concat(A,"px, 0)"):"translate(".concat(R,"px, ").concat(A,"px)")}}function getTooltipTranslate(b){var{allowEscapeViewBox:R,coordinate:A,offsetTopLeft:T,position:I,reverseDirection:B,tooltipBox:U,useTranslate3d:q,viewBox:K}=b,J,ee,te;return U.height>0&&U.width>0&&A?(ee=getTooltipTranslateXY({allowEscapeViewBox:R,coordinate:A,key:"x",offsetTopLeft:T,position:I,reverseDirection:B,tooltipDimension:U.width,viewBox:K,viewBoxDimension:K.width}),te=getTooltipTranslateXY({allowEscapeViewBox:R,coordinate:A,key:"y",offsetTopLeft:T,position:I,reverseDirection:B,tooltipDimension:U.height,viewBox:K,viewBoxDimension:K.height}),J=getTransformStyle({translateX:ee,translateY:te,useTranslate3d:q})):J=TOOLTIP_HIDDEN,{cssProperties:J,cssClasses:getTooltipCSSClassName({translateX:ee,translateY:te,coordinate:A})}}function ownKeys$s(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$s(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$s(Object(A),!0).forEach(function(T){_defineProperty$w(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$s(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$w(b,R,A){return(R=_toPropertyKey$w(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$w(b){var R=_toPrimitive$w(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$w(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}class TooltipBoundingBox extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty$w(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_defineProperty$w(this,"handleKeyDown",R=>{if(R.key==="Escape"){var A,T,I,B;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(A=(T=this.props.coordinate)===null||T===void 0?void 0:T.x)!==null&&A!==void 0?A:0,y:(I=(B=this.props.coordinate)===null||B===void 0?void 0:B.y)!==null&&I!==void 0?I:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var R,A;this.state.dismissed&&(((R=this.props.coordinate)===null||R===void 0?void 0:R.x)!==this.state.dismissedAtCoordinate.x||((A=this.props.coordinate)===null||A===void 0?void 0:A.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:R,allowEscapeViewBox:A,animationDuration:T,animationEasing:I,children:B,coordinate:U,hasPayload:q,isAnimationActive:K,offset:J,position:ee,reverseDirection:te,useTranslate3d:xe,viewBox:fe,wrapperStyle:ye,lastBoundingBox:Be,innerRef:Le,hasPortalFromProps:qe}=this.props,{cssClasses:Ge,cssProperties:$e}=getTooltipTranslate({allowEscapeViewBox:A,coordinate:U,offsetTopLeft:J,position:ee,reverseDirection:te,tooltipBox:{height:Be.height,width:Be.width},useTranslate3d:xe,viewBox:fe}),Xe=qe?{}:_objectSpread$s(_objectSpread$s({transition:K&&R?"transform ".concat(T,"ms ").concat(I):void 0},$e),{},{pointerEvents:"none",visibility:!this.state.dismissed&&R&&q?"visible":"hidden",position:"absolute",top:0,left:0}),He=_objectSpread$s(_objectSpread$s({},Xe),{},{visibility:!this.state.dismissed&&R&&q?"visible":"hidden"},ye);return reactExports.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:Ge,style:He,ref:Le},B)}}var parseIsSsrByDefault=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Global={isSsr:parseIsSsrByDefault()},useAccessibilityLayer=()=>useAppSelector(b=>b.rootProps.accessibilityLayer);function isWellBehavedNumber(b){return Number.isFinite(b)}function isPositiveNumber(b){return typeof b=="number"&&b>0&&Number.isFinite(b)}function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var T in A)({}).hasOwnProperty.call(A,T)&&(b[T]=A[T])}return b},_extends$i.apply(null,arguments)}function ownKeys$r(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$r(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$r(Object(A),!0).forEach(function(T){_defineProperty$v(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$r(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$v(b,R,A){return(R=_toPropertyKey$v(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$v(b){var R=_toPrimitive$v(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$v(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=b=>isWellBehavedNumber(b.x)&&isWellBehavedNumber(b.y),getX=b=>b.x,getY=b=>b.y,getCurveFactory=(b,R)=>{if(typeof b=="function")return b;var A="curve".concat(upperFirst(b));return(A==="curveMonotone"||A==="curveBump")&&R?CURVE_FACTORIES["".concat(A).concat(R==="vertical"?"Y":"X")]:CURVE_FACTORIES[A]||curveLinear},getPath$1=b=>{var{type:R="linear",points:A=[],baseLine:T,layout:I,connectNulls:B=!1}=b,U=getCurveFactory(R,I),q=B?A.filter(defined):A,K;if(Array.isArray(T)){var J=B?T.filter(te=>defined(te)):T,ee=q.map((te,xe)=>_objectSpread$r(_objectSpread$r({},te),{},{base:J[xe]}));return I==="vertical"?K=shapeArea().y(getY).x1(getX).x0(te=>te.base.x):K=shapeArea().x(getX).y1(getY).y0(te=>te.base.y),K.defined(defined).curve(U),K(ee)}return I==="vertical"&&isNumber(T)?K=shapeArea().y(getY).x1(getX).x0(T):isNumber(T)?K=shapeArea().x(getX).y1(getY).y0(T):K=shapeLine().x(getX).y(getY),K.defined(defined).curve(U),K(q)},Curve=b=>{var{className:R,points:A,path:T,pathRef:I}=b;if((!A||!A.length)&&!T)return null;var B=A&&A.length?getPath$1(b):T;return reactExports.createElement("path",_extends$i({},svgPropertiesNoEvents(b),adaptEventHandlers(b),{className:clsx("recharts-curve",R),d:B===null?void 0:B,ref:I}))},_excluded$g=["x","y","top","left","width","height","className"];function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var T in A)({}).hasOwnProperty.call(A,T)&&(b[T]=A[T])}return b},_extends$h.apply(null,arguments)}function ownKeys$q(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$q(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$q(Object(A),!0).forEach(function(T){_defineProperty$u(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$q(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$u(b,R,A){return(R=_toPropertyKey$u(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$u(b){var R=_toPrimitive$u(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$u(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}function _objectWithoutProperties$g(b,R){if(b==null)return{};var A,T,I=_objectWithoutPropertiesLoose$g(b,R);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(b);for(T=0;T<B.length;T++)A=B[T],R.indexOf(A)===-1&&{}.propertyIsEnumerable.call(b,A)&&(I[A]=b[A])}return I}function _objectWithoutPropertiesLoose$g(b,R){if(b==null)return{};var A={};for(var T in b)if({}.hasOwnProperty.call(b,T)){if(R.indexOf(T)!==-1)continue;A[T]=b[T]}return A}var getPath=(b,R,A,T,I,B)=>"M".concat(b,",").concat(I,"v").concat(T,"M").concat(B,",").concat(R,"h").concat(A),Cross=b=>{var{x:R=0,y:A=0,top:T=0,left:I=0,width:B=0,height:U=0,className:q}=b,K=_objectWithoutProperties$g(b,_excluded$g),J=_objectSpread$q({x:R,y:A,top:T,left:I,width:B,height:U},K);return!isNumber(R)||!isNumber(A)||!isNumber(B)||!isNumber(U)||!isNumber(T)||!isNumber(I)?null:reactExports.createElement("path",_extends$h({},filterProps(J,!0),{className:clsx("recharts-cross",q),d:getPath(R,A,B,U,T,I)}))};function getCursorRectangle(b,R,A,T){var I=T/2;return{stroke:"none",fill:"#ccc",x:b==="horizontal"?R.x-I:A.left+.5,y:b==="horizontal"?A.top+.5:R.y-I,width:b==="horizontal"?T:A.width-1,height:b==="horizontal"?A.height-1:T}}function ownKeys$p(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$p(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$p(Object(A),!0).forEach(function(T){_defineProperty$t(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$p(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$t(b,R,A){return(R=_toPropertyKey$t(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$t(b){var R=_toPrimitive$t(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$t(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}function resolveDefaultProps(b,R){var A=_objectSpread$p({},b),T=R,I=Object.keys(R),B=I.reduce((U,q)=>(U[q]===void 0&&T[q]!==void 0&&(U[q]=T[q]),U),A);return B}function noop$2(){}function ownKeys$o(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$o(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$o(Object(A),!0).forEach(function(T){_defineProperty$s(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$o(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$s(b,R,A){return(R=_toPropertyKey$s(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$s(b){var R=_toPrimitive$s(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$s(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}var getDashCase=b=>b.replace(/([A-Z])/g,R=>"-".concat(R.toLowerCase())),getTransitionVal=(b,R,A)=>b.map(T=>"".concat(getDashCase(T)," ").concat(R,"ms ").concat(A)).join(","),getIntersectionKeys=(b,R)=>[Object.keys(b),Object.keys(R)].reduce((A,T)=>A.filter(I=>T.includes(I))),mapObject=(b,R)=>Object.keys(R).reduce((A,T)=>_objectSpread$o(_objectSpread$o({},A),{},{[T]:b(T,R[T])}),{});function ownKeys$n(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$n(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$n(Object(A),!0).forEach(function(T){_defineProperty$r(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$n(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$r(b,R,A){return(R=_toPropertyKey$r(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$r(b){var R=_toPrimitive$r(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$r(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}var alpha=(b,R,A)=>b+(R-b)*A,needContinue=b=>{var{from:R,to:A}=b;return R!==A},calStepperVals=(b,R,A)=>{var T=mapObject((I,B)=>{if(needContinue(B)){var[U,q]=b(B.from,B.to,B.velocity);return _objectSpread$n(_objectSpread$n({},B),{},{from:U,velocity:q})}return B},R);return A<1?mapObject((I,B)=>needContinue(B)?_objectSpread$n(_objectSpread$n({},B),{},{velocity:alpha(B.velocity,T[I].velocity,A),from:alpha(B.from,T[I].from,A)}):B,R):calStepperVals(b,T,A-1)};function createStepperUpdate(b,R,A,T,I,B){var U,q=T.reduce((xe,fe)=>_objectSpread$n(_objectSpread$n({},xe),{},{[fe]:{from:b[fe],velocity:0,to:R[fe]}}),{}),K=()=>mapObject((xe,fe)=>fe.from,q),J=()=>!Object.values(q).filter(needContinue).length,ee=null,te=xe=>{U||(U=xe);var fe=xe-U,ye=fe/A.dt;q=calStepperVals(A,q,ye),I(_objectSpread$n(_objectSpread$n(_objectSpread$n({},b),R),K())),U=xe,J()||(ee=B.setTimeout(te))};return()=>(ee=B.setTimeout(te),()=>{ee()})}function createTimingUpdate(b,R,A,T,I,B,U){var q=null,K=I.reduce((te,xe)=>_objectSpread$n(_objectSpread$n({},te),{},{[xe]:[b[xe],R[xe]]}),{}),J,ee=te=>{J||(J=te);var xe=(te-J)/T,fe=mapObject((Be,Le)=>alpha(...Le,A(xe)),K);if(B(_objectSpread$n(_objectSpread$n(_objectSpread$n({},b),R),fe)),xe<1)q=U.setTimeout(ee);else{var ye=mapObject((Be,Le)=>alpha(...Le,A(1)),K);B(_objectSpread$n(_objectSpread$n(_objectSpread$n({},b),R),ye))}};return()=>(q=U.setTimeout(ee),()=>{q()})}const configUpdate=(b,R,A,T,I,B)=>{var U=getIntersectionKeys(b,R);return A.isStepper===!0?createStepperUpdate(b,R,A,U,I,B):createTimingUpdate(b,R,A,T,U,I,B)};var ACCURACY=1e-4,cubicBezierFactor=(b,R)=>[0,3*b,3*R-6*b,3*b-3*R+1],evaluatePolynomial=(b,R)=>b.map((A,T)=>A*R**T).reduce((A,T)=>A+T),cubicBezier=(b,R)=>A=>{var T=cubicBezierFactor(b,R);return evaluatePolynomial(T,A)},derivativeCubicBezier=(b,R)=>A=>{var T=cubicBezierFactor(b,R),I=[...T.map((B,U)=>B*U).slice(1),0];return evaluatePolynomial(I,A)},configBezier=function b(){for(var R,A,T,I,B=arguments.length,U=new Array(B),q=0;q<B;q++)U[q]=arguments[q];if(U.length===1)switch(U[0]){case"linear":[R,T,A,I]=[0,0,1,1];break;case"ease":[R,T,A,I]=[.25,.1,.25,1];break;case"ease-in":[R,T,A,I]=[.42,0,1,1];break;case"ease-out":[R,T,A,I]=[.42,0,.58,1];break;case"ease-in-out":[R,T,A,I]=[0,0,.58,1];break;default:{var K=U[0].split("(");K[0]==="cubic-bezier"&&K[1].split(")")[0].split(",").length===4&&([R,T,A,I]=K[1].split(")")[0].split(",").map(ye=>parseFloat(ye)))}}else U.length===4&&([R,T,A,I]=U);var J=cubicBezier(R,A),ee=cubicBezier(T,I),te=derivativeCubicBezier(R,A),xe=ye=>ye>1?1:ye<0?0:ye,fe=ye=>{for(var Be=ye>1?1:ye,Le=Be,qe=0;qe<8;++qe){var Ge=J(Le)-Be,$e=te(Le);if(Math.abs(Ge-Be)<ACCURACY||$e<ACCURACY)return ee(Le);Le=xe(Le-Ge/$e)}return ee(Le)};return fe.isStepper=!1,fe},configSpring=function b(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:A=100,damping:T=8,dt:I=17}=R,B=(U,q,K)=>{var J=-(U-q)*A,ee=K*T,te=K+(J-ee)*I/1e3,xe=K*I/1e3+U;return Math.abs(xe-q)<ACCURACY&&Math.abs(te)<ACCURACY?[q,0]:[xe,te]};return B.isStepper=!0,B.dt=I,B},configEasing=b=>{if(typeof b=="string")switch(b){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(b);case"spring":return configSpring();default:if(b.split("(")[0]==="cubic-bezier")return configBezier(b)}return typeof b=="function"?b:null};function createAnimateManager(b){var R,A=()=>null,T=!1,I=null,B=U=>{if(!T){if(Array.isArray(U)){if(!U.length)return;var q=U,[K,...J]=q;if(typeof K=="number"){I=b.setTimeout(B.bind(null,J),K);return}B(K),I=b.setTimeout(B.bind(null,J));return}typeof U=="string"&&(R=U,A(R)),typeof U=="object"&&(R=U,A(R)),typeof U=="function"&&U()}};return{stop:()=>{T=!0},start:U=>{T=!1,I&&(I(),I=null),B(U)},subscribe:U=>(A=U,()=>{A=()=>null}),getTimeoutController:()=>b}}class RequestAnimationFrameTimeoutController{setTimeout(R){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=performance.now(),I=null,B=U=>{U-T>=A?R(U):typeof requestAnimationFrame=="function"&&(I=requestAnimationFrame(B))};return I=requestAnimationFrame(B),()=>{cancelAnimationFrame(I)}}}function createDefaultAnimationManager(){return createAnimateManager(new RequestAnimationFrameTimeoutController)}var AnimationManagerContext=reactExports.createContext(createDefaultAnimationManager);function useAnimationManager(b,R){var A=reactExports.useContext(AnimationManagerContext);return reactExports.useMemo(()=>R??A(b),[b,R,A])}var defaultJavascriptAnimateProps={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},from={t:0},to={t:1};function JavascriptAnimate(b){var R=resolveDefaultProps(b,defaultJavascriptAnimateProps),{isActive:A,canBegin:T,duration:I,easing:B,begin:U,onAnimationEnd:q,onAnimationStart:K,children:J}=R,ee=useAnimationManager(R.animationId,R.animationManager),[te,xe]=reactExports.useState(A?from:to),fe=reactExports.useRef(null);return reactExports.useEffect(()=>{A||xe(to)},[A]),reactExports.useEffect(()=>{if(!A||!T)return noop$2;var ye=configUpdate(from,to,configEasing(B),I,xe,ee.getTimeoutController()),Be=()=>{fe.current=ye()};return ee.start([K,U,Be,I,q]),()=>{ee.stop(),fe.current&&fe.current(),q()}},[A,T,I,B,U,K,q,ee]),J(te.t)}function useAnimationId(b){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",A=reactExports.useRef(uniqueId(R)),T=reactExports.useRef(b);return T.current!==b&&(A.current=uniqueId(R),T.current=b),A.current}function ownKeys$m(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$m(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$m(Object(A),!0).forEach(function(T){_defineProperty$q(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$m(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$q(b,R,A){return(R=_toPropertyKey$q(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$q(b){var R=_toPrimitive$q(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$q(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var T in A)({}).hasOwnProperty.call(A,T)&&(b[T]=A[T])}return b},_extends$g.apply(null,arguments)}var getRectanglePath=(b,R,A,T,I)=>{var B=Math.min(Math.abs(A)/2,Math.abs(T)/2),U=T>=0?1:-1,q=A>=0?1:-1,K=T>=0&&A>=0||T<0&&A<0?1:0,J;if(B>0&&I instanceof Array){for(var ee=[0,0,0,0],te=0,xe=4;te<xe;te++)ee[te]=I[te]>B?B:I[te];J="M".concat(b,",").concat(R+U*ee[0]),ee[0]>0&&(J+="A ".concat(ee[0],",").concat(ee[0],",0,0,").concat(K,",").concat(b+q*ee[0],",").concat(R)),J+="L ".concat(b+A-q*ee[1],",").concat(R),ee[1]>0&&(J+="A ".concat(ee[1],",").concat(ee[1],",0,0,").concat(K,`,
        `).concat(b+A,",").concat(R+U*ee[1])),J+="L ".concat(b+A,",").concat(R+T-U*ee[2]),ee[2]>0&&(J+="A ".concat(ee[2],",").concat(ee[2],",0,0,").concat(K,`,
        `).concat(b+A-q*ee[2],",").concat(R+T)),J+="L ".concat(b+q*ee[3],",").concat(R+T),ee[3]>0&&(J+="A ".concat(ee[3],",").concat(ee[3],",0,0,").concat(K,`,
        `).concat(b,",").concat(R+T-U*ee[3])),J+="Z"}else if(B>0&&I===+I&&I>0){var fe=Math.min(B,I);J="M ".concat(b,",").concat(R+U*fe,`
            A `).concat(fe,",").concat(fe,",0,0,").concat(K,",").concat(b+q*fe,",").concat(R,`
            L `).concat(b+A-q*fe,",").concat(R,`
            A `).concat(fe,",").concat(fe,",0,0,").concat(K,",").concat(b+A,",").concat(R+U*fe,`
            L `).concat(b+A,",").concat(R+T-U*fe,`
            A `).concat(fe,",").concat(fe,",0,0,").concat(K,",").concat(b+A-q*fe,",").concat(R+T,`
            L `).concat(b+q*fe,",").concat(R+T,`
            A `).concat(fe,",").concat(fe,",0,0,").concat(K,",").concat(b,",").concat(R+T-U*fe," Z")}else J="M ".concat(b,",").concat(R," h ").concat(A," v ").concat(T," h ").concat(-A," Z");return J},defaultProps$4={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=b=>{var R=resolveDefaultProps(b,defaultProps$4),A=reactExports.useRef(null),[T,I]=reactExports.useState(-1);reactExports.useEffect(()=>{if(A.current&&A.current.getTotalLength)try{var At=A.current.getTotalLength();At&&I(At)}catch{}},[]);var{x:B,y:U,width:q,height:K,radius:J,className:ee}=R,{animationEasing:te,animationDuration:xe,animationBegin:fe,isAnimationActive:ye,isUpdateAnimationActive:Be}=R,Le=reactExports.useRef(q),qe=reactExports.useRef(K),Ge=reactExports.useRef(B),$e=reactExports.useRef(U),Xe=reactExports.useMemo(()=>({x:B,y:U,width:q,height:K,radius:J}),[B,U,q,K,J]),He=useAnimationId(Xe,"rectangle-");if(B!==+B||U!==+U||q!==+q||K!==+K||q===0||K===0)return null;var Qe=clsx("recharts-rectangle",ee);if(!Be)return reactExports.createElement("path",_extends$g({},filterProps(R,!0),{className:Qe,d:getRectanglePath(B,U,q,K,J)}));var st=Le.current,ct=qe.current,gt=Ge.current,Nt=$e.current,Ot="0px ".concat(T===-1?1:T,"px"),Tt="".concat(T,"px 0px"),ir=getTransitionVal(["strokeDasharray"],xe,typeof te=="string"?te:void 0);return reactExports.createElement(JavascriptAnimate,{animationId:He,key:He,canBegin:T>0,duration:xe,easing:te,isActive:Be,begin:fe},At=>{var It=interpolate$1(st,q,At),Je=interpolate$1(ct,K,At),ut=interpolate$1(gt,B,At),et=interpolate$1(Nt,U,At);A.current&&(Le.current=It,qe.current=Je,Ge.current=ut,$e.current=et);var lt;return ye?At>0?lt={transition:ir,strokeDasharray:Tt}:lt={strokeDasharray:Ot}:lt={strokeDasharray:Tt},reactExports.createElement("path",_extends$g({},filterProps(R,!0),{className:Qe,d:getRectanglePath(ut,et,It,Je,J),ref:A,style:_objectSpread$m(_objectSpread$m({},lt),R.style)}))})};function getRadialCursorPoints(b){var{cx:R,cy:A,radius:T,startAngle:I,endAngle:B}=b,U=polarToCartesian(R,A,T,I),q=polarToCartesian(R,A,T,B);return{points:[U,q],cx:R,cy:A,radius:T,startAngle:I,endAngle:B}}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var T in A)({}).hasOwnProperty.call(A,T)&&(b[T]=A[T])}return b},_extends$f.apply(null,arguments)}var getDeltaAngle$1=(b,R)=>{var A=mathSign(R-b),T=Math.min(Math.abs(R-b),359.999);return A*T},getTangentCircle=b=>{var{cx:R,cy:A,radius:T,angle:I,sign:B,isExternal:U,cornerRadius:q,cornerIsExternal:K}=b,J=q*(U?1:-1)+T,ee=Math.asin(q/J)/RADIAN,te=K?I:I+B*ee,xe=polarToCartesian(R,A,J,te),fe=polarToCartesian(R,A,T,te),ye=K?I-B*ee:I,Be=polarToCartesian(R,A,J*Math.cos(ee*RADIAN),ye);return{center:xe,circleTangency:fe,lineTangency:Be,theta:ee}},getSectorPath=b=>{var{cx:R,cy:A,innerRadius:T,outerRadius:I,startAngle:B,endAngle:U}=b,q=getDeltaAngle$1(B,U),K=B+q,J=polarToCartesian(R,A,I,B),ee=polarToCartesian(R,A,I,K),te="M ".concat(J.x,",").concat(J.y,`
    A `).concat(I,",").concat(I,`,0,
    `).concat(+(Math.abs(q)>180),",").concat(+(B>K),`,
    `).concat(ee.x,",").concat(ee.y,`
  `);if(T>0){var xe=polarToCartesian(R,A,T,B),fe=polarToCartesian(R,A,T,K);te+="L ".concat(fe.x,",").concat(fe.y,`
            A `).concat(T,",").concat(T,`,0,
            `).concat(+(Math.abs(q)>180),",").concat(+(B<=K),`,
            `).concat(xe.x,",").concat(xe.y," Z")}else te+="L ".concat(R,",").concat(A," Z");return te},getSectorWithCorner=b=>{var{cx:R,cy:A,innerRadius:T,outerRadius:I,cornerRadius:B,forceCornerRadius:U,cornerIsExternal:q,startAngle:K,endAngle:J}=b,ee=mathSign(J-K),{circleTangency:te,lineTangency:xe,theta:fe}=getTangentCircle({cx:R,cy:A,radius:I,angle:K,sign:ee,cornerRadius:B,cornerIsExternal:q}),{circleTangency:ye,lineTangency:Be,theta:Le}=getTangentCircle({cx:R,cy:A,radius:I,angle:J,sign:-ee,cornerRadius:B,cornerIsExternal:q}),qe=q?Math.abs(K-J):Math.abs(K-J)-fe-Le;if(qe<0)return U?"M ".concat(xe.x,",").concat(xe.y,`
        a`).concat(B,",").concat(B,",0,0,1,").concat(B*2,`,0
        a`).concat(B,",").concat(B,",0,0,1,").concat(-B*2,`,0
      `):getSectorPath({cx:R,cy:A,innerRadius:T,outerRadius:I,startAngle:K,endAngle:J});var Ge="M ".concat(xe.x,",").concat(xe.y,`
    A`).concat(B,",").concat(B,",0,0,").concat(+(ee<0),",").concat(te.x,",").concat(te.y,`
    A`).concat(I,",").concat(I,",0,").concat(+(qe>180),",").concat(+(ee<0),",").concat(ye.x,",").concat(ye.y,`
    A`).concat(B,",").concat(B,",0,0,").concat(+(ee<0),",").concat(Be.x,",").concat(Be.y,`
  `);if(T>0){var{circleTangency:$e,lineTangency:Xe,theta:He}=getTangentCircle({cx:R,cy:A,radius:T,angle:K,sign:ee,isExternal:!0,cornerRadius:B,cornerIsExternal:q}),{circleTangency:Qe,lineTangency:st,theta:ct}=getTangentCircle({cx:R,cy:A,radius:T,angle:J,sign:-ee,isExternal:!0,cornerRadius:B,cornerIsExternal:q}),gt=q?Math.abs(K-J):Math.abs(K-J)-He-ct;if(gt<0&&B===0)return"".concat(Ge,"L").concat(R,",").concat(A,"Z");Ge+="L".concat(st.x,",").concat(st.y,`
      A`).concat(B,",").concat(B,",0,0,").concat(+(ee<0),",").concat(Qe.x,",").concat(Qe.y,`
      A`).concat(T,",").concat(T,",0,").concat(+(gt>180),",").concat(+(ee>0),",").concat($e.x,",").concat($e.y,`
      A`).concat(B,",").concat(B,",0,0,").concat(+(ee<0),",").concat(Xe.x,",").concat(Xe.y,"Z")}else Ge+="L".concat(R,",").concat(A,"Z");return Ge},defaultProps$3={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=b=>{var R=resolveDefaultProps(b,defaultProps$3),{cx:A,cy:T,innerRadius:I,outerRadius:B,cornerRadius:U,forceCornerRadius:q,cornerIsExternal:K,startAngle:J,endAngle:ee,className:te}=R;if(B<I||J===ee)return null;var xe=clsx("recharts-sector",te),fe=B-I,ye=getPercentValue(U,fe,0,!0),Be;return ye>0&&Math.abs(J-ee)<360?Be=getSectorWithCorner({cx:A,cy:T,innerRadius:I,outerRadius:B,cornerRadius:Math.min(ye,fe/2),forceCornerRadius:q,cornerIsExternal:K,startAngle:J,endAngle:ee}):Be=getSectorPath({cx:A,cy:T,innerRadius:I,outerRadius:B,startAngle:J,endAngle:ee}),reactExports.createElement("path",_extends$f({},filterProps(R,!0),{className:xe,d:Be}))};function getCursorPoints(b,R,A){var T,I,B,U;if(b==="horizontal")T=R.x,B=T,I=A.top,U=A.top+A.height;else if(b==="vertical")I=R.y,U=I,T=A.left,B=A.left+A.width;else if(R.cx!=null&&R.cy!=null)if(b==="centric"){var{cx:q,cy:K,innerRadius:J,outerRadius:ee,angle:te}=R,xe=polarToCartesian(q,K,J,te),fe=polarToCartesian(q,K,ee,te);T=xe.x,I=xe.y,B=fe.x,U=fe.y}else return getRadialCursorPoints(R);return[{x:T,y:I},{x:B,y:U}]}var range$4={},toFinite={},toNumber={},hasRequiredToNumber;function requireToNumber(){return hasRequiredToNumber||(hasRequiredToNumber=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireIsSymbol();function A(T){return R.isSymbol(T)?NaN:Number(T)}b.toNumber=A})(toNumber)),toNumber}var hasRequiredToFinite;function requireToFinite(){return hasRequiredToFinite||(hasRequiredToFinite=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireToNumber();function A(T){return T?(T=R.toNumber(T),T===1/0||T===-1/0?(T<0?-1:1)*Number.MAX_VALUE:T===T?T:0):T===0?T:0}b.toFinite=A})(toFinite)),toFinite}var hasRequiredRange$1;function requireRange$1(){return hasRequiredRange$1||(hasRequiredRange$1=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireIsIterateeCall(),A=requireToFinite();function T(I,B,U){U&&typeof U!="number"&&R.isIterateeCall(I,B,U)&&(B=U=void 0),I=A.toFinite(I),B===void 0?(B=I,I=0):B=A.toFinite(B),U=U===void 0?I<B?1:-1:A.toFinite(U);const q=Math.max(Math.ceil((B-I)/(U||1)),0),K=new Array(q);for(let J=0;J<q;J++)K[J]=I,I+=U;return K}b.range=T})(range$4)),range$4}var range$3,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range$3=requireRange$1().range),range$3}var rangeExports=requireRange();const range$2=getDefaultExportFromCjs(rangeExports);function ascending(b,R){return b==null||R==null?NaN:b<R?-1:b>R?1:b>=R?0:NaN}function descending(b,R){return b==null||R==null?NaN:R<b?-1:R>b?1:R>=b?0:NaN}function bisector(b){let R,A,T;b.length!==2?(R=ascending,A=(q,K)=>ascending(b(q),K),T=(q,K)=>b(q)-K):(R=b===ascending||b===descending?b:zero$1,A=b,T=b);function I(q,K,J=0,ee=q.length){if(J<ee){if(R(K,K)!==0)return ee;do{const te=J+ee>>>1;A(q[te],K)<0?J=te+1:ee=te}while(J<ee)}return J}function B(q,K,J=0,ee=q.length){if(J<ee){if(R(K,K)!==0)return ee;do{const te=J+ee>>>1;A(q[te],K)<=0?J=te+1:ee=te}while(J<ee)}return J}function U(q,K,J=0,ee=q.length){const te=I(q,K,J,ee-1);return te>J&&T(q[te-1],K)>-T(q[te],K)?te-1:te}return{left:I,center:U,right:B}}function zero$1(){return 0}function number$2(b){return b===null?NaN:+b}function*numbers(b,R){for(let A of b)A!=null&&(A=+A)>=A&&(yield A)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor(R,A=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:A}}),R!=null)for(const[T,I]of R)this.set(T,I)}get(R){return super.get(intern_get(this,R))}has(R){return super.has(intern_get(this,R))}set(R,A){return super.set(intern_set(this,R),A)}delete(R){return super.delete(intern_delete(this,R))}}function intern_get({_intern:b,_key:R},A){const T=R(A);return b.has(T)?b.get(T):A}function intern_set({_intern:b,_key:R},A){const T=R(A);return b.has(T)?b.get(T):(b.set(T,A),A)}function intern_delete({_intern:b,_key:R},A){const T=R(A);return b.has(T)&&(A=b.get(T),b.delete(T)),A}function keyof(b){return b!==null&&typeof b=="object"?b.valueOf():b}function compareDefined(b=ascending){if(b===ascending)return ascendingDefined;if(typeof b!="function")throw new TypeError("compare is not a function");return(R,A)=>{const T=b(R,A);return T||T===0?T:(b(A,A)===0)-(b(R,R)===0)}}function ascendingDefined(b,R){return(b==null||!(b>=b))-(R==null||!(R>=R))||(b<R?-1:b>R?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(b,R,A){const T=(R-b)/Math.max(0,A),I=Math.floor(Math.log10(T)),B=T/Math.pow(10,I),U=B>=e10?10:B>=e5?5:B>=e2?2:1;let q,K,J;return I<0?(J=Math.pow(10,-I)/U,q=Math.round(b*J),K=Math.round(R*J),q/J<b&&++q,K/J>R&&--K,J=-J):(J=Math.pow(10,I)*U,q=Math.round(b/J),K=Math.round(R/J),q*J<b&&++q,K*J>R&&--K),K<q&&.5<=A&&A<2?tickSpec(b,R,A*2):[q,K,J]}function ticks(b,R,A){if(R=+R,b=+b,A=+A,!(A>0))return[];if(b===R)return[b];const T=R<b,[I,B,U]=T?tickSpec(R,b,A):tickSpec(b,R,A);if(!(B>=I))return[];const q=B-I+1,K=new Array(q);if(T)if(U<0)for(let J=0;J<q;++J)K[J]=(B-J)/-U;else for(let J=0;J<q;++J)K[J]=(B-J)*U;else if(U<0)for(let J=0;J<q;++J)K[J]=(I+J)/-U;else for(let J=0;J<q;++J)K[J]=(I+J)*U;return K}function tickIncrement(b,R,A){return R=+R,b=+b,A=+A,tickSpec(b,R,A)[2]}function tickStep(b,R,A){R=+R,b=+b,A=+A;const T=R<b,I=T?tickIncrement(R,b,A):tickIncrement(b,R,A);return(T?-1:1)*(I<0?1/-I:I)}function max(b,R){let A;for(const T of b)T!=null&&(A<T||A===void 0&&T>=T)&&(A=T);return A}function min(b,R){let A;for(const T of b)T!=null&&(A>T||A===void 0&&T>=T)&&(A=T);return A}function quickselect(b,R,A=0,T=1/0,I){if(R=Math.floor(R),A=Math.floor(Math.max(0,A)),T=Math.floor(Math.min(b.length-1,T)),!(A<=R&&R<=T))return b;for(I=I===void 0?ascendingDefined:compareDefined(I);T>A;){if(T-A>600){const K=T-A+1,J=R-A+1,ee=Math.log(K),te=.5*Math.exp(2*ee/3),xe=.5*Math.sqrt(ee*te*(K-te)/K)*(J-K/2<0?-1:1),fe=Math.max(A,Math.floor(R-J*te/K+xe)),ye=Math.min(T,Math.floor(R+(K-J)*te/K+xe));quickselect(b,R,fe,ye,I)}const B=b[R];let U=A,q=T;for(swap(b,A,R),I(b[T],B)>0&&swap(b,A,T);U<q;){for(swap(b,U,q),++U,--q;I(b[U],B)<0;)++U;for(;I(b[q],B)>0;)--q}I(b[A],B)===0?swap(b,A,q):(++q,swap(b,q,T)),q<=R&&(A=q+1),R<=q&&(T=q-1)}return b}function swap(b,R,A){const T=b[R];b[R]=b[A],b[A]=T}function quantile$1(b,R,A){if(b=Float64Array.from(numbers(b)),!(!(T=b.length)||isNaN(R=+R))){if(R<=0||T<2)return min(b);if(R>=1)return max(b);var T,I=(T-1)*R,B=Math.floor(I),U=max(quickselect(b,B).subarray(0,B+1)),q=min(b.subarray(B+1));return U+(q-U)*(I-B)}}function quantileSorted(b,R,A=number$2){if(!(!(T=b.length)||isNaN(R=+R))){if(R<=0||T<2)return+A(b[0],0,b);if(R>=1)return+A(b[T-1],T-1,b);var T,I=(T-1)*R,B=Math.floor(I),U=+A(b[B],B,b),q=+A(b[B+1],B+1,b);return U+(q-U)*(I-B)}}function range$1(b,R,A){b=+b,R=+R,A=(I=arguments.length)<2?(R=b,b=0,1):I<3?1:+A;for(var T=-1,I=Math.max(0,Math.ceil((R-b)/A))|0,B=new Array(I);++T<I;)B[T]=b+T*A;return B}function initRange(b,R){switch(arguments.length){case 0:break;case 1:this.range(b);break;default:this.range(R).domain(b);break}return this}function initInterpolator(b,R){switch(arguments.length){case 0:break;case 1:{typeof b=="function"?this.interpolator(b):this.range(b);break}default:{this.domain(b),typeof R=="function"?this.interpolator(R):this.range(R);break}}return this}const implicit=Symbol("implicit");function ordinal(){var b=new InternMap,R=[],A=[],T=implicit;function I(B){let U=b.get(B);if(U===void 0){if(T!==implicit)return T;b.set(B,U=R.push(B)-1)}return A[U%A.length]}return I.domain=function(B){if(!arguments.length)return R.slice();R=[],b=new InternMap;for(const U of B)b.has(U)||b.set(U,R.push(U)-1);return I},I.range=function(B){return arguments.length?(A=Array.from(B),I):A.slice()},I.unknown=function(B){return arguments.length?(T=B,I):T},I.copy=function(){return ordinal(R,A).unknown(T)},initRange.apply(I,arguments),I}function band(){var b=ordinal().unknown(void 0),R=b.domain,A=b.range,T=0,I=1,B,U,q=!1,K=0,J=0,ee=.5;delete b.unknown;function te(){var xe=R().length,fe=I<T,ye=fe?I:T,Be=fe?T:I;B=(Be-ye)/Math.max(1,xe-K+J*2),q&&(B=Math.floor(B)),ye+=(Be-ye-B*(xe-K))*ee,U=B*(1-K),q&&(ye=Math.round(ye),U=Math.round(U));var Le=range$1(xe).map(function(qe){return ye+B*qe});return A(fe?Le.reverse():Le)}return b.domain=function(xe){return arguments.length?(R(xe),te()):R()},b.range=function(xe){return arguments.length?([T,I]=xe,T=+T,I=+I,te()):[T,I]},b.rangeRound=function(xe){return[T,I]=xe,T=+T,I=+I,q=!0,te()},b.bandwidth=function(){return U},b.step=function(){return B},b.round=function(xe){return arguments.length?(q=!!xe,te()):q},b.padding=function(xe){return arguments.length?(K=Math.min(1,J=+xe),te()):K},b.paddingInner=function(xe){return arguments.length?(K=Math.min(1,xe),te()):K},b.paddingOuter=function(xe){return arguments.length?(J=+xe,te()):J},b.align=function(xe){return arguments.length?(ee=Math.max(0,Math.min(1,xe)),te()):ee},b.copy=function(){return band(R(),[T,I]).round(q).paddingInner(K).paddingOuter(J).align(ee)},initRange.apply(te(),arguments)}function pointish(b){var R=b.copy;return b.padding=b.paddingOuter,delete b.paddingInner,delete b.paddingOuter,b.copy=function(){return pointish(R())},b}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(b,R,A){b.prototype=R.prototype=A,A.constructor=b}function extend(b,R){var A=Object.create(b.prototype);for(var T in R)A[T]=R[T];return A}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(b){return Object.assign(new this.constructor,this,b)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(b){var R,A;return b=(b+"").trim().toLowerCase(),(R=reHex.exec(b))?(A=R[1].length,R=parseInt(R[1],16),A===6?rgbn(R):A===3?new Rgb(R>>8&15|R>>4&240,R>>4&15|R&240,(R&15)<<4|R&15,1):A===8?rgba(R>>24&255,R>>16&255,R>>8&255,(R&255)/255):A===4?rgba(R>>12&15|R>>8&240,R>>8&15|R>>4&240,R>>4&15|R&240,((R&15)<<4|R&15)/255):null):(R=reRgbInteger.exec(b))?new Rgb(R[1],R[2],R[3],1):(R=reRgbPercent.exec(b))?new Rgb(R[1]*255/100,R[2]*255/100,R[3]*255/100,1):(R=reRgbaInteger.exec(b))?rgba(R[1],R[2],R[3],R[4]):(R=reRgbaPercent.exec(b))?rgba(R[1]*255/100,R[2]*255/100,R[3]*255/100,R[4]):(R=reHslPercent.exec(b))?hsla(R[1],R[2]/100,R[3]/100,1):(R=reHslaPercent.exec(b))?hsla(R[1],R[2]/100,R[3]/100,R[4]):named.hasOwnProperty(b)?rgbn(named[b]):b==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(b){return new Rgb(b>>16&255,b>>8&255,b&255,1)}function rgba(b,R,A,T){return T<=0&&(b=R=A=NaN),new Rgb(b,R,A,T)}function rgbConvert(b){return b instanceof Color||(b=color(b)),b?(b=b.rgb(),new Rgb(b.r,b.g,b.b,b.opacity)):new Rgb}function rgb$1(b,R,A,T){return arguments.length===1?rgbConvert(b):new Rgb(b,R,A,T??1)}function Rgb(b,R,A,T){this.r=+b,this.g=+R,this.b=+A,this.opacity=+T}define(Rgb,rgb$1,extend(Color,{brighter(b){return b=b==null?brighter:Math.pow(brighter,b),new Rgb(this.r*b,this.g*b,this.b*b,this.opacity)},darker(b){return b=b==null?darker:Math.pow(darker,b),new Rgb(this.r*b,this.g*b,this.b*b,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const b=clampa(this.opacity);return`${b===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${b===1?")":`, ${b})`}`}function clampa(b){return isNaN(b)?1:Math.max(0,Math.min(1,b))}function clampi(b){return Math.max(0,Math.min(255,Math.round(b)||0))}function hex(b){return b=clampi(b),(b<16?"0":"")+b.toString(16)}function hsla(b,R,A,T){return T<=0?b=R=A=NaN:A<=0||A>=1?b=R=NaN:R<=0&&(b=NaN),new Hsl(b,R,A,T)}function hslConvert(b){if(b instanceof Hsl)return new Hsl(b.h,b.s,b.l,b.opacity);if(b instanceof Color||(b=color(b)),!b)return new Hsl;if(b instanceof Hsl)return b;b=b.rgb();var R=b.r/255,A=b.g/255,T=b.b/255,I=Math.min(R,A,T),B=Math.max(R,A,T),U=NaN,q=B-I,K=(B+I)/2;return q?(R===B?U=(A-T)/q+(A<T)*6:A===B?U=(T-R)/q+2:U=(R-A)/q+4,q/=K<.5?B+I:2-B-I,U*=60):q=K>0&&K<1?0:U,new Hsl(U,q,K,b.opacity)}function hsl(b,R,A,T){return arguments.length===1?hslConvert(b):new Hsl(b,R,A,T??1)}function Hsl(b,R,A,T){this.h=+b,this.s=+R,this.l=+A,this.opacity=+T}define(Hsl,hsl,extend(Color,{brighter(b){return b=b==null?brighter:Math.pow(brighter,b),new Hsl(this.h,this.s,this.l*b,this.opacity)},darker(b){return b=b==null?darker:Math.pow(darker,b),new Hsl(this.h,this.s,this.l*b,this.opacity)},rgb(){var b=this.h%360+(this.h<0)*360,R=isNaN(b)||isNaN(this.s)?0:this.s,A=this.l,T=A+(A<.5?A:1-A)*R,I=2*A-T;return new Rgb(hsl2rgb(b>=240?b-240:b+120,I,T),hsl2rgb(b,I,T),hsl2rgb(b<120?b+240:b-120,I,T),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const b=clampa(this.opacity);return`${b===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${b===1?")":`, ${b})`}`}}));function clamph(b){return b=(b||0)%360,b<0?b+360:b}function clampt(b){return Math.max(0,Math.min(1,b||0))}function hsl2rgb(b,R,A){return(b<60?R+(A-R)*b/60:b<180?A:b<240?R+(A-R)*(240-b)/60:R)*255}const constant=b=>()=>b;function linear$1(b,R){return function(A){return b+A*R}}function exponential(b,R,A){return b=Math.pow(b,A),R=Math.pow(R,A)-b,A=1/A,function(T){return Math.pow(b+T*R,A)}}function gamma(b){return(b=+b)==1?nogamma:function(R,A){return A-R?exponential(R,A,b):constant(isNaN(R)?A:R)}}function nogamma(b,R){var A=R-b;return A?linear$1(b,A):constant(isNaN(b)?R:b)}const rgb=(function b(R){var A=gamma(R);function T(I,B){var U=A((I=rgb$1(I)).r,(B=rgb$1(B)).r),q=A(I.g,B.g),K=A(I.b,B.b),J=nogamma(I.opacity,B.opacity);return function(ee){return I.r=U(ee),I.g=q(ee),I.b=K(ee),I.opacity=J(ee),I+""}}return T.gamma=b,T})(1);function numberArray(b,R){R||(R=[]);var A=b?Math.min(R.length,b.length):0,T=R.slice(),I;return function(B){for(I=0;I<A;++I)T[I]=b[I]*(1-B)+R[I]*B;return T}}function isNumberArray(b){return ArrayBuffer.isView(b)&&!(b instanceof DataView)}function genericArray(b,R){var A=R?R.length:0,T=b?Math.min(A,b.length):0,I=new Array(T),B=new Array(A),U;for(U=0;U<T;++U)I[U]=interpolate(b[U],R[U]);for(;U<A;++U)B[U]=R[U];return function(q){for(U=0;U<T;++U)B[U]=I[U](q);return B}}function date$1(b,R){var A=new Date;return b=+b,R=+R,function(T){return A.setTime(b*(1-T)+R*T),A}}function interpolateNumber(b,R){return b=+b,R=+R,function(A){return b*(1-A)+R*A}}function object(b,R){var A={},T={},I;(b===null||typeof b!="object")&&(b={}),(R===null||typeof R!="object")&&(R={});for(I in R)I in b?A[I]=interpolate(b[I],R[I]):T[I]=R[I];return function(B){for(I in A)T[I]=A[I](B);return T}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(b){return function(){return b}}function one(b){return function(R){return b(R)+""}}function string(b,R){var A=reA.lastIndex=reB.lastIndex=0,T,I,B,U=-1,q=[],K=[];for(b=b+"",R=R+"";(T=reA.exec(b))&&(I=reB.exec(R));)(B=I.index)>A&&(B=R.slice(A,B),q[U]?q[U]+=B:q[++U]=B),(T=T[0])===(I=I[0])?q[U]?q[U]+=I:q[++U]=I:(q[++U]=null,K.push({i:U,x:interpolateNumber(T,I)})),A=reB.lastIndex;return A<R.length&&(B=R.slice(A),q[U]?q[U]+=B:q[++U]=B),q.length<2?K[0]?one(K[0].x):zero(R):(R=K.length,function(J){for(var ee=0,te;ee<R;++ee)q[(te=K[ee]).i]=te.x(J);return q.join("")})}function interpolate(b,R){var A=typeof R,T;return R==null||A==="boolean"?constant(R):(A==="number"?interpolateNumber:A==="string"?(T=color(R))?(R=T,rgb):string:R instanceof color?rgb:R instanceof Date?date$1:isNumberArray(R)?numberArray:Array.isArray(R)?genericArray:typeof R.valueOf!="function"&&typeof R.toString!="function"||isNaN(R)?object:interpolateNumber)(b,R)}function interpolateRound(b,R){return b=+b,R=+R,function(A){return Math.round(b*(1-A)+R*A)}}function piecewise(b,R){R===void 0&&(R=b,b=interpolate);for(var A=0,T=R.length-1,I=R[0],B=new Array(T<0?0:T);A<T;)B[A]=b(I,I=R[++A]);return function(U){var q=Math.max(0,Math.min(T-1,Math.floor(U*=T)));return B[q](U-q)}}function constants(b){return function(){return b}}function number$1(b){return+b}var unit=[0,1];function identity$3(b){return b}function normalize(b,R){return(R-=b=+b)?function(A){return(A-b)/R}:constants(isNaN(R)?NaN:.5)}function clamper(b,R){var A;return b>R&&(A=b,b=R,R=A),function(T){return Math.max(b,Math.min(R,T))}}function bimap(b,R,A){var T=b[0],I=b[1],B=R[0],U=R[1];return I<T?(T=normalize(I,T),B=A(U,B)):(T=normalize(T,I),B=A(B,U)),function(q){return B(T(q))}}function polymap(b,R,A){var T=Math.min(b.length,R.length)-1,I=new Array(T),B=new Array(T),U=-1;for(b[T]<b[0]&&(b=b.slice().reverse(),R=R.slice().reverse());++U<T;)I[U]=normalize(b[U],b[U+1]),B[U]=A(R[U],R[U+1]);return function(q){var K=bisectRight(b,q,1,T)-1;return B[K](I[K](q))}}function copy$1(b,R){return R.domain(b.domain()).range(b.range()).interpolate(b.interpolate()).clamp(b.clamp()).unknown(b.unknown())}function transformer$2(){var b=unit,R=unit,A=interpolate,T,I,B,U=identity$3,q,K,J;function ee(){var xe=Math.min(b.length,R.length);return U!==identity$3&&(U=clamper(b[0],b[xe-1])),q=xe>2?polymap:bimap,K=J=null,te}function te(xe){return xe==null||isNaN(xe=+xe)?B:(K||(K=q(b.map(T),R,A)))(T(U(xe)))}return te.invert=function(xe){return U(I((J||(J=q(R,b.map(T),interpolateNumber)))(xe)))},te.domain=function(xe){return arguments.length?(b=Array.from(xe,number$1),ee()):b.slice()},te.range=function(xe){return arguments.length?(R=Array.from(xe),ee()):R.slice()},te.rangeRound=function(xe){return R=Array.from(xe),A=interpolateRound,ee()},te.clamp=function(xe){return arguments.length?(U=xe?!0:identity$3,ee()):U!==identity$3},te.interpolate=function(xe){return arguments.length?(A=xe,ee()):A},te.unknown=function(xe){return arguments.length?(B=xe,te):B},function(xe,fe){return T=xe,I=fe,ee()}}function continuous(){return transformer$2()(identity$3,identity$3)}function formatDecimal(b){return Math.abs(b=Math.round(b))>=1e21?b.toLocaleString("en").replace(/,/g,""):b.toString(10)}function formatDecimalParts(b,R){if((A=(b=R?b.toExponential(R-1):b.toExponential()).indexOf("e"))<0)return null;var A,T=b.slice(0,A);return[T.length>1?T[0]+T.slice(2):T,+b.slice(A+1)]}function exponent(b){return b=formatDecimalParts(Math.abs(b)),b?b[1]:NaN}function formatGroup(b,R){return function(A,T){for(var I=A.length,B=[],U=0,q=b[0],K=0;I>0&&q>0&&(K+q+1>T&&(q=Math.max(1,T-K)),B.push(A.substring(I-=q,I+q)),!((K+=q+1)>T));)q=b[U=(U+1)%b.length];return B.reverse().join(R)}}function formatNumerals(b){return function(R){return R.replace(/[0-9]/g,function(A){return b[+A]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(b){if(!(R=re.exec(b)))throw new Error("invalid format: "+b);var R;return new FormatSpecifier({fill:R[1],align:R[2],sign:R[3],symbol:R[4],zero:R[5],width:R[6],comma:R[7],precision:R[8]&&R[8].slice(1),trim:R[9],type:R[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(b){this.fill=b.fill===void 0?" ":b.fill+"",this.align=b.align===void 0?">":b.align+"",this.sign=b.sign===void 0?"-":b.sign+"",this.symbol=b.symbol===void 0?"":b.symbol+"",this.zero=!!b.zero,this.width=b.width===void 0?void 0:+b.width,this.comma=!!b.comma,this.precision=b.precision===void 0?void 0:+b.precision,this.trim=!!b.trim,this.type=b.type===void 0?"":b.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(b){e:for(var R=b.length,A=1,T=-1,I;A<R;++A)switch(b[A]){case".":T=I=A;break;case"0":T===0&&(T=A),I=A;break;default:if(!+b[A])break e;T>0&&(T=0);break}return T>0?b.slice(0,T)+b.slice(I+1):b}var prefixExponent;function formatPrefixAuto(b,R){var A=formatDecimalParts(b,R);if(!A)return b+"";var T=A[0],I=A[1],B=I-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(I/3)))*3)+1,U=T.length;return B===U?T:B>U?T+new Array(B-U+1).join("0"):B>0?T.slice(0,B)+"."+T.slice(B):"0."+new Array(1-B).join("0")+formatDecimalParts(b,Math.max(0,R+B-1))[0]}function formatRounded(b,R){var A=formatDecimalParts(b,R);if(!A)return b+"";var T=A[0],I=A[1];return I<0?"0."+new Array(-I).join("0")+T:T.length>I+1?T.slice(0,I+1)+"."+T.slice(I+1):T+new Array(I-T.length+2).join("0")}const formatTypes={"%":(b,R)=>(b*100).toFixed(R),b:b=>Math.round(b).toString(2),c:b=>b+"",d:formatDecimal,e:(b,R)=>b.toExponential(R),f:(b,R)=>b.toFixed(R),g:(b,R)=>b.toPrecision(R),o:b=>Math.round(b).toString(8),p:(b,R)=>formatRounded(b*100,R),r:formatRounded,s:formatPrefixAuto,X:b=>Math.round(b).toString(16).toUpperCase(),x:b=>Math.round(b).toString(16)};function identity$2(b){return b}var map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(b){var R=b.grouping===void 0||b.thousands===void 0?identity$2:formatGroup(map$1.call(b.grouping,Number),b.thousands+""),A=b.currency===void 0?"":b.currency[0]+"",T=b.currency===void 0?"":b.currency[1]+"",I=b.decimal===void 0?".":b.decimal+"",B=b.numerals===void 0?identity$2:formatNumerals(map$1.call(b.numerals,String)),U=b.percent===void 0?"%":b.percent+"",q=b.minus===void 0?"":b.minus+"",K=b.nan===void 0?"NaN":b.nan+"";function J(te){te=formatSpecifier(te);var xe=te.fill,fe=te.align,ye=te.sign,Be=te.symbol,Le=te.zero,qe=te.width,Ge=te.comma,$e=te.precision,Xe=te.trim,He=te.type;He==="n"?(Ge=!0,He="g"):formatTypes[He]||($e===void 0&&($e=12),Xe=!0,He="g"),(Le||xe==="0"&&fe==="=")&&(Le=!0,xe="0",fe="=");var Qe=Be==="$"?A:Be==="#"&&/[boxX]/.test(He)?"0"+He.toLowerCase():"",st=Be==="$"?T:/[%p]/.test(He)?U:"",ct=formatTypes[He],gt=/[defgprs%]/.test(He);$e=$e===void 0?6:/[gprs]/.test(He)?Math.max(1,Math.min(21,$e)):Math.max(0,Math.min(20,$e));function Nt(Ot){var Tt=Qe,ir=st,At,It,Je;if(He==="c")ir=ct(Ot)+ir,Ot="";else{Ot=+Ot;var ut=Ot<0||1/Ot<0;if(Ot=isNaN(Ot)?K:ct(Math.abs(Ot),$e),Xe&&(Ot=formatTrim(Ot)),ut&&+Ot==0&&ye!=="+"&&(ut=!1),Tt=(ut?ye==="("?ye:q:ye==="-"||ye==="("?"":ye)+Tt,ir=(He==="s"?prefixes[8+prefixExponent/3]:"")+ir+(ut&&ye==="("?")":""),gt){for(At=-1,It=Ot.length;++At<It;)if(Je=Ot.charCodeAt(At),48>Je||Je>57){ir=(Je===46?I+Ot.slice(At+1):Ot.slice(At))+ir,Ot=Ot.slice(0,At);break}}}Ge&&!Le&&(Ot=R(Ot,1/0));var et=Tt.length+Ot.length+ir.length,lt=et<qe?new Array(qe-et+1).join(xe):"";switch(Ge&&Le&&(Ot=R(lt+Ot,lt.length?qe-ir.length:1/0),lt=""),fe){case"<":Ot=Tt+Ot+ir+lt;break;case"=":Ot=Tt+lt+Ot+ir;break;case"^":Ot=lt.slice(0,et=lt.length>>1)+Tt+Ot+ir+lt.slice(et);break;default:Ot=lt+Tt+Ot+ir;break}return B(Ot)}return Nt.toString=function(){return te+""},Nt}function ee(te,xe){var fe=J((te=formatSpecifier(te),te.type="f",te)),ye=Math.max(-8,Math.min(8,Math.floor(exponent(xe)/3)))*3,Be=Math.pow(10,-ye),Le=prefixes[8+ye/3];return function(qe){return fe(Be*qe)+Le}}return{format:J,formatPrefix:ee}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(b){return locale$1=formatLocale$1(b),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(b){return Math.max(0,-exponent(Math.abs(b)))}function precisionPrefix(b,R){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(R)/3)))*3-exponent(Math.abs(b)))}function precisionRound(b,R){return b=Math.abs(b),R=Math.abs(R)-b,Math.max(0,exponent(R)-exponent(b))+1}function tickFormat(b,R,A,T){var I=tickStep(b,R,A),B;switch(T=formatSpecifier(T??",f"),T.type){case"s":{var U=Math.max(Math.abs(b),Math.abs(R));return T.precision==null&&!isNaN(B=precisionPrefix(I,U))&&(T.precision=B),formatPrefix(T,U)}case"":case"e":case"g":case"p":case"r":{T.precision==null&&!isNaN(B=precisionRound(I,Math.max(Math.abs(b),Math.abs(R))))&&(T.precision=B-(T.type==="e"));break}case"f":case"%":{T.precision==null&&!isNaN(B=precisionFixed(I))&&(T.precision=B-(T.type==="%")*2);break}}return format(T)}function linearish(b){var R=b.domain;return b.ticks=function(A){var T=R();return ticks(T[0],T[T.length-1],A??10)},b.tickFormat=function(A,T){var I=R();return tickFormat(I[0],I[I.length-1],A??10,T)},b.nice=function(A){A==null&&(A=10);var T=R(),I=0,B=T.length-1,U=T[I],q=T[B],K,J,ee=10;for(q<U&&(J=U,U=q,q=J,J=I,I=B,B=J);ee-- >0;){if(J=tickIncrement(U,q,A),J===K)return T[I]=U,T[B]=q,R(T);if(J>0)U=Math.floor(U/J)*J,q=Math.ceil(q/J)*J;else if(J<0)U=Math.ceil(U*J)/J,q=Math.floor(q*J)/J;else break;K=J}return b},b}function linear(){var b=continuous();return b.copy=function(){return copy$1(b,linear())},initRange.apply(b,arguments),linearish(b)}function identity$1(b){var R;function A(T){return T==null||isNaN(T=+T)?R:T}return A.invert=A,A.domain=A.range=function(T){return arguments.length?(b=Array.from(T,number$1),A):b.slice()},A.unknown=function(T){return arguments.length?(R=T,A):R},A.copy=function(){return identity$1(b).unknown(R)},b=arguments.length?Array.from(b,number$1):[0,1],linearish(A)}function nice(b,R){b=b.slice();var A=0,T=b.length-1,I=b[A],B=b[T],U;return B<I&&(U=A,A=T,T=U,U=I,I=B,B=U),b[A]=R.floor(I),b[T]=R.ceil(B),b}function transformLog(b){return Math.log(b)}function transformExp(b){return Math.exp(b)}function transformLogn(b){return-Math.log(-b)}function transformExpn(b){return-Math.exp(-b)}function pow10(b){return isFinite(b)?+("1e"+b):b<0?0:b}function powp(b){return b===10?pow10:b===Math.E?Math.exp:R=>Math.pow(b,R)}function logp(b){return b===Math.E?Math.log:b===10&&Math.log10||b===2&&Math.log2||(b=Math.log(b),R=>Math.log(R)/b)}function reflect(b){return(R,A)=>-b(-R,A)}function loggish(b){const R=b(transformLog,transformExp),A=R.domain;let T=10,I,B;function U(){return I=logp(T),B=powp(T),A()[0]<0?(I=reflect(I),B=reflect(B),b(transformLogn,transformExpn)):b(transformLog,transformExp),R}return R.base=function(q){return arguments.length?(T=+q,U()):T},R.domain=function(q){return arguments.length?(A(q),U()):A()},R.ticks=q=>{const K=A();let J=K[0],ee=K[K.length-1];const te=ee<J;te&&([J,ee]=[ee,J]);let xe=I(J),fe=I(ee),ye,Be;const Le=q==null?10:+q;let qe=[];if(!(T%1)&&fe-xe<Le){if(xe=Math.floor(xe),fe=Math.ceil(fe),J>0){for(;xe<=fe;++xe)for(ye=1;ye<T;++ye)if(Be=xe<0?ye/B(-xe):ye*B(xe),!(Be<J)){if(Be>ee)break;qe.push(Be)}}else for(;xe<=fe;++xe)for(ye=T-1;ye>=1;--ye)if(Be=xe>0?ye/B(-xe):ye*B(xe),!(Be<J)){if(Be>ee)break;qe.push(Be)}qe.length*2<Le&&(qe=ticks(J,ee,Le))}else qe=ticks(xe,fe,Math.min(fe-xe,Le)).map(B);return te?qe.reverse():qe},R.tickFormat=(q,K)=>{if(q==null&&(q=10),K==null&&(K=T===10?"s":","),typeof K!="function"&&(!(T%1)&&(K=formatSpecifier(K)).precision==null&&(K.trim=!0),K=format(K)),q===1/0)return K;const J=Math.max(1,T*q/R.ticks().length);return ee=>{let te=ee/B(Math.round(I(ee)));return te*T<T-.5&&(te*=T),te<=J?K(ee):""}},R.nice=()=>A(nice(A(),{floor:q=>B(Math.floor(I(q))),ceil:q=>B(Math.ceil(I(q)))})),R}function log(){const b=loggish(transformer$2()).domain([1,10]);return b.copy=()=>copy$1(b,log()).base(b.base()),initRange.apply(b,arguments),b}function transformSymlog(b){return function(R){return Math.sign(R)*Math.log1p(Math.abs(R/b))}}function transformSymexp(b){return function(R){return Math.sign(R)*Math.expm1(Math.abs(R))*b}}function symlogish(b){var R=1,A=b(transformSymlog(R),transformSymexp(R));return A.constant=function(T){return arguments.length?b(transformSymlog(R=+T),transformSymexp(R)):R},linearish(A)}function symlog(){var b=symlogish(transformer$2());return b.copy=function(){return copy$1(b,symlog()).constant(b.constant())},initRange.apply(b,arguments)}function transformPow(b){return function(R){return R<0?-Math.pow(-R,b):Math.pow(R,b)}}function transformSqrt(b){return b<0?-Math.sqrt(-b):Math.sqrt(b)}function transformSquare(b){return b<0?-b*b:b*b}function powish(b){var R=b(identity$3,identity$3),A=1;function T(){return A===1?b(identity$3,identity$3):A===.5?b(transformSqrt,transformSquare):b(transformPow(A),transformPow(1/A))}return R.exponent=function(I){return arguments.length?(A=+I,T()):A},linearish(R)}function pow(){var b=powish(transformer$2());return b.copy=function(){return copy$1(b,pow()).exponent(b.exponent())},initRange.apply(b,arguments),b}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(b){return Math.sign(b)*b*b}function unsquare(b){return Math.sign(b)*Math.sqrt(Math.abs(b))}function radial(){var b=continuous(),R=[0,1],A=!1,T;function I(B){var U=unsquare(b(B));return isNaN(U)?T:A?Math.round(U):U}return I.invert=function(B){return b.invert(square(B))},I.domain=function(B){return arguments.length?(b.domain(B),I):b.domain()},I.range=function(B){return arguments.length?(b.range((R=Array.from(B,number$1)).map(square)),I):R.slice()},I.rangeRound=function(B){return I.range(B).round(!0)},I.round=function(B){return arguments.length?(A=!!B,I):A},I.clamp=function(B){return arguments.length?(b.clamp(B),I):b.clamp()},I.unknown=function(B){return arguments.length?(T=B,I):T},I.copy=function(){return radial(b.domain(),R).round(A).clamp(b.clamp()).unknown(T)},initRange.apply(I,arguments),linearish(I)}function quantile(){var b=[],R=[],A=[],T;function I(){var U=0,q=Math.max(1,R.length);for(A=new Array(q-1);++U<q;)A[U-1]=quantileSorted(b,U/q);return B}function B(U){return U==null||isNaN(U=+U)?T:R[bisectRight(A,U)]}return B.invertExtent=function(U){var q=R.indexOf(U);return q<0?[NaN,NaN]:[q>0?A[q-1]:b[0],q<A.length?A[q]:b[b.length-1]]},B.domain=function(U){if(!arguments.length)return b.slice();b=[];for(let q of U)q!=null&&!isNaN(q=+q)&&b.push(q);return b.sort(ascending),I()},B.range=function(U){return arguments.length?(R=Array.from(U),I()):R.slice()},B.unknown=function(U){return arguments.length?(T=U,B):T},B.quantiles=function(){return A.slice()},B.copy=function(){return quantile().domain(b).range(R).unknown(T)},initRange.apply(B,arguments)}function quantize(){var b=0,R=1,A=1,T=[.5],I=[0,1],B;function U(K){return K!=null&&K<=K?I[bisectRight(T,K,0,A)]:B}function q(){var K=-1;for(T=new Array(A);++K<A;)T[K]=((K+1)*R-(K-A)*b)/(A+1);return U}return U.domain=function(K){return arguments.length?([b,R]=K,b=+b,R=+R,q()):[b,R]},U.range=function(K){return arguments.length?(A=(I=Array.from(K)).length-1,q()):I.slice()},U.invertExtent=function(K){var J=I.indexOf(K);return J<0?[NaN,NaN]:J<1?[b,T[0]]:J>=A?[T[A-1],R]:[T[J-1],T[J]]},U.unknown=function(K){return arguments.length&&(B=K),U},U.thresholds=function(){return T.slice()},U.copy=function(){return quantize().domain([b,R]).range(I).unknown(B)},initRange.apply(linearish(U),arguments)}function threshold(){var b=[.5],R=[0,1],A,T=1;function I(B){return B!=null&&B<=B?R[bisectRight(b,B,0,T)]:A}return I.domain=function(B){return arguments.length?(b=Array.from(B),T=Math.min(b.length,R.length-1),I):b.slice()},I.range=function(B){return arguments.length?(R=Array.from(B),T=Math.min(b.length,R.length-1),I):R.slice()},I.invertExtent=function(B){var U=R.indexOf(B);return[b[U-1],b[U]]},I.unknown=function(B){return arguments.length?(A=B,I):A},I.copy=function(){return threshold().domain(b).range(R).unknown(A)},initRange.apply(I,arguments)}const t0=new Date,t1=new Date;function timeInterval(b,R,A,T){function I(B){return b(B=arguments.length===0?new Date:new Date(+B)),B}return I.floor=B=>(b(B=new Date(+B)),B),I.ceil=B=>(b(B=new Date(B-1)),R(B,1),b(B),B),I.round=B=>{const U=I(B),q=I.ceil(B);return B-U<q-B?U:q},I.offset=(B,U)=>(R(B=new Date(+B),U==null?1:Math.floor(U)),B),I.range=(B,U,q)=>{const K=[];if(B=I.ceil(B),q=q==null?1:Math.floor(q),!(B<U)||!(q>0))return K;let J;do K.push(J=new Date(+B)),R(B,q),b(B);while(J<B&&B<U);return K},I.filter=B=>timeInterval(U=>{if(U>=U)for(;b(U),!B(U);)U.setTime(U-1)},(U,q)=>{if(U>=U)if(q<0)for(;++q<=0;)for(;R(U,-1),!B(U););else for(;--q>=0;)for(;R(U,1),!B(U););}),A&&(I.count=(B,U)=>(t0.setTime(+B),t1.setTime(+U),b(t0),b(t1),Math.floor(A(t0,t1))),I.every=B=>(B=Math.floor(B),!isFinite(B)||!(B>0)?null:B>1?I.filter(T?U=>T(U)%B===0:U=>I.count(0,U)%B===0):I)),I}const millisecond=timeInterval(()=>{},(b,R)=>{b.setTime(+b+R)},(b,R)=>R-b);millisecond.every=b=>(b=Math.floor(b),!isFinite(b)||!(b>0)?null:b>1?timeInterval(R=>{R.setTime(Math.floor(R/b)*b)},(R,A)=>{R.setTime(+R+A*b)},(R,A)=>(A-R)/b):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(b=>{b.setTime(b-b.getMilliseconds())},(b,R)=>{b.setTime(+b+R*durationSecond)},(b,R)=>(R-b)/durationSecond,b=>b.getUTCSeconds());second.range;const timeMinute=timeInterval(b=>{b.setTime(b-b.getMilliseconds()-b.getSeconds()*durationSecond)},(b,R)=>{b.setTime(+b+R*durationMinute)},(b,R)=>(R-b)/durationMinute,b=>b.getMinutes());timeMinute.range;const utcMinute=timeInterval(b=>{b.setUTCSeconds(0,0)},(b,R)=>{b.setTime(+b+R*durationMinute)},(b,R)=>(R-b)/durationMinute,b=>b.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(b=>{b.setTime(b-b.getMilliseconds()-b.getSeconds()*durationSecond-b.getMinutes()*durationMinute)},(b,R)=>{b.setTime(+b+R*durationHour)},(b,R)=>(R-b)/durationHour,b=>b.getHours());timeHour.range;const utcHour=timeInterval(b=>{b.setUTCMinutes(0,0,0)},(b,R)=>{b.setTime(+b+R*durationHour)},(b,R)=>(R-b)/durationHour,b=>b.getUTCHours());utcHour.range;const timeDay=timeInterval(b=>b.setHours(0,0,0,0),(b,R)=>b.setDate(b.getDate()+R),(b,R)=>(R-b-(R.getTimezoneOffset()-b.getTimezoneOffset())*durationMinute)/durationDay,b=>b.getDate()-1);timeDay.range;const utcDay=timeInterval(b=>{b.setUTCHours(0,0,0,0)},(b,R)=>{b.setUTCDate(b.getUTCDate()+R)},(b,R)=>(R-b)/durationDay,b=>b.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(b=>{b.setUTCHours(0,0,0,0)},(b,R)=>{b.setUTCDate(b.getUTCDate()+R)},(b,R)=>(R-b)/durationDay,b=>Math.floor(b/durationDay));unixDay.range;function timeWeekday(b){return timeInterval(R=>{R.setDate(R.getDate()-(R.getDay()+7-b)%7),R.setHours(0,0,0,0)},(R,A)=>{R.setDate(R.getDate()+A*7)},(R,A)=>(A-R-(A.getTimezoneOffset()-R.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(b){return timeInterval(R=>{R.setUTCDate(R.getUTCDate()-(R.getUTCDay()+7-b)%7),R.setUTCHours(0,0,0,0)},(R,A)=>{R.setUTCDate(R.getUTCDate()+A*7)},(R,A)=>(A-R)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(b=>{b.setDate(1),b.setHours(0,0,0,0)},(b,R)=>{b.setMonth(b.getMonth()+R)},(b,R)=>R.getMonth()-b.getMonth()+(R.getFullYear()-b.getFullYear())*12,b=>b.getMonth());timeMonth.range;const utcMonth=timeInterval(b=>{b.setUTCDate(1),b.setUTCHours(0,0,0,0)},(b,R)=>{b.setUTCMonth(b.getUTCMonth()+R)},(b,R)=>R.getUTCMonth()-b.getUTCMonth()+(R.getUTCFullYear()-b.getUTCFullYear())*12,b=>b.getUTCMonth());utcMonth.range;const timeYear=timeInterval(b=>{b.setMonth(0,1),b.setHours(0,0,0,0)},(b,R)=>{b.setFullYear(b.getFullYear()+R)},(b,R)=>R.getFullYear()-b.getFullYear(),b=>b.getFullYear());timeYear.every=b=>!isFinite(b=Math.floor(b))||!(b>0)?null:timeInterval(R=>{R.setFullYear(Math.floor(R.getFullYear()/b)*b),R.setMonth(0,1),R.setHours(0,0,0,0)},(R,A)=>{R.setFullYear(R.getFullYear()+A*b)});timeYear.range;const utcYear=timeInterval(b=>{b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},(b,R)=>{b.setUTCFullYear(b.getUTCFullYear()+R)},(b,R)=>R.getUTCFullYear()-b.getUTCFullYear(),b=>b.getUTCFullYear());utcYear.every=b=>!isFinite(b=Math.floor(b))||!(b>0)?null:timeInterval(R=>{R.setUTCFullYear(Math.floor(R.getUTCFullYear()/b)*b),R.setUTCMonth(0,1),R.setUTCHours(0,0,0,0)},(R,A)=>{R.setUTCFullYear(R.getUTCFullYear()+A*b)});utcYear.range;function ticker(b,R,A,T,I,B){const U=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[B,1,durationMinute],[B,5,5*durationMinute],[B,15,15*durationMinute],[B,30,30*durationMinute],[I,1,durationHour],[I,3,3*durationHour],[I,6,6*durationHour],[I,12,12*durationHour],[T,1,durationDay],[T,2,2*durationDay],[A,1,durationWeek],[R,1,durationMonth],[R,3,3*durationMonth],[b,1,durationYear]];function q(J,ee,te){const xe=ee<J;xe&&([J,ee]=[ee,J]);const fe=te&&typeof te.range=="function"?te:K(J,ee,te),ye=fe?fe.range(J,+ee+1):[];return xe?ye.reverse():ye}function K(J,ee,te){const xe=Math.abs(ee-J)/te,fe=bisector(([,,Le])=>Le).right(U,xe);if(fe===U.length)return b.every(tickStep(J/durationYear,ee/durationYear,te));if(fe===0)return millisecond.every(Math.max(tickStep(J,ee,te),1));const[ye,Be]=U[xe/U[fe-1][2]<U[fe][2]/xe?fe-1:fe];return ye.every(Be)}return[q,K]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(b){if(0<=b.y&&b.y<100){var R=new Date(-1,b.m,b.d,b.H,b.M,b.S,b.L);return R.setFullYear(b.y),R}return new Date(b.y,b.m,b.d,b.H,b.M,b.S,b.L)}function utcDate(b){if(0<=b.y&&b.y<100){var R=new Date(Date.UTC(-1,b.m,b.d,b.H,b.M,b.S,b.L));return R.setUTCFullYear(b.y),R}return new Date(Date.UTC(b.y,b.m,b.d,b.H,b.M,b.S,b.L))}function newDate(b,R,A){return{y:b,m:R,d:A,H:0,M:0,S:0,L:0}}function formatLocale(b){var R=b.dateTime,A=b.date,T=b.time,I=b.periods,B=b.days,U=b.shortDays,q=b.months,K=b.shortMonths,J=formatRe(I),ee=formatLookup(I),te=formatRe(B),xe=formatLookup(B),fe=formatRe(U),ye=formatLookup(U),Be=formatRe(q),Le=formatLookup(q),qe=formatRe(K),Ge=formatLookup(K),$e={a:ut,A:et,b:lt,B:rt,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:nt,q:kt,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},Xe={a:Zt,A:Ar,b:ft,B:mt,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Ct,q:xr,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},He={a:Nt,A:Ot,b:Tt,B:ir,c:At,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:gt,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:It,X:Je,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};$e.x=Qe(A,$e),$e.X=Qe(T,$e),$e.c=Qe(R,$e),Xe.x=Qe(A,Xe),Xe.X=Qe(T,Xe),Xe.c=Qe(R,Xe);function Qe(er,Ft){return function(Xt){var it=[],jt=-1,or=0,Er=er.length,mr,zr,nn;for(Xt instanceof Date||(Xt=new Date(+Xt));++jt<Er;)er.charCodeAt(jt)===37&&(it.push(er.slice(or,jt)),(zr=pads[mr=er.charAt(++jt)])!=null?mr=er.charAt(++jt):zr=mr==="e"?" ":"0",(nn=Ft[mr])&&(mr=nn(Xt,zr)),it.push(mr),or=jt+1);return it.push(er.slice(or,jt)),it.join("")}}function st(er,Ft){return function(Xt){var it=newDate(1900,void 0,1),jt=ct(it,er,Xt+="",0),or,Er;if(jt!=Xt.length)return null;if("Q"in it)return new Date(it.Q);if("s"in it)return new Date(it.s*1e3+("L"in it?it.L:0));if(Ft&&!("Z"in it)&&(it.Z=0),"p"in it&&(it.H=it.H%12+it.p*12),it.m===void 0&&(it.m="q"in it?it.q:0),"V"in it){if(it.V<1||it.V>53)return null;"w"in it||(it.w=1),"Z"in it?(or=utcDate(newDate(it.y,0,1)),Er=or.getUTCDay(),or=Er>4||Er===0?utcMonday.ceil(or):utcMonday(or),or=utcDay.offset(or,(it.V-1)*7),it.y=or.getUTCFullYear(),it.m=or.getUTCMonth(),it.d=or.getUTCDate()+(it.w+6)%7):(or=localDate(newDate(it.y,0,1)),Er=or.getDay(),or=Er>4||Er===0?timeMonday.ceil(or):timeMonday(or),or=timeDay.offset(or,(it.V-1)*7),it.y=or.getFullYear(),it.m=or.getMonth(),it.d=or.getDate()+(it.w+6)%7)}else("W"in it||"U"in it)&&("w"in it||(it.w="u"in it?it.u%7:"W"in it?1:0),Er="Z"in it?utcDate(newDate(it.y,0,1)).getUTCDay():localDate(newDate(it.y,0,1)).getDay(),it.m=0,it.d="W"in it?(it.w+6)%7+it.W*7-(Er+5)%7:it.w+it.U*7-(Er+6)%7);return"Z"in it?(it.H+=it.Z/100|0,it.M+=it.Z%100,utcDate(it)):localDate(it)}}function ct(er,Ft,Xt,it){for(var jt=0,or=Ft.length,Er=Xt.length,mr,zr;jt<or;){if(it>=Er)return-1;if(mr=Ft.charCodeAt(jt++),mr===37){if(mr=Ft.charAt(jt++),zr=He[mr in pads?Ft.charAt(jt++):mr],!zr||(it=zr(er,Xt,it))<0)return-1}else if(mr!=Xt.charCodeAt(it++))return-1}return it}function gt(er,Ft,Xt){var it=J.exec(Ft.slice(Xt));return it?(er.p=ee.get(it[0].toLowerCase()),Xt+it[0].length):-1}function Nt(er,Ft,Xt){var it=fe.exec(Ft.slice(Xt));return it?(er.w=ye.get(it[0].toLowerCase()),Xt+it[0].length):-1}function Ot(er,Ft,Xt){var it=te.exec(Ft.slice(Xt));return it?(er.w=xe.get(it[0].toLowerCase()),Xt+it[0].length):-1}function Tt(er,Ft,Xt){var it=qe.exec(Ft.slice(Xt));return it?(er.m=Ge.get(it[0].toLowerCase()),Xt+it[0].length):-1}function ir(er,Ft,Xt){var it=Be.exec(Ft.slice(Xt));return it?(er.m=Le.get(it[0].toLowerCase()),Xt+it[0].length):-1}function At(er,Ft,Xt){return ct(er,R,Ft,Xt)}function It(er,Ft,Xt){return ct(er,A,Ft,Xt)}function Je(er,Ft,Xt){return ct(er,T,Ft,Xt)}function ut(er){return U[er.getDay()]}function et(er){return B[er.getDay()]}function lt(er){return K[er.getMonth()]}function rt(er){return q[er.getMonth()]}function nt(er){return I[+(er.getHours()>=12)]}function kt(er){return 1+~~(er.getMonth()/3)}function Zt(er){return U[er.getUTCDay()]}function Ar(er){return B[er.getUTCDay()]}function ft(er){return K[er.getUTCMonth()]}function mt(er){return q[er.getUTCMonth()]}function Ct(er){return I[+(er.getUTCHours()>=12)]}function xr(er){return 1+~~(er.getUTCMonth()/3)}return{format:function(er){var Ft=Qe(er+="",$e);return Ft.toString=function(){return er},Ft},parse:function(er){var Ft=st(er+="",!1);return Ft.toString=function(){return er},Ft},utcFormat:function(er){var Ft=Qe(er+="",Xe);return Ft.toString=function(){return er},Ft},utcParse:function(er){var Ft=st(er+="",!0);return Ft.toString=function(){return er},Ft}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(b,R,A){var T=b<0?"-":"",I=(T?-b:b)+"",B=I.length;return T+(B<A?new Array(A-B+1).join(R)+I:I)}function requote(b){return b.replace(requoteRe,"\\$&")}function formatRe(b){return new RegExp("^(?:"+b.map(requote).join("|")+")","i")}function formatLookup(b){return new Map(b.map((R,A)=>[R.toLowerCase(),A]))}function parseWeekdayNumberSunday(b,R,A){var T=numberRe.exec(R.slice(A,A+1));return T?(b.w=+T[0],A+T[0].length):-1}function parseWeekdayNumberMonday(b,R,A){var T=numberRe.exec(R.slice(A,A+1));return T?(b.u=+T[0],A+T[0].length):-1}function parseWeekNumberSunday(b,R,A){var T=numberRe.exec(R.slice(A,A+2));return T?(b.U=+T[0],A+T[0].length):-1}function parseWeekNumberISO(b,R,A){var T=numberRe.exec(R.slice(A,A+2));return T?(b.V=+T[0],A+T[0].length):-1}function parseWeekNumberMonday(b,R,A){var T=numberRe.exec(R.slice(A,A+2));return T?(b.W=+T[0],A+T[0].length):-1}function parseFullYear(b,R,A){var T=numberRe.exec(R.slice(A,A+4));return T?(b.y=+T[0],A+T[0].length):-1}function parseYear(b,R,A){var T=numberRe.exec(R.slice(A,A+2));return T?(b.y=+T[0]+(+T[0]>68?1900:2e3),A+T[0].length):-1}function parseZone(b,R,A){var T=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(R.slice(A,A+6));return T?(b.Z=T[1]?0:-(T[2]+(T[3]||"00")),A+T[0].length):-1}function parseQuarter(b,R,A){var T=numberRe.exec(R.slice(A,A+1));return T?(b.q=T[0]*3-3,A+T[0].length):-1}function parseMonthNumber(b,R,A){var T=numberRe.exec(R.slice(A,A+2));return T?(b.m=T[0]-1,A+T[0].length):-1}function parseDayOfMonth(b,R,A){var T=numberRe.exec(R.slice(A,A+2));return T?(b.d=+T[0],A+T[0].length):-1}function parseDayOfYear(b,R,A){var T=numberRe.exec(R.slice(A,A+3));return T?(b.m=0,b.d=+T[0],A+T[0].length):-1}function parseHour24(b,R,A){var T=numberRe.exec(R.slice(A,A+2));return T?(b.H=+T[0],A+T[0].length):-1}function parseMinutes(b,R,A){var T=numberRe.exec(R.slice(A,A+2));return T?(b.M=+T[0],A+T[0].length):-1}function parseSeconds(b,R,A){var T=numberRe.exec(R.slice(A,A+2));return T?(b.S=+T[0],A+T[0].length):-1}function parseMilliseconds(b,R,A){var T=numberRe.exec(R.slice(A,A+3));return T?(b.L=+T[0],A+T[0].length):-1}function parseMicroseconds(b,R,A){var T=numberRe.exec(R.slice(A,A+6));return T?(b.L=Math.floor(T[0]/1e3),A+T[0].length):-1}function parseLiteralPercent(b,R,A){var T=percentRe.exec(R.slice(A,A+1));return T?A+T[0].length:-1}function parseUnixTimestamp(b,R,A){var T=numberRe.exec(R.slice(A));return T?(b.Q=+T[0],A+T[0].length):-1}function parseUnixTimestampSeconds(b,R,A){var T=numberRe.exec(R.slice(A));return T?(b.s=+T[0],A+T[0].length):-1}function formatDayOfMonth(b,R){return pad(b.getDate(),R,2)}function formatHour24(b,R){return pad(b.getHours(),R,2)}function formatHour12(b,R){return pad(b.getHours()%12||12,R,2)}function formatDayOfYear(b,R){return pad(1+timeDay.count(timeYear(b),b),R,3)}function formatMilliseconds(b,R){return pad(b.getMilliseconds(),R,3)}function formatMicroseconds(b,R){return formatMilliseconds(b,R)+"000"}function formatMonthNumber(b,R){return pad(b.getMonth()+1,R,2)}function formatMinutes(b,R){return pad(b.getMinutes(),R,2)}function formatSeconds(b,R){return pad(b.getSeconds(),R,2)}function formatWeekdayNumberMonday(b){var R=b.getDay();return R===0?7:R}function formatWeekNumberSunday(b,R){return pad(timeSunday.count(timeYear(b)-1,b),R,2)}function dISO(b){var R=b.getDay();return R>=4||R===0?timeThursday(b):timeThursday.ceil(b)}function formatWeekNumberISO(b,R){return b=dISO(b),pad(timeThursday.count(timeYear(b),b)+(timeYear(b).getDay()===4),R,2)}function formatWeekdayNumberSunday(b){return b.getDay()}function formatWeekNumberMonday(b,R){return pad(timeMonday.count(timeYear(b)-1,b),R,2)}function formatYear(b,R){return pad(b.getFullYear()%100,R,2)}function formatYearISO(b,R){return b=dISO(b),pad(b.getFullYear()%100,R,2)}function formatFullYear(b,R){return pad(b.getFullYear()%1e4,R,4)}function formatFullYearISO(b,R){var A=b.getDay();return b=A>=4||A===0?timeThursday(b):timeThursday.ceil(b),pad(b.getFullYear()%1e4,R,4)}function formatZone(b){var R=b.getTimezoneOffset();return(R>0?"-":(R*=-1,"+"))+pad(R/60|0,"0",2)+pad(R%60,"0",2)}function formatUTCDayOfMonth(b,R){return pad(b.getUTCDate(),R,2)}function formatUTCHour24(b,R){return pad(b.getUTCHours(),R,2)}function formatUTCHour12(b,R){return pad(b.getUTCHours()%12||12,R,2)}function formatUTCDayOfYear(b,R){return pad(1+utcDay.count(utcYear(b),b),R,3)}function formatUTCMilliseconds(b,R){return pad(b.getUTCMilliseconds(),R,3)}function formatUTCMicroseconds(b,R){return formatUTCMilliseconds(b,R)+"000"}function formatUTCMonthNumber(b,R){return pad(b.getUTCMonth()+1,R,2)}function formatUTCMinutes(b,R){return pad(b.getUTCMinutes(),R,2)}function formatUTCSeconds(b,R){return pad(b.getUTCSeconds(),R,2)}function formatUTCWeekdayNumberMonday(b){var R=b.getUTCDay();return R===0?7:R}function formatUTCWeekNumberSunday(b,R){return pad(utcSunday.count(utcYear(b)-1,b),R,2)}function UTCdISO(b){var R=b.getUTCDay();return R>=4||R===0?utcThursday(b):utcThursday.ceil(b)}function formatUTCWeekNumberISO(b,R){return b=UTCdISO(b),pad(utcThursday.count(utcYear(b),b)+(utcYear(b).getUTCDay()===4),R,2)}function formatUTCWeekdayNumberSunday(b){return b.getUTCDay()}function formatUTCWeekNumberMonday(b,R){return pad(utcMonday.count(utcYear(b)-1,b),R,2)}function formatUTCYear(b,R){return pad(b.getUTCFullYear()%100,R,2)}function formatUTCYearISO(b,R){return b=UTCdISO(b),pad(b.getUTCFullYear()%100,R,2)}function formatUTCFullYear(b,R){return pad(b.getUTCFullYear()%1e4,R,4)}function formatUTCFullYearISO(b,R){var A=b.getUTCDay();return b=A>=4||A===0?utcThursday(b):utcThursday.ceil(b),pad(b.getUTCFullYear()%1e4,R,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(b){return+b}function formatUnixTimestampSeconds(b){return Math.floor(+b/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(b){return locale=formatLocale(b),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(b){return new Date(b)}function number(b){return b instanceof Date?+b:+new Date(+b)}function calendar(b,R,A,T,I,B,U,q,K,J){var ee=continuous(),te=ee.invert,xe=ee.domain,fe=J(".%L"),ye=J(":%S"),Be=J("%I:%M"),Le=J("%I %p"),qe=J("%a %d"),Ge=J("%b %d"),$e=J("%B"),Xe=J("%Y");function He(Qe){return(K(Qe)<Qe?fe:q(Qe)<Qe?ye:U(Qe)<Qe?Be:B(Qe)<Qe?Le:T(Qe)<Qe?I(Qe)<Qe?qe:Ge:A(Qe)<Qe?$e:Xe)(Qe)}return ee.invert=function(Qe){return new Date(te(Qe))},ee.domain=function(Qe){return arguments.length?xe(Array.from(Qe,number)):xe().map(date)},ee.ticks=function(Qe){var st=xe();return b(st[0],st[st.length-1],Qe??10)},ee.tickFormat=function(Qe,st){return st==null?He:J(st)},ee.nice=function(Qe){var st=xe();return(!Qe||typeof Qe.range!="function")&&(Qe=R(st[0],st[st.length-1],Qe??10)),Qe?xe(nice(st,Qe)):ee},ee.copy=function(){return copy$1(ee,calendar(b,R,A,T,I,B,U,q,K,J))},ee}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var b=0,R=1,A,T,I,B,U=identity$3,q=!1,K;function J(te){return te==null||isNaN(te=+te)?K:U(I===0?.5:(te=(B(te)-A)*I,q?Math.max(0,Math.min(1,te)):te))}J.domain=function(te){return arguments.length?([b,R]=te,A=B(b=+b),T=B(R=+R),I=A===T?0:1/(T-A),J):[b,R]},J.clamp=function(te){return arguments.length?(q=!!te,J):q},J.interpolator=function(te){return arguments.length?(U=te,J):U};function ee(te){return function(xe){var fe,ye;return arguments.length?([fe,ye]=xe,U=te(fe,ye),J):[U(0),U(1)]}}return J.range=ee(interpolate),J.rangeRound=ee(interpolateRound),J.unknown=function(te){return arguments.length?(K=te,J):K},function(te){return B=te,A=te(b),T=te(R),I=A===T?0:1/(T-A),J}}function copy(b,R){return R.domain(b.domain()).interpolator(b.interpolator()).clamp(b.clamp()).unknown(b.unknown())}function sequential(){var b=linearish(transformer$1()(identity$3));return b.copy=function(){return copy(b,sequential())},initInterpolator.apply(b,arguments)}function sequentialLog(){var b=loggish(transformer$1()).domain([1,10]);return b.copy=function(){return copy(b,sequentialLog()).base(b.base())},initInterpolator.apply(b,arguments)}function sequentialSymlog(){var b=symlogish(transformer$1());return b.copy=function(){return copy(b,sequentialSymlog()).constant(b.constant())},initInterpolator.apply(b,arguments)}function sequentialPow(){var b=powish(transformer$1());return b.copy=function(){return copy(b,sequentialPow()).exponent(b.exponent())},initInterpolator.apply(b,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var b=[],R=identity$3;function A(T){if(T!=null&&!isNaN(T=+T))return R((bisectRight(b,T,1)-1)/(b.length-1))}return A.domain=function(T){if(!arguments.length)return b.slice();b=[];for(let I of T)I!=null&&!isNaN(I=+I)&&b.push(I);return b.sort(ascending),A},A.interpolator=function(T){return arguments.length?(R=T,A):R},A.range=function(){return b.map((T,I)=>R(I/(b.length-1)))},A.quantiles=function(T){return Array.from({length:T+1},(I,B)=>quantile$1(b,B/T))},A.copy=function(){return sequentialQuantile(R).domain(b)},initInterpolator.apply(A,arguments)}function transformer(){var b=0,R=.5,A=1,T=1,I,B,U,q,K,J=identity$3,ee,te=!1,xe;function fe(Be){return isNaN(Be=+Be)?xe:(Be=.5+((Be=+ee(Be))-B)*(T*Be<T*B?q:K),J(te?Math.max(0,Math.min(1,Be)):Be))}fe.domain=function(Be){return arguments.length?([b,R,A]=Be,I=ee(b=+b),B=ee(R=+R),U=ee(A=+A),q=I===B?0:.5/(B-I),K=B===U?0:.5/(U-B),T=B<I?-1:1,fe):[b,R,A]},fe.clamp=function(Be){return arguments.length?(te=!!Be,fe):te},fe.interpolator=function(Be){return arguments.length?(J=Be,fe):J};function ye(Be){return function(Le){var qe,Ge,$e;return arguments.length?([qe,Ge,$e]=Le,J=piecewise(Be,[qe,Ge,$e]),fe):[J(0),J(.5),J(1)]}}return fe.range=ye(interpolate),fe.rangeRound=ye(interpolateRound),fe.unknown=function(Be){return arguments.length?(xe=Be,fe):xe},function(Be){return ee=Be,I=Be(b),B=Be(R),U=Be(A),q=I===B?0:.5/(B-I),K=B===U?0:.5/(U-B),T=B<I?-1:1,fe}}function diverging(){var b=linearish(transformer()(identity$3));return b.copy=function(){return copy(b,diverging())},initInterpolator.apply(b,arguments)}function divergingLog(){var b=loggish(transformer()).domain([.1,1,10]);return b.copy=function(){return copy(b,divergingLog()).base(b.base())},initInterpolator.apply(b,arguments)}function divergingSymlog(){var b=symlogish(transformer());return b.copy=function(){return copy(b,divergingSymlog()).constant(b.constant())},initInterpolator.apply(b,arguments)}function divergingPow(){var b=powish(transformer());return b.copy=function(){return copy(b,divergingPow()).exponent(b.exponent())},initInterpolator.apply(b,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$1,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var selectChartDataWithIndexes=b=>b.chartData,selectChartDataAndAlwaysIgnoreIndexes=createSelector([selectChartDataWithIndexes],b=>{var R=b.chartData!=null?b.chartData.length-1:0;return{chartData:b.chartData,computedData:b.computedData,dataEndIndex:R,dataStartIndex:0}}),selectChartDataWithIndexesIfNotInPanorama=(b,R,A,T)=>T?selectChartDataAndAlwaysIgnoreIndexes(b):selectChartDataWithIndexes(b);function isWellFormedNumberDomain(b){if(Array.isArray(b)&&b.length===2){var[R,A]=b;if(isWellBehavedNumber(R)&&isWellBehavedNumber(A))return!0}return!1}function extendDomain(b,R,A){return A?b:[Math.min(b[0],R[0]),Math.max(b[1],R[1])]}function numericalDomainSpecifiedWithoutRequiringData(b,R){if(R&&typeof b!="function"&&Array.isArray(b)&&b.length===2){var[A,T]=b,I,B;if(isWellBehavedNumber(A))I=A;else if(typeof A=="function")return;if(isWellBehavedNumber(T))B=T;else if(typeof T=="function")return;var U=[I,B];if(isWellFormedNumberDomain(U))return U}}function parseNumericalUserDomain(b,R,A){if(!(!A&&R==null)){if(typeof b=="function"&&R!=null)try{var T=b(R,A);if(isWellFormedNumberDomain(T))return extendDomain(T,R,A)}catch{}if(Array.isArray(b)&&b.length===2){var[I,B]=b,U,q;if(I==="auto")R!=null&&(U=Math.min(...R));else if(isNumber(I))U=I;else if(typeof I=="function")try{R!=null&&(U=I(R?.[0]))}catch{}else if(typeof I=="string"&&MIN_VALUE_REG.test(I)){var K=MIN_VALUE_REG.exec(I);if(K==null||R==null)U=void 0;else{var J=+K[1];U=R[0]-J}}else U=R?.[0];if(B==="auto")R!=null&&(q=Math.max(...R));else if(isNumber(B))q=B;else if(typeof B=="function")try{R!=null&&(q=B(R?.[1]))}catch{}else if(typeof B=="string"&&MAX_VALUE_REG.test(B)){var ee=MAX_VALUE_REG.exec(B);if(ee==null||R==null)q=void 0;else{var te=+ee[1];q=R[1]+te}}else q=R?.[1];var xe=[U,q];if(isWellFormedNumberDomain(xe))return R==null?xe:extendDomain(xe,R,A)}}}var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P={};P.absoluteValue=P.abs=function(){var b=new this.constructor(this);return b.s&&(b.s=1),b};P.comparedTo=P.cmp=function(b){var R,A,T,I,B=this;if(b=new B.constructor(b),B.s!==b.s)return B.s||-b.s;if(B.e!==b.e)return B.e>b.e^B.s<0?1:-1;for(T=B.d.length,I=b.d.length,R=0,A=T<I?T:I;R<A;++R)if(B.d[R]!==b.d[R])return B.d[R]>b.d[R]^B.s<0?1:-1;return T===I?0:T>I^B.s<0?1:-1};P.decimalPlaces=P.dp=function(){var b=this,R=b.d.length-1,A=(R-b.e)*LOG_BASE;if(R=b.d[R],R)for(;R%10==0;R/=10)A--;return A<0?0:A};P.dividedBy=P.div=function(b){return divide(this,new this.constructor(b))};P.dividedToIntegerBy=P.idiv=function(b){var R=this,A=R.constructor;return round(divide(R,new A(b),0,1),A.precision)};P.equals=P.eq=function(b){return!this.cmp(b)};P.exponent=function(){return getBase10Exponent(this)};P.greaterThan=P.gt=function(b){return this.cmp(b)>0};P.greaterThanOrEqualTo=P.gte=function(b){return this.cmp(b)>=0};P.isInteger=P.isint=function(){return this.e>this.d.length-2};P.isNegative=P.isneg=function(){return this.s<0};P.isPositive=P.ispos=function(){return this.s>0};P.isZero=function(){return this.s===0};P.lessThan=P.lt=function(b){return this.cmp(b)<0};P.lessThanOrEqualTo=P.lte=function(b){return this.cmp(b)<1};P.logarithm=P.log=function(b){var R,A=this,T=A.constructor,I=T.precision,B=I+5;if(b===void 0)b=new T(10);else if(b=new T(b),b.s<1||b.eq(ONE))throw Error(decimalError+"NaN");if(A.s<1)throw Error(decimalError+(A.s?"NaN":"-Infinity"));return A.eq(ONE)?new T(0):(external=!1,R=divide(ln(A,B),ln(b,B),B),external=!0,round(R,I))};P.minus=P.sub=function(b){var R=this;return b=new R.constructor(b),R.s==b.s?subtract(R,b):add(R,(b.s=-b.s,b))};P.modulo=P.mod=function(b){var R,A=this,T=A.constructor,I=T.precision;if(b=new T(b),!b.s)throw Error(decimalError+"NaN");return A.s?(external=!1,R=divide(A,b,0,1).times(b),external=!0,A.minus(R)):round(new T(A),I)};P.naturalExponential=P.exp=function(){return exp(this)};P.naturalLogarithm=P.ln=function(){return ln(this)};P.negated=P.neg=function(){var b=new this.constructor(this);return b.s=-b.s||0,b};P.plus=P.add=function(b){var R=this;return b=new R.constructor(b),R.s==b.s?add(R,b):subtract(R,(b.s=-b.s,b))};P.precision=P.sd=function(b){var R,A,T,I=this;if(b!==void 0&&b!==!!b&&b!==1&&b!==0)throw Error(invalidArgument+b);if(R=getBase10Exponent(I)+1,T=I.d.length-1,A=T*LOG_BASE+1,T=I.d[T],T){for(;T%10==0;T/=10)A--;for(T=I.d[0];T>=10;T/=10)A++}return b&&R>A?R:A};P.squareRoot=P.sqrt=function(){var b,R,A,T,I,B,U,q=this,K=q.constructor;if(q.s<1){if(!q.s)return new K(0);throw Error(decimalError+"NaN")}for(b=getBase10Exponent(q),external=!1,I=Math.sqrt(+q),I==0||I==1/0?(R=digitsToString(q.d),(R.length+b)%2==0&&(R+="0"),I=Math.sqrt(R),b=mathfloor((b+1)/2)-(b<0||b%2),I==1/0?R="5e"+b:(R=I.toExponential(),R=R.slice(0,R.indexOf("e")+1)+b),T=new K(R)):T=new K(I.toString()),A=K.precision,I=U=A+3;;)if(B=T,T=B.plus(divide(q,B,U+2)).times(.5),digitsToString(B.d).slice(0,U)===(R=digitsToString(T.d)).slice(0,U)){if(R=R.slice(U-3,U+1),I==U&&R=="4999"){if(round(B,A+1,0),B.times(B).eq(q)){T=B;break}}else if(R!="9999")break;U+=4}return external=!0,round(T,A)};P.times=P.mul=function(b){var R,A,T,I,B,U,q,K,J,ee=this,te=ee.constructor,xe=ee.d,fe=(b=new te(b)).d;if(!ee.s||!b.s)return new te(0);for(b.s*=ee.s,A=ee.e+b.e,K=xe.length,J=fe.length,K<J&&(B=xe,xe=fe,fe=B,U=K,K=J,J=U),B=[],U=K+J,T=U;T--;)B.push(0);for(T=J;--T>=0;){for(R=0,I=K+T;I>T;)q=B[I]+fe[T]*xe[I-T-1]+R,B[I--]=q%BASE|0,R=q/BASE|0;B[I]=(B[I]+R)%BASE|0}for(;!B[--U];)B.pop();return R?++A:B.shift(),b.d=B,b.e=A,external?round(b,te.precision):b};P.toDecimalPlaces=P.todp=function(b,R){var A=this,T=A.constructor;return A=new T(A),b===void 0?A:(checkInt32(b,0,MAX_DIGITS),R===void 0?R=T.rounding:checkInt32(R,0,8),round(A,b+getBase10Exponent(A)+1,R))};P.toExponential=function(b,R){var A,T=this,I=T.constructor;return b===void 0?A=toString(T,!0):(checkInt32(b,0,MAX_DIGITS),R===void 0?R=I.rounding:checkInt32(R,0,8),T=round(new I(T),b+1,R),A=toString(T,!0,b+1)),A};P.toFixed=function(b,R){var A,T,I=this,B=I.constructor;return b===void 0?toString(I):(checkInt32(b,0,MAX_DIGITS),R===void 0?R=B.rounding:checkInt32(R,0,8),T=round(new B(I),b+getBase10Exponent(I)+1,R),A=toString(T.abs(),!1,b+getBase10Exponent(T)+1),I.isneg()&&!I.isZero()?"-"+A:A)};P.toInteger=P.toint=function(){var b=this,R=b.constructor;return round(new R(b),getBase10Exponent(b)+1,R.rounding)};P.toNumber=function(){return+this};P.toPower=P.pow=function(b){var R,A,T,I,B,U,q=this,K=q.constructor,J=12,ee=+(b=new K(b));if(!b.s)return new K(ONE);if(q=new K(q),!q.s){if(b.s<1)throw Error(decimalError+"Infinity");return q}if(q.eq(ONE))return q;if(T=K.precision,b.eq(ONE))return round(q,T);if(R=b.e,A=b.d.length-1,U=R>=A,B=q.s,U){if((A=ee<0?-ee:ee)<=MAX_SAFE_INTEGER){for(I=new K(ONE),R=Math.ceil(T/LOG_BASE+4),external=!1;A%2&&(I=I.times(q),truncate(I.d,R)),A=mathfloor(A/2),A!==0;)q=q.times(q),truncate(q.d,R);return external=!0,b.s<0?new K(ONE).div(I):round(I,T)}}else if(B<0)throw Error(decimalError+"NaN");return B=B<0&&b.d[Math.max(R,A)]&1?-1:1,q.s=1,external=!1,I=b.times(ln(q,T+J)),external=!0,I=exp(I),I.s=B,I};P.toPrecision=function(b,R){var A,T,I=this,B=I.constructor;return b===void 0?(A=getBase10Exponent(I),T=toString(I,A<=B.toExpNeg||A>=B.toExpPos)):(checkInt32(b,1,MAX_DIGITS),R===void 0?R=B.rounding:checkInt32(R,0,8),I=round(new B(I),b,R),A=getBase10Exponent(I),T=toString(I,b<=A||A<=B.toExpNeg,b)),T};P.toSignificantDigits=P.tosd=function(b,R){var A=this,T=A.constructor;return b===void 0?(b=T.precision,R=T.rounding):(checkInt32(b,1,MAX_DIGITS),R===void 0?R=T.rounding:checkInt32(R,0,8)),round(new T(A),b,R)};P.toString=P.valueOf=P.val=P.toJSON=P[Symbol.for("nodejs.util.inspect.custom")]=function(){var b=this,R=getBase10Exponent(b),A=b.constructor;return toString(b,R<=A.toExpNeg||R>=A.toExpPos)};function add(b,R){var A,T,I,B,U,q,K,J,ee=b.constructor,te=ee.precision;if(!b.s||!R.s)return R.s||(R=new ee(b)),external?round(R,te):R;if(K=b.d,J=R.d,U=b.e,I=R.e,K=K.slice(),B=U-I,B){for(B<0?(T=K,B=-B,q=J.length):(T=J,I=U,q=K.length),U=Math.ceil(te/LOG_BASE),q=U>q?U+1:q+1,B>q&&(B=q,T.length=1),T.reverse();B--;)T.push(0);T.reverse()}for(q=K.length,B=J.length,q-B<0&&(B=q,T=J,J=K,K=T),A=0;B;)A=(K[--B]=K[B]+J[B]+A)/BASE|0,K[B]%=BASE;for(A&&(K.unshift(A),++I),q=K.length;K[--q]==0;)K.pop();return R.d=K,R.e=I,external?round(R,te):R}function checkInt32(b,R,A){if(b!==~~b||b<R||b>A)throw Error(invalidArgument+b)}function digitsToString(b){var R,A,T,I=b.length-1,B="",U=b[0];if(I>0){for(B+=U,R=1;R<I;R++)T=b[R]+"",A=LOG_BASE-T.length,A&&(B+=getZeroString(A)),B+=T;U=b[R],T=U+"",A=LOG_BASE-T.length,A&&(B+=getZeroString(A))}else if(U===0)return"0";for(;U%10===0;)U/=10;return B+U}var divide=(function(){function b(T,I){var B,U=0,q=T.length;for(T=T.slice();q--;)B=T[q]*I+U,T[q]=B%BASE|0,U=B/BASE|0;return U&&T.unshift(U),T}function R(T,I,B,U){var q,K;if(B!=U)K=B>U?1:-1;else for(q=K=0;q<B;q++)if(T[q]!=I[q]){K=T[q]>I[q]?1:-1;break}return K}function A(T,I,B){for(var U=0;B--;)T[B]-=U,U=T[B]<I[B]?1:0,T[B]=U*BASE+T[B]-I[B];for(;!T[0]&&T.length>1;)T.shift()}return function(T,I,B,U){var q,K,J,ee,te,xe,fe,ye,Be,Le,qe,Ge,$e,Xe,He,Qe,st,ct,gt=T.constructor,Nt=T.s==I.s?1:-1,Ot=T.d,Tt=I.d;if(!T.s)return new gt(T);if(!I.s)throw Error(decimalError+"Division by zero");for(K=T.e-I.e,st=Tt.length,He=Ot.length,fe=new gt(Nt),ye=fe.d=[],J=0;Tt[J]==(Ot[J]||0);)++J;if(Tt[J]>(Ot[J]||0)&&--K,B==null?Ge=B=gt.precision:U?Ge=B+(getBase10Exponent(T)-getBase10Exponent(I))+1:Ge=B,Ge<0)return new gt(0);if(Ge=Ge/LOG_BASE+2|0,J=0,st==1)for(ee=0,Tt=Tt[0],Ge++;(J<He||ee)&&Ge--;J++)$e=ee*BASE+(Ot[J]||0),ye[J]=$e/Tt|0,ee=$e%Tt|0;else{for(ee=BASE/(Tt[0]+1)|0,ee>1&&(Tt=b(Tt,ee),Ot=b(Ot,ee),st=Tt.length,He=Ot.length),Xe=st,Be=Ot.slice(0,st),Le=Be.length;Le<st;)Be[Le++]=0;ct=Tt.slice(),ct.unshift(0),Qe=Tt[0],Tt[1]>=BASE/2&&++Qe;do ee=0,q=R(Tt,Be,st,Le),q<0?(qe=Be[0],st!=Le&&(qe=qe*BASE+(Be[1]||0)),ee=qe/Qe|0,ee>1?(ee>=BASE&&(ee=BASE-1),te=b(Tt,ee),xe=te.length,Le=Be.length,q=R(te,Be,xe,Le),q==1&&(ee--,A(te,st<xe?ct:Tt,xe))):(ee==0&&(q=ee=1),te=Tt.slice()),xe=te.length,xe<Le&&te.unshift(0),A(Be,te,Le),q==-1&&(Le=Be.length,q=R(Tt,Be,st,Le),q<1&&(ee++,A(Be,st<Le?ct:Tt,Le))),Le=Be.length):q===0&&(ee++,Be=[0]),ye[J++]=ee,q&&Be[0]?Be[Le++]=Ot[Xe]||0:(Be=[Ot[Xe]],Le=1);while((Xe++<He||Be[0]!==void 0)&&Ge--)}return ye[0]||ye.shift(),fe.e=K,round(fe,U?B+getBase10Exponent(fe)+1:B)}})();function exp(b,R){var A,T,I,B,U,q,K=0,J=0,ee=b.constructor,te=ee.precision;if(getBase10Exponent(b)>16)throw Error(exponentOutOfRange+getBase10Exponent(b));if(!b.s)return new ee(ONE);for(external=!1,q=te,U=new ee(.03125);b.abs().gte(.1);)b=b.times(U),J+=5;for(T=Math.log(mathpow(2,J))/Math.LN10*2+5|0,q+=T,A=I=B=new ee(ONE),ee.precision=q;;){if(I=round(I.times(b),q),A=A.times(++K),U=B.plus(divide(I,A,q)),digitsToString(U.d).slice(0,q)===digitsToString(B.d).slice(0,q)){for(;J--;)B=round(B.times(B),q);return ee.precision=te,R==null?(external=!0,round(B,te)):B}B=U}}function getBase10Exponent(b){for(var R=b.e*LOG_BASE,A=b.d[0];A>=10;A/=10)R++;return R}function getLn10(b,R,A){if(R>b.LN10.sd())throw external=!0,A&&(b.precision=A),Error(decimalError+"LN10 precision limit exceeded");return round(new b(b.LN10),R)}function getZeroString(b){for(var R="";b--;)R+="0";return R}function ln(b,R){var A,T,I,B,U,q,K,J,ee,te=1,xe=10,fe=b,ye=fe.d,Be=fe.constructor,Le=Be.precision;if(fe.s<1)throw Error(decimalError+(fe.s?"NaN":"-Infinity"));if(fe.eq(ONE))return new Be(0);if(R==null?(external=!1,J=Le):J=R,fe.eq(10))return R==null&&(external=!0),getLn10(Be,J);if(J+=xe,Be.precision=J,A=digitsToString(ye),T=A.charAt(0),B=getBase10Exponent(fe),Math.abs(B)<15e14){for(;T<7&&T!=1||T==1&&A.charAt(1)>3;)fe=fe.times(b),A=digitsToString(fe.d),T=A.charAt(0),te++;B=getBase10Exponent(fe),T>1?(fe=new Be("0."+A),B++):fe=new Be(T+"."+A.slice(1))}else return K=getLn10(Be,J+2,Le).times(B+""),fe=ln(new Be(T+"."+A.slice(1)),J-xe).plus(K),Be.precision=Le,R==null?(external=!0,round(fe,Le)):fe;for(q=U=fe=divide(fe.minus(ONE),fe.plus(ONE),J),ee=round(fe.times(fe),J),I=3;;){if(U=round(U.times(ee),J),K=q.plus(divide(U,new Be(I),J)),digitsToString(K.d).slice(0,J)===digitsToString(q.d).slice(0,J))return q=q.times(2),B!==0&&(q=q.plus(getLn10(Be,J+2,Le).times(B+""))),q=divide(q,new Be(te),J),Be.precision=Le,R==null?(external=!0,round(q,Le)):q;q=K,I+=2}}function parseDecimal(b,R){var A,T,I;for((A=R.indexOf("."))>-1&&(R=R.replace(".","")),(T=R.search(/e/i))>0?(A<0&&(A=T),A+=+R.slice(T+1),R=R.substring(0,T)):A<0&&(A=R.length),T=0;R.charCodeAt(T)===48;)++T;for(I=R.length;R.charCodeAt(I-1)===48;)--I;if(R=R.slice(T,I),R){if(I-=T,A=A-T-1,b.e=mathfloor(A/LOG_BASE),b.d=[],T=(A+1)%LOG_BASE,A<0&&(T+=LOG_BASE),T<I){for(T&&b.d.push(+R.slice(0,T)),I-=LOG_BASE;T<I;)b.d.push(+R.slice(T,T+=LOG_BASE));R=R.slice(T),T=LOG_BASE-R.length}else T-=I;for(;T--;)R+="0";if(b.d.push(+R),external&&(b.e>MAX_E||b.e<-MAX_E))throw Error(exponentOutOfRange+A)}else b.s=0,b.e=0,b.d=[0];return b}function round(b,R,A){var T,I,B,U,q,K,J,ee,te=b.d;for(U=1,B=te[0];B>=10;B/=10)U++;if(T=R-U,T<0)T+=LOG_BASE,I=R,J=te[ee=0];else{if(ee=Math.ceil((T+1)/LOG_BASE),B=te.length,ee>=B)return b;for(J=B=te[ee],U=1;B>=10;B/=10)U++;T%=LOG_BASE,I=T-LOG_BASE+U}if(A!==void 0&&(B=mathpow(10,U-I-1),q=J/B%10|0,K=R<0||te[ee+1]!==void 0||J%B,K=A<4?(q||K)&&(A==0||A==(b.s<0?3:2)):q>5||q==5&&(A==4||K||A==6&&(T>0?I>0?J/mathpow(10,U-I):0:te[ee-1])%10&1||A==(b.s<0?8:7))),R<1||!te[0])return K?(B=getBase10Exponent(b),te.length=1,R=R-B-1,te[0]=mathpow(10,(LOG_BASE-R%LOG_BASE)%LOG_BASE),b.e=mathfloor(-R/LOG_BASE)||0):(te.length=1,te[0]=b.e=b.s=0),b;if(T==0?(te.length=ee,B=1,ee--):(te.length=ee+1,B=mathpow(10,LOG_BASE-T),te[ee]=I>0?(J/mathpow(10,U-I)%mathpow(10,I)|0)*B:0),K)for(;;)if(ee==0){(te[0]+=B)==BASE&&(te[0]=1,++b.e);break}else{if(te[ee]+=B,te[ee]!=BASE)break;te[ee--]=0,B=1}for(T=te.length;te[--T]===0;)te.pop();if(external&&(b.e>MAX_E||b.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(b));return b}function subtract(b,R){var A,T,I,B,U,q,K,J,ee,te,xe=b.constructor,fe=xe.precision;if(!b.s||!R.s)return R.s?R.s=-R.s:R=new xe(b),external?round(R,fe):R;if(K=b.d,te=R.d,T=R.e,J=b.e,K=K.slice(),U=J-T,U){for(ee=U<0,ee?(A=K,U=-U,q=te.length):(A=te,T=J,q=K.length),I=Math.max(Math.ceil(fe/LOG_BASE),q)+2,U>I&&(U=I,A.length=1),A.reverse(),I=U;I--;)A.push(0);A.reverse()}else{for(I=K.length,q=te.length,ee=I<q,ee&&(q=I),I=0;I<q;I++)if(K[I]!=te[I]){ee=K[I]<te[I];break}U=0}for(ee&&(A=K,K=te,te=A,R.s=-R.s),q=K.length,I=te.length-q;I>0;--I)K[q++]=0;for(I=te.length;I>U;){if(K[--I]<te[I]){for(B=I;B&&K[--B]===0;)K[B]=BASE-1;--K[B],K[I]+=BASE}K[I]-=te[I]}for(;K[--q]===0;)K.pop();for(;K[0]===0;K.shift())--T;return K[0]?(R.d=K,R.e=T,external?round(R,fe):R):new xe(0)}function toString(b,R,A){var T,I=getBase10Exponent(b),B=digitsToString(b.d),U=B.length;return R?(A&&(T=A-U)>0?B=B.charAt(0)+"."+B.slice(1)+getZeroString(T):U>1&&(B=B.charAt(0)+"."+B.slice(1)),B=B+(I<0?"e":"e+")+I):I<0?(B="0."+getZeroString(-I-1)+B,A&&(T=A-U)>0&&(B+=getZeroString(T))):I>=U?(B+=getZeroString(I+1-U),A&&(T=A-I-1)>0&&(B=B+"."+getZeroString(T))):((T=I+1)<U&&(B=B.slice(0,T)+"."+B.slice(T)),A&&(T=A-U)>0&&(I+1===U&&(B+="."),B+=getZeroString(T))),b.s<0?"-"+B:B}function truncate(b,R){if(b.length>R)return b.length=R,!0}function clone(b){var R,A,T;function I(B){var U=this;if(!(U instanceof I))return new I(B);if(U.constructor=I,B instanceof I){U.s=B.s,U.e=B.e,U.d=(B=B.d)?B.slice():B;return}if(typeof B=="number"){if(B*0!==0)throw Error(invalidArgument+B);if(B>0)U.s=1;else if(B<0)B=-B,U.s=-1;else{U.s=0,U.e=0,U.d=[0];return}if(B===~~B&&B<1e7){U.e=0,U.d=[B];return}return parseDecimal(U,B.toString())}else if(typeof B!="string")throw Error(invalidArgument+B);if(B.charCodeAt(0)===45?(B=B.slice(1),U.s=-1):U.s=1,isDecimal.test(B))parseDecimal(U,B);else throw Error(invalidArgument+B)}if(I.prototype=P,I.ROUND_UP=0,I.ROUND_DOWN=1,I.ROUND_CEIL=2,I.ROUND_FLOOR=3,I.ROUND_HALF_UP=4,I.ROUND_HALF_DOWN=5,I.ROUND_HALF_EVEN=6,I.ROUND_HALF_CEIL=7,I.ROUND_HALF_FLOOR=8,I.clone=clone,I.config=I.set=config,b===void 0&&(b={}),b)for(T=["precision","rounding","toExpNeg","toExpPos","LN10"],R=0;R<T.length;)b.hasOwnProperty(A=T[R++])||(b[A]=this[A]);return I.config(b),I}function config(b){if(!b||typeof b!="object")throw Error(decimalError+"Object expected");var R,A,T,I=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(R=0;R<I.length;R+=3)if((T=b[A=I[R]])!==void 0)if(mathfloor(T)===T&&T>=I[R+1]&&T<=I[R+2])this[A]=T;else throw Error(invalidArgument+A+": "+T);if((T=b[A="LN10"])!==void 0)if(T==Math.LN10)this[A]=new this(T);else throw Error(invalidArgument+A+": "+T);return this}var Decimal=clone(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;var identity=b=>b,PLACE_HOLDER={},isPlaceHolder=b=>b===PLACE_HOLDER,curry0=b=>function R(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?R:b(...arguments)},curryN=(b,R)=>b===1?R:curry0(function(){for(var A=arguments.length,T=new Array(A),I=0;I<A;I++)T[I]=arguments[I];var B=T.filter(U=>U!==PLACE_HOLDER).length;return B>=b?R(...T):curryN(b-B,curry0(function(){for(var U=arguments.length,q=new Array(U),K=0;K<U;K++)q[K]=arguments[K];var J=T.map(ee=>isPlaceHolder(ee)?q.shift():ee);return R(...J,...q)}))}),curry=b=>curryN(b.length,b),range=(b,R)=>{for(var A=[],T=b;T<R;++T)A[T-b]=T;return A},map=curry((b,R)=>Array.isArray(R)?R.map(b):Object.keys(R).map(A=>R[A]).map(b)),compose=function b(){for(var R=arguments.length,A=new Array(R),T=0;T<R;T++)A[T]=arguments[T];if(!A.length)return identity;var I=A.reverse(),B=I[0],U=I.slice(1);return function(){return U.reduce((q,K)=>K(q),B(...arguments))}},reverse=b=>Array.isArray(b)?b.reverse():b.split("").reverse().join(""),memoize=b=>{var R=null,A=null;return function(){for(var T=arguments.length,I=new Array(T),B=0;B<T;B++)I[B]=arguments[B];return R&&I.every((U,q)=>{var K;return U===((K=R)===null||K===void 0?void 0:K[q])})||(R=I,A=b(...I)),A}};function getDigitCount(b){var R;return b===0?R=1:R=Math.floor(new Decimal$1(b).abs().log(10).toNumber())+1,R}function rangeStep(b,R,A){for(var T=new Decimal$1(b),I=0,B=[];T.lt(R)&&I<1e5;)B.push(T.toNumber()),T=T.add(A),I++;return B}curry((b,R,A)=>{var T=+b,I=+R;return T+A*(I-T)});curry((b,R,A)=>{var T=R-+b;return T=T||1/0,(A-b)/T});curry((b,R,A)=>{var T=R-+b;return T=T||1/0,Math.max(0,Math.min(1,(A-b)/T))});var getValidInterval=b=>{var[R,A]=b,[T,I]=[R,A];return R>A&&([T,I]=[A,R]),[T,I]},getFormatStep=(b,R,A)=>{if(b.lte(0))return new Decimal$1(0);var T=getDigitCount(b.toNumber()),I=new Decimal$1(10).pow(T),B=b.div(I),U=T!==1?.05:.1,q=new Decimal$1(Math.ceil(B.div(U).toNumber())).add(A).mul(U),K=q.mul(I);return R?new Decimal$1(K.toNumber()):new Decimal$1(Math.ceil(K.toNumber()))},getTickOfSingleValue=(b,R,A)=>{var T=new Decimal$1(1),I=new Decimal$1(b);if(!I.isint()&&A){var B=Math.abs(b);B<1?(T=new Decimal$1(10).pow(getDigitCount(b)-1),I=new Decimal$1(Math.floor(I.div(T).toNumber())).mul(T)):B>1&&(I=new Decimal$1(Math.floor(b)))}else b===0?I=new Decimal$1(Math.floor((R-1)/2)):A||(I=new Decimal$1(Math.floor(b)));var U=Math.floor((R-1)/2),q=compose(map(K=>I.add(new Decimal$1(K-U).mul(T)).toNumber()),range);return q(0,R)},_calculateStep=function b(R,A,T,I){var B=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((A-R)/(T-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var U=getFormatStep(new Decimal$1(A).sub(R).div(T-1),I,B),q;R<=0&&A>=0?q=new Decimal$1(0):(q=new Decimal$1(R).add(A).div(2),q=q.sub(new Decimal$1(q).mod(U)));var K=Math.ceil(q.sub(R).div(U).toNumber()),J=Math.ceil(new Decimal$1(A).sub(q).div(U).toNumber()),ee=K+J+1;return ee>T?_calculateStep(R,A,T,I,B+1):(ee<T&&(J=A>0?J+(T-ee):J,K=A>0?K:K+(T-ee)),{step:U,tickMin:q.sub(new Decimal$1(K).mul(U)),tickMax:q.add(new Decimal$1(J).mul(U))})};function getNiceTickValuesFn(b){var[R,A]=b,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,B=Math.max(T,2),[U,q]=getValidInterval([R,A]);if(U===-1/0||q===1/0){var K=q===1/0?[U,...range(0,T-1).map(()=>1/0)]:[...range(0,T-1).map(()=>-1/0),q];return R>A?reverse(K):K}if(U===q)return getTickOfSingleValue(U,T,I);var{step:J,tickMin:ee,tickMax:te}=_calculateStep(U,q,B,I,0),xe=rangeStep(ee,te.add(new Decimal$1(.1).mul(J)),J);return R>A?reverse(xe):xe}function getTickValuesFixedDomainFn(b,R){var[A,T]=b,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[B,U]=getValidInterval([A,T]);if(B===-1/0||U===1/0)return[A,T];if(B===U)return[B];var q=Math.max(R,2),K=getFormatStep(new Decimal$1(U).sub(B).div(q-1),I,0),J=[...rangeStep(new Decimal$1(B),new Decimal$1(U),K),U];return I===!1&&(J=J.map(ee=>Math.round(ee))),A>T?reverse(J):J}var getNiceTickValues=memoize(getNiceTickValuesFn),getTickValuesFixedDomain=memoize(getTickValuesFixedDomainFn),selectRootMaxBarSize=b=>b.rootProps.maxBarSize,selectBarGap=b=>b.rootProps.barGap,selectBarCategoryGap=b=>b.rootProps.barCategoryGap,selectRootBarSize=b=>b.rootProps.barSize,selectStackOffsetType=b=>b.rootProps.stackOffset,selectChartName=b=>b.options.chartName,selectSyncId=b=>b.rootProps.syncId,selectSyncMethod=b=>b.rootProps.syncMethod,selectEventEmitter=b=>b.options.eventEmitter,defaultPolarAngleAxisProps={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},defaultPolarRadiusAxisProps={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},combineAxisRangeWithReverse=(b,R)=>{if(!(!b||!R))return b!=null&&b.reversed?[R[1],R[0]]:R},implicitAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:defaultPolarAngleAxisProps.reversed,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:defaultPolarAngleAxisProps.type,unit:void 0},implicitRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:defaultPolarRadiusAxisProps.type,unit:void 0},implicitRadialBarAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:defaultPolarAngleAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},implicitRadialBarRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:"category",unit:void 0},selectAngleAxis=(b,R)=>b.polarAxis.angleAxis[R]!=null?b.polarAxis.angleAxis[R]:b.layout.layoutType==="radial"?implicitRadialBarAngleAxis:implicitAngleAxis,selectRadiusAxis=(b,R)=>b.polarAxis.radiusAxis[R]!=null?b.polarAxis.radiusAxis[R]:b.layout.layoutType==="radial"?implicitRadialBarRadiusAxis:implicitRadiusAxis,selectPolarOptions=b=>b.polarOptions,selectMaxRadius=createSelector([selectChartWidth,selectChartHeight,selectChartOffsetInternal],getMaxRadius),selectInnerRadius=createSelector([selectPolarOptions,selectMaxRadius],(b,R)=>{if(b!=null)return getPercentValue(b.innerRadius,R,0)}),selectOuterRadius=createSelector([selectPolarOptions,selectMaxRadius],(b,R)=>{if(b!=null)return getPercentValue(b.outerRadius,R,R*.8)}),combineAngleAxisRange=b=>{if(b==null)return[0,0];var{startAngle:R,endAngle:A}=b;return[R,A]},selectAngleAxisRange=createSelector([selectPolarOptions],combineAngleAxisRange);createSelector([selectAngleAxis,selectAngleAxisRange],combineAxisRangeWithReverse);var selectRadiusAxisRange=createSelector([selectMaxRadius,selectInnerRadius,selectOuterRadius],(b,R,A)=>{if(!(b==null||R==null||A==null))return[R,A]});createSelector([selectRadiusAxis,selectRadiusAxisRange],combineAxisRangeWithReverse);var selectPolarViewBox=createSelector([selectChartLayout,selectPolarOptions,selectInnerRadius,selectOuterRadius,selectChartWidth,selectChartHeight],(b,R,A,T,I,B)=>{if(!(b!=="centric"&&b!=="radial"||R==null||A==null||T==null)){var{cx:U,cy:q,startAngle:K,endAngle:J}=R;return{cx:getPercentValue(U,I,I/2),cy:getPercentValue(q,B,B/2),innerRadius:A,outerRadius:T,startAngle:K,endAngle:J,clockWise:!1}}}),pickAxisType=(b,R)=>R,pickAxisId=(b,R,A)=>A;function getStackSeriesIdentifier(b){return b?.id}var selectTooltipAxisType=b=>{var R=selectChartLayout(b);return R==="horizontal"?"xAxis":R==="vertical"?"yAxis":R==="centric"?"angleAxis":"radiusAxis"},selectTooltipAxisId=b=>b.tooltip.settings.axisId,selectTooltipAxis=b=>{var R=selectTooltipAxisType(b),A=selectTooltipAxisId(b);return selectAxisSettings(b,R,A)},selectTooltipAxisDataKey=createSelector([selectTooltipAxis],b=>b?.dataKey);function combineDisplayedStackedData(b,R,A){var{chartData:T=[]}=R,{allowDuplicatedCategory:I,dataKey:B}=A,U=new Map;return b.forEach(q=>{var K,J=(K=q.data)!==null&&K!==void 0?K:T;if(!(J==null||J.length===0)){var ee=getStackSeriesIdentifier(q);J.forEach((te,xe)=>{var fe=B==null||I?xe:String(getValueByDataKey(te,B,null)),ye=getValueByDataKey(te,q.dataKey,0),Be;U.has(fe)?Be=U.get(fe):Be={},Object.assign(Be,{[ee]:ye}),U.set(fe,Be)})}}),Array.from(U.values())}function isStacked(b){return b.stackId!=null&&b.dataKey!=null}function ownKeys$l(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$l(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$l(Object(A),!0).forEach(function(T){_defineProperty$p(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$l(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$p(b,R,A){return(R=_toPropertyKey$p(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$p(b){var R=_toPrimitive$p(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$p(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}var defaultNumericDomain=[0,"auto"],implicitXAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},selectXAxisSettingsNoDefaults=(b,R)=>b.cartesianAxis.xAxis[R],selectXAxisSettings=(b,R)=>{var A=selectXAxisSettingsNoDefaults(b,R);return A??implicitXAxis},implicitYAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:defaultNumericDomain,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:DEFAULT_Y_AXIS_WIDTH},selectYAxisSettingsNoDefaults=(b,R)=>b.cartesianAxis.yAxis[R],selectYAxisSettings=(b,R)=>{var A=selectYAxisSettingsNoDefaults(b,R);return A??implicitYAxis},implicitZAxis={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},selectZAxisSettings=(b,R)=>{var A=b.cartesianAxis.zAxis[R];return A??implicitZAxis},selectBaseAxis=(b,R,A)=>{switch(R){case"xAxis":return selectXAxisSettings(b,A);case"yAxis":return selectYAxisSettings(b,A);case"zAxis":return selectZAxisSettings(b,A);case"angleAxis":return selectAngleAxis(b,A);case"radiusAxis":return selectRadiusAxis(b,A);default:throw new Error("Unexpected axis type: ".concat(R))}},selectCartesianAxisSettings=(b,R,A)=>{switch(R){case"xAxis":return selectXAxisSettings(b,A);case"yAxis":return selectYAxisSettings(b,A);default:throw new Error("Unexpected axis type: ".concat(R))}},selectAxisSettings=(b,R,A)=>{switch(R){case"xAxis":return selectXAxisSettings(b,A);case"yAxis":return selectYAxisSettings(b,A);case"angleAxis":return selectAngleAxis(b,A);case"radiusAxis":return selectRadiusAxis(b,A);default:throw new Error("Unexpected axis type: ".concat(R))}},selectHasBar=b=>b.graphicalItems.cartesianItems.some(R=>R.type==="bar")||b.graphicalItems.polarItems.some(R=>R.type==="radialBar");function itemAxisPredicate(b,R){return A=>{switch(b){case"xAxis":return"xAxisId"in A&&A.xAxisId===R;case"yAxis":return"yAxisId"in A&&A.yAxisId===R;case"zAxis":return"zAxisId"in A&&A.zAxisId===R;case"angleAxis":return"angleAxisId"in A&&A.angleAxisId===R;case"radiusAxis":return"radiusAxisId"in A&&A.radiusAxisId===R;default:return!1}}}var selectUnfilteredCartesianItems=b=>b.graphicalItems.cartesianItems,selectAxisPredicate=createSelector([pickAxisType,pickAxisId],itemAxisPredicate),combineGraphicalItemsSettings=(b,R,A)=>b.filter(A).filter(T=>R?.includeHidden===!0?!0:!T.hide),selectCartesianItemsSettings=createSelector([selectUnfilteredCartesianItems,selectBaseAxis,selectAxisPredicate],combineGraphicalItemsSettings),selectStackedCartesianItemsSettings=createSelector([selectCartesianItemsSettings],b=>b.filter(R=>R.type==="area"||R.type==="bar").filter(isStacked)),filterGraphicalNotStackedItems=b=>b.filter(R=>!("stackId"in R)||R.stackId===void 0),selectCartesianItemsSettingsExceptStacked=createSelector([selectCartesianItemsSettings],filterGraphicalNotStackedItems),combineGraphicalItemsData=b=>b.map(R=>R.data).filter(Boolean).flat(1),selectCartesianGraphicalItemsData=createSelector([selectCartesianItemsSettings],combineGraphicalItemsData),combineDisplayedData=(b,R)=>{var{chartData:A=[],dataStartIndex:T,dataEndIndex:I}=R;return b.length>0?b:A.slice(T,I+1)},selectDisplayedData=createSelector([selectCartesianGraphicalItemsData,selectChartDataWithIndexesIfNotInPanorama],combineDisplayedData),combineAppliedValues=(b,R,A)=>R?.dataKey!=null?b.map(T=>({value:getValueByDataKey(T,R.dataKey)})):A.length>0?A.map(T=>T.dataKey).flatMap(T=>b.map(I=>({value:getValueByDataKey(I,T)}))):b.map(T=>({value:T})),selectAllAppliedValues=createSelector([selectDisplayedData,selectBaseAxis,selectCartesianItemsSettings],combineAppliedValues);function isErrorBarRelevantForAxisType(b,R){switch(b){case"xAxis":return R.direction==="x";case"yAxis":return R.direction==="y";default:return!1}}function onlyAllowNumbers(b){return b.filter(R=>isNumOrStr(R)||R instanceof Date).map(Number).filter(R=>isNan(R)===!1)}function getErrorDomainByDataKey(b,R,A){return!A||typeof R!="number"||isNan(R)?[]:A.length?onlyAllowNumbers(A.flatMap(T=>{var I=getValueByDataKey(b,T.dataKey),B,U;if(Array.isArray(I)?[B,U]=I:B=U=I,!(!isWellBehavedNumber(B)||!isWellBehavedNumber(U)))return[R-B,R+U]})):[]}var selectDisplayedStackedData=createSelector([selectStackedCartesianItemsSettings,selectChartDataWithIndexesIfNotInPanorama,selectTooltipAxis],combineDisplayedStackedData),combineStackGroups=(b,R,A)=>{var T={},I=R.reduce((B,U)=>(U.stackId==null||(B[U.stackId]==null&&(B[U.stackId]=[]),B[U.stackId].push(U)),B),T);return Object.fromEntries(Object.entries(I).map(B=>{var[U,q]=B,K=q.map(getStackSeriesIdentifier);return[U,{stackedData:getStackedData(b,K,A),graphicalItems:q}]}))},selectStackGroups=createSelector([selectDisplayedStackedData,selectStackedCartesianItemsSettings,selectStackOffsetType],combineStackGroups),combineDomainOfStackGroups=(b,R,A)=>{var{dataStartIndex:T,dataEndIndex:I}=R;if(A!=="zAxis"){var B=getDomainOfStackGroups(b,T,I);if(!(B!=null&&B[0]===0&&B[1]===0))return B}},selectDomainOfStackGroups=createSelector([selectStackGroups,selectChartDataWithIndexes,pickAxisType],combineDomainOfStackGroups),combineAppliedNumericalValuesIncludingErrorValues=(b,R,A,T,I)=>A.length>0?b.flatMap(B=>A.flatMap(U=>{var q,K,J=(q=T[U.id])===null||q===void 0?void 0:q.filter(te=>isErrorBarRelevantForAxisType(I,te)),ee=getValueByDataKey(B,(K=R.dataKey)!==null&&K!==void 0?K:U.dataKey);return{value:ee,errorDomain:getErrorDomainByDataKey(B,ee,J)}})).filter(Boolean):R?.dataKey!=null?b.map(B=>({value:getValueByDataKey(B,R.dataKey),errorDomain:[]})):b.map(B=>({value:B,errorDomain:[]})),selectAllErrorBarSettings=b=>b.errorBars,combineRelevantErrorBarSettings=(b,R,A)=>b.flatMap(T=>R[T.id]).filter(Boolean).filter(T=>isErrorBarRelevantForAxisType(A,T));createSelector([selectCartesianItemsSettingsExceptStacked,selectAllErrorBarSettings,pickAxisType],combineRelevantErrorBarSettings);var selectAllAppliedNumericalValuesIncludingErrorValues=createSelector([selectDisplayedData,selectBaseAxis,selectCartesianItemsSettingsExceptStacked,selectAllErrorBarSettings,pickAxisType],combineAppliedNumericalValuesIncludingErrorValues);function onlyAllowNumbersAndStringsAndDates(b){var{value:R}=b;if(isNumOrStr(R)||R instanceof Date)return R}var computeNumericalDomain=b=>{var R=b.flatMap(T=>[T.value,T.errorDomain]).flat(1),A=onlyAllowNumbers(R);if(A.length!==0)return[Math.min(...A),Math.max(...A)]},computeDomainOfTypeCategory=(b,R,A)=>{var T=b.map(onlyAllowNumbersAndStringsAndDates).filter(I=>I!=null);return A&&(R.dataKey==null||R.allowDuplicatedCategory&&hasDuplicate(T))?range$2(0,b.length):R.allowDuplicatedCategory?T:Array.from(new Set(T))},getDomainDefinition=b=>{var R;if(b==null||!("domain"in b))return defaultNumericDomain;if(b.domain!=null)return b.domain;if(b.ticks!=null){if(b.type==="number"){var A=onlyAllowNumbers(b.ticks);return[Math.min(...A),Math.max(...A)]}if(b.type==="category")return b.ticks.map(String)}return(R=b?.domain)!==null&&R!==void 0?R:defaultNumericDomain},mergeDomains=function b(){for(var R=arguments.length,A=new Array(R),T=0;T<R;T++)A[T]=arguments[T];var I=A.filter(Boolean);if(I.length!==0){var B=I.flat(),U=Math.min(...B),q=Math.max(...B);return[U,q]}},selectReferenceDots=b=>b.referenceElements.dots,filterReferenceElements=(b,R,A)=>b.filter(T=>T.ifOverflow==="extendDomain").filter(T=>R==="xAxis"?T.xAxisId===A:T.yAxisId===A),selectReferenceDotsByAxis=createSelector([selectReferenceDots,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceAreas=b=>b.referenceElements.areas,selectReferenceAreasByAxis=createSelector([selectReferenceAreas,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceLines=b=>b.referenceElements.lines,selectReferenceLinesByAxis=createSelector([selectReferenceLines,pickAxisType,pickAxisId],filterReferenceElements),combineDotsDomain=(b,R)=>{var A=onlyAllowNumbers(b.map(T=>R==="xAxis"?T.x:T.y));if(A.length!==0)return[Math.min(...A),Math.max(...A)]},selectReferenceDotsDomain=createSelector(selectReferenceDotsByAxis,pickAxisType,combineDotsDomain),combineAreasDomain=(b,R)=>{var A=onlyAllowNumbers(b.flatMap(T=>[R==="xAxis"?T.x1:T.y1,R==="xAxis"?T.x2:T.y2]));if(A.length!==0)return[Math.min(...A),Math.max(...A)]},selectReferenceAreasDomain=createSelector([selectReferenceAreasByAxis,pickAxisType],combineAreasDomain),combineLinesDomain=(b,R)=>{var A=onlyAllowNumbers(b.map(T=>R==="xAxis"?T.x:T.y));if(A.length!==0)return[Math.min(...A),Math.max(...A)]},selectReferenceLinesDomain=createSelector(selectReferenceLinesByAxis,pickAxisType,combineLinesDomain),selectReferenceElementsDomain=createSelector(selectReferenceDotsDomain,selectReferenceLinesDomain,selectReferenceAreasDomain,(b,R,A)=>mergeDomains(b,A,R)),selectDomainDefinition=createSelector([selectBaseAxis],getDomainDefinition),combineNumericalDomain=(b,R,A,T,I,B,U)=>{var q=numericalDomainSpecifiedWithoutRequiringData(R,b.allowDataOverflow);if(q!=null)return q;var K=B==="vertical"&&U==="xAxis"||B==="horizontal"&&U==="yAxis",J=K?mergeDomains(A,I,computeNumericalDomain(T)):mergeDomains(I,computeNumericalDomain(T));return parseNumericalUserDomain(R,J,b.allowDataOverflow)},selectNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,selectDomainOfStackGroups,selectAllAppliedNumericalValuesIncludingErrorValues,selectReferenceElementsDomain,selectChartLayout,pickAxisType],combineNumericalDomain),expandDomain=[0,1],combineAxisDomain=(b,R,A,T,I,B,U)=>{if(!((b==null||A==null||A.length===0)&&U===void 0)){var{dataKey:q,type:K}=b,J=isCategoricalAxis(R,B);return J&&q==null?range$2(0,A.length):K==="category"?computeDomainOfTypeCategory(T,b,J):I==="expand"?expandDomain:U}},selectAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectDisplayedData,selectAllAppliedValues,selectStackOffsetType,pickAxisType,selectNumericalDomain],combineAxisDomain),combineRealScaleType=(b,R,A,T,I)=>{if(b!=null){var{scale:B,type:U}=b;if(B==="auto")return R==="radial"&&I==="radiusAxis"?"band":R==="radial"&&I==="angleAxis"?"linear":U==="category"&&T&&(T.indexOf("LineChart")>=0||T.indexOf("AreaChart")>=0||T.indexOf("ComposedChart")>=0&&!A)?"point":U==="category"?"band":"linear";if(typeof B=="string"){var q="scale".concat(upperFirst(B));return q in d3Scales?q:"point"}}},selectRealScaleType=createSelector([selectBaseAxis,selectChartLayout,selectHasBar,selectChartName,pickAxisType],combineRealScaleType);function getD3ScaleFromType(b){if(b!=null){if(b in d3Scales)return d3Scales[b]();var R="scale".concat(upperFirst(b));if(R in d3Scales)return d3Scales[R]()}}function combineScaleFunction(b,R,A,T){if(!(A==null||T==null)){if(typeof b.scale=="function")return b.scale.copy().domain(A).range(T);var I=getD3ScaleFromType(R);if(I!=null){var B=I.domain(A).range(T);return checkDomainOfScale(B),B}}}var combineNiceTicks=(b,R,A)=>{var T=getDomainDefinition(R);if(!(A!=="auto"&&A!=="linear")){if(R!=null&&R.tickCount&&Array.isArray(T)&&(T[0]==="auto"||T[1]==="auto")&&isWellFormedNumberDomain(b))return getNiceTickValues(b,R.tickCount,R.allowDecimals);if(R!=null&&R.tickCount&&R.type==="number"&&isWellFormedNumberDomain(b))return getTickValuesFixedDomain(b,R.tickCount,R.allowDecimals)}},selectNiceTicks=createSelector([selectAxisDomain,selectAxisSettings,selectRealScaleType],combineNiceTicks),combineAxisDomainWithNiceTicks=(b,R,A,T)=>{if(T!=="angleAxis"&&b?.type==="number"&&isWellFormedNumberDomain(R)&&Array.isArray(A)&&A.length>0){var I=R[0],B=A[0],U=R[1],q=A[A.length-1];return[Math.min(I,B),Math.max(U,q)]}return R},selectAxisDomainIncludingNiceTicks=createSelector([selectBaseAxis,selectAxisDomain,selectNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks),selectSmallestDistanceBetweenValues=createSelector(selectAllAppliedValues,selectBaseAxis,(b,R)=>{if(!(!R||R.type!=="number")){var A=1/0,T=Array.from(onlyAllowNumbers(b.map(q=>q.value))).sort((q,K)=>q-K);if(T.length<2)return 1/0;var I=T[T.length-1]-T[0];if(I===0)return 1/0;for(var B=0;B<T.length-1;B++){var U=T[B+1]-T[B];A=Math.min(A,U)}return A/I}}),selectCalculatedPadding=createSelector(selectSmallestDistanceBetweenValues,selectChartLayout,selectBarCategoryGap,selectChartOffsetInternal,(b,R,A,T)=>T,(b,R,A,T,I)=>{if(!isWellBehavedNumber(b))return 0;var B=R==="vertical"?T.height:T.width;if(I==="gap")return b*B/2;if(I==="no-gap"){var U=getPercentValue(A,b*B),q=b*B/2;return q-U-(q-U)/B*U}return 0}),selectCalculatedXAxisPadding=(b,R)=>{var A=selectXAxisSettings(b,R);return A==null||typeof A.padding!="string"?0:selectCalculatedPadding(b,"xAxis",R,A.padding)},selectCalculatedYAxisPadding=(b,R)=>{var A=selectYAxisSettings(b,R);return A==null||typeof A.padding!="string"?0:selectCalculatedPadding(b,"yAxis",R,A.padding)},selectXAxisPadding=createSelector(selectXAxisSettings,selectCalculatedXAxisPadding,(b,R)=>{var A,T;if(b==null)return{left:0,right:0};var{padding:I}=b;return typeof I=="string"?{left:R,right:R}:{left:((A=I.left)!==null&&A!==void 0?A:0)+R,right:((T=I.right)!==null&&T!==void 0?T:0)+R}}),selectYAxisPadding=createSelector(selectYAxisSettings,selectCalculatedYAxisPadding,(b,R)=>{var A,T;if(b==null)return{top:0,bottom:0};var{padding:I}=b;return typeof I=="string"?{top:R,bottom:R}:{top:((A=I.top)!==null&&A!==void 0?A:0)+R,bottom:((T=I.bottom)!==null&&T!==void 0?T:0)+R}}),combineXAxisRange=createSelector([selectChartOffsetInternal,selectXAxisPadding,selectBrushDimensions,selectBrushSettings,(b,R,A)=>A],(b,R,A,T,I)=>{var{padding:B}=T;return I?[B.left,A.width-B.right]:[b.left+R.left,b.left+b.width-R.right]}),combineYAxisRange=createSelector([selectChartOffsetInternal,selectChartLayout,selectYAxisPadding,selectBrushDimensions,selectBrushSettings,(b,R,A)=>A],(b,R,A,T,I,B)=>{var{padding:U}=I;return B?[T.height-U.bottom,U.top]:R==="horizontal"?[b.top+b.height-A.bottom,b.top+A.top]:[b.top+A.top,b.top+b.height-A.bottom]}),selectAxisRange=(b,R,A,T)=>{var I;switch(R){case"xAxis":return combineXAxisRange(b,A,T);case"yAxis":return combineYAxisRange(b,A,T);case"zAxis":return(I=selectZAxisSettings(b,A))===null||I===void 0?void 0:I.range;case"angleAxis":return selectAngleAxisRange(b);case"radiusAxis":return selectRadiusAxisRange(b,A);default:return}},selectAxisRangeWithReverse=createSelector([selectBaseAxis,selectAxisRange],combineAxisRangeWithReverse),selectAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomainIncludingNiceTicks,selectAxisRangeWithReverse],combineScaleFunction);createSelector([selectCartesianItemsSettings,selectAllErrorBarSettings,pickAxisType],combineRelevantErrorBarSettings);function compareIds(b,R){return b.id<R.id?-1:b.id>R.id?1:0}var pickAxisOrientation=(b,R)=>R,pickMirror=(b,R,A)=>A,selectAllXAxesWithOffsetType=createSelector(selectAllXAxes,pickAxisOrientation,pickMirror,(b,R,A)=>b.filter(T=>T.orientation===R).filter(T=>T.mirror===A).sort(compareIds)),selectAllYAxesWithOffsetType=createSelector(selectAllYAxes,pickAxisOrientation,pickMirror,(b,R,A)=>b.filter(T=>T.orientation===R).filter(T=>T.mirror===A).sort(compareIds)),getXAxisSize=(b,R)=>({width:b.width,height:R.height}),getYAxisSize=(b,R)=>{var A=typeof R.width=="number"?R.width:DEFAULT_Y_AXIS_WIDTH;return{width:A,height:b.height}},selectXAxisSize=createSelector(selectChartOffsetInternal,selectXAxisSettings,getXAxisSize),combineXAxisPositionStartingPoint=(b,R,A)=>{switch(R){case"top":return b.top;case"bottom":return A-b.bottom;default:return 0}},combineYAxisPositionStartingPoint=(b,R,A)=>{switch(R){case"left":return b.left;case"right":return A-b.right;default:return 0}},selectAllXAxesOffsetSteps=createSelector(selectChartHeight,selectChartOffsetInternal,selectAllXAxesWithOffsetType,pickAxisOrientation,pickMirror,(b,R,A,T,I)=>{var B={},U;return A.forEach(q=>{var K=getXAxisSize(R,q);U==null&&(U=combineXAxisPositionStartingPoint(R,T,b));var J=T==="top"&&!I||T==="bottom"&&I;B[q.id]=U-Number(J)*K.height,U+=(J?-1:1)*K.height}),B}),selectAllYAxesOffsetSteps=createSelector(selectChartWidth,selectChartOffsetInternal,selectAllYAxesWithOffsetType,pickAxisOrientation,pickMirror,(b,R,A,T,I)=>{var B={},U;return A.forEach(q=>{var K=getYAxisSize(R,q);U==null&&(U=combineYAxisPositionStartingPoint(R,T,b));var J=T==="left"&&!I||T==="right"&&I;B[q.id]=U-Number(J)*K.width,U+=(J?-1:1)*K.width}),B}),selectXAxisPosition=(b,R)=>{var A=selectChartOffsetInternal(b),T=selectXAxisSettings(b,R);if(T!=null){var I=selectAllXAxesOffsetSteps(b,T.orientation,T.mirror),B=I[R];return B==null?{x:A.left,y:0}:{x:A.left,y:B}}},selectYAxisPosition=(b,R)=>{var A=selectChartOffsetInternal(b),T=selectYAxisSettings(b,R);if(T!=null){var I=selectAllYAxesOffsetSteps(b,T.orientation,T.mirror),B=I[R];return B==null?{x:0,y:A.top}:{x:B,y:A.top}}},selectYAxisSize=createSelector(selectChartOffsetInternal,selectYAxisSettings,(b,R)=>{var A=typeof R.width=="number"?R.width:DEFAULT_Y_AXIS_WIDTH;return{width:A,height:b.height}}),selectCartesianAxisSize=(b,R,A)=>{switch(R){case"xAxis":return selectXAxisSize(b,A).width;case"yAxis":return selectYAxisSize(b,A).height;default:return}},combineDuplicateDomain=(b,R,A,T)=>{if(A!=null){var{allowDuplicatedCategory:I,type:B,dataKey:U}=A,q=isCategoricalAxis(b,T),K=R.map(J=>J.value);if(U&&q&&B==="category"&&I&&hasDuplicate(K))return K}},selectDuplicateDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectBaseAxis,pickAxisType],combineDuplicateDomain),combineCategoricalDomain=(b,R,A,T)=>{if(!(A==null||A.dataKey==null)){var{type:I,scale:B}=A,U=isCategoricalAxis(b,T);if(U&&(I==="number"||B!=="auto"))return R.map(q=>q.value)}},selectCategoricalDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectAxisSettings,pickAxisType],combineCategoricalDomain),selectAxisPropsNeededForCartesianGridTicksGenerator=createSelector([selectChartLayout,selectCartesianAxisSettings,selectRealScaleType,selectAxisScale,selectDuplicateDomain,selectCategoricalDomain,selectAxisRange,selectNiceTicks,pickAxisType],(b,R,A,T,I,B,U,q,K)=>{if(R==null)return null;var J=isCategoricalAxis(b,K);return{angle:R.angle,interval:R.interval,minTickGap:R.minTickGap,orientation:R.orientation,tick:R.tick,tickCount:R.tickCount,tickFormatter:R.tickFormatter,ticks:R.ticks,type:R.type,unit:R.unit,axisType:K,categoricalDomain:B,duplicateDomain:I,isCategorical:J,niceTicks:q,range:U,realScaleType:A,scale:T}}),combineAxisTicks=(b,R,A,T,I,B,U,q,K)=>{if(!(R==null||T==null)){var J=isCategoricalAxis(b,K),{type:ee,ticks:te,tickCount:xe}=R,fe=A==="scaleBand"&&typeof T.bandwidth=="function"?T.bandwidth()/2:2,ye=ee==="category"&&T.bandwidth?T.bandwidth()/fe:0;ye=K==="angleAxis"&&B!=null&&B.length>=2?mathSign(B[0]-B[1])*2*ye:ye;var Be=te||I;if(Be){var Le=Be.map((qe,Ge)=>{var $e=U?U.indexOf(qe):qe;return{index:Ge,coordinate:T($e)+ye,value:qe,offset:ye}});return Le.filter(qe=>!isNan(qe.coordinate))}return J&&q?q.map((qe,Ge)=>({coordinate:T(qe)+ye,value:qe,index:Ge,offset:ye})):T.ticks?T.ticks(xe).map(qe=>({coordinate:T(qe)+ye,value:qe,offset:ye})):T.domain().map((qe,Ge)=>({coordinate:T(qe)+ye,value:U?U[qe]:qe,index:Ge,offset:ye}))}},selectTicksOfAxis=createSelector([selectChartLayout,selectAxisSettings,selectRealScaleType,selectAxisScale,selectNiceTicks,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineAxisTicks),combineGraphicalItemTicks=(b,R,A,T,I,B,U)=>{if(!(R==null||A==null||T==null||T[0]===T[1])){var q=isCategoricalAxis(b,U),{tickCount:K}=R,J=0;return J=U==="angleAxis"&&T?.length>=2?mathSign(T[0]-T[1])*2*J:J,q&&B?B.map((ee,te)=>({coordinate:A(ee)+J,value:ee,index:te,offset:J})):A.ticks?A.ticks(K).map(ee=>({coordinate:A(ee)+J,value:ee,offset:J})):A.domain().map((ee,te)=>({coordinate:A(ee)+J,value:I?I[ee]:ee,index:te,offset:J}))}},selectTicksOfGraphicalItem=createSelector([selectChartLayout,selectAxisSettings,selectAxisScale,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineGraphicalItemTicks),selectAxisWithScale=createSelector(selectBaseAxis,selectAxisScale,(b,R)=>{if(!(b==null||R==null))return _objectSpread$l(_objectSpread$l({},b),{},{scale:R})}),selectZAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomain,selectAxisRangeWithReverse],combineScaleFunction);createSelector((b,R,A)=>selectZAxisSettings(b,A),selectZAxisScale,(b,R)=>{if(!(b==null||R==null))return _objectSpread$l(_objectSpread$l({},b),{},{scale:R})});var selectChartDirection=createSelector([selectChartLayout,selectAllXAxes,selectAllYAxes],(b,R,A)=>{switch(b){case"horizontal":return R.some(T=>T.reversed)?"right-to-left":"left-to-right";case"vertical":return A.some(T=>T.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),selectDefaultTooltipEventType=b=>b.options.defaultTooltipEventType,selectValidateTooltipEventTypes=b=>b.options.validateTooltipEventTypes;function combineTooltipEventType(b,R,A){if(b==null)return R;var T=b?"axis":"item";return A==null?R:A.includes(T)?T:R}function selectTooltipEventType$1(b,R){var A=selectDefaultTooltipEventType(b),T=selectValidateTooltipEventTypes(b);return combineTooltipEventType(R,A,T)}function useTooltipEventType(b){return useAppSelector(R=>selectTooltipEventType$1(R,b))}var combineActiveLabel=(b,R)=>{var A,T=Number(R);if(!(isNan(T)||R==null))return T>=0?b==null||(A=b[T])===null||A===void 0?void 0:A.value:void 0},selectTooltipSettings=b=>b.tooltip.settings,noInteraction={active:!1,index:null,dataKey:void 0,coordinate:void 0},initialState$8={itemInteraction:{click:noInteraction,hover:noInteraction},axisInteraction:{click:noInteraction,hover:noInteraction},keyboardInteraction:noInteraction,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},tooltipSlice=createSlice({name:"tooltip",initialState:initialState$8,reducers:{addTooltipEntrySettings(b,R){b.tooltipItemPayloads.push(R.payload)},removeTooltipEntrySettings(b,R){var A=current(b).tooltipItemPayloads.indexOf(R.payload);A>-1&&b.tooltipItemPayloads.splice(A,1)},setTooltipSettingsState(b,R){b.settings=R.payload},setActiveMouseOverItemIndex(b,R){b.syncInteraction.active=!1,b.keyboardInteraction.active=!1,b.itemInteraction.hover.active=!0,b.itemInteraction.hover.index=R.payload.activeIndex,b.itemInteraction.hover.dataKey=R.payload.activeDataKey,b.itemInteraction.hover.coordinate=R.payload.activeCoordinate},mouseLeaveChart(b){b.itemInteraction.hover.active=!1,b.axisInteraction.hover.active=!1},mouseLeaveItem(b){b.itemInteraction.hover.active=!1},setActiveClickItemIndex(b,R){b.syncInteraction.active=!1,b.itemInteraction.click.active=!0,b.keyboardInteraction.active=!1,b.itemInteraction.click.index=R.payload.activeIndex,b.itemInteraction.click.dataKey=R.payload.activeDataKey,b.itemInteraction.click.coordinate=R.payload.activeCoordinate},setMouseOverAxisIndex(b,R){b.syncInteraction.active=!1,b.axisInteraction.hover.active=!0,b.keyboardInteraction.active=!1,b.axisInteraction.hover.index=R.payload.activeIndex,b.axisInteraction.hover.dataKey=R.payload.activeDataKey,b.axisInteraction.hover.coordinate=R.payload.activeCoordinate},setMouseClickAxisIndex(b,R){b.syncInteraction.active=!1,b.keyboardInteraction.active=!1,b.axisInteraction.click.active=!0,b.axisInteraction.click.index=R.payload.activeIndex,b.axisInteraction.click.dataKey=R.payload.activeDataKey,b.axisInteraction.click.coordinate=R.payload.activeCoordinate},setSyncInteraction(b,R){b.syncInteraction=R.payload},setKeyboardInteraction(b,R){b.keyboardInteraction.active=R.payload.active,b.keyboardInteraction.index=R.payload.activeIndex,b.keyboardInteraction.coordinate=R.payload.activeCoordinate,b.keyboardInteraction.dataKey=R.payload.activeDataKey}}}),{addTooltipEntrySettings,removeTooltipEntrySettings,setTooltipSettingsState,setActiveMouseOverItemIndex,mouseLeaveItem,mouseLeaveChart,setActiveClickItemIndex,setMouseOverAxisIndex,setMouseClickAxisIndex,setSyncInteraction,setKeyboardInteraction}=tooltipSlice.actions,tooltipReducer=tooltipSlice.reducer;function ownKeys$k(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$k(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$k(Object(A),!0).forEach(function(T){_defineProperty$o(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$k(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$o(b,R,A){return(R=_toPropertyKey$o(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$o(b){var R=_toPrimitive$o(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$o(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}function chooseAppropriateMouseInteraction(b,R,A){return R==="axis"?A==="click"?b.axisInteraction.click:b.axisInteraction.hover:A==="click"?b.itemInteraction.click:b.itemInteraction.hover}function hasBeenActivePreviously(b){return b.index!=null}var combineTooltipInteractionState=(b,R,A,T)=>{if(R==null)return noInteraction;var I=chooseAppropriateMouseInteraction(b,R,A);if(I==null)return noInteraction;if(I.active)return I;if(b.keyboardInteraction.active)return b.keyboardInteraction;if(b.syncInteraction.active&&b.syncInteraction.index!=null)return b.syncInteraction;var B=b.settings.active===!0;if(hasBeenActivePreviously(I)){if(B)return _objectSpread$k(_objectSpread$k({},I),{},{active:!0})}else if(T!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:T};return _objectSpread$k(_objectSpread$k({},noInteraction),{},{coordinate:I.coordinate})},combineActiveTooltipIndex=(b,R)=>{var A=b?.index;if(A==null)return null;var T=Number(A);if(!isWellBehavedNumber(T))return A;var I=0,B=1/0;return R.length>0&&(B=R.length-1),String(Math.max(I,Math.min(T,B)))},combineCoordinateForDefaultIndex=(b,R,A,T,I,B,U,q)=>{if(!(B==null||q==null)){var K=U[0],J=K==null?void 0:q(K.positions,B);if(J!=null)return J;var ee=I?.[Number(B)];if(ee)switch(A){case"horizontal":return{x:ee.coordinate,y:(T.top+R)/2};default:return{x:(T.left+b)/2,y:ee.coordinate}}}},combineTooltipPayloadConfigurations=(b,R,A,T)=>{if(R==="axis")return b.tooltipItemPayloads;if(b.tooltipItemPayloads.length===0)return[];var I;return A==="hover"?I=b.itemInteraction.hover.dataKey:I=b.itemInteraction.click.dataKey,I==null&&T!=null?[b.tooltipItemPayloads[0]]:b.tooltipItemPayloads.filter(B=>{var U;return((U=B.settings)===null||U===void 0?void 0:U.dataKey)===I})},selectTooltipPayloadSearcher=b=>b.options.tooltipPayloadSearcher,selectTooltipState=b=>b.tooltip;function ownKeys$j(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$j(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$j(Object(A),!0).forEach(function(T){_defineProperty$n(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$j(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$n(b,R,A){return(R=_toPropertyKey$n(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$n(b){var R=_toPrimitive$n(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$n(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}function selectFinalData(b,R){return b??R}var combineTooltipPayload=(b,R,A,T,I,B,U)=>{if(!(R==null||B==null)){var{chartData:q,computedData:K,dataStartIndex:J,dataEndIndex:ee}=A,te=[];return b.reduce((xe,fe)=>{var ye,{dataDefinedOnItem:Be,settings:Le}=fe,qe=selectFinalData(Be,q),Ge=Array.isArray(qe)?getSliced(qe,J,ee):qe,$e=(ye=Le?.dataKey)!==null&&ye!==void 0?ye:T,Xe=Le?.nameKey,He;if(T&&Array.isArray(Ge)&&!Array.isArray(Ge[0])&&U==="axis"?He=findEntryInArray(Ge,T,I):He=B(Ge,R,K,Xe),Array.isArray(He))He.forEach(st=>{var ct=_objectSpread$j(_objectSpread$j({},Le),{},{name:st.name,unit:st.unit,color:void 0,fill:void 0});xe.push(getTooltipEntry({tooltipEntrySettings:ct,dataKey:st.dataKey,payload:st.payload,value:getValueByDataKey(st.payload,st.dataKey),name:st.name}))});else{var Qe;xe.push(getTooltipEntry({tooltipEntrySettings:Le,dataKey:$e,payload:He,value:getValueByDataKey(He,$e),name:(Qe=getValueByDataKey(He,Xe))!==null&&Qe!==void 0?Qe:Le?.name}))}return xe},te)}},selectTooltipAxisRealScaleType=createSelector([selectTooltipAxis,selectChartLayout,selectHasBar,selectChartName,selectTooltipAxisType],combineRealScaleType),selectAllUnfilteredGraphicalItems=createSelector([b=>b.graphicalItems.cartesianItems,b=>b.graphicalItems.polarItems],(b,R)=>[...b,...R]),selectTooltipAxisPredicate=createSelector([selectTooltipAxisType,selectTooltipAxisId],itemAxisPredicate),selectAllGraphicalItemsSettings=createSelector([selectAllUnfilteredGraphicalItems,selectTooltipAxis,selectTooltipAxisPredicate],combineGraphicalItemsSettings),selectAllStackedGraphicalItemsSettings=createSelector([selectAllGraphicalItemsSettings],b=>b.filter(isStacked)),selectTooltipGraphicalItemsData=createSelector([selectAllGraphicalItemsSettings],combineGraphicalItemsData),selectTooltipDisplayedData=createSelector([selectTooltipGraphicalItemsData,selectChartDataWithIndexes],combineDisplayedData),selectTooltipStackedData=createSelector([selectAllStackedGraphicalItemsSettings,selectChartDataWithIndexes,selectTooltipAxis],combineDisplayedStackedData),selectAllTooltipAppliedValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectAllGraphicalItemsSettings],combineAppliedValues),selectTooltipAxisDomainDefinition=createSelector([selectTooltipAxis],getDomainDefinition),selectAllStackedGraphicalItems=createSelector([selectAllGraphicalItemsSettings],b=>b.filter(isStacked)),selectTooltipStackGroups=createSelector([selectTooltipStackedData,selectAllStackedGraphicalItems,selectStackOffsetType],combineStackGroups),selectTooltipDomainOfStackGroups=createSelector([selectTooltipStackGroups,selectChartDataWithIndexes,selectTooltipAxisType],combineDomainOfStackGroups),selectTooltipItemsSettingsExceptStacked=createSelector([selectAllGraphicalItemsSettings],filterGraphicalNotStackedItems),selectTooltipAllAppliedNumericalValuesIncludingErrorValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectTooltipItemsSettingsExceptStacked,selectAllErrorBarSettings,selectTooltipAxisType],combineAppliedNumericalValuesIncludingErrorValues),selectReferenceDotsByTooltipAxis=createSelector([selectReferenceDots,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceDotsDomain=createSelector([selectReferenceDotsByTooltipAxis,selectTooltipAxisType],combineDotsDomain),selectReferenceAreasByTooltipAxis=createSelector([selectReferenceAreas,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceAreasDomain=createSelector([selectReferenceAreasByTooltipAxis,selectTooltipAxisType],combineAreasDomain),selectReferenceLinesByTooltipAxis=createSelector([selectReferenceLines,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceLinesDomain=createSelector([selectReferenceLinesByTooltipAxis,selectTooltipAxisType],combineLinesDomain),selectTooltipReferenceElementsDomain=createSelector([selectTooltipReferenceDotsDomain,selectTooltipReferenceLinesDomain,selectTooltipReferenceAreasDomain],mergeDomains),selectTooltipNumericalDomain=createSelector([selectTooltipAxis,selectTooltipAxisDomainDefinition,selectTooltipDomainOfStackGroups,selectTooltipAllAppliedNumericalValuesIncludingErrorValues,selectTooltipReferenceElementsDomain,selectChartLayout,selectTooltipAxisType],combineNumericalDomain),selectTooltipAxisDomain=createSelector([selectTooltipAxis,selectChartLayout,selectTooltipDisplayedData,selectAllTooltipAppliedValues,selectStackOffsetType,selectTooltipAxisType,selectTooltipNumericalDomain],combineAxisDomain),selectTooltipNiceTicks=createSelector([selectTooltipAxisDomain,selectTooltipAxis,selectTooltipAxisRealScaleType],combineNiceTicks),selectTooltipAxisDomainIncludingNiceTicks=createSelector([selectTooltipAxis,selectTooltipAxisDomain,selectTooltipNiceTicks,selectTooltipAxisType],combineAxisDomainWithNiceTicks),selectTooltipAxisRange=b=>{var R=selectTooltipAxisType(b),A=selectTooltipAxisId(b),T=!1;return selectAxisRange(b,R,A,T)},selectTooltipAxisRangeWithReverse=createSelector([selectTooltipAxis,selectTooltipAxisRange],combineAxisRangeWithReverse),selectTooltipAxisScale=createSelector([selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisDomainIncludingNiceTicks,selectTooltipAxisRangeWithReverse],combineScaleFunction),selectTooltipDuplicateDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineDuplicateDomain),selectTooltipCategoricalDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineCategoricalDomain),combineTicksOfTooltipAxis=(b,R,A,T,I,B,U,q)=>{if(R){var{type:K}=R,J=isCategoricalAxis(b,q);if(T){var ee=A==="scaleBand"&&T.bandwidth?T.bandwidth()/2:2,te=K==="category"&&T.bandwidth?T.bandwidth()/ee:0;return te=q==="angleAxis"&&I!=null&&I?.length>=2?mathSign(I[0]-I[1])*2*te:te,J&&U?U.map((xe,fe)=>({coordinate:T(xe)+te,value:xe,index:fe,offset:te})):T.domain().map((xe,fe)=>({coordinate:T(xe)+te,value:B?B[xe]:xe,index:fe,offset:te}))}}},selectTooltipAxisTicks=createSelector([selectChartLayout,selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisScale,selectTooltipAxisRange,selectTooltipDuplicateDomain,selectTooltipCategoricalDomain,selectTooltipAxisType],combineTicksOfTooltipAxis),selectTooltipEventType=createSelector([selectDefaultTooltipEventType,selectValidateTooltipEventTypes,selectTooltipSettings],(b,R,A)=>combineTooltipEventType(A.shared,b,R)),selectTooltipTrigger=b=>b.tooltip.settings.trigger,selectDefaultIndex=b=>b.tooltip.settings.defaultIndex,selectTooltipInteractionState$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipInteractionState),selectActiveTooltipIndex=createSelector([selectTooltipInteractionState$1,selectTooltipDisplayedData],combineActiveTooltipIndex),selectActiveLabel$1=createSelector([selectTooltipAxisTicks,selectActiveTooltipIndex],combineActiveLabel),selectActiveTooltipDataKey=createSelector([selectTooltipInteractionState$1],b=>{if(b)return b.dataKey}),selectTooltipPayloadConfigurations$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipPayloadConfigurations),selectTooltipCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,selectDefaultIndex,selectTooltipPayloadConfigurations$1,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveTooltipCoordinate=createSelector([selectTooltipInteractionState$1,selectTooltipCoordinateForDefaultIndex],(b,R)=>b!=null&&b.coordinate?b.coordinate:R),selectIsTooltipActive$1=createSelector([selectTooltipInteractionState$1],b=>b.active),selectActiveTooltipPayload=createSelector([selectTooltipPayloadConfigurations$1,selectActiveTooltipIndex,selectChartDataWithIndexes,selectTooltipAxisDataKey,selectActiveLabel$1,selectTooltipPayloadSearcher,selectTooltipEventType],combineTooltipPayload),selectActiveTooltipDataPoints=createSelector([selectActiveTooltipPayload],b=>{if(b!=null){var R=b.map(A=>A.payload).filter(A=>A!=null);return Array.from(new Set(R))}});function ownKeys$i(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$i(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$i(Object(A),!0).forEach(function(T){_defineProperty$m(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$i(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$m(b,R,A){return(R=_toPropertyKey$m(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$m(b){var R=_toPrimitive$m(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$m(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}var useTooltipAxis=()=>useAppSelector(selectTooltipAxis),useTooltipAxisBandSize=()=>{var b=useTooltipAxis(),R=useAppSelector(selectTooltipAxisTicks),A=useAppSelector(selectTooltipAxisScale);return getBandSizeOfAxis(_objectSpread$i(_objectSpread$i({},b),{},{scale:A}),R)},useChartName=()=>useAppSelector(selectChartName),pickTooltipEventType=(b,R)=>R,pickTrigger=(b,R,A)=>A,pickDefaultIndex=(b,R,A,T)=>T,selectOrderedTooltipTicks=createSelector(selectTooltipAxisTicks,b=>sortBy(b,R=>R.coordinate)),selectTooltipInteractionState=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipInteractionState),selectActiveIndex=createSelector([selectTooltipInteractionState,selectTooltipDisplayedData],combineActiveTooltipIndex),selectTooltipDataKey=(b,R,A)=>{if(R!=null){var T=selectTooltipState(b);return R==="axis"?A==="hover"?T.axisInteraction.hover.dataKey:T.axisInteraction.click.dataKey:A==="hover"?T.itemInteraction.hover.dataKey:T.itemInteraction.click.dataKey}},selectTooltipPayloadConfigurations=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipPayloadConfigurations),selectCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,pickDefaultIndex,selectTooltipPayloadConfigurations,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveCoordinate=createSelector([selectTooltipInteractionState,selectCoordinateForDefaultIndex],(b,R)=>{var A;return(A=b.coordinate)!==null&&A!==void 0?A:R}),selectActiveLabel=createSelector(selectTooltipAxisTicks,selectActiveIndex,combineActiveLabel),selectTooltipPayload=createSelector([selectTooltipPayloadConfigurations,selectActiveIndex,selectChartDataWithIndexes,selectTooltipAxisDataKey,selectActiveLabel,selectTooltipPayloadSearcher,pickTooltipEventType],combineTooltipPayload),selectIsTooltipActive=createSelector([selectTooltipInteractionState],b=>({isActive:b.active,activeIndex:b.index})),combineActiveProps=(b,R,A,T,I,B,U,q)=>{if(!(!b||!R||!T||!I||!B)){var K=inRange(b.chartX,b.chartY,R,A,q);if(K){var J=calculateTooltipPos(K,R),ee=calculateActiveTickIndex(J,U,B,T,I),te=getActiveCoordinate(R,B,ee,K);return{activeIndex:String(ee),activeCoordinate:te}}}};function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var T in A)({}).hasOwnProperty.call(A,T)&&(b[T]=A[T])}return b},_extends$e.apply(null,arguments)}function ownKeys$h(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$h(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$h(Object(A),!0).forEach(function(T){_defineProperty$l(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$h(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$l(b,R,A){return(R=_toPropertyKey$l(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$l(b){var R=_toPrimitive$l(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$l(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}function CursorInternal(b){var{coordinate:R,payload:A,index:T,offset:I,tooltipAxisBandSize:B,layout:U,cursor:q,tooltipEventType:K,chartName:J}=b,ee=R,te=A,xe=T;if(!q||!ee||J!=="ScatterChart"&&K!=="axis")return null;var fe,ye;if(J==="ScatterChart")fe=ee,ye=Cross;else if(J==="BarChart")fe=getCursorRectangle(U,ee,I,B),ye=Rectangle;else if(U==="radial"){var{cx:Be,cy:Le,radius:qe,startAngle:Ge,endAngle:$e}=getRadialCursorPoints(ee);fe={cx:Be,cy:Le,startAngle:Ge,endAngle:$e,innerRadius:qe,outerRadius:qe},ye=Sector}else fe={points:getCursorPoints(U,ee,I)},ye=Curve;var Xe=typeof q=="object"&&"className"in q?q.className:void 0,He=_objectSpread$h(_objectSpread$h(_objectSpread$h(_objectSpread$h({stroke:"#ccc",pointerEvents:"none"},I),fe),filterProps(q,!1)),{},{payload:te,payloadIndex:xe,className:clsx("recharts-tooltip-cursor",Xe)});return reactExports.isValidElement(q)?reactExports.cloneElement(q,He):reactExports.createElement(ye,He)}function Cursor(b){var R=useTooltipAxisBandSize(),A=useOffsetInternal(),T=useChartLayout(),I=useChartName();return reactExports.createElement(CursorInternal,_extends$e({},b,{coordinate:b.coordinate,index:b.index,payload:b.payload,offset:A,layout:T,tooltipAxisBandSize:R,chartName:I}))}var TooltipPortalContext=reactExports.createContext(null),useTooltipPortal=()=>reactExports.useContext(TooltipPortalContext),eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,(function(b){var R=Object.prototype.hasOwnProperty,A="~";function T(){}Object.create&&(T.prototype=Object.create(null),new T().__proto__||(A=!1));function I(K,J,ee){this.fn=K,this.context=J,this.once=ee||!1}function B(K,J,ee,te,xe){if(typeof ee!="function")throw new TypeError("The listener must be a function");var fe=new I(ee,te||K,xe),ye=A?A+J:J;return K._events[ye]?K._events[ye].fn?K._events[ye]=[K._events[ye],fe]:K._events[ye].push(fe):(K._events[ye]=fe,K._eventsCount++),K}function U(K,J){--K._eventsCount===0?K._events=new T:delete K._events[J]}function q(){this._events=new T,this._eventsCount=0}q.prototype.eventNames=function(){var J=[],ee,te;if(this._eventsCount===0)return J;for(te in ee=this._events)R.call(ee,te)&&J.push(A?te.slice(1):te);return Object.getOwnPropertySymbols?J.concat(Object.getOwnPropertySymbols(ee)):J},q.prototype.listeners=function(J){var ee=A?A+J:J,te=this._events[ee];if(!te)return[];if(te.fn)return[te.fn];for(var xe=0,fe=te.length,ye=new Array(fe);xe<fe;xe++)ye[xe]=te[xe].fn;return ye},q.prototype.listenerCount=function(J){var ee=A?A+J:J,te=this._events[ee];return te?te.fn?1:te.length:0},q.prototype.emit=function(J,ee,te,xe,fe,ye){var Be=A?A+J:J;if(!this._events[Be])return!1;var Le=this._events[Be],qe=arguments.length,Ge,$e;if(Le.fn){switch(Le.once&&this.removeListener(J,Le.fn,void 0,!0),qe){case 1:return Le.fn.call(Le.context),!0;case 2:return Le.fn.call(Le.context,ee),!0;case 3:return Le.fn.call(Le.context,ee,te),!0;case 4:return Le.fn.call(Le.context,ee,te,xe),!0;case 5:return Le.fn.call(Le.context,ee,te,xe,fe),!0;case 6:return Le.fn.call(Le.context,ee,te,xe,fe,ye),!0}for($e=1,Ge=new Array(qe-1);$e<qe;$e++)Ge[$e-1]=arguments[$e];Le.fn.apply(Le.context,Ge)}else{var Xe=Le.length,He;for($e=0;$e<Xe;$e++)switch(Le[$e].once&&this.removeListener(J,Le[$e].fn,void 0,!0),qe){case 1:Le[$e].fn.call(Le[$e].context);break;case 2:Le[$e].fn.call(Le[$e].context,ee);break;case 3:Le[$e].fn.call(Le[$e].context,ee,te);break;case 4:Le[$e].fn.call(Le[$e].context,ee,te,xe);break;default:if(!Ge)for(He=1,Ge=new Array(qe-1);He<qe;He++)Ge[He-1]=arguments[He];Le[$e].fn.apply(Le[$e].context,Ge)}}return!0},q.prototype.on=function(J,ee,te){return B(this,J,ee,te,!1)},q.prototype.once=function(J,ee,te){return B(this,J,ee,te,!0)},q.prototype.removeListener=function(J,ee,te,xe){var fe=A?A+J:J;if(!this._events[fe])return this;if(!ee)return U(this,fe),this;var ye=this._events[fe];if(ye.fn)ye.fn===ee&&(!xe||ye.once)&&(!te||ye.context===te)&&U(this,fe);else{for(var Be=0,Le=[],qe=ye.length;Be<qe;Be++)(ye[Be].fn!==ee||xe&&!ye[Be].once||te&&ye[Be].context!==te)&&Le.push(ye[Be]);Le.length?this._events[fe]=Le.length===1?Le[0]:Le:U(this,fe)}return this},q.prototype.removeAllListeners=function(J){var ee;return J?(ee=A?A+J:J,this._events[ee]&&U(this,ee)):(this._events=new T,this._eventsCount=0),this},q.prototype.off=q.prototype.removeListener,q.prototype.addListener=q.prototype.on,q.prefixed=A,q.EventEmitter=q,b.exports=q})(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,TOOLTIP_SYNC_EVENT="recharts.syncEvent.tooltip",BRUSH_SYNC_EVENT="recharts.syncEvent.brush";function arrayTooltipSearcher(b,R){if(R){var A=Number.parseInt(R,10);if(!isNan(A))return b?.[A]}}var initialState$7={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},optionsSlice=createSlice({name:"options",initialState:initialState$7,reducers:{createEventEmitter:b=>{b.eventEmitter==null&&(b.eventEmitter=Symbol("rechartsEventEmitter"))}}}),optionsReducer=optionsSlice.reducer,{createEventEmitter}=optionsSlice.actions;function selectSynchronisedTooltipState(b){return b.tooltip.syncInteraction}var initialChartDataState={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},chartDataSlice=createSlice({name:"chartData",initialState:initialChartDataState,reducers:{setChartData(b,R){if(b.chartData=R.payload,R.payload==null){b.dataStartIndex=0,b.dataEndIndex=0;return}R.payload.length>0&&b.dataEndIndex!==R.payload.length-1&&(b.dataEndIndex=R.payload.length-1)},setComputedData(b,R){b.computedData=R.payload},setDataStartEndIndexes(b,R){var{startIndex:A,endIndex:T}=R.payload;A!=null&&(b.dataStartIndex=A),T!=null&&(b.dataEndIndex=T)}}}),{setChartData,setDataStartEndIndexes,setComputedData}=chartDataSlice.actions,chartDataReducer=chartDataSlice.reducer,_excluded$f=["x","y"];function ownKeys$g(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$g(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$g(Object(A),!0).forEach(function(T){_defineProperty$k(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$g(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$k(b,R,A){return(R=_toPropertyKey$k(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$k(b){var R=_toPrimitive$k(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$k(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}function _objectWithoutProperties$f(b,R){if(b==null)return{};var A,T,I=_objectWithoutPropertiesLoose$f(b,R);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(b);for(T=0;T<B.length;T++)A=B[T],R.indexOf(A)===-1&&{}.propertyIsEnumerable.call(b,A)&&(I[A]=b[A])}return I}function _objectWithoutPropertiesLoose$f(b,R){if(b==null)return{};var A={};for(var T in b)if({}.hasOwnProperty.call(b,T)){if(R.indexOf(T)!==-1)continue;A[T]=b[T]}return A}var noop$1=()=>{};function useTooltipSyncEventsListener(){var b=useAppSelector(selectSyncId),R=useAppSelector(selectEventEmitter),A=useAppDispatch(),T=useAppSelector(selectSyncMethod),I=useAppSelector(selectTooltipAxisTicks),B=useChartLayout(),U=useViewBox(),q=useAppSelector(K=>K.rootProps.className);reactExports.useEffect(()=>{if(b==null)return noop$1;var K=(J,ee,te)=>{if(R!==te&&b===J){if(T==="index"){var xe;if(U&&ee!==null&&ee!==void 0&&(xe=ee.payload)!==null&&xe!==void 0&&xe.coordinate){var fe=ee.payload.coordinate,{x:ye,y:Be}=fe,Le=_objectWithoutProperties$f(fe,_excluded$f),qe=_objectSpread$g(_objectSpread$g(_objectSpread$g({},Le),typeof ye=="number"&&{x:Math.max(U.x,Math.min(ye,U.x+U.width))}),typeof Be=="number"&&{y:Math.max(U.y,Math.min(Be,U.y+U.height))}),Ge=_objectSpread$g(_objectSpread$g({},ee),{},{payload:_objectSpread$g(_objectSpread$g({},ee.payload),{},{coordinate:qe})});A(Ge)}else A(ee);return}if(I!=null){var $e;if(typeof T=="function"){var Xe={activeTooltipIndex:ee.payload.index==null?void 0:Number(ee.payload.index),isTooltipActive:ee.payload.active,activeIndex:ee.payload.index==null?void 0:Number(ee.payload.index),activeLabel:ee.payload.label,activeDataKey:ee.payload.dataKey,activeCoordinate:ee.payload.coordinate},He=T(I,Xe);$e=I[He]}else T==="value"&&($e=I.find(ir=>String(ir.value)===ee.payload.label));var{coordinate:Qe}=ee.payload;if($e==null||ee.payload.active===!1||Qe==null||U==null){A(setSyncInteraction({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:st,y:ct}=Qe,gt=Math.min(st,U.x+U.width),Nt=Math.min(ct,U.y+U.height),Ot={x:B==="horizontal"?$e.coordinate:gt,y:B==="horizontal"?Nt:$e.coordinate},Tt=setSyncInteraction({active:ee.payload.active,coordinate:Ot,dataKey:ee.payload.dataKey,index:String($e.index),label:ee.payload.label});A(Tt)}}};return eventCenter.on(TOOLTIP_SYNC_EVENT,K),()=>{eventCenter.off(TOOLTIP_SYNC_EVENT,K)}},[q,A,R,b,T,I,B,U])}function useBrushSyncEventsListener(){var b=useAppSelector(selectSyncId),R=useAppSelector(selectEventEmitter),A=useAppDispatch();reactExports.useEffect(()=>{if(b==null)return noop$1;var T=(I,B,U)=>{R!==U&&b===I&&A(setDataStartEndIndexes(B))};return eventCenter.on(BRUSH_SYNC_EVENT,T),()=>{eventCenter.off(BRUSH_SYNC_EVENT,T)}},[A,R,b])}function useSynchronisedEventsFromOtherCharts(){var b=useAppDispatch();reactExports.useEffect(()=>{b(createEventEmitter())},[b]),useTooltipSyncEventsListener(),useBrushSyncEventsListener()}function useTooltipChartSynchronisation(b,R,A,T,I,B){var U=useAppSelector(xe=>selectTooltipDataKey(xe,b,R)),q=useAppSelector(selectEventEmitter),K=useAppSelector(selectSyncId),J=useAppSelector(selectSyncMethod),ee=useAppSelector(selectSynchronisedTooltipState),te=ee?.active;reactExports.useEffect(()=>{if(!te&&K!=null&&q!=null){var xe=setSyncInteraction({active:B,coordinate:A,dataKey:U,index:I,label:typeof T=="number"?String(T):T});eventCenter.emit(TOOLTIP_SYNC_EVENT,K,xe,q)}},[te,A,U,I,T,q,K,J,B])}function ownKeys$f(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$f(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$f(Object(A),!0).forEach(function(T){_defineProperty$j(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$f(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$j(b,R,A){return(R=_toPropertyKey$j(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$j(b){var R=_toPrimitive$j(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$j(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}function defaultUniqBy(b){return b.dataKey}function renderContent(b,R){return reactExports.isValidElement(b)?reactExports.cloneElement(b,R):typeof b=="function"?reactExports.createElement(b,R):reactExports.createElement(DefaultTooltipContent,R)}var emptyPayload=[],defaultTooltipProps={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Global.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Tooltip(b){var R=resolveDefaultProps(b,defaultTooltipProps),{active:A,allowEscapeViewBox:T,animationDuration:I,animationEasing:B,content:U,filterNull:q,isAnimationActive:K,offset:J,payloadUniqBy:ee,position:te,reverseDirection:xe,useTranslate3d:fe,wrapperStyle:ye,cursor:Be,shared:Le,trigger:qe,defaultIndex:Ge,portal:$e,axisId:Xe}=R,He=useAppDispatch(),Qe=typeof Ge=="number"?String(Ge):Ge;reactExports.useEffect(()=>{He(setTooltipSettingsState({shared:Le,trigger:qe,axisId:Xe,active:A,defaultIndex:Qe}))},[He,Le,qe,Xe,A,Qe]);var st=useViewBox(),ct=useAccessibilityLayer(),gt=useTooltipEventType(Le),{activeIndex:Nt,isActive:Ot}=useAppSelector(ft=>selectIsTooltipActive(ft,gt,qe,Qe)),Tt=useAppSelector(ft=>selectTooltipPayload(ft,gt,qe,Qe)),ir=useAppSelector(ft=>selectActiveLabel(ft,gt,qe,Qe)),At=useAppSelector(ft=>selectActiveCoordinate(ft,gt,qe,Qe)),It=Tt,Je=useTooltipPortal(),ut=A??Ot,[et,lt]=useElementOffset([It,ut]),rt=gt==="axis"?ir:void 0;useTooltipChartSynchronisation(gt,qe,At,rt,Nt,ut);var nt=$e??Je;if(nt==null)return null;var kt=It??emptyPayload;ut||(kt=emptyPayload),q&&kt.length&&(kt=getUniqPayload(It.filter(ft=>ft.value!=null&&(ft.hide!==!0||R.includeHidden)),ee,defaultUniqBy));var Zt=kt.length>0,Ar=reactExports.createElement(TooltipBoundingBox,{allowEscapeViewBox:T,animationDuration:I,animationEasing:B,isAnimationActive:K,active:ut,coordinate:At,hasPayload:Zt,offset:J,position:te,reverseDirection:xe,useTranslate3d:fe,viewBox:st,wrapperStyle:ye,lastBoundingBox:et,innerRef:lt,hasPortalFromProps:!!$e},renderContent(U,_objectSpread$f(_objectSpread$f({},R),{},{payload:kt,label:rt,active:ut,coordinate:At,accessibilityLayer:ct})));return reactExports.createElement(reactExports.Fragment,null,reactDomExports.createPortal(Ar,nt),ut&&reactExports.createElement(Cursor,{cursor:Be,tooltipEventType:gt,coordinate:At,payload:It,index:Nt}))}var throttle$2={},debounce$1={},debounce={},hasRequiredDebounce$1;function requireDebounce$1(){return hasRequiredDebounce$1||(hasRequiredDebounce$1=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});function R(A,T,{signal:I,edges:B}={}){let U,q=null;const K=B!=null&&B.includes("leading"),J=B==null||B.includes("trailing"),ee=()=>{q!==null&&(A.apply(U,q),U=void 0,q=null)},te=()=>{J&&ee(),Be()};let xe=null;const fe=()=>{xe!=null&&clearTimeout(xe),xe=setTimeout(()=>{xe=null,te()},T)},ye=()=>{xe!==null&&(clearTimeout(xe),xe=null)},Be=()=>{ye(),U=void 0,q=null},Le=()=>{ee()},qe=function(...Ge){if(I?.aborted)return;U=this,q=Ge;const $e=xe==null;fe(),K&&$e&&ee()};return qe.schedule=fe,qe.cancel=Be,qe.flush=Le,I?.addEventListener("abort",Be,{once:!0}),qe}b.debounce=R})(debounce)),debounce}var hasRequiredDebounce;function requireDebounce(){return hasRequiredDebounce||(hasRequiredDebounce=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireDebounce$1();function A(T,I=0,B={}){typeof B!="object"&&(B={});const{leading:U=!1,trailing:q=!0,maxWait:K}=B,J=Array(2);U&&(J[0]="leading"),q&&(J[1]="trailing");let ee,te=null;const xe=R.debounce(function(...Be){ee=T.apply(this,Be),te=null},I,{edges:J}),fe=function(...Be){return K!=null&&(te===null&&(te=Date.now()),Date.now()-te>=K)?(ee=T.apply(this,Be),te=Date.now(),xe.cancel(),xe.schedule(),ee):(xe.apply(this,Be),ee)},ye=()=>(xe.flush(),ee);return fe.cancel=xe.cancel,fe.flush=ye,fe}b.debounce=A})(debounce$1)),debounce$1}var hasRequiredThrottle$1;function requireThrottle$1(){return hasRequiredThrottle$1||(hasRequiredThrottle$1=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireDebounce();function A(T,I=0,B={}){const{leading:U=!0,trailing:q=!0}=B;return R.debounce(T,I,{leading:U,maxWait:I,trailing:q})}b.throttle=A})(throttle$2)),throttle$2}var throttle$1,hasRequiredThrottle;function requireThrottle(){return hasRequiredThrottle||(hasRequiredThrottle=1,throttle$1=requireThrottle$1().throttle),throttle$1}var throttleExports=requireThrottle();const throttle=getDefaultExportFromCjs(throttleExports);var warn=function b(R,A){for(var T=arguments.length,I=new Array(T>2?T-2:0),B=2;B<T;B++)I[B-2]=arguments[B]};function ownKeys$e(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$e(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$e(Object(A),!0).forEach(function(T){_defineProperty$i(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$e(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$i(b,R,A){return(R=_toPropertyKey$i(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$i(b){var R=_toPrimitive$i(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$i(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}var ResponsiveContainer=reactExports.forwardRef((b,R)=>{var{aspect:A,initialDimension:T={width:-1,height:-1},width:I="100%",height:B="100%",minWidth:U=0,minHeight:q,maxHeight:K,children:J,debounce:ee=0,id:te,className:xe,onResize:fe,style:ye={}}=b,Be=reactExports.useRef(null),Le=reactExports.useRef();Le.current=fe,reactExports.useImperativeHandle(R,()=>Be.current);var[qe,Ge]=reactExports.useState({containerWidth:T.width,containerHeight:T.height}),$e=reactExports.useCallback((He,Qe)=>{Ge(st=>{var ct=Math.round(He),gt=Math.round(Qe);return st.containerWidth===ct&&st.containerHeight===gt?st:{containerWidth:ct,containerHeight:gt}})},[]);reactExports.useEffect(()=>{var He=gt=>{var Nt,{width:Ot,height:Tt}=gt[0].contentRect;$e(Ot,Tt),(Nt=Le.current)===null||Nt===void 0||Nt.call(Le,Ot,Tt)};ee>0&&(He=throttle(He,ee,{trailing:!0,leading:!1}));var Qe=new ResizeObserver(He),{width:st,height:ct}=Be.current.getBoundingClientRect();return $e(st,ct),Qe.observe(Be.current),()=>{Qe.disconnect()}},[$e,ee]);var Xe=reactExports.useMemo(()=>{var{containerWidth:He,containerHeight:Qe}=qe;if(He<0||Qe<0)return null;warn(isPercent(I)||isPercent(B),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,I,B),warn(!A||A>0,"The aspect(%s) must be greater than zero.",A);var st=isPercent(I)?He:I,ct=isPercent(B)?Qe:B;return A&&A>0&&(st?ct=st/A:ct&&(st=ct*A),K&&ct>K&&(ct=K)),warn(st>0||ct>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,st,ct,I,B,U,q,A),reactExports.Children.map(J,gt=>reactExports.cloneElement(gt,{width:st,height:ct,style:_objectSpread$e({width:st,height:ct},gt.props.style)}))},[A,J,B,K,q,U,qe,I]);return reactExports.createElement("div",{id:te?"".concat(te):void 0,className:clsx("recharts-responsive-container",xe),style:_objectSpread$e(_objectSpread$e({},ye),{},{width:I,height:B,minWidth:U,minHeight:q,maxHeight:K}),ref:Be},reactExports.createElement("div",{style:{width:0,height:0,overflow:"visible"}},Xe))}),Cell=b=>null;Cell.displayName="Cell";function _defineProperty$h(b,R,A){return(R=_toPropertyKey$h(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$h(b){var R=_toPrimitive$h(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$h(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}class LRUCache{constructor(R){_defineProperty$h(this,"cache",new Map),this.maxSize=R}get(R){var A=this.cache.get(R);return A!==void 0&&(this.cache.delete(R),this.cache.set(R,A)),A}set(R,A){if(this.cache.has(R))this.cache.delete(R);else if(this.cache.size>=this.maxSize){var T=this.cache.keys().next().value;this.cache.delete(T)}this.cache.set(R,A)}clear(){this.cache.clear()}size(){return this.cache.size}}function ownKeys$d(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$d(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$d(Object(A),!0).forEach(function(T){_defineProperty$g(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$d(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$g(b,R,A){return(R=_toPropertyKey$g(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$g(b){var R=_toPrimitive$g(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$g(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}var defaultConfig={cacheSize:2e3,enableCache:!0},currentConfig=_objectSpread$d({},defaultConfig),stringCache=new LRUCache(currentConfig.cacheSize),SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function createCacheKey(b,R){var A=R.fontSize||"",T=R.fontFamily||"",I=R.fontWeight||"",B=R.fontStyle||"",U=R.letterSpacing||"",q=R.textTransform||"";return"".concat(b,"|").concat(A,"|").concat(T,"|").concat(I,"|").concat(B,"|").concat(U,"|").concat(q)}var measureTextWithDOM=(b,R)=>{try{var A=document.getElementById(MEASUREMENT_SPAN_ID);A||(A=document.createElement("span"),A.setAttribute("id",MEASUREMENT_SPAN_ID),A.setAttribute("aria-hidden","true"),document.body.appendChild(A)),Object.assign(A.style,SPAN_STYLE,R),A.textContent="".concat(b);var T=A.getBoundingClientRect();return{width:T.width,height:T.height}}catch{return{width:0,height:0}}},getStringSize=function b(R){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(R==null||Global.isSsr)return{width:0,height:0};if(!currentConfig.enableCache)return measureTextWithDOM(R,A);var T=createCacheKey(R,A),I=stringCache.get(T);if(I)return I;var B=measureTextWithDOM(R,A);return stringCache.set(T,B),B},MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(b,R){return b*CONVERSION_RATES[R]}class DecimalCSS{static parse(R){var A,[,T,I]=(A=NUM_SPLIT_REGEX.exec(R))!==null&&A!==void 0?A:[];return new DecimalCSS(parseFloat(T),I??"")}constructor(R,A){this.num=R,this.unit=A,this.num=R,this.unit=A,isNan(R)&&(this.unit=""),A!==""&&!CSS_LENGTH_UNIT_REGEX.test(A)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(A)&&(this.num=convertToPx(R,A),this.unit="px")}add(R){return this.unit!==R.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num+R.num,this.unit)}subtract(R){return this.unit!==R.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num-R.num,this.unit)}multiply(R){return this.unit!==""&&R.unit!==""&&this.unit!==R.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num*R.num,this.unit||R.unit)}divide(R){return this.unit!==""&&R.unit!==""&&this.unit!==R.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num/R.num,this.unit||R.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return isNan(this.num)}}function calculateArithmetic(b){if(b.includes(STR_NAN))return STR_NAN;for(var R=b;R.includes("*")||R.includes("/");){var A,[,T,I,B]=(A=MULTIPLY_OR_DIVIDE_REGEX.exec(R))!==null&&A!==void 0?A:[],U=DecimalCSS.parse(T??""),q=DecimalCSS.parse(B??""),K=I==="*"?U.multiply(q):U.divide(q);if(K.isNaN())return STR_NAN;R=R.replace(MULTIPLY_OR_DIVIDE_REGEX,K.toString())}for(;R.includes("+")||/.-\d+(?:\.\d+)?/.test(R);){var J,[,ee,te,xe]=(J=ADD_OR_SUBTRACT_REGEX.exec(R))!==null&&J!==void 0?J:[],fe=DecimalCSS.parse(ee??""),ye=DecimalCSS.parse(xe??""),Be=te==="+"?fe.add(ye):fe.subtract(ye);if(Be.isNaN())return STR_NAN;R=R.replace(ADD_OR_SUBTRACT_REGEX,Be.toString())}return R}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(b){for(var R=b,A;(A=PARENTHESES_REGEX.exec(R))!=null;){var[,T]=A;R=R.replace(PARENTHESES_REGEX,calculateArithmetic(T))}return R}function evaluateExpression(b){var R=b.replace(/\s+/g,"");return R=calculateParentheses(R),R=calculateArithmetic(R),R}function safeEvaluateExpression(b){try{return evaluateExpression(b)}catch{return STR_NAN}}function reduceCSSCalc(b){var R=safeEvaluateExpression(b.slice(5,-1));return R===STR_NAN?"":R}var _excluded$e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$7=["dx","dy","angle","className","breakAll"];function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var T in A)({}).hasOwnProperty.call(A,T)&&(b[T]=A[T])}return b},_extends$d.apply(null,arguments)}function _objectWithoutProperties$e(b,R){if(b==null)return{};var A,T,I=_objectWithoutPropertiesLoose$e(b,R);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(b);for(T=0;T<B.length;T++)A=B[T],R.indexOf(A)===-1&&{}.propertyIsEnumerable.call(b,A)&&(I[A]=b[A])}return I}function _objectWithoutPropertiesLoose$e(b,R){if(b==null)return{};var A={};for(var T in b)if({}.hasOwnProperty.call(b,T)){if(R.indexOf(T)!==-1)continue;A[T]=b[T]}return A}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=b=>{var{children:R,breakAll:A,style:T}=b;try{var I=[];isNullish(R)||(A?I=R.toString().split(""):I=R.toString().split(BREAKING_SPACES));var B=I.map(q=>({word:q,width:getStringSize(q,T).width})),U=A?0:getStringSize("",T).width;return{wordsWithComputedWidth:B,spaceWidth:U}}catch{return null}},calculateWordsByLines=(b,R,A,T,I)=>{var{maxLines:B,children:U,style:q,breakAll:K}=b,J=isNumber(B),ee=U,te=function(){var Ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Ot.reduce((Tt,ir)=>{var{word:At,width:It}=ir,Je=Tt[Tt.length-1];if(Je&&(T==null||I||Je.width+It+A<Number(T)))Je.words.push(At),Je.width+=It+A;else{var ut={words:[At],width:It};Tt.push(ut)}return Tt},[])},xe=te(R),fe=Nt=>Nt.reduce((Ot,Tt)=>Ot.width>Tt.width?Ot:Tt);if(!J||I)return xe;var ye=xe.length>B||fe(xe).width>Number(T);if(!ye)return xe;for(var Be="",Le=Nt=>{var Ot=ee.slice(0,Nt),Tt=calculateWordWidths({breakAll:K,style:q,children:Ot+Be}).wordsWithComputedWidth,ir=te(Tt),At=ir.length>B||fe(ir).width>Number(T);return[At,ir]},qe=0,Ge=ee.length-1,$e=0,Xe;qe<=Ge&&$e<=ee.length-1;){var He=Math.floor((qe+Ge)/2),Qe=He-1,[st,ct]=Le(Qe),[gt]=Le(He);if(!st&&!gt&&(qe=He+1),st&&gt&&(Ge=He-1),!st&&gt){Xe=ct;break}$e++}return Xe||xe},getWordsWithoutCalculate=b=>{var R=isNullish(b)?[]:b.toString().split(BREAKING_SPACES);return[{words:R}]},getWordsByLines=b=>{var{width:R,scaleToFit:A,children:T,style:I,breakAll:B,maxLines:U}=b;if((R||A)&&!Global.isSsr){var q,K,J=calculateWordWidths({breakAll:B,children:T,style:I});if(J){var{wordsWithComputedWidth:ee,spaceWidth:te}=J;q=ee,K=te}else return getWordsWithoutCalculate(T);return calculateWordsByLines({breakAll:B,children:T,maxLines:U,style:I},q,K,R,A)}return getWordsWithoutCalculate(T)},DEFAULT_FILL="#808080",Text=reactExports.forwardRef((b,R)=>{var{x:A=0,y:T=0,lineHeight:I="1em",capHeight:B="0.71em",scaleToFit:U=!1,textAnchor:q="start",verticalAnchor:K="end",fill:J=DEFAULT_FILL}=b,ee=_objectWithoutProperties$e(b,_excluded$e),te=reactExports.useMemo(()=>getWordsByLines({breakAll:ee.breakAll,children:ee.children,maxLines:ee.maxLines,scaleToFit:U,style:ee.style,width:ee.width}),[ee.breakAll,ee.children,ee.maxLines,U,ee.style,ee.width]),{dx:xe,dy:fe,angle:ye,className:Be,breakAll:Le}=ee,qe=_objectWithoutProperties$e(ee,_excluded2$7);if(!isNumOrStr(A)||!isNumOrStr(T)||te.length===0)return null;var Ge=A+(isNumber(xe)?xe:0),$e=T+(isNumber(fe)?fe:0),Xe;switch(K){case"start":Xe=reduceCSSCalc("calc(".concat(B,")"));break;case"middle":Xe=reduceCSSCalc("calc(".concat((te.length-1)/2," * -").concat(I," + (").concat(B," / 2))"));break;default:Xe=reduceCSSCalc("calc(".concat(te.length-1," * -").concat(I,")"));break}var He=[];if(U){var Qe=te[0].width,{width:st}=ee;He.push("scale(".concat(isNumber(st)?st/Qe:1,")"))}return ye&&He.push("rotate(".concat(ye,", ").concat(Ge,", ").concat($e,")")),He.length&&(qe.transform=He.join(" ")),reactExports.createElement("text",_extends$d({},filterProps(qe,!0),{ref:R,x:Ge,y:$e,className:clsx("recharts-text",Be),textAnchor:q,fill:J.includes("url")?DEFAULT_FILL:J}),te.map((ct,gt)=>{var Nt=ct.words.join(Le?"":" ");return reactExports.createElement("tspan",{x:Ge,dy:gt===0?Xe:I,key:"".concat(Nt,"-").concat(gt)},Nt)}))});Text.displayName="Text";var _excluded$d=["labelRef"];function _objectWithoutProperties$d(b,R){if(b==null)return{};var A,T,I=_objectWithoutPropertiesLoose$d(b,R);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(b);for(T=0;T<B.length;T++)A=B[T],R.indexOf(A)===-1&&{}.propertyIsEnumerable.call(b,A)&&(I[A]=b[A])}return I}function _objectWithoutPropertiesLoose$d(b,R){if(b==null)return{};var A={};for(var T in b)if({}.hasOwnProperty.call(b,T)){if(R.indexOf(T)!==-1)continue;A[T]=b[T]}return A}function ownKeys$c(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$c(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$c(Object(A),!0).forEach(function(T){_defineProperty$f(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$c(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$f(b,R,A){return(R=_toPropertyKey$f(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$f(b){var R=_toPrimitive$f(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$f(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var T in A)({}).hasOwnProperty.call(A,T)&&(b[T]=A[T])}return b},_extends$c.apply(null,arguments)}var CartesianLabelContext=reactExports.createContext(null),CartesianLabelContextProvider=b=>{var{x:R,y:A,width:T,height:I,children:B}=b,U=reactExports.useMemo(()=>({x:R,y:A,width:T,height:I}),[R,A,T,I]);return reactExports.createElement(CartesianLabelContext.Provider,{value:U},B)},useCartesianLabelContext=()=>{var b=reactExports.useContext(CartesianLabelContext),R=useViewBox();return b||R},PolarLabelContext=reactExports.createContext(null),usePolarLabelContext=()=>{var b=reactExports.useContext(PolarLabelContext),R=useAppSelector(selectPolarViewBox);return b||R},getLabel=b=>{var{value:R,formatter:A}=b,T=isNullish(b.children)?R:b.children;return typeof A=="function"?A(T):T},isLabelContentAFunction=b=>b!=null&&typeof b=="function",getDeltaAngle=(b,R)=>{var A=mathSign(R-b),T=Math.min(Math.abs(R-b),360);return A*T},renderRadialLabel=(b,R,A,T,I)=>{var{offset:B,className:U}=b,{cx:q,cy:K,innerRadius:J,outerRadius:ee,startAngle:te,endAngle:xe,clockWise:fe}=I,ye=(J+ee)/2,Be=getDeltaAngle(te,xe),Le=Be>=0?1:-1,qe,Ge;switch(R){case"insideStart":qe=te+Le*B,Ge=fe;break;case"insideEnd":qe=xe-Le*B,Ge=!fe;break;case"end":qe=xe+Le*B,Ge=fe;break;default:throw new Error("Unsupported position ".concat(R))}Ge=Be<=0?Ge:!Ge;var $e=polarToCartesian(q,K,ye,qe),Xe=polarToCartesian(q,K,ye,qe+(Ge?1:-1)*359),He="M".concat($e.x,",").concat($e.y,`
    A`).concat(ye,",").concat(ye,",0,1,").concat(Ge?0:1,`,
    `).concat(Xe.x,",").concat(Xe.y),Qe=isNullish(b.id)?uniqueId("recharts-radial-line-"):b.id;return reactExports.createElement("text",_extends$c({},T,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",U)}),reactExports.createElement("defs",null,reactExports.createElement("path",{id:Qe,d:He})),reactExports.createElement("textPath",{xlinkHref:"#".concat(Qe)},A))},getAttrsOfPolarLabel=(b,R,A)=>{var{cx:T,cy:I,innerRadius:B,outerRadius:U,startAngle:q,endAngle:K}=b,J=(q+K)/2;if(A==="outside"){var{x:ee,y:te}=polarToCartesian(T,I,U+R,J);return{x:ee,y:te,textAnchor:ee>=T?"start":"end",verticalAnchor:"middle"}}if(A==="center")return{x:T,y:I,textAnchor:"middle",verticalAnchor:"middle"};if(A==="centerTop")return{x:T,y:I,textAnchor:"middle",verticalAnchor:"start"};if(A==="centerBottom")return{x:T,y:I,textAnchor:"middle",verticalAnchor:"end"};var xe=(B+U)/2,{x:fe,y:ye}=polarToCartesian(T,I,xe,J);return{x:fe,y:ye,textAnchor:"middle",verticalAnchor:"middle"}},isPolar=b=>"cx"in b&&isNumber(b.cx),getAttrsOfCartesianLabel=(b,R)=>{var{parentViewBox:A,offset:T,position:I}=b,B;A!=null&&!isPolar(A)&&(B=A);var{x:U,y:q,width:K,height:J}=R,ee=J>=0?1:-1,te=ee*T,xe=ee>0?"end":"start",fe=ee>0?"start":"end",ye=K>=0?1:-1,Be=ye*T,Le=ye>0?"end":"start",qe=ye>0?"start":"end";if(I==="top"){var Ge={x:U+K/2,y:q-ee*T,textAnchor:"middle",verticalAnchor:xe};return _objectSpread$c(_objectSpread$c({},Ge),B?{height:Math.max(q-B.y,0),width:K}:{})}if(I==="bottom"){var $e={x:U+K/2,y:q+J+te,textAnchor:"middle",verticalAnchor:fe};return _objectSpread$c(_objectSpread$c({},$e),B?{height:Math.max(B.y+B.height-(q+J),0),width:K}:{})}if(I==="left"){var Xe={x:U-Be,y:q+J/2,textAnchor:Le,verticalAnchor:"middle"};return _objectSpread$c(_objectSpread$c({},Xe),B?{width:Math.max(Xe.x-B.x,0),height:J}:{})}if(I==="right"){var He={x:U+K+Be,y:q+J/2,textAnchor:qe,verticalAnchor:"middle"};return _objectSpread$c(_objectSpread$c({},He),B?{width:Math.max(B.x+B.width-He.x,0),height:J}:{})}var Qe=B?{width:K,height:J}:{};return I==="insideLeft"?_objectSpread$c({x:U+Be,y:q+J/2,textAnchor:qe,verticalAnchor:"middle"},Qe):I==="insideRight"?_objectSpread$c({x:U+K-Be,y:q+J/2,textAnchor:Le,verticalAnchor:"middle"},Qe):I==="insideTop"?_objectSpread$c({x:U+K/2,y:q+te,textAnchor:"middle",verticalAnchor:fe},Qe):I==="insideBottom"?_objectSpread$c({x:U+K/2,y:q+J-te,textAnchor:"middle",verticalAnchor:xe},Qe):I==="insideTopLeft"?_objectSpread$c({x:U+Be,y:q+te,textAnchor:qe,verticalAnchor:fe},Qe):I==="insideTopRight"?_objectSpread$c({x:U+K-Be,y:q+te,textAnchor:Le,verticalAnchor:fe},Qe):I==="insideBottomLeft"?_objectSpread$c({x:U+Be,y:q+J-te,textAnchor:qe,verticalAnchor:xe},Qe):I==="insideBottomRight"?_objectSpread$c({x:U+K-Be,y:q+J-te,textAnchor:Le,verticalAnchor:xe},Qe):I&&typeof I=="object"&&(isNumber(I.x)||isPercent(I.x))&&(isNumber(I.y)||isPercent(I.y))?_objectSpread$c({x:U+getPercentValue(I.x,K),y:q+getPercentValue(I.y,J),textAnchor:"end",verticalAnchor:"end"},Qe):_objectSpread$c({x:U+K/2,y:q+J/2,textAnchor:"middle",verticalAnchor:"middle"},Qe)},defaultLabelProps={offset:5};function Label(b){var R=resolveDefaultProps(b,defaultLabelProps),{viewBox:A,position:T,value:I,children:B,content:U,className:q="",textBreakAll:K,labelRef:J}=R,ee=usePolarLabelContext(),te=useCartesianLabelContext(),xe=T==="center"?te:ee??te,fe=A||xe;if(!fe||isNullish(I)&&isNullish(B)&&!reactExports.isValidElement(U)&&typeof U!="function")return null;var ye=_objectSpread$c(_objectSpread$c({},R),{},{viewBox:fe});if(reactExports.isValidElement(U)){var{labelRef:Be}=ye,Le=_objectWithoutProperties$d(ye,_excluded$d);return reactExports.cloneElement(U,Le)}var qe;if(typeof U=="function"){if(qe=reactExports.createElement(U,ye),reactExports.isValidElement(qe))return qe}else qe=getLabel(R);var Ge=isPolar(fe),$e=filterProps(R,!0);if(Ge&&(T==="insideStart"||T==="insideEnd"||T==="end"))return renderRadialLabel(R,T,qe,$e,fe);var Xe=Ge?getAttrsOfPolarLabel(fe,R.offset,R.position):getAttrsOfCartesianLabel(R,fe);return reactExports.createElement(Text,_extends$c({ref:J,className:clsx("recharts-label",q)},$e,Xe,{breakAll:K}),qe)}Label.displayName="Label";var parseLabel=(b,R,A)=>{if(!b)return null;var T={viewBox:R,labelRef:A};return b===!0?reactExports.createElement(Label,_extends$c({key:"label-implicit"},T)):isNumOrStr(b)?reactExports.createElement(Label,_extends$c({key:"label-implicit",value:b},T)):reactExports.isValidElement(b)?b.type===Label?reactExports.cloneElement(b,_objectSpread$c({key:"label-implicit"},T)):reactExports.createElement(Label,_extends$c({key:"label-implicit",content:b},T)):isLabelContentAFunction(b)?reactExports.createElement(Label,_extends$c({key:"label-implicit",content:b},T)):b&&typeof b=="object"?reactExports.createElement(Label,_extends$c({},b,{key:"label-implicit"},T)):null};function CartesianLabelFromLabelProp(b){var{label:R}=b,A=useCartesianLabelContext();return parseLabel(R,A)||null}var last$3={},last$2={},hasRequiredLast$2;function requireLast$2(){return hasRequiredLast$2||(hasRequiredLast$2=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});function R(A){return A[A.length-1]}b.last=R})(last$2)),last$2}var toArray={},hasRequiredToArray;function requireToArray(){return hasRequiredToArray||(hasRequiredToArray=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});function R(A){return Array.isArray(A)?A:Array.from(A)}b.toArray=R})(toArray)),toArray}var hasRequiredLast$1;function requireLast$1(){return hasRequiredLast$1||(hasRequiredLast$1=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});const R=requireLast$2(),A=requireToArray(),T=requireIsArrayLike();function I(B){if(T.isArrayLike(B))return R.last(A.toArray(B))}b.last=I})(last$3)),last$3}var last$1,hasRequiredLast;function requireLast(){return hasRequiredLast||(hasRequiredLast=1,last$1=requireLast$1().last),last$1}var lastExports=requireLast();const last=getDefaultExportFromCjs(lastExports);var _excluded$c=["valueAccessor"],_excluded2$6=["dataKey","clockWise","id","textBreakAll"];function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var T in A)({}).hasOwnProperty.call(A,T)&&(b[T]=A[T])}return b},_extends$b.apply(null,arguments)}function _objectWithoutProperties$c(b,R){if(b==null)return{};var A,T,I=_objectWithoutPropertiesLoose$c(b,R);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(b);for(T=0;T<B.length;T++)A=B[T],R.indexOf(A)===-1&&{}.propertyIsEnumerable.call(b,A)&&(I[A]=b[A])}return I}function _objectWithoutPropertiesLoose$c(b,R){if(b==null)return{};var A={};for(var T in b)if({}.hasOwnProperty.call(b,T)){if(R.indexOf(T)!==-1)continue;A[T]=b[T]}return A}var defaultAccessor=b=>Array.isArray(b.value)?last(b.value):b.value,CartesianLabelListContext=reactExports.createContext(void 0),CartesianLabelListContextProvider=CartesianLabelListContext.Provider,PolarLabelListContext=reactExports.createContext(void 0);PolarLabelListContext.Provider;function useCartesianLabelListContext(){return reactExports.useContext(CartesianLabelListContext)}function usePolarLabelListContext(){return reactExports.useContext(PolarLabelListContext)}function LabelList(b){var{valueAccessor:R=defaultAccessor}=b,A=_objectWithoutProperties$c(b,_excluded$c),{dataKey:T,clockWise:I,id:B,textBreakAll:U}=A,q=_objectWithoutProperties$c(A,_excluded2$6),K=useCartesianLabelListContext(),J=usePolarLabelListContext(),ee=K||J;return!ee||!ee.length?null:reactExports.createElement(Layer,{className:"recharts-label-list"},ee.map((te,xe)=>{var fe,ye=isNullish(T)?R(te,xe):getValueByDataKey(te&&te.payload,T),Be=isNullish(B)?{}:{id:"".concat(B,"-").concat(xe)};return reactExports.createElement(Label,_extends$b({},filterProps(te,!0),q,Be,{fill:(fe=A.fill)!==null&&fe!==void 0?fe:te.fill,parentViewBox:te.parentViewBox,value:ye,textBreakAll:U,viewBox:te.viewBox,key:"label-".concat(xe),index:xe}))}))}LabelList.displayName="LabelList";function LabelListFromLabelProp(b){var{label:R}=b;return R?R===!0?reactExports.createElement(LabelList,{key:"labelList-implicit"}):reactExports.isValidElement(R)||isLabelContentAFunction(R)?reactExports.createElement(LabelList,{key:"labelList-implicit",content:R}):typeof R=="object"?reactExports.createElement(LabelList,_extends$b({key:"labelList-implicit"},R,{type:String(R.type)})):null:null}function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var T in A)({}).hasOwnProperty.call(A,T)&&(b[T]=A[T])}return b},_extends$a.apply(null,arguments)}var Dot=b=>{var{cx:R,cy:A,r:T,className:I}=b,B=clsx("recharts-dot",I);return R===+R&&A===+A&&T===+T?reactExports.createElement("circle",_extends$a({},svgPropertiesNoEvents(b),adaptEventHandlers(b),{className:B,cx:R,cy:A,r:T})):null},initialState$6={radiusAxis:{},angleAxis:{}},polarAxisSlice=createSlice({name:"polarAxis",initialState:initialState$6,reducers:{addRadiusAxis(b,R){b.radiusAxis[R.payload.id]=R.payload},removeRadiusAxis(b,R){delete b.radiusAxis[R.payload.id]},addAngleAxis(b,R){b.angleAxis[R.payload.id]=R.payload},removeAngleAxis(b,R){delete b.angleAxis[R.payload.id]}}}),{addRadiusAxis,removeRadiusAxis,addAngleAxis,removeAngleAxis}=polarAxisSlice.actions,polarAxisReducer=polarAxisSlice.reducer,isPlainObject$2={},hasRequiredIsPlainObject$1;function requireIsPlainObject$1(){return hasRequiredIsPlainObject$1||(hasRequiredIsPlainObject$1=1,(function(b){Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});function R(A){if(typeof A!="object"||A==null)return!1;if(Object.getPrototypeOf(A)===null)return!0;if(Object.prototype.toString.call(A)!=="[object Object]"){const I=A[Symbol.toStringTag];return I==null||!Object.getOwnPropertyDescriptor(A,Symbol.toStringTag)?.writable?!1:A.toString()===`[object ${I}]`}let T=A;for(;Object.getPrototypeOf(T)!==null;)T=Object.getPrototypeOf(T);return Object.getPrototypeOf(A)===T}b.isPlainObject=R})(isPlainObject$2)),isPlainObject$2}var isPlainObject$1,hasRequiredIsPlainObject;function requireIsPlainObject(){return hasRequiredIsPlainObject||(hasRequiredIsPlainObject=1,isPlainObject$1=requireIsPlainObject$1().isPlainObject),isPlainObject$1}var isPlainObjectExports=requireIsPlainObject();const isPlainObject=getDefaultExportFromCjs(isPlainObjectExports);function ownKeys$b(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$b(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$b(Object(A),!0).forEach(function(T){_defineProperty$e(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$b(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$e(b,R,A){return(R=_toPropertyKey$e(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$e(b){var R=_toPrimitive$e(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$e(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var T in A)({}).hasOwnProperty.call(A,T)&&(b[T]=A[T])}return b},_extends$9.apply(null,arguments)}var getTrapezoidPath=(b,R,A,T,I)=>{var B=A-T,U;return U="M ".concat(b,",").concat(R),U+="L ".concat(b+A,",").concat(R),U+="L ".concat(b+A-B/2,",").concat(R+I),U+="L ".concat(b+A-B/2-T,",").concat(R+I),U+="L ".concat(b,",").concat(R," Z"),U},defaultProps$2={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=b=>{var R=resolveDefaultProps(b,defaultProps$2),{x:A,y:T,upperWidth:I,lowerWidth:B,height:U,className:q}=R,{animationEasing:K,animationDuration:J,animationBegin:ee,isUpdateAnimationActive:te}=R,xe=reactExports.useRef(),[fe,ye]=reactExports.useState(-1),Be=reactExports.useRef(I),Le=reactExports.useRef(B),qe=reactExports.useRef(U),Ge=reactExports.useRef(A),$e=reactExports.useRef(T),Xe=useAnimationId(b,"trapezoid-");if(reactExports.useEffect(()=>{if(xe.current&&xe.current.getTotalLength)try{var At=xe.current.getTotalLength();At&&ye(At)}catch{}},[]),A!==+A||T!==+T||I!==+I||B!==+B||U!==+U||I===0&&B===0||U===0)return null;var He=clsx("recharts-trapezoid",q);if(!te)return reactExports.createElement("g",null,reactExports.createElement("path",_extends$9({},filterProps(R,!0),{className:He,d:getTrapezoidPath(A,T,I,B,U)})));var Qe=Be.current,st=Le.current,ct=qe.current,gt=Ge.current,Nt=$e.current,Ot="0px ".concat(fe===-1?1:fe,"px"),Tt="".concat(fe,"px 0px"),ir=getTransitionVal(["strokeDasharray"],J,K);return reactExports.createElement(JavascriptAnimate,{animationId:Xe,key:Xe,canBegin:fe>0,duration:J,easing:K,isActive:te,begin:ee},At=>{var It=interpolate$1(Qe,I,At),Je=interpolate$1(st,B,At),ut=interpolate$1(ct,U,At),et=interpolate$1(gt,A,At),lt=interpolate$1(Nt,T,At);xe.current&&(Be.current=It,Le.current=Je,qe.current=ut,Ge.current=et,$e.current=lt);var rt=At>0?{transition:ir,strokeDasharray:Tt}:{strokeDasharray:Ot};return reactExports.createElement("path",_extends$9({},filterProps(R,!0),{className:He,d:getTrapezoidPath(et,lt,It,Je,ut),ref:xe,style:_objectSpread$b(_objectSpread$b({},rt),R.style)}))})},_excluded$b=["option","shapeType","propTransformer","activeClassName","isActive"];function _objectWithoutProperties$b(b,R){if(b==null)return{};var A,T,I=_objectWithoutPropertiesLoose$b(b,R);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(b);for(T=0;T<B.length;T++)A=B[T],R.indexOf(A)===-1&&{}.propertyIsEnumerable.call(b,A)&&(I[A]=b[A])}return I}function _objectWithoutPropertiesLoose$b(b,R){if(b==null)return{};var A={};for(var T in b)if({}.hasOwnProperty.call(b,T)){if(R.indexOf(T)!==-1)continue;A[T]=b[T]}return A}function ownKeys$a(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$a(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$a(Object(A),!0).forEach(function(T){_defineProperty$d(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$a(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$d(b,R,A){return(R=_toPropertyKey$d(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$d(b){var R=_toPrimitive$d(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$d(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}function defaultPropTransformer(b,R){return _objectSpread$a(_objectSpread$a({},R),b)}function isSymbolsProps(b,R){return b==="symbols"}function ShapeSelector(b){var{shapeType:R,elementProps:A}=b;switch(R){case"rectangle":return reactExports.createElement(Rectangle,A);case"trapezoid":return reactExports.createElement(Trapezoid,A);case"sector":return reactExports.createElement(Sector,A);case"symbols":if(isSymbolsProps(R))return reactExports.createElement(Symbols,A);break;default:return null}}function getPropsFromShapeOption(b){return reactExports.isValidElement(b)?b.props:b}function Shape(b){var{option:R,shapeType:A,propTransformer:T=defaultPropTransformer,activeClassName:I="recharts-active-shape",isActive:B}=b,U=_objectWithoutProperties$b(b,_excluded$b),q;if(reactExports.isValidElement(R))q=reactExports.cloneElement(R,_objectSpread$a(_objectSpread$a({},U),getPropsFromShapeOption(R)));else if(typeof R=="function")q=R(U);else if(isPlainObject(R)&&typeof R!="boolean"){var K=T(R,U);q=reactExports.createElement(ShapeSelector,{shapeType:A,elementProps:K})}else{var J=U;q=reactExports.createElement(ShapeSelector,{shapeType:A,elementProps:J})}return B?reactExports.createElement(Layer,{className:I},q):q}var useMouseEnterItemDispatch=(b,R)=>{var A=useAppDispatch();return(T,I)=>B=>{b?.(T,I,B),A(setActiveMouseOverItemIndex({activeIndex:String(I),activeDataKey:R,activeCoordinate:T.tooltipPosition}))}},useMouseLeaveItemDispatch=b=>{var R=useAppDispatch();return(A,T)=>I=>{b?.(A,T,I),R(mouseLeaveItem())}},useMouseClickItemDispatch=(b,R)=>{var A=useAppDispatch();return(T,I)=>B=>{b?.(T,I,B),A(setActiveClickItemIndex({activeIndex:String(I),activeDataKey:R,activeCoordinate:T.tooltipPosition}))}};function SetTooltipEntrySettings(b){var{fn:R,args:A}=b,T=useAppDispatch(),I=useIsPanorama();return reactExports.useEffect(()=>{if(!I){var B=R(A);return T(addTooltipEntrySettings(B)),()=>{T(removeTooltipEntrySettings(B))}}},[R,A,T,I]),null}var noop=()=>{};function SetLegendPayload(b){var{legendPayload:R}=b,A=useAppDispatch(),T=useIsPanorama();return reactExports.useEffect(()=>T?noop:(A(addLegendPayload(R)),()=>{A(removeLegendPayload(R))}),[A,T,R]),null}var _ref,useIdFallback=()=>{var[b]=reactExports.useState(()=>uniqueId("uid-"));return b},useId=(_ref=React.useId)!==null&&_ref!==void 0?_ref:useIdFallback;function useUniqueId(b,R){var A=useId();return R||(b?"".concat(b,"-").concat(A):A)}var GraphicalItemIdContext=reactExports.createContext(void 0),RegisterGraphicalItemId=b=>{var{id:R,type:A,children:T}=b,I=useUniqueId("recharts-".concat(A),R);return reactExports.createElement(GraphicalItemIdContext.Provider,{value:I},T(I))},initialState$5={cartesianItems:[],polarItems:[]},graphicalItemsSlice=createSlice({name:"graphicalItems",initialState:initialState$5,reducers:{addCartesianGraphicalItem(b,R){b.cartesianItems.push(R.payload)},replaceCartesianGraphicalItem(b,R){var{prev:A,next:T}=R.payload,I=current(b).cartesianItems.indexOf(A);I>-1&&(b.cartesianItems[I]=T)},removeCartesianGraphicalItem(b,R){var A=current(b).cartesianItems.indexOf(R.payload);A>-1&&b.cartesianItems.splice(A,1)},addPolarGraphicalItem(b,R){b.polarItems.push(R.payload)},removePolarGraphicalItem(b,R){var A=current(b).polarItems.indexOf(R.payload);A>-1&&b.polarItems.splice(A,1)}}}),{addCartesianGraphicalItem,replaceCartesianGraphicalItem,removeCartesianGraphicalItem,addPolarGraphicalItem,removePolarGraphicalItem}=graphicalItemsSlice.actions,graphicalItemsReducer=graphicalItemsSlice.reducer;function SetCartesianGraphicalItem(b){var R=useAppDispatch(),A=reactExports.useRef(null);return reactExports.useEffect(()=>{A.current===null?R(addCartesianGraphicalItem(b)):A.current!==b&&R(replaceCartesianGraphicalItem({prev:A.current,next:b})),A.current=b},[R,b]),reactExports.useEffect(()=>()=>{A.current&&(R(removeCartesianGraphicalItem(A.current)),A.current=null)},[R]),null}function ownKeys$9(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$9(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$9(Object(A),!0).forEach(function(T){_defineProperty$c(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$9(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$c(b,R,A){return(R=_toPropertyKey$c(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$c(b){var R=_toPrimitive$c(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$c(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}var initialState$4={xAxis:{},yAxis:{},zAxis:{}},cartesianAxisSlice=createSlice({name:"cartesianAxis",initialState:initialState$4,reducers:{addXAxis(b,R){b.xAxis[R.payload.id]=R.payload},removeXAxis(b,R){delete b.xAxis[R.payload.id]},addYAxis(b,R){b.yAxis[R.payload.id]=R.payload},removeYAxis(b,R){delete b.yAxis[R.payload.id]},addZAxis(b,R){b.zAxis[R.payload.id]=R.payload},removeZAxis(b,R){delete b.zAxis[R.payload.id]},updateYAxisWidth(b,R){var{id:A,width:T}=R.payload;b.yAxis[A]&&(b.yAxis[A]=_objectSpread$9(_objectSpread$9({},b.yAxis[A]),{},{width:T}))}}}),{addXAxis,removeXAxis,addYAxis,removeYAxis,addZAxis,removeZAxis,updateYAxisWidth}=cartesianAxisSlice.actions,cartesianAxisReducer=cartesianAxisSlice.reducer,selectChartOffset=createSelector([selectChartOffsetInternal],b=>{if(b)return{top:b.top,bottom:b.bottom,left:b.left,right:b.right}}),selectPlotArea=createSelector([selectChartOffset,selectChartWidth,selectChartHeight],(b,R,A)=>{if(!(!b||R==null||A==null))return{x:b.left,y:b.top,width:Math.max(0,R-b.left-b.right),height:Math.max(0,A-b.top-b.bottom)}}),usePlotArea=()=>useAppSelector(selectPlotArea),useActiveTooltipDataPoints=()=>useAppSelector(selectActiveTooltipDataPoints);function ownKeys$8(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$8(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$8(Object(A),!0).forEach(function(T){_defineProperty$b(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$8(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$b(b,R,A){return(R=_toPropertyKey$b(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$b(b){var R=_toPrimitive$b(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$b(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}var renderActivePoint=b=>{var{point:R,childIndex:A,mainColor:T,activeDot:I,dataKey:B}=b;if(I===!1||R.x==null||R.y==null)return null;var U=_objectSpread$8(_objectSpread$8({index:A,dataKey:B,cx:R.x,cy:R.y,r:4,fill:T??"none",strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},filterProps(I,!1)),adaptEventHandlers(I)),q;return reactExports.isValidElement(I)?q=reactExports.cloneElement(I,U):typeof I=="function"?q=I(U):q=reactExports.createElement(Dot,U),reactExports.createElement(Layer,{className:"recharts-active-dot"},q)};function ActivePoints(b){var{points:R,mainColor:A,activeDot:T,itemDataKey:I}=b,B=useAppSelector(selectActiveTooltipIndex),U=useActiveTooltipDataPoints();if(R==null||U==null)return null;var q=R.find(K=>U.includes(K.payload));return isNullish(q)?null:renderActivePoint({point:q,childIndex:Number(B),mainColor:A,dataKey:I,activeDot:T})}var prefix="Invariant failed";function invariant(b,R){throw new Error(prefix)}var _excluded$a=["x","y"];function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var T in A)({}).hasOwnProperty.call(A,T)&&(b[T]=A[T])}return b},_extends$8.apply(null,arguments)}function ownKeys$7(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$7(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$7(Object(A),!0).forEach(function(T){_defineProperty$a(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$7(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$a(b,R,A){return(R=_toPropertyKey$a(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$a(b){var R=_toPrimitive$a(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$a(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}function _objectWithoutProperties$a(b,R){if(b==null)return{};var A,T,I=_objectWithoutPropertiesLoose$a(b,R);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(b);for(T=0;T<B.length;T++)A=B[T],R.indexOf(A)===-1&&{}.propertyIsEnumerable.call(b,A)&&(I[A]=b[A])}return I}function _objectWithoutPropertiesLoose$a(b,R){if(b==null)return{};var A={};for(var T in b)if({}.hasOwnProperty.call(b,T)){if(R.indexOf(T)!==-1)continue;A[T]=b[T]}return A}function typeguardBarRectangleProps(b,R){var{x:A,y:T}=b,I=_objectWithoutProperties$a(b,_excluded$a),B="".concat(A),U=parseInt(B,10),q="".concat(T),K=parseInt(q,10),J="".concat(R.height||I.height),ee=parseInt(J,10),te="".concat(R.width||I.width),xe=parseInt(te,10);return _objectSpread$7(_objectSpread$7(_objectSpread$7(_objectSpread$7(_objectSpread$7({},R),I),U?{x:U}:{}),K?{y:K}:{}),{},{height:ee,width:xe,name:R.name,radius:R.radius})}function BarRectangle(b){return reactExports.createElement(Shape,_extends$8({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},b))}var minPointSizeCallback=function b(R){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(T,I)=>{if(isNumber(R))return R;var B=isNumber(T)||isNullish(T);return B?R(T,I):(B||invariant(),A)}},initialState$3={},errorBarSlice=createSlice({name:"errorBars",initialState:initialState$3,reducers:{addErrorBar:(b,R)=>{var{itemId:A,errorBar:T}=R.payload;b[A]||(b[A]=[]),b[A].push(T)},replaceErrorBar:(b,R)=>{var{itemId:A,prev:T,next:I}=R.payload;b[A]&&(b[A]=b[A].map(B=>B.dataKey===T.dataKey&&B.direction===T.direction?I:B))},removeErrorBar:(b,R)=>{var{itemId:A,errorBar:T}=R.payload;b[A]&&(b[A]=b[A].filter(I=>I.dataKey!==T.dataKey||I.direction!==T.direction))}}}),{addErrorBar,replaceErrorBar,removeErrorBar}=errorBarSlice.actions,errorBarReducer=errorBarSlice.reducer,_excluded$9=["children"];function _objectWithoutProperties$9(b,R){if(b==null)return{};var A,T,I=_objectWithoutPropertiesLoose$9(b,R);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(b);for(T=0;T<B.length;T++)A=B[T],R.indexOf(A)===-1&&{}.propertyIsEnumerable.call(b,A)&&(I[A]=b[A])}return I}function _objectWithoutPropertiesLoose$9(b,R){if(b==null)return{};var A={};for(var T in b)if({}.hasOwnProperty.call(b,T)){if(R.indexOf(T)!==-1)continue;A[T]=b[T]}return A}var initialContextState={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ErrorBarContext=reactExports.createContext(initialContextState);function SetErrorBarContext(b){var{children:R}=b,A=_objectWithoutProperties$9(b,_excluded$9);return reactExports.createElement(ErrorBarContext.Provider,{value:A},R)}function useNeedsClip(b,R){var A,T,I=useAppSelector(J=>selectXAxisSettings(J,b)),B=useAppSelector(J=>selectYAxisSettings(J,R)),U=(A=I?.allowDataOverflow)!==null&&A!==void 0?A:implicitXAxis.allowDataOverflow,q=(T=B?.allowDataOverflow)!==null&&T!==void 0?T:implicitYAxis.allowDataOverflow,K=U||q;return{needClip:K,needClipX:U,needClipY:q}}function GraphicalItemClipPath(b){var{xAxisId:R,yAxisId:A,clipPathId:T}=b,I=usePlotArea(),{needClipX:B,needClipY:U,needClip:q}=useNeedsClip(R,A);if(!q)return null;var{x:K,y:J,width:ee,height:te}=I;return reactExports.createElement("clipPath",{id:"clipPath-".concat(T)},reactExports.createElement("rect",{x:B?K:K-ee/2,y:U?J:J-te/2,width:B?ee:ee*2,height:U?te:te*2}))}var _excluded$8=["onMouseEnter","onMouseLeave","onClick"],_excluded2$5=["value","background","tooltipPosition"],_excluded3$3=["id"],_excluded4$1=["onMouseEnter","onClick","onMouseLeave"];function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var T in A)({}).hasOwnProperty.call(A,T)&&(b[T]=A[T])}return b},_extends$7.apply(null,arguments)}function ownKeys$6(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$6(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$6(Object(A),!0).forEach(function(T){_defineProperty$9(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$6(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$9(b,R,A){return(R=_toPropertyKey$9(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$9(b){var R=_toPrimitive$9(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$9(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}function _objectWithoutProperties$8(b,R){if(b==null)return{};var A,T,I=_objectWithoutPropertiesLoose$8(b,R);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(b);for(T=0;T<B.length;T++)A=B[T],R.indexOf(A)===-1&&{}.propertyIsEnumerable.call(b,A)&&(I[A]=b[A])}return I}function _objectWithoutPropertiesLoose$8(b,R){if(b==null)return{};var A={};for(var T in b)if({}.hasOwnProperty.call(b,T)){if(R.indexOf(T)!==-1)continue;A[T]=b[T]}return A}var computeLegendPayloadFromBarData=b=>{var{dataKey:R,name:A,fill:T,legendType:I,hide:B}=b;return[{inactive:B,dataKey:R,type:I,color:T,value:getTooltipNameProp(A,R),payload:b}]};function getTooltipEntrySettings$1(b){var{dataKey:R,stroke:A,strokeWidth:T,fill:I,name:B,hide:U,unit:q}=b;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:A,strokeWidth:T,fill:I,dataKey:R,nameKey:void 0,name:getTooltipNameProp(B,R),hide:U,type:b.tooltipType,color:b.fill,unit:q}}}function BarBackground(b){var R=useAppSelector(selectActiveTooltipIndex),{data:A,dataKey:T,background:I,allOtherBarProps:B}=b,{onMouseEnter:U,onMouseLeave:q,onClick:K}=B,J=_objectWithoutProperties$8(B,_excluded$8),ee=useMouseEnterItemDispatch(U,T),te=useMouseLeaveItemDispatch(q),xe=useMouseClickItemDispatch(K,T);if(!I||A==null)return null;var fe=filterProps(I,!1);return reactExports.createElement(reactExports.Fragment,null,A.map((ye,Be)=>{var{value:Le,background:qe,tooltipPosition:Ge}=ye,$e=_objectWithoutProperties$8(ye,_excluded2$5);if(!qe)return null;var Xe=ee(ye,Be),He=te(ye,Be),Qe=xe(ye,Be),st=_objectSpread$6(_objectSpread$6(_objectSpread$6(_objectSpread$6(_objectSpread$6({option:I,isActive:String(Be)===R},$e),{},{fill:"#eee"},qe),fe),adaptEventsOfChild(J,ye,Be)),{},{onMouseEnter:Xe,onMouseLeave:He,onClick:Qe,dataKey:T,index:Be,className:"recharts-bar-background-rectangle"});return reactExports.createElement(BarRectangle,_extends$7({key:"background-bar-".concat(Be)},st))}))}function BarLabelListProvider(b){var{showLabels:R,children:A,rects:T}=b,I=T?.map(B=>{var U={x:B.x,y:B.y,width:B.width,height:B.height};return _objectSpread$6(_objectSpread$6({},U),{},{value:B.value,payload:B.payload,parentViewBox:B.parentViewBox,viewBox:U,fill:B.fill})});return reactExports.createElement(CartesianLabelListContextProvider,{value:R?I:void 0},A)}function BarRectangleWithActiveState(b){var{shape:R,activeBar:A,baseProps:T,entry:I,index:B,dataKey:U}=b,q=useAppSelector(selectActiveTooltipIndex),K=useAppSelector(selectActiveTooltipDataKey),J=A&&String(B)===q&&(K==null||U===K),ee=J?A:R;return reactExports.createElement(BarRectangle,_extends$7({},T,I,{isActive:J,option:ee,index:B,dataKey:U}))}function BarRectangleNeverActive(b){var{shape:R,baseProps:A,entry:T,index:I,dataKey:B}=b;return reactExports.createElement(BarRectangle,_extends$7({},A,T,{isActive:!1,option:R,index:I,dataKey:B}))}function BarRectangles(b){var{data:R,props:A}=b,T=svgPropertiesNoEvents(A),{id:I}=T,B=_objectWithoutProperties$8(T,_excluded3$3),{shape:U,dataKey:q,activeBar:K}=A,{onMouseEnter:J,onClick:ee,onMouseLeave:te}=A,xe=_objectWithoutProperties$8(A,_excluded4$1),fe=useMouseEnterItemDispatch(J,q),ye=useMouseLeaveItemDispatch(te),Be=useMouseClickItemDispatch(ee,q);return R?reactExports.createElement(reactExports.Fragment,null,R.map((Le,qe)=>reactExports.createElement(Layer,_extends$7({className:"recharts-bar-rectangle"},adaptEventsOfChild(xe,Le,qe),{onMouseEnter:fe(Le,qe),onMouseLeave:ye(Le,qe),onClick:Be(Le,qe),key:"rectangle-".concat(Le?.x,"-").concat(Le?.y,"-").concat(Le?.value,"-").concat(qe)}),K?reactExports.createElement(BarRectangleWithActiveState,{shape:U,activeBar:K,baseProps:B,entry:Le,index:qe,dataKey:q}):reactExports.createElement(BarRectangleNeverActive,{shape:U,baseProps:B,entry:Le,index:qe,dataKey:q})))):null}function RectanglesWithAnimation(b){var{props:R,previousRectanglesRef:A}=b,{data:T,layout:I,isAnimationActive:B,animationBegin:U,animationDuration:q,animationEasing:K,onAnimationEnd:J,onAnimationStart:ee}=R,te=A.current,xe=useAnimationId(R,"recharts-bar-"),[fe,ye]=reactExports.useState(!1),Be=!fe,Le=reactExports.useCallback(()=>{typeof J=="function"&&J(),ye(!1)},[J]),qe=reactExports.useCallback(()=>{typeof ee=="function"&&ee(),ye(!0)},[ee]);return reactExports.createElement(BarLabelListProvider,{showLabels:Be,rects:T},reactExports.createElement(JavascriptAnimate,{animationId:xe,begin:U,duration:q,isActive:B,easing:K,onAnimationEnd:Le,onAnimationStart:qe,key:xe},Ge=>{var $e=Ge===1?T:T?.map((Xe,He)=>{var Qe=te&&te[He];if(Qe)return _objectSpread$6(_objectSpread$6({},Xe),{},{x:interpolate$1(Qe.x,Xe.x,Ge),y:interpolate$1(Qe.y,Xe.y,Ge),width:interpolate$1(Qe.width,Xe.width,Ge),height:interpolate$1(Qe.height,Xe.height,Ge)});if(I==="horizontal"){var st=interpolate$1(0,Xe.height,Ge);return _objectSpread$6(_objectSpread$6({},Xe),{},{y:Xe.y+Xe.height-st,height:st})}var ct=interpolate$1(0,Xe.width,Ge);return _objectSpread$6(_objectSpread$6({},Xe),{},{width:ct})});return Ge>0&&(A.current=$e??null),$e==null?null:reactExports.createElement(Layer,null,reactExports.createElement(BarRectangles,{props:R,data:$e}))}),reactExports.createElement(LabelListFromLabelProp,{label:R.label}),R.children)}function RenderRectangles(b){var R=reactExports.useRef(null);return reactExports.createElement(RectanglesWithAnimation,{previousRectanglesRef:R,props:b})}var defaultMinPointSize=0,errorBarDataPointFormatter$1=(b,R)=>{var A=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:A,errorVal:getValueByDataKey(b,R)}};class BarWithState extends reactExports.PureComponent{render(){var{hide:R,data:A,dataKey:T,className:I,xAxisId:B,yAxisId:U,needClip:q,background:K,id:J}=this.props;if(R||A==null)return null;var ee=clsx("recharts-bar",I),te=J;return reactExports.createElement(Layer,{className:ee,id:J},q&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:te,xAxisId:B,yAxisId:U})),reactExports.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:q?"url(#clipPath-".concat(te,")"):void 0},reactExports.createElement(BarBackground,{data:A,dataKey:T,background:K,allOtherBarProps:this.props}),reactExports.createElement(RenderRectangles,this.props)))}}var defaultBarProps={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Global.isSsr,legendType:"rect",minPointSize:defaultMinPointSize,xAxisId:0,yAxisId:0};function BarImpl(b){var{xAxisId:R,yAxisId:A,hide:T,legendType:I,minPointSize:B,activeBar:U,animationBegin:q,animationDuration:K,animationEasing:J,isAnimationActive:ee}=b,{needClip:te}=useNeedsClip(R,A),xe=useChartLayout(),fe=useIsPanorama(),ye=findAllByType(b.children,Cell),Be=useAppSelector(Ge=>selectBarRectangles(Ge,R,A,fe,b.id,ye));if(xe!=="vertical"&&xe!=="horizontal")return null;var Le,qe=Be?.[0];return qe==null||qe.height==null||qe.width==null?Le=0:Le=xe==="vertical"?qe.height/2:qe.width/2,reactExports.createElement(SetErrorBarContext,{xAxisId:R,yAxisId:A,data:Be,dataPointFormatter:errorBarDataPointFormatter$1,errorBarOffset:Le},reactExports.createElement(BarWithState,_extends$7({},b,{layout:xe,needClip:te,data:Be,xAxisId:R,yAxisId:A,hide:T,legendType:I,minPointSize:B,activeBar:U,animationBegin:q,animationDuration:K,animationEasing:J,isAnimationActive:ee})))}function computeBarRectangles(b){var{layout:R,barSettings:{dataKey:A,minPointSize:T},pos:I,bandSize:B,xAxis:U,yAxis:q,xAxisTicks:K,yAxisTicks:J,stackedData:ee,displayedData:te,offset:xe,cells:fe,parentViewBox:ye}=b,Be=R==="horizontal"?q:U,Le=ee?Be.scale.domain():null,qe=getBaseValueOfBar({numericAxis:Be});return te.map((Ge,$e)=>{var Xe,He,Qe,st,ct,gt;ee?Xe=truncateByDomain(ee[$e],Le):(Xe=getValueByDataKey(Ge,A),Array.isArray(Xe)||(Xe=[qe,Xe]));var Nt=minPointSizeCallback(T,defaultMinPointSize)(Xe[1],$e);if(R==="horizontal"){var Ot,[Tt,ir]=[q.scale(Xe[0]),q.scale(Xe[1])];He=getCateCoordinateOfBar({axis:U,ticks:K,bandSize:B,offset:I.offset,entry:Ge,index:$e}),Qe=(Ot=ir??Tt)!==null&&Ot!==void 0?Ot:void 0,st=I.size;var At=Tt-ir;if(ct=isNan(At)?0:At,gt={x:He,y:xe.top,width:st,height:xe.height},Math.abs(Nt)>0&&Math.abs(ct)<Math.abs(Nt)){var It=mathSign(ct||Nt)*(Math.abs(Nt)-Math.abs(ct));Qe-=It,ct+=It}}else{var[Je,ut]=[U.scale(Xe[0]),U.scale(Xe[1])];if(He=Je,Qe=getCateCoordinateOfBar({axis:q,ticks:J,bandSize:B,offset:I.offset,entry:Ge,index:$e}),st=ut-Je,ct=I.size,gt={x:xe.left,y:Qe,width:xe.width,height:ct},Math.abs(Nt)>0&&Math.abs(st)<Math.abs(Nt)){var et=mathSign(st||Nt)*(Math.abs(Nt)-Math.abs(st));st+=et}}if(He==null||Qe==null||st==null||ct==null)return null;var lt=_objectSpread$6(_objectSpread$6({},Ge),{},{x:He,y:Qe,width:st,height:ct,value:ee?Xe:Xe[1],payload:Ge,background:gt,tooltipPosition:{x:He+st/2,y:Qe+ct/2},parentViewBox:ye},fe&&fe[$e]&&fe[$e].props);return lt}).filter(Boolean)}function Bar(b){var R=resolveDefaultProps(b,defaultBarProps),A=useIsPanorama();return reactExports.createElement(RegisterGraphicalItemId,{id:R.id,type:"bar"},T=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromBarData(R)}),reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings$1,args:R}),reactExports.createElement(SetCartesianGraphicalItem,{type:"bar",id:T,data:void 0,xAxisId:R.xAxisId,yAxisId:R.yAxisId,zAxisId:0,dataKey:R.dataKey,stackId:getNormalizedStackId(R.stackId),hide:R.hide,barSize:R.barSize,minPointSize:R.minPointSize,maxBarSize:R.maxBarSize,isPanorama:A}),reactExports.createElement(BarImpl,_extends$7({},R,{id:T}))))}Bar.displayName="Bar";function ownKeys$5(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$5(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$5(Object(A),!0).forEach(function(T){_defineProperty$8(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$5(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$8(b,R,A){return(R=_toPropertyKey$8(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$8(b){var R=_toPrimitive$8(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$8(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}var pickXAxisId=(b,R)=>R,pickYAxisId=(b,R,A)=>A,pickIsPanorama=(b,R,A,T)=>T,pickBarId=(b,R,A,T,I)=>I,selectSynchronisedBarSettings=createSelector([selectUnfilteredCartesianItems,pickBarId],(b,R)=>b.filter(A=>A.type==="bar").find(A=>A.id===R)),selectMaxBarSize=createSelector([selectSynchronisedBarSettings],b=>b?.maxBarSize),pickCells=(b,R,A,T,I,B)=>B,getBarSize=(b,R,A)=>{var T=A??b;if(!isNullish(T))return getPercentValue(T,R,0)},selectAllVisibleBars=createSelector([selectChartLayout,selectUnfilteredCartesianItems,pickXAxisId,pickYAxisId,pickIsPanorama],(b,R,A,T,I)=>R.filter(B=>b==="horizontal"?B.xAxisId===A:B.yAxisId===T).filter(B=>B.isPanorama===I).filter(B=>B.hide===!1).filter(B=>B.type==="bar")),selectBarStackGroups=(b,R,A,T)=>{var I=selectChartLayout(b);return I==="horizontal"?selectStackGroups(b,"yAxis",A,T):selectStackGroups(b,"xAxis",R,T)},selectBarCartesianAxisSize=(b,R,A)=>{var T=selectChartLayout(b);return T==="horizontal"?selectCartesianAxisSize(b,"xAxis",R):selectCartesianAxisSize(b,"yAxis",A)},combineBarSizeList=(b,R,A)=>{var T={},I=b.filter(isStacked),B=b.filter(J=>J.stackId==null),U=I.reduce((J,ee)=>(J[ee.stackId]||(J[ee.stackId]=[]),J[ee.stackId].push(ee),J),T),q=Object.entries(U).map(J=>{var[ee,te]=J,xe=te.map(ye=>ye.dataKey),fe=getBarSize(R,A,te[0].barSize);return{stackId:ee,dataKeys:xe,barSize:fe}}),K=B.map(J=>{var ee=[J.dataKey].filter(xe=>xe!=null),te=getBarSize(R,A,J.barSize);return{stackId:void 0,dataKeys:ee,barSize:te}});return[...q,...K]},selectBarSizeList=createSelector([selectAllVisibleBars,selectRootBarSize,selectBarCartesianAxisSize],combineBarSizeList),selectBarBandSize=(b,R,A,T,I)=>{var B,U,q=selectSynchronisedBarSettings(b,R,A,T,I);if(q!=null){var K=selectChartLayout(b),J=selectRootMaxBarSize(b),{maxBarSize:ee}=q,te=isNullish(ee)?J:ee,xe,fe;return K==="horizontal"?(xe=selectAxisWithScale(b,"xAxis",R,T),fe=selectTicksOfGraphicalItem(b,"xAxis",R,T)):(xe=selectAxisWithScale(b,"yAxis",A,T),fe=selectTicksOfGraphicalItem(b,"yAxis",A,T)),(B=(U=getBandSizeOfAxis(xe,fe,!0))!==null&&U!==void 0?U:te)!==null&&B!==void 0?B:0}},selectAxisBandSize=(b,R,A,T)=>{var I=selectChartLayout(b),B,U;return I==="horizontal"?(B=selectAxisWithScale(b,"xAxis",R,T),U=selectTicksOfGraphicalItem(b,"xAxis",R,T)):(B=selectAxisWithScale(b,"yAxis",A,T),U=selectTicksOfGraphicalItem(b,"yAxis",A,T)),getBandSizeOfAxis(B,U)};function getBarPositions(b,R,A,T,I){var B=T.length;if(!(B<1)){var U=getPercentValue(b,A,0,!0),q,K=[];if(isWellBehavedNumber(T[0].barSize)){var J=!1,ee=A/B,te=T.reduce((qe,Ge)=>qe+(Ge.barSize||0),0);te+=(B-1)*U,te>=A&&(te-=(B-1)*U,U=0),te>=A&&ee>0&&(J=!0,ee*=.9,te=B*ee);var xe=(A-te)/2>>0,fe={offset:xe-U,size:0};q=T.reduce((qe,Ge)=>{var $e,Xe={stackId:Ge.stackId,dataKeys:Ge.dataKeys,position:{offset:fe.offset+fe.size+U,size:J?ee:($e=Ge.barSize)!==null&&$e!==void 0?$e:0}},He=[...qe,Xe];return fe=He[He.length-1].position,He},K)}else{var ye=getPercentValue(R,A,0,!0);A-2*ye-(B-1)*U<=0&&(U=0);var Be=(A-2*ye-(B-1)*U)/B;Be>1&&(Be>>=0);var Le=isWellBehavedNumber(I)?Math.min(Be,I):Be;q=T.reduce((qe,Ge,$e)=>[...qe,{stackId:Ge.stackId,dataKeys:Ge.dataKeys,position:{offset:ye+(Be+U)*$e+(Be-Le)/2,size:Le}}],K)}return q}}var combineAllBarPositions=(b,R,A,T,I,B,U)=>{var q=isNullish(U)?R:U,K=getBarPositions(A,T,I!==B?I:B,b,q);return I!==B&&K!=null&&(K=K.map(J=>_objectSpread$5(_objectSpread$5({},J),{},{position:_objectSpread$5(_objectSpread$5({},J.position),{},{offset:J.position.offset-I/2})}))),K},selectAllBarPositions=createSelector([selectBarSizeList,selectRootMaxBarSize,selectBarGap,selectBarCategoryGap,selectBarBandSize,selectAxisBandSize,selectMaxBarSize],combineAllBarPositions),selectXAxisWithScale$1=(b,R,A,T)=>selectAxisWithScale(b,"xAxis",R,T),selectYAxisWithScale$1=(b,R,A,T)=>selectAxisWithScale(b,"yAxis",A,T),selectXAxisTicks$1=(b,R,A,T)=>selectTicksOfGraphicalItem(b,"xAxis",R,T),selectYAxisTicks$1=(b,R,A,T)=>selectTicksOfGraphicalItem(b,"yAxis",A,T),selectBarPosition=createSelector([selectAllBarPositions,selectSynchronisedBarSettings],(b,R)=>{if(!(b==null||R==null)){var A=b.find(T=>T.stackId===R.stackId&&R.dataKey!=null&&T.dataKeys.includes(R.dataKey));if(A!=null)return A.position}}),combineStackedData=(b,R)=>{var A=getStackSeriesIdentifier(R);if(!(!b||A==null||R==null)){var{stackId:T}=R;if(T!=null){var I=b[T];if(I){var{stackedData:B}=I;if(B)return B.find(U=>U.key===A)}}}},selectStackedDataOfItem=createSelector([selectBarStackGroups,selectSynchronisedBarSettings],combineStackedData),selectBarRectangles=createSelector([selectChartOffsetInternal,selectAxisViewBox,selectXAxisWithScale$1,selectYAxisWithScale$1,selectXAxisTicks$1,selectYAxisTicks$1,selectBarPosition,selectChartLayout,selectChartDataWithIndexesIfNotInPanorama,selectAxisBandSize,selectStackedDataOfItem,selectSynchronisedBarSettings,pickCells],(b,R,A,T,I,B,U,q,K,J,ee,te,xe)=>{var{chartData:fe,dataStartIndex:ye,dataEndIndex:Be}=K;if(!(te==null||U==null||R==null||q!=="horizontal"&&q!=="vertical"||A==null||T==null||I==null||B==null||J==null)){var{data:Le}=te,qe;if(Le!=null&&Le.length>0?qe=Le:qe=fe?.slice(ye,Be+1),qe!=null)return computeBarRectangles({layout:q,barSettings:te,pos:U,parentViewBox:R,bandSize:J,xAxis:A,yAxis:T,xAxisTicks:I,yAxisTicks:B,stackedData:ee,displayedData:qe,offset:b,cells:xe})}}),ChartDataContextProvider=b=>{var{chartData:R}=b,A=useAppDispatch(),T=useIsPanorama();return reactExports.useEffect(()=>T?()=>{}:(A(setChartData(R)),()=>{A(setChartData(void 0))}),[R,A,T]),null},initialState$2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},brushSlice=createSlice({name:"brush",initialState:initialState$2,reducers:{setBrushSettings(b,R){return R.payload==null?initialState$2:R.payload}}}),{setBrushSettings}=brushSlice.actions,brushReducer=brushSlice.reducer;function _defineProperty$7(b,R,A){return(R=_toPropertyKey$7(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$7(b){var R=_toPrimitive$7(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$7(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}class ScaleHelper{static create(R){return new ScaleHelper(R)}constructor(R){this.scale=R}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(R){var{bandAware:A,position:T}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(R!==void 0){if(T)switch(T){case"start":return this.scale(R);case"middle":{var I=this.bandwidth?this.bandwidth()/2:0;return this.scale(R)+I}case"end":{var B=this.bandwidth?this.bandwidth():0;return this.scale(R)+B}default:return this.scale(R)}if(A){var U=this.bandwidth?this.bandwidth()/2:0;return this.scale(R)+U}return this.scale(R)}}isInRange(R){var A=this.range(),T=A[0],I=A[A.length-1];return T<=I?R>=T&&R<=I:R>=I&&R<=T}}_defineProperty$7(ScaleHelper,"EPS",1e-4);function normalizeAngle(b){return(b%180+180)%180}var getAngledRectangleWidth=function b(R){var{width:A,height:T}=R,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=normalizeAngle(I),U=B*Math.PI/180,q=Math.atan(T/A),K=U>q&&U<Math.PI-q?T/Math.sin(U):A/Math.cos(U);return Math.abs(K)},initialState$1={dots:[],areas:[],lines:[]},referenceElementsSlice=createSlice({name:"referenceElements",initialState:initialState$1,reducers:{addDot:(b,R)=>{b.dots.push(R.payload)},removeDot:(b,R)=>{var A=current(b).dots.findIndex(T=>T===R.payload);A!==-1&&b.dots.splice(A,1)},addArea:(b,R)=>{b.areas.push(R.payload)},removeArea:(b,R)=>{var A=current(b).areas.findIndex(T=>T===R.payload);A!==-1&&b.areas.splice(A,1)},addLine:(b,R)=>{b.lines.push(R.payload)},removeLine:(b,R)=>{var A=current(b).lines.findIndex(T=>T===R.payload);A!==-1&&b.lines.splice(A,1)}}}),{addDot,removeDot,addArea,removeArea,addLine,removeLine}=referenceElementsSlice.actions,referenceElementsReducer=referenceElementsSlice.reducer,ClipPathIdContext=reactExports.createContext(void 0),ClipPathProvider=b=>{var{children:R}=b,[A]=reactExports.useState("".concat(uniqueId("recharts"),"-clip")),T=usePlotArea();if(T==null)return null;var{x:I,y:B,width:U,height:q}=T;return reactExports.createElement(ClipPathIdContext.Provider,{value:A},reactExports.createElement("defs",null,reactExports.createElement("clipPath",{id:A},reactExports.createElement("rect",{x:I,y:B,height:q,width:U}))),R)};function shallowEqual(b,R){for(var A in b)if({}.hasOwnProperty.call(b,A)&&(!{}.hasOwnProperty.call(R,A)||b[A]!==R[A]))return!1;for(var T in R)if({}.hasOwnProperty.call(R,T)&&!{}.hasOwnProperty.call(b,T))return!1;return!0}function getEveryNthWithCondition(b,R,A){if(R<1)return[];if(R===1&&A===void 0)return b;for(var T=[],I=0;I<b.length;I+=R)T.push(b[I]);return T}function getAngledTickWidth(b,R,A){var T={width:b.width+R.width,height:b.height+R.height};return getAngledRectangleWidth(T,A)}function getTickBoundaries(b,R,A){var T=A==="width",{x:I,y:B,width:U,height:q}=b;return R===1?{start:T?I:B,end:T?I+U:B+q}:{start:T?I+U:B+q,end:T?I:B}}function isVisible(b,R,A,T,I){if(b*R<b*T||b*R>b*I)return!1;var B=A();return b*(R-b*B/2-T)>=0&&b*(R+b*B/2-I)<=0}function getNumberIntervalTicks(b,R){return getEveryNthWithCondition(b,R+1)}function getEquidistantTicks(b,R,A,T,I){for(var B=(T||[]).slice(),{start:U,end:q}=R,K=0,J=1,ee=U,te=function(){var ye=T?.[K];if(ye===void 0)return{v:getEveryNthWithCondition(T,J)};var Be=K,Le,qe=()=>(Le===void 0&&(Le=A(ye,Be)),Le),Ge=ye.coordinate,$e=K===0||isVisible(b,Ge,qe,ee,q);$e||(K=0,ee=U,J+=1),$e&&(ee=Ge+b*(qe()/2+I),K+=J)},xe;J<=B.length;)if(xe=te(),xe)return xe.v;return[]}function ownKeys$4(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$4(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$4(Object(A),!0).forEach(function(T){_defineProperty$6(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$4(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$6(b,R,A){return(R=_toPropertyKey$6(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$6(b){var R=_toPrimitive$6(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$6(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}function getTicksEnd(b,R,A,T,I){for(var B=(T||[]).slice(),U=B.length,{start:q}=R,{end:K}=R,J=function(xe){var fe=B[xe],ye,Be=()=>(ye===void 0&&(ye=A(fe,xe)),ye);if(xe===U-1){var Le=b*(fe.coordinate+b*Be()/2-K);B[xe]=fe=_objectSpread$4(_objectSpread$4({},fe),{},{tickCoord:Le>0?fe.coordinate-Le*b:fe.coordinate})}else B[xe]=fe=_objectSpread$4(_objectSpread$4({},fe),{},{tickCoord:fe.coordinate});var qe=isVisible(b,fe.tickCoord,Be,q,K);qe&&(K=fe.tickCoord-b*(Be()/2+I),B[xe]=_objectSpread$4(_objectSpread$4({},fe),{},{isShow:!0}))},ee=U-1;ee>=0;ee--)J(ee);return B}function getTicksStart(b,R,A,T,I,B){var U=(T||[]).slice(),q=U.length,{start:K,end:J}=R;if(B){var ee=T[q-1],te=A(ee,q-1),xe=b*(ee.coordinate+b*te/2-J);U[q-1]=ee=_objectSpread$4(_objectSpread$4({},ee),{},{tickCoord:xe>0?ee.coordinate-xe*b:ee.coordinate});var fe=isVisible(b,ee.tickCoord,()=>te,K,J);fe&&(J=ee.tickCoord-b*(te/2+I),U[q-1]=_objectSpread$4(_objectSpread$4({},ee),{},{isShow:!0}))}for(var ye=B?q-1:q,Be=function(Ge){var $e=U[Ge],Xe,He=()=>(Xe===void 0&&(Xe=A($e,Ge)),Xe);if(Ge===0){var Qe=b*($e.coordinate-b*He()/2-K);U[Ge]=$e=_objectSpread$4(_objectSpread$4({},$e),{},{tickCoord:Qe<0?$e.coordinate-Qe*b:$e.coordinate})}else U[Ge]=$e=_objectSpread$4(_objectSpread$4({},$e),{},{tickCoord:$e.coordinate});var st=isVisible(b,$e.tickCoord,He,K,J);st&&(K=$e.tickCoord+b*(He()/2+I),U[Ge]=_objectSpread$4(_objectSpread$4({},$e),{},{isShow:!0}))},Le=0;Le<ye;Le++)Be(Le);return U}function getTicks(b,R,A){var{tick:T,ticks:I,viewBox:B,minTickGap:U,orientation:q,interval:K,tickFormatter:J,unit:ee,angle:te}=b;if(!I||!I.length||!T)return[];if(isNumber(K)||Global.isSsr){var xe;return(xe=getNumberIntervalTicks(I,isNumber(K)?K:0))!==null&&xe!==void 0?xe:[]}var fe=[],ye=q==="top"||q==="bottom"?"width":"height",Be=ee&&ye==="width"?getStringSize(ee,{fontSize:R,letterSpacing:A}):{width:0,height:0},Le=($e,Xe)=>{var He=typeof J=="function"?J($e.value,Xe):$e.value;return ye==="width"?getAngledTickWidth(getStringSize(He,{fontSize:R,letterSpacing:A}),Be,te):getStringSize(He,{fontSize:R,letterSpacing:A})[ye]},qe=I.length>=2?mathSign(I[1].coordinate-I[0].coordinate):1,Ge=getTickBoundaries(B,qe,ye);return K==="equidistantPreserveStart"?getEquidistantTicks(qe,Ge,Le,I,U):(K==="preserveStart"||K==="preserveStartEnd"?fe=getTicksStart(qe,Ge,Le,I,U,K==="preserveStartEnd"):fe=getTicksEnd(qe,Ge,Le,I,U),fe.filter($e=>$e.isShow))}var _excluded$7=["viewBox"],_excluded2$4=["viewBox"];function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var T in A)({}).hasOwnProperty.call(A,T)&&(b[T]=A[T])}return b},_extends$6.apply(null,arguments)}function ownKeys$3(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$3(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$3(Object(A),!0).forEach(function(T){_defineProperty$5(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$3(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _objectWithoutProperties$7(b,R){if(b==null)return{};var A,T,I=_objectWithoutPropertiesLoose$7(b,R);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(b);for(T=0;T<B.length;T++)A=B[T],R.indexOf(A)===-1&&{}.propertyIsEnumerable.call(b,A)&&(I[A]=b[A])}return I}function _objectWithoutPropertiesLoose$7(b,R){if(b==null)return{};var A={};for(var T in b)if({}.hasOwnProperty.call(b,T)){if(R.indexOf(T)!==-1)continue;A[T]=b[T]}return A}function _defineProperty$5(b,R,A){return(R=_toPropertyKey$5(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$5(b){var R=_toPrimitive$5(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$5(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}class CartesianAxis extends reactExports.Component{constructor(R){super(R),this.tickRefs=reactExports.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(R,A){var{viewBox:T}=R,I=_objectWithoutProperties$7(R,_excluded$7),B=this.props,{viewBox:U}=B,q=_objectWithoutProperties$7(B,_excluded2$4);return!shallowEqual(T,U)||!shallowEqual(I,q)||!shallowEqual(A,this.state)}getTickLineCoord(R){var{x:A,y:T,width:I,height:B,orientation:U,tickSize:q,mirror:K,tickMargin:J}=this.props,ee,te,xe,fe,ye,Be,Le=K?-1:1,qe=R.tickSize||q,Ge=isNumber(R.tickCoord)?R.tickCoord:R.coordinate;switch(U){case"top":ee=te=R.coordinate,fe=T+ +!K*B,xe=fe-Le*qe,Be=xe-Le*J,ye=Ge;break;case"left":xe=fe=R.coordinate,te=A+ +!K*I,ee=te-Le*qe,ye=ee-Le*J,Be=Ge;break;case"right":xe=fe=R.coordinate,te=A+ +K*I,ee=te+Le*qe,ye=ee+Le*J,Be=Ge;break;default:ee=te=R.coordinate,fe=T+ +K*B,xe=fe+Le*qe,Be=xe+Le*J,ye=Ge;break}return{line:{x1:ee,y1:xe,x2:te,y2:fe},tick:{x:ye,y:Be}}}getTickTextAnchor(){var{orientation:R,mirror:A}=this.props;switch(R){case"left":return A?"start":"end";case"right":return A?"end":"start";default:return"middle"}}getTickVerticalAnchor(){var{orientation:R,mirror:A}=this.props;switch(R){case"left":case"right":return"middle";case"top":return A?"start":"end";default:return A?"end":"start"}}renderAxisLine(){var{x:R,y:A,width:T,height:I,orientation:B,mirror:U,axisLine:q}=this.props,K=_objectSpread$3(_objectSpread$3(_objectSpread$3({},filterProps(this.props,!1)),filterProps(q,!1)),{},{fill:"none"});if(B==="top"||B==="bottom"){var J=+(B==="top"&&!U||B==="bottom"&&U);K=_objectSpread$3(_objectSpread$3({},K),{},{x1:R,y1:A+J*I,x2:R+T,y2:A+J*I})}else{var ee=+(B==="left"&&!U||B==="right"&&U);K=_objectSpread$3(_objectSpread$3({},K),{},{x1:R+ee*T,y1:A,x2:R+ee*T,y2:A+I})}return reactExports.createElement("line",_extends$6({},K,{className:clsx("recharts-cartesian-axis-line",get(q,"className"))}))}static renderTickItem(R,A,T){var I,B=clsx(A.className,"recharts-cartesian-axis-tick-value");if(reactExports.isValidElement(R))I=reactExports.cloneElement(R,_objectSpread$3(_objectSpread$3({},A),{},{className:B}));else if(typeof R=="function")I=R(_objectSpread$3(_objectSpread$3({},A),{},{className:B}));else{var U="recharts-cartesian-axis-tick-value";typeof R!="boolean"&&(U=clsx(U,R.className)),I=reactExports.createElement(Text,_extends$6({},A,{className:U}),T)}return I}renderTicks(R,A){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:I,stroke:B,tick:U,tickFormatter:q,unit:K,padding:J,tickTextProps:ee}=this.props,te=getTicks(_objectSpread$3(_objectSpread$3({},this.props),{},{ticks:T}),R,A),xe=this.getTickTextAnchor(),fe=this.getTickVerticalAnchor(),ye=svgPropertiesNoEvents(this.props),Be=filterProps(U,!1),Le=_objectSpread$3(_objectSpread$3({},ye),{},{fill:"none"},filterProps(I,!1)),qe=te.map((Ge,$e)=>{var{line:Xe,tick:He}=this.getTickLineCoord(Ge),Qe=_objectSpread$3(_objectSpread$3(_objectSpread$3(_objectSpread$3({textAnchor:xe,verticalAnchor:fe},ye),{},{stroke:"none",fill:B},Be),He),{},{index:$e,payload:Ge,visibleTicksCount:te.length,tickFormatter:q,padding:J},ee);return reactExports.createElement(Layer,_extends$6({className:"recharts-cartesian-axis-tick",key:"tick-".concat(Ge.value,"-").concat(Ge.coordinate,"-").concat(Ge.tickCoord)},adaptEventsOfChild(this.props,Ge,$e)),I&&reactExports.createElement("line",_extends$6({},Le,Xe,{className:clsx("recharts-cartesian-axis-tick-line",get(I,"className"))})),U&&CartesianAxis.renderTickItem(U,Qe,"".concat(typeof q=="function"?q(Ge.value,$e):Ge.value).concat(K||"")))});return qe.length>0?reactExports.createElement("g",{className:"recharts-cartesian-axis-ticks"},qe):null}render(){var{axisLine:R,width:A,height:T,className:I,hide:B}=this.props;if(B)return null;var{ticks:U}=this.props;return A!=null&&A<=0||T!=null&&T<=0?null:reactExports.createElement(Layer,{className:clsx("recharts-cartesian-axis",I),ref:q=>{if(q){var K=q.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(K);var J=K[0];if(J){var ee=window.getComputedStyle(J).fontSize,te=window.getComputedStyle(J).letterSpacing;(ee!==this.state.fontSize||te!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(J).fontSize,letterSpacing:window.getComputedStyle(J).letterSpacing})}}}},R&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,U),reactExports.createElement(CartesianLabelContextProvider,{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height},reactExports.createElement(CartesianLabelFromLabelProp,{label:this.props.label}),this.props.children))}}_defineProperty$5(CartesianAxis,"displayName","CartesianAxis");_defineProperty$5(CartesianAxis,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _excluded$6=["x1","y1","x2","y2","key"],_excluded2$3=["offset"],_excluded3$2=["xAxisId","yAxisId"],_excluded4=["xAxisId","yAxisId"];function ownKeys$2(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$2(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$2(Object(A),!0).forEach(function(T){_defineProperty$4(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$2(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$4(b,R,A){return(R=_toPropertyKey$4(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$4(b){var R=_toPrimitive$4(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$4(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var T in A)({}).hasOwnProperty.call(A,T)&&(b[T]=A[T])}return b},_extends$5.apply(null,arguments)}function _objectWithoutProperties$6(b,R){if(b==null)return{};var A,T,I=_objectWithoutPropertiesLoose$6(b,R);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(b);for(T=0;T<B.length;T++)A=B[T],R.indexOf(A)===-1&&{}.propertyIsEnumerable.call(b,A)&&(I[A]=b[A])}return I}function _objectWithoutPropertiesLoose$6(b,R){if(b==null)return{};var A={};for(var T in b)if({}.hasOwnProperty.call(b,T)){if(R.indexOf(T)!==-1)continue;A[T]=b[T]}return A}var Background=b=>{var{fill:R}=b;if(!R||R==="none")return null;var{fillOpacity:A,x:T,y:I,width:B,height:U,ry:q}=b;return reactExports.createElement("rect",{x:T,y:I,ry:q,width:B,height:U,stroke:"none",fill:R,fillOpacity:A,className:"recharts-cartesian-grid-bg"})};function renderLineItem(b,R){var A;if(reactExports.isValidElement(b))A=reactExports.cloneElement(b,R);else if(typeof b=="function")A=b(R);else{var{x1:T,y1:I,x2:B,y2:U,key:q}=R,K=_objectWithoutProperties$6(R,_excluded$6),J=svgPropertiesNoEvents(K),{offset:ee}=J,te=_objectWithoutProperties$6(J,_excluded2$3);A=reactExports.createElement("line",_extends$5({},te,{x1:T,y1:I,x2:B,y2:U,fill:"none",key:q}))}return A}function HorizontalGridLines(b){var{x:R,width:A,horizontal:T=!0,horizontalPoints:I}=b;if(!T||!I||!I.length)return null;var{xAxisId:B,yAxisId:U}=b,q=_objectWithoutProperties$6(b,_excluded3$2),K=I.map((J,ee)=>{var te=_objectSpread$2(_objectSpread$2({},q),{},{x1:R,y1:J,x2:R+A,y2:J,key:"line-".concat(ee),index:ee});return renderLineItem(T,te)});return reactExports.createElement("g",{className:"recharts-cartesian-grid-horizontal"},K)}function VerticalGridLines(b){var{y:R,height:A,vertical:T=!0,verticalPoints:I}=b;if(!T||!I||!I.length)return null;var{xAxisId:B,yAxisId:U}=b,q=_objectWithoutProperties$6(b,_excluded4),K=I.map((J,ee)=>{var te=_objectSpread$2(_objectSpread$2({},q),{},{x1:J,y1:R,x2:J,y2:R+A,key:"line-".concat(ee),index:ee});return renderLineItem(T,te)});return reactExports.createElement("g",{className:"recharts-cartesian-grid-vertical"},K)}function HorizontalStripes(b){var{horizontalFill:R,fillOpacity:A,x:T,y:I,width:B,height:U,horizontalPoints:q,horizontal:K=!0}=b;if(!K||!R||!R.length)return null;var J=q.map(te=>Math.round(te+I-I)).sort((te,xe)=>te-xe);I!==J[0]&&J.unshift(0);var ee=J.map((te,xe)=>{var fe=!J[xe+1],ye=fe?I+U-te:J[xe+1]-te;if(ye<=0)return null;var Be=xe%R.length;return reactExports.createElement("rect",{key:"react-".concat(xe),y:te,x:T,height:ye,width:B,stroke:"none",fill:R[Be],fillOpacity:A,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},ee)}function VerticalStripes(b){var{vertical:R=!0,verticalFill:A,fillOpacity:T,x:I,y:B,width:U,height:q,verticalPoints:K}=b;if(!R||!A||!A.length)return null;var J=K.map(te=>Math.round(te+I-I)).sort((te,xe)=>te-xe);I!==J[0]&&J.unshift(0);var ee=J.map((te,xe)=>{var fe=!J[xe+1],ye=fe?I+U-te:J[xe+1]-te;if(ye<=0)return null;var Be=xe%A.length;return reactExports.createElement("rect",{key:"react-".concat(xe),x:te,y:B,width:ye,height:q,stroke:"none",fill:A[Be],fillOpacity:T,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},ee)}var defaultVerticalCoordinatesGenerator=(b,R)=>{var{xAxis:A,width:T,height:I,offset:B}=b;return getCoordinatesOfGrid(getTicks(_objectSpread$2(_objectSpread$2(_objectSpread$2({},CartesianAxis.defaultProps),A),{},{ticks:getTicksOfAxis(A),viewBox:{x:0,y:0,width:T,height:I}})),B.left,B.left+B.width,R)},defaultHorizontalCoordinatesGenerator=(b,R)=>{var{yAxis:A,width:T,height:I,offset:B}=b;return getCoordinatesOfGrid(getTicks(_objectSpread$2(_objectSpread$2(_objectSpread$2({},CartesianAxis.defaultProps),A),{},{ticks:getTicksOfAxis(A),viewBox:{x:0,y:0,width:T,height:I}})),B.top,B.top+B.height,R)},defaultProps$1={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function CartesianGrid(b){var R=useChartWidth(),A=useChartHeight(),T=useOffsetInternal(),I=_objectSpread$2(_objectSpread$2({},resolveDefaultProps(b,defaultProps$1)),{},{x:isNumber(b.x)?b.x:T.left,y:isNumber(b.y)?b.y:T.top,width:isNumber(b.width)?b.width:T.width,height:isNumber(b.height)?b.height:T.height}),{xAxisId:B,yAxisId:U,x:q,y:K,width:J,height:ee,syncWithTicks:te,horizontalValues:xe,verticalValues:fe}=I,ye=useIsPanorama(),Be=useAppSelector(gt=>selectAxisPropsNeededForCartesianGridTicksGenerator(gt,"xAxis",B,ye)),Le=useAppSelector(gt=>selectAxisPropsNeededForCartesianGridTicksGenerator(gt,"yAxis",U,ye));if(!isNumber(J)||J<=0||!isNumber(ee)||ee<=0||!isNumber(q)||q!==+q||!isNumber(K)||K!==+K)return null;var qe=I.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,Ge=I.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,{horizontalPoints:$e,verticalPoints:Xe}=I;if((!$e||!$e.length)&&typeof Ge=="function"){var He=xe&&xe.length,Qe=Ge({yAxis:Le?_objectSpread$2(_objectSpread$2({},Le),{},{ticks:He?xe:Le.ticks}):void 0,width:R,height:A,offset:T},He?!0:te);warn(Array.isArray(Qe),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof Qe,"]")),Array.isArray(Qe)&&($e=Qe)}if((!Xe||!Xe.length)&&typeof qe=="function"){var st=fe&&fe.length,ct=qe({xAxis:Be?_objectSpread$2(_objectSpread$2({},Be),{},{ticks:st?fe:Be.ticks}):void 0,width:R,height:A,offset:T},st?!0:te);warn(Array.isArray(ct),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof ct,"]")),Array.isArray(ct)&&(Xe=ct)}return reactExports.createElement("g",{className:"recharts-cartesian-grid"},reactExports.createElement(Background,{fill:I.fill,fillOpacity:I.fillOpacity,x:I.x,y:I.y,width:I.width,height:I.height,ry:I.ry}),reactExports.createElement(HorizontalStripes,_extends$5({},I,{horizontalPoints:$e})),reactExports.createElement(VerticalStripes,_extends$5({},I,{verticalPoints:Xe})),reactExports.createElement(HorizontalGridLines,_extends$5({},I,{offset:T,horizontalPoints:$e,xAxis:Be,yAxis:Le})),reactExports.createElement(VerticalGridLines,_extends$5({},I,{offset:T,verticalPoints:Xe,xAxis:Be,yAxis:Le})))}CartesianGrid.displayName="CartesianGrid";var selectXAxisWithScale=(b,R,A,T)=>selectAxisWithScale(b,"xAxis",R,T),selectXAxisTicks=(b,R,A,T)=>selectTicksOfGraphicalItem(b,"xAxis",R,T),selectYAxisWithScale=(b,R,A,T)=>selectAxisWithScale(b,"yAxis",A,T),selectYAxisTicks=(b,R,A,T)=>selectTicksOfGraphicalItem(b,"yAxis",A,T),selectBandSize=createSelector([selectChartLayout,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks],(b,R,A,T,I)=>isCategoricalAxis(b,"xAxis")?getBandSizeOfAxis(R,T,!1):getBandSizeOfAxis(A,I,!1)),pickLineId=(b,R,A,T,I)=>I;function isLineSettings(b){return b.type==="line"}var selectSynchronisedLineSettings=createSelector([selectUnfilteredCartesianItems,pickLineId],(b,R)=>b.filter(isLineSettings).find(A=>A.id===R)),selectLinePoints=createSelector([selectChartLayout,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks,selectSynchronisedLineSettings,selectBandSize,selectChartDataWithIndexesIfNotInPanorama],(b,R,A,T,I,B,U,q)=>{var{chartData:K,dataStartIndex:J,dataEndIndex:ee}=q;if(!(B==null||R==null||A==null||T==null||I==null||T.length===0||I.length===0||U==null)){var{dataKey:te,data:xe}=B,fe;if(xe!=null&&xe.length>0?fe=xe:fe=K?.slice(J,ee+1),fe!=null)return computeLinePoints({layout:b,xAxis:R,yAxis:A,xAxisTicks:T,yAxisTicks:I,dataKey:te,bandSize:U,displayedData:fe})}}),_excluded$5=["id"],_excluded2$2=["type","layout","connectNulls","needClip"],_excluded3$1=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function ownKeys$1(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread$1(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$1(Object(A),!0).forEach(function(T){_defineProperty$3(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys$1(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty$3(b,R,A){return(R=_toPropertyKey$3(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$3(b){var R=_toPrimitive$3(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$3(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}function _objectWithoutProperties$5(b,R){if(b==null)return{};var A,T,I=_objectWithoutPropertiesLoose$5(b,R);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(b);for(T=0;T<B.length;T++)A=B[T],R.indexOf(A)===-1&&{}.propertyIsEnumerable.call(b,A)&&(I[A]=b[A])}return I}function _objectWithoutPropertiesLoose$5(b,R){if(b==null)return{};var A={};for(var T in b)if({}.hasOwnProperty.call(b,T)){if(R.indexOf(T)!==-1)continue;A[T]=b[T]}return A}function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var T in A)({}).hasOwnProperty.call(A,T)&&(b[T]=A[T])}return b},_extends$4.apply(null,arguments)}var computeLegendPayloadFromAreaData=b=>{var{dataKey:R,name:A,stroke:T,legendType:I,hide:B}=b;return[{inactive:B,dataKey:R,type:I,color:T,value:getTooltipNameProp(A,R),payload:b}]};function getTooltipEntrySettings(b){var{dataKey:R,data:A,stroke:T,strokeWidth:I,fill:B,name:U,hide:q,unit:K}=b;return{dataDefinedOnItem:A,positions:void 0,settings:{stroke:T,strokeWidth:I,fill:B,dataKey:R,nameKey:void 0,name:getTooltipNameProp(U,R),hide:q,type:b.tooltipType,color:b.stroke,unit:K}}}var generateSimpleStrokeDasharray=(b,R)=>"".concat(R,"px ").concat(b-R,"px");function repeat(b,R){for(var A=b.length%2!==0?[...b,0]:b,T=[],I=0;I<R;++I)T=[...T,...A];return T}var getStrokeDasharray=(b,R,A)=>{var T=A.reduce((te,xe)=>te+xe);if(!T)return generateSimpleStrokeDasharray(R,b);for(var I=Math.floor(b/T),B=b%T,U=R-b,q=[],K=0,J=0;K<A.length;J+=A[K],++K)if(J+A[K]>B){q=[...A.slice(0,K),B-J];break}var ee=q.length%2===0?[0,U]:[U];return[...repeat(A,I),...q,...ee].map(te=>"".concat(te,"px")).join(", ")};function renderDotItem(b,R){var A;if(reactExports.isValidElement(b))A=reactExports.cloneElement(b,R);else if(typeof b=="function")A=b(R);else{var T=clsx("recharts-line-dot",typeof b!="boolean"?b.className:"");A=reactExports.createElement(Dot,_extends$4({},R,{className:T}))}return A}function shouldRenderDots(b,R){return b==null?!1:R?!0:b.length===1}function Dots(b){var{clipPathId:R,points:A,props:T}=b,{dot:I,dataKey:B,needClip:U}=T;if(!shouldRenderDots(A,I))return null;var{id:q}=T,K=_objectWithoutProperties$5(T,_excluded$5),J=isClipDot(I),ee=svgPropertiesNoEvents(K),te=filterProps(I,!0),xe=A.map((ye,Be)=>{var Le=_objectSpread$1(_objectSpread$1(_objectSpread$1({key:"dot-".concat(Be),r:3},ee),te),{},{index:Be,cx:ye.x,cy:ye.y,dataKey:B,value:ye.value,payload:ye.payload,points:A});return renderDotItem(I,Le)}),fe={clipPath:U?"url(#clipPath-".concat(J?"":"dots-").concat(R,")"):void 0};return reactExports.createElement(Layer,_extends$4({className:"recharts-line-dots",key:"dots"},fe),xe)}function LineLabelListProvider(b){var{showLabels:R,children:A,points:T}=b,I=reactExports.useMemo(()=>T?.map(B=>{var U={x:B.x,y:B.y,width:0,height:0};return _objectSpread$1(_objectSpread$1({},U),{},{value:B.value,payload:B.payload,viewBox:U,parentViewBox:void 0,fill:void 0})}),[T]);return reactExports.createElement(CartesianLabelListContextProvider,{value:R?I:null},A)}function StaticCurve(b){var{clipPathId:R,pathRef:A,points:T,strokeDasharray:I,props:B}=b,{type:U,layout:q,connectNulls:K,needClip:J}=B,ee=_objectWithoutProperties$5(B,_excluded2$2),te=_objectSpread$1(_objectSpread$1({},filterProps(ee,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:J?"url(#clipPath-".concat(R,")"):void 0,points:T,type:U,layout:q,connectNulls:K,strokeDasharray:I??B.strokeDasharray});return reactExports.createElement(reactExports.Fragment,null,T?.length>1&&reactExports.createElement(Curve,_extends$4({},te,{pathRef:A})),reactExports.createElement(Dots,{points:T,clipPathId:R,props:B}))}function getTotalLength(b){try{return b&&b.getTotalLength&&b.getTotalLength()||0}catch{return 0}}function CurveWithAnimation(b){var{clipPathId:R,props:A,pathRef:T,previousPointsRef:I,longestAnimatedLengthRef:B}=b,{points:U,strokeDasharray:q,isAnimationActive:K,animationBegin:J,animationDuration:ee,animationEasing:te,animateNewValues:xe,width:fe,height:ye,onAnimationEnd:Be,onAnimationStart:Le}=A,qe=I.current,Ge=useAnimationId(A,"recharts-line-"),[$e,Xe]=reactExports.useState(!1),He=!$e,Qe=reactExports.useCallback(()=>{typeof Be=="function"&&Be(),Xe(!1)},[Be]),st=reactExports.useCallback(()=>{typeof Le=="function"&&Le(),Xe(!0)},[Le]),ct=getTotalLength(T.current),gt=B.current;return reactExports.createElement(LineLabelListProvider,{points:U,showLabels:He},A.children,reactExports.createElement(JavascriptAnimate,{animationId:Ge,begin:J,duration:ee,isActive:K,easing:te,onAnimationEnd:Qe,onAnimationStart:st,key:Ge},Nt=>{var Ot=interpolate$1(gt,ct+gt,Nt),Tt=Math.min(Ot,ct),ir;if(K)if(q){var At="".concat(q).split(/[,\s]+/gim).map(ut=>parseFloat(ut));ir=getStrokeDasharray(Tt,ct,At)}else ir=generateSimpleStrokeDasharray(ct,Tt);else ir=q==null?void 0:String(q);if(qe){var It=qe.length/U.length,Je=Nt===1?U:U.map((ut,et)=>{var lt=Math.floor(et*It);if(qe[lt]){var rt=qe[lt];return _objectSpread$1(_objectSpread$1({},ut),{},{x:interpolate$1(rt.x,ut.x,Nt),y:interpolate$1(rt.y,ut.y,Nt)})}return xe?_objectSpread$1(_objectSpread$1({},ut),{},{x:interpolate$1(fe*2,ut.x,Nt),y:interpolate$1(ye/2,ut.y,Nt)}):_objectSpread$1(_objectSpread$1({},ut),{},{x:ut.x,y:ut.y})});return I.current=Je,reactExports.createElement(StaticCurve,{props:A,points:Je,clipPathId:R,pathRef:T,strokeDasharray:ir})}return Nt>0&&ct>0&&(I.current=U,B.current=Tt),reactExports.createElement(StaticCurve,{props:A,points:U,clipPathId:R,pathRef:T,strokeDasharray:ir})}),reactExports.createElement(LabelListFromLabelProp,{label:A.label}))}function RenderCurve(b){var{clipPathId:R,props:A}=b,T=reactExports.useRef(null),I=reactExports.useRef(0),B=reactExports.useRef(null);return reactExports.createElement(CurveWithAnimation,{props:A,clipPathId:R,previousPointsRef:T,longestAnimatedLengthRef:I,pathRef:B})}var errorBarDataPointFormatter=(b,R)=>({x:b.x,y:b.y,value:b.value,errorVal:getValueByDataKey(b.payload,R)});class LineWithState extends reactExports.Component{render(){var R,{hide:A,dot:T,points:I,className:B,xAxisId:U,yAxisId:q,top:K,left:J,width:ee,height:te,id:xe,needClip:fe}=this.props;if(A)return null;var ye=clsx("recharts-line",B),Be=xe,{r:Le=3,strokeWidth:qe=2}=(R=filterProps(T,!1))!==null&&R!==void 0?R:{r:3,strokeWidth:2},Ge=isClipDot(T),$e=Le*2+qe;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Layer,{className:ye},fe&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:Be,xAxisId:U,yAxisId:q}),!Ge&&reactExports.createElement("clipPath",{id:"clipPath-dots-".concat(Be)},reactExports.createElement("rect",{x:J-$e/2,y:K-$e/2,width:ee+$e,height:te+$e}))),reactExports.createElement(SetErrorBarContext,{xAxisId:U,yAxisId:q,data:I,dataPointFormatter:errorBarDataPointFormatter,errorBarOffset:0},reactExports.createElement(RenderCurve,{props:this.props,clipPathId:Be}))),reactExports.createElement(ActivePoints,{activeDot:this.props.activeDot,points:I,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var defaultLineProps={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Global.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function LineImpl(b){var R=resolveDefaultProps(b,defaultLineProps),{activeDot:A,animateNewValues:T,animationBegin:I,animationDuration:B,animationEasing:U,connectNulls:q,dot:K,hide:J,isAnimationActive:ee,label:te,legendType:xe,xAxisId:fe,yAxisId:ye,id:Be}=R,Le=_objectWithoutProperties$5(R,_excluded3$1),{needClip:qe}=useNeedsClip(fe,ye),Ge=usePlotArea(),$e=useChartLayout(),Xe=useIsPanorama(),He=useAppSelector(Nt=>selectLinePoints(Nt,fe,ye,Xe,Be));if($e!=="horizontal"&&$e!=="vertical"||He==null||Ge==null)return null;var{height:Qe,width:st,x:ct,y:gt}=Ge;return reactExports.createElement(LineWithState,_extends$4({},Le,{id:Be,connectNulls:q,dot:K,activeDot:A,animateNewValues:T,animationBegin:I,animationDuration:B,animationEasing:U,isAnimationActive:ee,hide:J,label:te,legendType:xe,xAxisId:fe,yAxisId:ye,points:He,layout:$e,height:Qe,width:st,left:ct,top:gt,needClip:qe}))}function computeLinePoints(b){var{layout:R,xAxis:A,yAxis:T,xAxisTicks:I,yAxisTicks:B,dataKey:U,bandSize:q,displayedData:K}=b;return K.map((J,ee)=>{var te=getValueByDataKey(J,U);if(R==="horizontal"){var xe=getCateCoordinateOfLine({axis:A,ticks:I,bandSize:q,entry:J,index:ee}),fe=isNullish(te)?null:T.scale(te);return{x:xe,y:fe,value:te,payload:J}}var ye=isNullish(te)?null:A.scale(te),Be=getCateCoordinateOfLine({axis:T,ticks:B,bandSize:q,entry:J,index:ee});return ye==null||Be==null?null:{x:ye,y:Be,value:te,payload:J}}).filter(Boolean)}function Line(b){var R=resolveDefaultProps(b,defaultLineProps),A=useIsPanorama();return reactExports.createElement(RegisterGraphicalItemId,{id:R.id,type:"line"},T=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromAreaData(R)}),reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings,args:R}),reactExports.createElement(SetCartesianGraphicalItem,{type:"line",id:T,data:R.data,xAxisId:R.xAxisId,yAxisId:R.yAxisId,zAxisId:0,dataKey:R.dataKey,hide:R.hide,isPanorama:A}),reactExports.createElement(LineImpl,_extends$4({},R,{id:T}))))}Line.displayName="Line";var _excluded$4=["children"],_excluded2$1=["dangerouslySetInnerHTML","ticks"],_excluded3=["id"];function _defineProperty$2(b,R,A){return(R=_toPropertyKey$2(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$2(b){var R=_toPrimitive$2(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$2(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var T in A)({}).hasOwnProperty.call(A,T)&&(b[T]=A[T])}return b},_extends$3.apply(null,arguments)}function _objectWithoutProperties$4(b,R){if(b==null)return{};var A,T,I=_objectWithoutPropertiesLoose$4(b,R);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(b);for(T=0;T<B.length;T++)A=B[T],R.indexOf(A)===-1&&{}.propertyIsEnumerable.call(b,A)&&(I[A]=b[A])}return I}function _objectWithoutPropertiesLoose$4(b,R){if(b==null)return{};var A={};for(var T in b)if({}.hasOwnProperty.call(b,T)){if(R.indexOf(T)!==-1)continue;A[T]=b[T]}return A}function SetXAxisSettings(b){var R=useAppDispatch(),A=reactExports.useMemo(()=>{var{children:T}=b,I=_objectWithoutProperties$4(b,_excluded$4);return I},[b]);return reactExports.useEffect(()=>(R(addXAxis(A)),()=>{R(removeXAxis(A))}),[A,R]),b.children}var XAxisImpl=b=>{var{xAxisId:R,className:A}=b,T=useAppSelector(selectAxisViewBox),I=useIsPanorama(),B="xAxis",U=useAppSelector(Le=>selectAxisScale(Le,B,R,I)),q=useAppSelector(Le=>selectTicksOfAxis(Le,B,R,I)),K=useAppSelector(Le=>selectXAxisSize(Le,R)),J=useAppSelector(Le=>selectXAxisPosition(Le,R)),ee=useAppSelector(Le=>selectXAxisSettingsNoDefaults(Le,R));if(K==null||J==null||ee==null)return null;var{dangerouslySetInnerHTML:te,ticks:xe}=b,fe=_objectWithoutProperties$4(b,_excluded2$1),{id:ye}=ee,Be=_objectWithoutProperties$4(ee,_excluded3);return reactExports.createElement(CartesianAxis,_extends$3({},fe,Be,{scale:U,x:J.x,y:J.y,width:K.width,height:K.height,className:clsx("recharts-".concat(B," ").concat(B),A),viewBox:T,ticks:q}))},XAxisSettingsDispatcher=b=>{var R,A,T,I,B;return reactExports.createElement(SetXAxisSettings,{interval:(R=b.interval)!==null&&R!==void 0?R:"preserveEnd",id:b.xAxisId,scale:b.scale,type:b.type,padding:b.padding,allowDataOverflow:b.allowDataOverflow,domain:b.domain,dataKey:b.dataKey,allowDuplicatedCategory:b.allowDuplicatedCategory,allowDecimals:b.allowDecimals,tickCount:b.tickCount,includeHidden:(A=b.includeHidden)!==null&&A!==void 0?A:!1,reversed:b.reversed,ticks:b.ticks,height:b.height,orientation:b.orientation,mirror:b.mirror,hide:b.hide,unit:b.unit,name:b.name,angle:(T=b.angle)!==null&&T!==void 0?T:0,minTickGap:(I=b.minTickGap)!==null&&I!==void 0?I:5,tick:(B=b.tick)!==null&&B!==void 0?B:!0,tickFormatter:b.tickFormatter},reactExports.createElement(XAxisImpl,b))};class XAxis extends reactExports.Component{render(){return reactExports.createElement(XAxisSettingsDispatcher,this.props)}}_defineProperty$2(XAxis,"displayName","XAxis");_defineProperty$2(XAxis,"defaultProps",{allowDataOverflow:implicitXAxis.allowDataOverflow,allowDecimals:implicitXAxis.allowDecimals,allowDuplicatedCategory:implicitXAxis.allowDuplicatedCategory,height:implicitXAxis.height,hide:!1,mirror:implicitXAxis.mirror,orientation:implicitXAxis.orientation,padding:implicitXAxis.padding,reversed:implicitXAxis.reversed,scale:implicitXAxis.scale,tickCount:implicitXAxis.tickCount,type:implicitXAxis.type,xAxisId:0});var getCalculatedYAxisWidth=b=>{var{ticks:R,label:A,labelGapWithTick:T=5,tickSize:I=0,tickMargin:B=0}=b,U=0;if(R){R.forEach(ee=>{if(ee){var te=ee.getBoundingClientRect();te.width>U&&(U=te.width)}});var q=A?A.getBoundingClientRect().width:0,K=I+B,J=U+K+q+(A?T:0);return Math.round(J)}return 0},_excluded$3=["dangerouslySetInnerHTML","ticks"],_excluded2=["id"];function _defineProperty$1(b,R,A){return(R=_toPropertyKey$1(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey$1(b){var R=_toPrimitive$1(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive$1(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var T in A)({}).hasOwnProperty.call(A,T)&&(b[T]=A[T])}return b},_extends$2.apply(null,arguments)}function _objectWithoutProperties$3(b,R){if(b==null)return{};var A,T,I=_objectWithoutPropertiesLoose$3(b,R);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(b);for(T=0;T<B.length;T++)A=B[T],R.indexOf(A)===-1&&{}.propertyIsEnumerable.call(b,A)&&(I[A]=b[A])}return I}function _objectWithoutPropertiesLoose$3(b,R){if(b==null)return{};var A={};for(var T in b)if({}.hasOwnProperty.call(b,T)){if(R.indexOf(T)!==-1)continue;A[T]=b[T]}return A}function SetYAxisSettings(b){var R=useAppDispatch();return reactExports.useEffect(()=>(R(addYAxis(b)),()=>{R(removeYAxis(b))}),[b,R]),null}var YAxisImpl=b=>{var R,{yAxisId:A,className:T,width:I,label:B}=b,U=reactExports.useRef(null),q=reactExports.useRef(null),K=useAppSelector(selectAxisViewBox),J=useIsPanorama(),ee=useAppDispatch(),te="yAxis",xe=useAppSelector(Qe=>selectAxisScale(Qe,te,A,J)),fe=useAppSelector(Qe=>selectYAxisSize(Qe,A)),ye=useAppSelector(Qe=>selectYAxisPosition(Qe,A)),Be=useAppSelector(Qe=>selectTicksOfAxis(Qe,te,A,J)),Le=useAppSelector(Qe=>selectYAxisSettingsNoDefaults(Qe,A));if(reactExports.useLayoutEffect(()=>{var Qe;if(!(I!=="auto"||!fe||isLabelContentAFunction(B)||reactExports.isValidElement(B)||Le==null)){var st=U.current,ct=st==null||(Qe=st.tickRefs)===null||Qe===void 0?void 0:Qe.current,{tickSize:gt,tickMargin:Nt}=st.props,Ot=getCalculatedYAxisWidth({ticks:ct,label:q.current,labelGapWithTick:5,tickSize:gt,tickMargin:Nt});Math.round(fe.width)!==Math.round(Ot)&&ee(updateYAxisWidth({id:A,width:Ot}))}},[U,U==null||(R=U.current)===null||R===void 0||(R=R.tickRefs)===null||R===void 0?void 0:R.current,fe?.width,fe,ee,B,A,I]),fe==null||ye==null||Le==null)return null;var{dangerouslySetInnerHTML:qe,ticks:Ge}=b,$e=_objectWithoutProperties$3(b,_excluded$3),{id:Xe}=Le,He=_objectWithoutProperties$3(Le,_excluded2);return reactExports.createElement(CartesianAxis,_extends$2({},$e,He,{ref:U,labelRef:q,scale:xe,x:ye.x,y:ye.y,tickTextProps:I==="auto"?{width:void 0}:{width:I},width:fe.width,height:fe.height,className:clsx("recharts-".concat(te," ").concat(te),T),viewBox:K,ticks:Be}))},YAxisSettingsDispatcher=b=>{var R,A,T,I,B;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetYAxisSettings,{interval:(R=b.interval)!==null&&R!==void 0?R:"preserveEnd",id:b.yAxisId,scale:b.scale,type:b.type,domain:b.domain,allowDataOverflow:b.allowDataOverflow,dataKey:b.dataKey,allowDuplicatedCategory:b.allowDuplicatedCategory,allowDecimals:b.allowDecimals,tickCount:b.tickCount,padding:b.padding,includeHidden:(A=b.includeHidden)!==null&&A!==void 0?A:!1,reversed:b.reversed,ticks:b.ticks,width:b.width,orientation:b.orientation,mirror:b.mirror,hide:b.hide,unit:b.unit,name:b.name,angle:(T=b.angle)!==null&&T!==void 0?T:0,minTickGap:(I=b.minTickGap)!==null&&I!==void 0?I:5,tick:(B=b.tick)!==null&&B!==void 0?B:!0,tickFormatter:b.tickFormatter}),reactExports.createElement(YAxisImpl,b))},YAxisDefaultProps={allowDataOverflow:implicitYAxis.allowDataOverflow,allowDecimals:implicitYAxis.allowDecimals,allowDuplicatedCategory:implicitYAxis.allowDuplicatedCategory,hide:!1,mirror:implicitYAxis.mirror,orientation:implicitYAxis.orientation,padding:implicitYAxis.padding,reversed:implicitYAxis.reversed,scale:implicitYAxis.scale,tickCount:implicitYAxis.tickCount,type:implicitYAxis.type,width:implicitYAxis.width,yAxisId:0};class YAxis extends reactExports.Component{render(){return reactExports.createElement(YAxisSettingsDispatcher,this.props)}}_defineProperty$1(YAxis,"displayName","YAxis");_defineProperty$1(YAxis,"defaultProps",YAxisDefaultProps);var withSelector={exports:{}},useSyncExternalStoreWithSelector_production={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreWithSelector_production;function requireUseSyncExternalStoreWithSelector_production(){if(hasRequiredUseSyncExternalStoreWithSelector_production)return useSyncExternalStoreWithSelector_production;hasRequiredUseSyncExternalStoreWithSelector_production=1;var b=requireReact();function R(K,J){return K===J&&(K!==0||1/K===1/J)||K!==K&&J!==J}var A=typeof Object.is=="function"?Object.is:R,T=b.useSyncExternalStore,I=b.useRef,B=b.useEffect,U=b.useMemo,q=b.useDebugValue;return useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector=function(K,J,ee,te,xe){var fe=I(null);if(fe.current===null){var ye={hasValue:!1,value:null};fe.current=ye}else ye=fe.current;fe=U(function(){function Le(He){if(!qe){if(qe=!0,Ge=He,He=te(He),xe!==void 0&&ye.hasValue){var Qe=ye.value;if(xe(Qe,He))return $e=Qe}return $e=He}if(Qe=$e,A(Ge,He))return Qe;var st=te(He);return xe!==void 0&&xe(Qe,st)?(Ge=He,Qe):(Ge=He,$e=st)}var qe=!1,Ge,$e,Xe=ee===void 0?null:ee;return[function(){return Le(J())},Xe===null?void 0:function(){return Le(Xe())}]},[J,ee,te,xe]);var Be=T(K,fe[0],fe[1]);return B(function(){ye.hasValue=!0,ye.value=Be},[Be]),q(Be),Be},useSyncExternalStoreWithSelector_production}var hasRequiredWithSelector;function requireWithSelector(){return hasRequiredWithSelector||(hasRequiredWithSelector=1,withSelector.exports=requireUseSyncExternalStoreWithSelector_production()),withSelector.exports}requireWithSelector();function defaultNoopBatch(b){b()}function createListenerCollection(){let b=null,R=null;return{clear(){b=null,R=null},notify(){defaultNoopBatch(()=>{let A=b;for(;A;)A.callback(),A=A.next})},get(){const A=[];let T=b;for(;T;)A.push(T),T=T.next;return A},subscribe(A){let T=!0;const I=R={callback:A,next:null,prev:R};return I.prev?I.prev.next=I:b=I,function(){!T||b===null||(T=!1,I.next?I.next.prev=I.prev:R=I.prev,I.prev?I.prev.next=I.next:b=I.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(b,R){let A,T=nullListeners,I=0,B=!1;function U(Be){ee();const Le=T.subscribe(Be);let qe=!1;return()=>{qe||(qe=!0,Le(),te())}}function q(){T.notify()}function K(){ye.onStateChange&&ye.onStateChange()}function J(){return B}function ee(){I++,A||(A=b.subscribe(K),T=createListenerCollection())}function te(){I--,A&&I===0&&(A(),A=void 0,T.clear(),T=nullListeners)}function xe(){B||(B=!0,ee())}function fe(){B&&(B=!1,te())}const ye={addNestedSub:U,notifyNestedSubs:q,handleChangeWrapper:K,isSubscribed:J,trySubscribe:xe,tryUnsubscribe:fe,getListeners:()=>T};return ye}var canUseDOM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isDOM=canUseDOM(),isRunningInReactNative=()=>typeof navigator<"u"&&navigator.product==="ReactNative",isReactNative=isRunningInReactNative(),getUseIsomorphicLayoutEffect=()=>isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect,useIsomorphicLayoutEffect=getUseIsomorphicLayoutEffect(),ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!reactExports.createContext)return{};const b=gT[ContextKey]??=new Map;let R=b.get(reactExports.createContext);return R||(R=reactExports.createContext(null),b.set(reactExports.createContext,R)),R}var ReactReduxContext=getContext();function Provider(b){const{children:R,context:A,serverState:T,store:I}=b,B=reactExports.useMemo(()=>{const K=createSubscription(I);return{store:I,subscription:K,getServerState:T?()=>T:void 0}},[I,T]),U=reactExports.useMemo(()=>I.getState(),[I]);useIsomorphicLayoutEffect(()=>{const{subscription:K}=B;return K.onStateChange=K.notifyNestedSubs,K.trySubscribe(),U!==I.getState()&&K.notifyNestedSubs(),()=>{K.tryUnsubscribe(),K.onStateChange=void 0}},[B,U]);const q=A||ReactReduxContext;return reactExports.createElement(q.Provider,{value:B},R)}var Provider_default=Provider,pickChartPointer=(b,R)=>R,selectActivePropsFromChartPointer=createSelector([pickChartPointer,selectChartLayout,selectPolarViewBox,selectTooltipAxisType,selectTooltipAxisRangeWithReverse,selectTooltipAxisTicks,selectOrderedTooltipTicks,selectChartOffsetInternal],combineActiveProps),getChartPointer=b=>{var R=b.currentTarget.getBoundingClientRect(),A=R.width/b.currentTarget.offsetWidth,T=R.height/b.currentTarget.offsetHeight;return{chartX:Math.round((b.clientX-R.left)/A),chartY:Math.round((b.clientY-R.top)/T)}},mouseClickAction=createAction("mouseClick"),mouseClickMiddleware=createListenerMiddleware();mouseClickMiddleware.startListening({actionCreator:mouseClickAction,effect:(b,R)=>{var A=b.payload,T=selectActivePropsFromChartPointer(R.getState(),getChartPointer(A));T?.activeIndex!=null&&R.dispatch(setMouseClickAxisIndex({activeIndex:T.activeIndex,activeDataKey:void 0,activeCoordinate:T.activeCoordinate}))}});var mouseMoveAction=createAction("mouseMove"),mouseMoveMiddleware=createListenerMiddleware();mouseMoveMiddleware.startListening({actionCreator:mouseMoveAction,effect:(b,R)=>{var A=b.payload,T=R.getState(),I=selectTooltipEventType$1(T,T.tooltip.settings.shared),B=selectActivePropsFromChartPointer(T,getChartPointer(A));I==="axis"&&(B?.activeIndex!=null?R.dispatch(setMouseOverAxisIndex({activeIndex:B.activeIndex,activeDataKey:void 0,activeCoordinate:B.activeCoordinate})):R.dispatch(mouseLeaveChart()))}});function reduxDevtoolsJsonStringifyReplacer(b,R){return R instanceof HTMLElement?"HTMLElement <".concat(R.tagName,' class="').concat(R.className,'">'):R===window?"global.window":R}var initialState={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},rootPropsSlice=createSlice({name:"rootProps",initialState,reducers:{updateOptions:(b,R)=>{var A;b.accessibilityLayer=R.payload.accessibilityLayer,b.barCategoryGap=R.payload.barCategoryGap,b.barGap=(A=R.payload.barGap)!==null&&A!==void 0?A:initialState.barGap,b.barSize=R.payload.barSize,b.maxBarSize=R.payload.maxBarSize,b.stackOffset=R.payload.stackOffset,b.syncId=R.payload.syncId,b.syncMethod=R.payload.syncMethod,b.className=R.payload.className}}}),rootPropsReducer=rootPropsSlice.reducer,{updateOptions}=rootPropsSlice.actions,polarOptionsSlice=createSlice({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(b,R)=>R.payload}}),{updatePolarOptions}=polarOptionsSlice.actions,polarOptionsReducer=polarOptionsSlice.reducer,keyDownAction=createAction("keyDown"),focusAction=createAction("focus"),keyboardEventsMiddleware=createListenerMiddleware();keyboardEventsMiddleware.startListening({actionCreator:keyDownAction,effect:(b,R)=>{var A=R.getState(),T=A.rootProps.accessibilityLayer!==!1;if(T){var{keyboardInteraction:I}=A.tooltip,B=b.payload;if(!(B!=="ArrowRight"&&B!=="ArrowLeft"&&B!=="Enter")){var U=Number(combineActiveTooltipIndex(I,selectTooltipDisplayedData(A))),q=selectTooltipAxisTicks(A);if(B==="Enter"){var K=selectCoordinateForDefaultIndex(A,"axis","hover",String(I.index));R.dispatch(setKeyboardInteraction({active:!I.active,activeIndex:I.index,activeDataKey:I.dataKey,activeCoordinate:K}));return}var J=selectChartDirection(A),ee=J==="left-to-right"?1:-1,te=B==="ArrowRight"?1:-1,xe=U+te*ee;if(!(q==null||xe>=q.length||xe<0)){var fe=selectCoordinateForDefaultIndex(A,"axis","hover",String(xe));R.dispatch(setKeyboardInteraction({active:!0,activeIndex:xe.toString(),activeDataKey:void 0,activeCoordinate:fe}))}}}}});keyboardEventsMiddleware.startListening({actionCreator:focusAction,effect:(b,R)=>{var A=R.getState(),T=A.rootProps.accessibilityLayer!==!1;if(T){var{keyboardInteraction:I}=A.tooltip;if(!I.active&&I.index==null){var B="0",U=selectCoordinateForDefaultIndex(A,"axis","hover",String(B));R.dispatch(setKeyboardInteraction({activeDataKey:void 0,active:!0,activeIndex:B,activeCoordinate:U}))}}}});var externalEventAction=createAction("externalEvent"),externalEventsMiddleware=createListenerMiddleware();externalEventsMiddleware.startListening({actionCreator:externalEventAction,effect:(b,R)=>{if(b.payload.handler!=null){var A=R.getState(),T={activeCoordinate:selectActiveTooltipCoordinate(A),activeDataKey:selectActiveTooltipDataKey(A),activeIndex:selectActiveTooltipIndex(A),activeLabel:selectActiveLabel$1(A),activeTooltipIndex:selectActiveTooltipIndex(A),isTooltipActive:selectIsTooltipActive$1(A)};b.payload.handler(T,b.payload.reactEvent)}}});var selectAllTooltipPayloadConfiguration=createSelector([selectTooltipState],b=>b.tooltipItemPayloads),selectTooltipCoordinate=createSelector([selectAllTooltipPayloadConfiguration,selectTooltipPayloadSearcher,(b,R,A)=>R,(b,R,A)=>A],(b,R,A,T)=>{var I=b.find(q=>q.settings.dataKey===T);if(I!=null){var{positions:B}=I;if(B!=null){var U=R(B,A);return U}}}),touchEventAction=createAction("touchMove"),touchEventMiddleware=createListenerMiddleware();touchEventMiddleware.startListening({actionCreator:touchEventAction,effect:(b,R)=>{var A=b.payload,T=R.getState(),I=selectTooltipEventType$1(T,T.tooltip.settings.shared);if(I==="axis"){var B=selectActivePropsFromChartPointer(T,getChartPointer({clientX:A.touches[0].clientX,clientY:A.touches[0].clientY,currentTarget:A.currentTarget}));B?.activeIndex!=null&&R.dispatch(setMouseOverAxisIndex({activeIndex:B.activeIndex,activeDataKey:void 0,activeCoordinate:B.activeCoordinate}))}else if(I==="item"){var U,q=A.touches[0],K=document.elementFromPoint(q.clientX,q.clientY);if(!K||!K.getAttribute)return;var J=K.getAttribute(DATA_ITEM_INDEX_ATTRIBUTE_NAME),ee=(U=K.getAttribute(DATA_ITEM_DATAKEY_ATTRIBUTE_NAME))!==null&&U!==void 0?U:void 0,te=selectTooltipCoordinate(R.getState(),J,ee);R.dispatch(setActiveMouseOverItemIndex({activeDataKey:ee,activeIndex:J,activeCoordinate:te}))}}});var rootReducer=combineReducers({brush:brushReducer,cartesianAxis:cartesianAxisReducer,chartData:chartDataReducer,errorBars:errorBarReducer,graphicalItems:graphicalItemsReducer,layout:chartLayoutReducer,legend:legendReducer,options:optionsReducer,polarAxis:polarAxisReducer,polarOptions:polarOptionsReducer,referenceElements:referenceElementsReducer,rootProps:rootPropsReducer,tooltip:tooltipReducer}),createRechartsStore=function b(R){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return configureStore({reducer:rootReducer,preloadedState:R,middleware:T=>T({serializableCheck:!1}).concat([mouseClickMiddleware.middleware,mouseMoveMiddleware.middleware,keyboardEventsMiddleware.middleware,externalEventsMiddleware.middleware,touchEventMiddleware.middleware]),devTools:!!window.RECHARTS_DEV_TOOLS_ENABLED&&{serialize:{replacer:reduxDevtoolsJsonStringifyReplacer},name:"recharts-".concat(A)}})};function RechartsStoreProvider(b){var{preloadedState:R,children:A,reduxStoreName:T}=b,I=useIsPanorama(),B=reactExports.useRef(null);if(I)return A;B.current==null&&(B.current=createRechartsStore(R,T));var U=RechartsReduxContext;return reactExports.createElement(Provider_default,{context:U,store:B.current},A)}function ReportMainChartProps(b){var{layout:R,width:A,height:T,margin:I}=b,B=useAppDispatch(),U=useIsPanorama();return reactExports.useEffect(()=>{U||(B(setLayout(R)),B(setChartSize({width:A,height:T})),B(setMargin(I)))},[B,U,R,A,T,I]),null}function ReportChartProps(b){var R=useAppDispatch();return reactExports.useEffect(()=>{R(updateOptions(b))},[R,b]),null}var _excluded$2=["children"];function _objectWithoutProperties$2(b,R){if(b==null)return{};var A,T,I=_objectWithoutPropertiesLoose$2(b,R);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(b);for(T=0;T<B.length;T++)A=B[T],R.indexOf(A)===-1&&{}.propertyIsEnumerable.call(b,A)&&(I[A]=b[A])}return I}function _objectWithoutPropertiesLoose$2(b,R){if(b==null)return{};var A={};for(var T in b)if({}.hasOwnProperty.call(b,T)){if(R.indexOf(T)!==-1)continue;A[T]=b[T]}return A}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var T in A)({}).hasOwnProperty.call(A,T)&&(b[T]=A[T])}return b},_extends$1.apply(null,arguments)}var FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},MainChartSurface=reactExports.forwardRef((b,R)=>{var A=useChartWidth(),T=useChartHeight(),I=useAccessibilityLayer();if(!isPositiveNumber(A)||!isPositiveNumber(T))return null;var{children:B,otherAttributes:U,title:q,desc:K}=b,J,ee;return typeof U.tabIndex=="number"?J=U.tabIndex:J=I?0:void 0,typeof U.role=="string"?ee=U.role:ee=I?"application":void 0,reactExports.createElement(Surface,_extends$1({},U,{title:q,desc:K,role:ee,tabIndex:J,width:A,height:T,style:FULL_WIDTH_AND_HEIGHT,ref:R}),B)}),BrushPanoramaSurface=b=>{var{children:R}=b,A=useAppSelector(selectBrushDimensions);if(!A)return null;var{width:T,height:I,y:B,x:U}=A;return reactExports.createElement(Surface,{width:T,height:I,x:U,y:B},R)},RootSurface=reactExports.forwardRef((b,R)=>{var{children:A}=b,T=_objectWithoutProperties$2(b,_excluded$2),I=useIsPanorama();return I?reactExports.createElement(BrushPanoramaSurface,null,A):reactExports.createElement(MainChartSurface,_extends$1({ref:R},T),A)});function useReportScale(){var b=useAppDispatch(),[R,A]=reactExports.useState(null),T=useAppSelector(selectContainerScale);return reactExports.useEffect(()=>{if(R!=null){var I=R.getBoundingClientRect(),B=I.width/R.offsetWidth;isWellBehavedNumber(B)&&B!==T&&b(setScale(B))}},[R,b,T]),A}function ownKeys(b,R){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);R&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),A.push.apply(A,T)}return A}function _objectSpread(b){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?ownKeys(Object(A),!0).forEach(function(T){_defineProperty(b,T,A[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):ownKeys(Object(A)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(A,T))})}return b}function _defineProperty(b,R,A){return(R=_toPropertyKey(R))in b?Object.defineProperty(b,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[R]=A,b}function _toPropertyKey(b){var R=_toPrimitive(b,"string");return typeof R=="symbol"?R:R+""}function _toPrimitive(b,R){if(typeof b!="object"||!b)return b;var A=b[Symbol.toPrimitive];if(A!==void 0){var T=A.call(b,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(b)}var RechartsWrapper=reactExports.forwardRef((b,R)=>{var{children:A,className:T,height:I,onClick:B,onContextMenu:U,onDoubleClick:q,onMouseDown:K,onMouseEnter:J,onMouseLeave:ee,onMouseMove:te,onMouseUp:xe,onTouchEnd:fe,onTouchMove:ye,onTouchStart:Be,style:Le,width:qe}=b,Ge=useAppDispatch(),[$e,Xe]=reactExports.useState(null),[He,Qe]=reactExports.useState(null);useSynchronisedEventsFromOtherCharts();var st=useReportScale(),ct=reactExports.useCallback(kt=>{st(kt),typeof R=="function"&&R(kt),Xe(kt),Qe(kt)},[st,R,Xe,Qe]),gt=reactExports.useCallback(kt=>{Ge(mouseClickAction(kt)),Ge(externalEventAction({handler:B,reactEvent:kt}))},[Ge,B]),Nt=reactExports.useCallback(kt=>{Ge(mouseMoveAction(kt)),Ge(externalEventAction({handler:J,reactEvent:kt}))},[Ge,J]),Ot=reactExports.useCallback(kt=>{Ge(mouseLeaveChart()),Ge(externalEventAction({handler:ee,reactEvent:kt}))},[Ge,ee]),Tt=reactExports.useCallback(kt=>{Ge(mouseMoveAction(kt)),Ge(externalEventAction({handler:te,reactEvent:kt}))},[Ge,te]),ir=reactExports.useCallback(()=>{Ge(focusAction())},[Ge]),At=reactExports.useCallback(kt=>{Ge(keyDownAction(kt.key))},[Ge]),It=reactExports.useCallback(kt=>{Ge(externalEventAction({handler:U,reactEvent:kt}))},[Ge,U]),Je=reactExports.useCallback(kt=>{Ge(externalEventAction({handler:q,reactEvent:kt}))},[Ge,q]),ut=reactExports.useCallback(kt=>{Ge(externalEventAction({handler:K,reactEvent:kt}))},[Ge,K]),et=reactExports.useCallback(kt=>{Ge(externalEventAction({handler:xe,reactEvent:kt}))},[Ge,xe]),lt=reactExports.useCallback(kt=>{Ge(externalEventAction({handler:Be,reactEvent:kt}))},[Ge,Be]),rt=reactExports.useCallback(kt=>{Ge(touchEventAction(kt)),Ge(externalEventAction({handler:ye,reactEvent:kt}))},[Ge,ye]),nt=reactExports.useCallback(kt=>{Ge(externalEventAction({handler:fe,reactEvent:kt}))},[Ge,fe]);return reactExports.createElement(TooltipPortalContext.Provider,{value:$e},reactExports.createElement(LegendPortalContext.Provider,{value:He},reactExports.createElement("div",{className:clsx("recharts-wrapper",T),style:_objectSpread({position:"relative",cursor:"default",width:qe,height:I},Le),onClick:gt,onContextMenu:It,onDoubleClick:Je,onFocus:ir,onKeyDown:At,onMouseDown:ut,onMouseEnter:Nt,onMouseLeave:Ot,onMouseMove:Tt,onMouseUp:et,onTouchEnd:nt,onTouchMove:rt,onTouchStart:lt,ref:ct},A)))}),_excluded$1=["children","className","width","height","style","compact","title","desc"];function _objectWithoutProperties$1(b,R){if(b==null)return{};var A,T,I=_objectWithoutPropertiesLoose$1(b,R);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(b);for(T=0;T<B.length;T++)A=B[T],R.indexOf(A)===-1&&{}.propertyIsEnumerable.call(b,A)&&(I[A]=b[A])}return I}function _objectWithoutPropertiesLoose$1(b,R){if(b==null)return{};var A={};for(var T in b)if({}.hasOwnProperty.call(b,T)){if(R.indexOf(T)!==-1)continue;A[T]=b[T]}return A}var CategoricalChart=reactExports.forwardRef((b,R)=>{var{children:A,className:T,width:I,height:B,style:U,compact:q,title:K,desc:J}=b,ee=_objectWithoutProperties$1(b,_excluded$1),te=svgPropertiesNoEvents(ee);return q?reactExports.createElement(RootSurface,{otherAttributes:te,title:K,desc:J},A):reactExports.createElement(RechartsWrapper,{className:T,style:U,width:I,height:B,onClick:b.onClick,onMouseLeave:b.onMouseLeave,onMouseEnter:b.onMouseEnter,onMouseMove:b.onMouseMove,onMouseDown:b.onMouseDown,onMouseUp:b.onMouseUp,onContextMenu:b.onContextMenu,onDoubleClick:b.onDoubleClick,onTouchStart:b.onTouchStart,onTouchMove:b.onTouchMove,onTouchEnd:b.onTouchEnd},reactExports.createElement(RootSurface,{otherAttributes:te,title:K,desc:J,ref:R},reactExports.createElement(ClipPathProvider,null,A)))}),_excluded=["width","height"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var T in A)({}).hasOwnProperty.call(A,T)&&(b[T]=A[T])}return b},_extends.apply(null,arguments)}function _objectWithoutProperties(b,R){if(b==null)return{};var A,T,I=_objectWithoutPropertiesLoose(b,R);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(b);for(T=0;T<B.length;T++)A=B[T],R.indexOf(A)===-1&&{}.propertyIsEnumerable.call(b,A)&&(I[A]=b[A])}return I}function _objectWithoutPropertiesLoose(b,R){if(b==null)return{};var A={};for(var T in b)if({}.hasOwnProperty.call(b,T)){if(R.indexOf(T)!==-1)continue;A[T]=b[T]}return A}var defaultMargin={top:5,right:5,bottom:5,left:5},defaultProps={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:defaultMargin,reverseStackOrder:!1,syncMethod:"index"},CartesianChart=reactExports.forwardRef(function b(R,A){var T,I=resolveDefaultProps(R.categoricalChartProps,defaultProps),{width:B,height:U}=I,q=_objectWithoutProperties(I,_excluded);if(!isPositiveNumber(B)||!isPositiveNumber(U))return null;var{chartName:K,defaultTooltipEventType:J,validateTooltipEventTypes:ee,tooltipPayloadSearcher:te,categoricalChartProps:xe}=R,fe={chartName:K,defaultTooltipEventType:J,validateTooltipEventTypes:ee,tooltipPayloadSearcher:te,eventEmitter:void 0};return reactExports.createElement(RechartsStoreProvider,{preloadedState:{options:fe},reduxStoreName:(T=xe.id)!==null&&T!==void 0?T:K},reactExports.createElement(ChartDataContextProvider,{chartData:xe.data}),reactExports.createElement(ReportMainChartProps,{width:B,height:U,layout:I.layout,margin:I.margin}),reactExports.createElement(ReportChartProps,{accessibilityLayer:I.accessibilityLayer,barCategoryGap:I.barCategoryGap,maxBarSize:I.maxBarSize,stackOffset:I.stackOffset,barGap:I.barGap,barSize:I.barSize,syncId:I.syncId,syncMethod:I.syncMethod,className:I.className}),reactExports.createElement(CategoricalChart,_extends({},q,{width:B,height:U,ref:A})))}),allowedTooltipTypes=["axis","item"],BarChart=reactExports.forwardRef((b,R)=>reactExports.createElement(CartesianChart,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:b,ref:R}));const CustomTooltip=({active:b,payload:R,label:A})=>{if(b&&R&&R.length){const T=R.find(U=>U.dataKey==="revenue"),I=R.find(U=>U.dataKey==="orders"),B=R.find(U=>U.dataKey==="averageTicket");return jsxRuntimeExports.jsxs("div",{className:"bg-white p-3 border border-gray-300 rounded-lg shadow-lg text-sm",children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-gray-900 mb-1",children:A}),T&&jsxRuntimeExports.jsxs("p",{className:"text-amber-600",children:["Faturamento: ",jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["R$ ",T.value.toFixed(2)]})]}),B&&jsxRuntimeExports.jsxs("p",{className:"text-purple-600",children:["Ticket Mdio: ",jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["R$ ",B.value.toFixed(2)]})]}),I&&jsxRuntimeExports.jsxs("p",{className:"text-blue-600",children:["Pedidos: ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:I.value})]})]})}return null};function HourlySalesChart({data:b}){return b.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12 text-gray-500",children:[jsxRuntimeExports.jsx("i",{className:"ri-bar-chart-line text-4xl mb-4"}),jsxRuntimeExports.jsx("p",{children:"Nenhum dado de vendas por hora disponvel."})]}):jsxRuntimeExports.jsx("div",{className:"w-full h-96",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(BarChart,{data:b,margin:{top:20,right:30,left:20,bottom:5},children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),jsxRuntimeExports.jsx(YAxis,{yAxisId:"left",orientation:"left",stroke:"#f59e0b",tickFormatter:R=>`R$ ${R.toFixed(0)}`}),jsxRuntimeExports.jsx(YAxis,{yAxisId:"right",orientation:"right",stroke:"#3b82f6"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"hour",stroke:"#6b7280"}),jsxRuntimeExports.jsx(Tooltip,{content:jsxRuntimeExports.jsx(CustomTooltip,{})}),jsxRuntimeExports.jsx(Legend,{wrapperStyle:{paddingTop:"10px"}}),jsxRuntimeExports.jsx(Bar,{yAxisId:"left",dataKey:"revenue",name:"Faturamento (R$)",fill:"#f59e0b"}),jsxRuntimeExports.jsx(Bar,{yAxisId:"right",dataKey:"orders",name:"Pedidos",fill:"#3b82f6"}),jsxRuntimeExports.jsx(Line,{yAxisId:"left",type:"monotone",dataKey:"averageTicket",name:"Ticket Mdio (R$)",stroke:"#9333ea",strokeWidth:2,dot:!1})]})})})}const getTodayDateString=()=>{const b=new Date,R=b.getFullYear(),A=(b.getMonth()+1).toString().padStart(2,"0"),T=b.getDate().toString().padStart(2,"0");return`${R}-${A}-${T}`},createLocalStartOfDay$1=b=>{if(!b)return null;const R=b.split("-");if(R.length!==3)return null;const[A,T,I]=R.map(Number);return new Date(A,T-1,I,0,0,0,0)},createLocalEndOfDay$1=b=>{if(!b)return null;const R=b.split("-");if(R.length!==3)return null;const[A,T,I]=R.map(Number);return new Date(A,T-1,I,23,59,59,999)},inferSlaMinutesFromCategory=b=>{const R=String(b||"");if(new Set(["cat_extras","cat_bebidas","cat_drinks","cat_chopes","cat_drinks_na","cat_drinks_a","cat_chope"]).has(R))return 3;const T=R.toLowerCase();return T.includes("bebida")||T.includes("drink")||T.includes("chope")||T.includes("extra")?3:8},getSlaByProductIdFromLocalStorage=()=>{try{const b=localStorage.getItem("menuItems"),R=b?JSON.parse(b):[];if(!Array.isArray(R))return{};const A={};for(const T of R){const I=T?.id?String(T.id):"";if(!I)continue;const B=Number(T?.sla);Number.isFinite(B)&&B>0&&(A[I]=B)}return A}catch{return{}}},resolveSlaForItem=b=>{const R=b.productId?String(b.productId):"",A=R&&b.slaByProductId?b.slaByProductId[R]:void 0;return typeof A=="number"&&Number.isFinite(A)&&A>0?A:inferSlaMinutesFromCategory(b.categoryId?String(b.categoryId):"")},calculateDeliveryMetrics=b=>{const R=new Date(b.createdAt).getTime(),A=b.status==="DELIVERED"||b.status==="CANCELLED",T=Date.now();let I=T;b.status==="DELIVERED"?I=new Date(b.deliveredAt||b.updatedAt||b.createdAt).getTime():b.status==="CANCELLED"&&(I=new Date(b.updatedAt||b.createdAt).getTime());const B=b.status==="NEW"?R:new Date(b.updatedAt||b.createdAt).getTime();let U;if(b.readyAt?U=new Date(b.readyAt).getTime():b.status==="READY"&&b.updatedAt?U=new Date(b.updatedAt).getTime():A?U=B:U=T,A){const Be=(U-R)/6e4;return{totalKitchenTimeMinutes:Math.max(0,Be),newTimeMinutes:Math.max(0,(B-R)/6e4),preparingTimeMinutes:Math.max(0,(U-B)/6e4),readyTimeMinutes:Math.max(0,(I-U)/6e4),isOverdue:Be>b.slaMinutes,displayTime:`${Math.round(Be)} min`}}const K=((b.status==="NEW"?T:B)-R)/6e4,J=b.status==="PREPARING"?T:U,ee=(J-B)/6e4,te=(J-R)/6e4,fe=((b.status==="READY"?T:I)-U)/6e4;return{totalKitchenTimeMinutes:Math.max(0,te),newTimeMinutes:Math.max(0,K),preparingTimeMinutes:Math.max(0,ee),readyTimeMinutes:Math.max(0,fe),isOverdue:te>b.slaMinutes,displayTime:b.status==="READY"?`${Math.round(te)} min`:"-"}};function RelatoriosPage(){const b=useNavigate(),[R,A]=reactExports.useState(()=>{try{const mt=sessionStorage.getItem("reportsAuthOk")==="1",Ct=localStorage.getItem("reportsAuthOk")==="1";return mt||Ct}catch{return!1}}),[T,I]=reactExports.useState(""),[B,U]=reactExports.useState(""),q="156389",K=()=>{if(T===q){A(!0),U("");try{sessionStorage.setItem("reportsAuthOk","1")}catch{}try{localStorage.setItem("reportsAuthOk","1")}catch{}}else U("Senha invlida")},[J,ee]=reactExports.useState("sales"),[te,xe]=reactExports.useState([]),[fe,ye]=reactExports.useState(mockCategories),[Be,Le]=reactExports.useState(mockMenuItems),[qe,Ge]=reactExports.useState(getTodayDateString()),[$e,Xe]=reactExports.useState(getTodayDateString()),[He,Qe]=reactExports.useState(""),[st,ct]=reactExports.useState(""),[gt,Nt]=reactExports.useState("quantity"),[Ot,Tt]=reactExports.useState("desc"),[ir,At]=reactExports.useState(!0);reactExports.useEffect(()=>{let mt=!1;const Ct=setTimeout(()=>{mt||At(!1)},1e4);return(async()=>{try{const xr=getSlaByProductIdFromLocalStorage(),er=await listCategories(),Ft=await listProducts(),Xt=(er||[]).map(mr=>({id:String(mr.id),name:String(mr.name||""),icon:"",order:0,active:!!(mr.isActive??!0)})),it=(Ft||[]).map(mr=>({id:String(mr.id),name:String(mr.name||""),price:Math.max(0,Number(mr.priceCents??0)/100),sla:resolveSlaForItem({productId:mr.id,categoryId:mr.categoryId,slaByProductId:xr}),categoryId:mr.categoryId?String(mr.categoryId):"",observations:[],active:!!(mr.isActive??!0)})),jt={};it.forEach(mr=>{jt[mr.id]=mr}),mt||(Xt.length&&ye(Xt),it.length&&Le(it));const or=await listOrdersDetailed(),Er=[];for(const mr of or){const zr=mr.order,nn=mr.items||[],Sr=mr.payments||[],Zr=mr.details?.pin,un=mr.details?.password,Xr=(nn||[]).map(Wt=>{const Mt=Wt.product_id??Wt.productId,wr=Mt?jt[String(Mt)]:void 0,Or=String(Wt.category_id??wr?.categoryId??""),ur=wr||{id:String(Mt||String(Wt.id)),name:String(Wt.product_name??wr?.name??"Item"),price:Math.max(0,Number(Wt.unit_price_cents??Wt.unitPriceCents??0)/100),sla:resolveSlaForItem({productId:Mt,categoryId:Or,slaByProductId:xr}),categoryId:Or,observations:[],active:!0};return{id:String(Wt.id),menuItem:ur,quantity:Number(Wt.qty??Wt.quantity??1),unitPrice:Math.max(0,Number(Wt.unit_price_cents??Wt.unitPriceCents??ur.price)/100),productionUnits:[]}}),an=(Sr||[]).reduce((Wt,Mt)=>Wt+Math.max(0,Number(Mt.amount_cents??Mt.amountCents??0)/100),0),vn=(Sr||[]).length>1?Object.fromEntries((Sr||[]).map(Wt=>[String(Wt.method).toUpperCase(),Math.max(0,Number(Wt.amount_cents??Wt.amountCents??0)/100)])):void 0,rn=(Sr||[]).length>1?"MLTIPLO":(Sr||[])[0]?.method?String((Sr||[])[0].method).toUpperCase():"",pn=mr.phaseTimes||{},sa=pn.newStart??zr.opened_at??zr.openedAt??zr.created_at??zr.createdAt,Hn=pn.preparingStart??zr.updated_at??zr.updatedAt,bn=pn.readyAt??zr.ready_at??zr.readyAt,nr=pn.deliveredAt??zr.closed_at??zr.closedAt??zr.completed_at??zr.completedAt,Br=String(zr.status||"").toLowerCase(),pt=String(zr.status||"").toUpperCase(),$t=Br==="cancelled"||pt==="CANCELLED"?"CANCELLED":nr||Br==="closed"||pt==="DELIVERED"?"DELIVERED":bn?"READY":Hn?"PREPARING":"NEW",Bt=(Xr||[]).reduce((Wt,Mt)=>Wt+Number(Mt?.menuItem?.sla??0)*Math.max(1,Number(Mt?.quantity??1)),0),Pt={id:String(zr.id),pin:Zr||String(zr.id),password:un||"",items:Xr,total:an>0?an:Math.max(0,Number(zr.total_cents??0)/100),paymentMethod:vn?"MLTIPLO":rn||"No informado",paymentBreakdown:vn,status:$t,createdAt:sa?new Date(sa):new Date,updatedAt:Hn?new Date(Hn):zr.updated_at?new Date(zr.updated_at):void 0,readyAt:bn?new Date(bn):void 0,deliveredAt:nr?new Date(nr):void 0,slaMinutes:Bt,createdBy:""};Er.push(Pt)}mt||xe(Er)}catch(xr){console.error("Erro ao carregar relatrios:",xr)}finally{mt||At(!1),clearTimeout(Ct)}})(),()=>{mt=!0,clearTimeout(Ct)}},[]),reactExports.useEffect(()=>{let mt=!0;const Ct=async()=>{try{const er=await listOrdersDetailed();if(!mt)return;const Ft=getSlaByProductIdFromLocalStorage(),Xt=[];for(const it of er){const jt=it.order,or=it.items||[],Er=it.payments||[],mr=it.details?.pin,zr=it.details?.password,nn=it.phaseTimes||{},Sr=nn.newStart??jt.opened_at??jt.openedAt??jt.created_at??jt.createdAt,Zr=nn.preparingStart??jt.updated_at??jt.updatedAt,un=nn.readyAt??jt.ready_at??jt.readyAt,Xr=nn.deliveredAt??jt.closed_at??jt.closedAt??jt.completed_at??jt.completedAt,an=String(jt.status||"").toLowerCase(),vn=String(jt.status||"").toUpperCase(),rn=(Er||[]).reduce((pt,$t)=>pt+Math.max(0,Number($t.amount_cents??$t.amountCents??0)/100),0),pn=(Er||[]).length>1?Object.fromEntries((Er||[]).map(pt=>[String(pt.method).toUpperCase(),Math.max(0,Number(pt.amount_cents??pt.amountCents??0)/100)])):void 0,sa=(Er||[]).length>1?"MLTIPLO":(Er||[])[0]?.method?String((Er||[])[0].method).toUpperCase():"",Hn=(or||[]).map(pt=>{const $t=pt.product_id??pt.productId,Bt=String(pt.category_id??""),Pt=resolveSlaForItem({productId:$t,categoryId:Bt,slaByProductId:Ft});return{id:String(pt.id),menuItem:{id:String($t??String(pt.id)),name:String(pt.product_name??"Item"),price:Math.max(0,Number(pt.unit_price_cents??pt.unitPriceCents??0)/100),sla:Pt,categoryId:Bt,observations:[],active:!0},quantity:Number(pt.qty??pt.quantity??1),unitPrice:Math.max(0,Number(pt.unit_price_cents??pt.unitPriceCents??0)/100),productionUnits:[]}}),bn=an==="cancelled"||vn==="CANCELLED"?"CANCELLED":Xr||an==="closed"||vn==="DELIVERED"?"DELIVERED":un?"READY":Zr?"PREPARING":"NEW",nr=(Hn||[]).reduce((pt,$t)=>pt+Number($t?.menuItem?.sla??0)*Math.max(1,Number($t?.quantity??1)),0),Br={id:String(jt.id),pin:mr||String(jt.id),password:zr||"",items:Hn,total:rn>0?rn:Math.max(0,Number(jt.total_cents??0)/100),paymentMethod:pn?"MLTIPLO":sa||"No informado",paymentBreakdown:pn,status:bn,createdAt:Sr?new Date(Sr):new Date,updatedAt:Zr?new Date(Zr):jt.updated_at?new Date(jt.updated_at):void 0,readyAt:un?new Date(un):void 0,deliveredAt:Xr?new Date(Xr):void 0,slaMinutes:nr,createdBy:""};Xt.push(Br)}xe(Xt)}catch{}};Ct();const xr=setInterval(Ct,5e3);return()=>{mt=!1,clearInterval(xr)}},[]),reactExports.useMemo(()=>Be.reduce((mt,Ct)=>(mt[Ct.id]=Ct,mt),{}),[Be]);const It=reactExports.useMemo(()=>fe.reduce((mt,Ct)=>(mt[Ct.id]=Ct.name,mt),{}),[fe]),Je=reactExports.useMemo(()=>{if(!qe||!$e)return[];const mt=createLocalStartOfDay$1(qe),Ct=createLocalEndOfDay$1($e);if(!mt||!Ct)return[];let xr=te.filter(er=>{const Ft=new Date(er.createdAt);return Ft>=mt&&Ft<=Ct});if(He.trim()){const er=He.trim().toLowerCase();xr=xr.filter(Ft=>Ft.pin.toLowerCase().includes(er))}return xr},[qe,$e,te,He]),ut=reactExports.useMemo(()=>{const mt=Je.filter(Sr=>Sr.status==="DELIVERED"),Ct=mt.length,xr=mt.reduce((Sr,Zr)=>Sr+Zr.total,0),er=Ct>0?xr/Ct:0,Ft=Je.filter(Sr=>Sr.status==="CANCELLED").length,Xt=Je.length,it=Xt>0?Ft/Xt*100:0,jt={};mt.forEach(Sr=>{const Xr=`${new Date(Sr.createdAt).getHours().toString().padStart(2,"0")}:00`;jt[Xr]||(jt[Xr]={orders:0,revenue:0,totalRevenue:0,items:[]}),jt[Xr].orders+=1,jt[Xr].revenue+=Sr.total,jt[Xr].totalRevenue+=Sr.total,Sr.items.forEach(an=>{const vn=an.menuItem.name,rn=an.menuItem.categoryId,pn=It[rn]||"Sem Categoria",sa=jt[Xr].items.find(Hn=>Hn.name===vn);sa?sa.quantity+=an.quantity:jt[Xr].items.push({name:vn,quantity:an.quantity,categoryName:pn})})});const or=Object.entries(jt).map(([Sr,Zr])=>({hour:Sr,orders:Zr.orders,revenue:Zr.revenue,averageTicket:Zr.orders>0?Zr.totalRevenue/Zr.orders:0,items:Zr.items.sort((un,Xr)=>Xr.quantity-un.quantity)})).sort((Sr,Zr)=>Sr.hour.localeCompare(Zr.hour)),Er={};mt.forEach(Sr=>{Sr.items.forEach(Zr=>{const un=Zr.menuItem.name,Xr=Zr.menuItem.categoryId;Er[un]||(Er[un]={quantity:0,revenue:0,categoryId:Xr}),Er[un].quantity+=Zr.quantity,Er[un].revenue+=Zr.unitPrice*Zr.quantity})});const mr=Object.entries(Er).map(([Sr,Zr])=>({name:Sr,...Zr})).sort((Sr,Zr)=>Zr.quantity-Sr.quantity).slice(0,5),zr=Object.entries(Er).map(([Sr,Zr])=>({name:Sr,...Zr})).sort((Sr,Zr)=>Zr.revenue-Sr.revenue).slice(0,5),nn={};return mt.forEach(Sr=>{if(Sr.paymentMethod==="MLTIPLO"&&Sr.paymentBreakdown){const Zr=Sr.paymentBreakdown;Object.entries(Zr).forEach(([un,Xr])=>{const an=un.replace(/\s\(\d+\)$/,"");nn[an]||(nn[an]={orders:0,revenue:0}),nn[an].orders+=1,nn[an].revenue+=Xr})}else{const Zr=Sr.paymentMethod||"No informado";nn[Zr]||(nn[Zr]={orders:0,revenue:0}),nn[Zr].orders+=1,nn[Zr].revenue+=Sr.total}}),{totalOrders:Ct,totalRevenue:xr,averageTicket:er,canceledOrders:Ft,cancelRate:it,hourlyData:or,topSellingItems:mr,topRevenueItems:zr,paymentData:nn}},[Je,It]),et=reactExports.useMemo(()=>{const mt=Je.filter(Xt=>Xt.status==="DELIVERED"),Ct={},xr={};mt.forEach(Xt=>{Xt.items.forEach(it=>{const jt=it.menuItem.categoryId,or=it.menuItem.id,Er=it.unitPrice*it.quantity,zr=it.menuItem.sla*it.quantity;Ct[jt]||(Ct[jt]={revenue:0,quantity:0,totalProductionTime:0,items:{}}),Ct[jt].revenue+=Er,Ct[jt].quantity+=it.quantity,Ct[jt].totalProductionTime+=zr,xr[or]||(xr[or]={name:it.menuItem.name,categoryId:jt,quantity:0,revenue:0}),xr[or].quantity+=it.quantity,xr[or].revenue+=Er,Ct[jt].items[or]||(Ct[jt].items[or]={name:it.menuItem.name,categoryId:jt,quantity:0,revenue:0,productionTime:0,revenuePerMinute:0});const nn=Ct[jt].items[or];nn.quantity+=it.quantity,nn.revenue+=Er,nn.productionTime+=zr,nn.revenuePerMinute=nn.productionTime>0?nn.revenue/nn.productionTime:0})});const er=Object.entries(Ct).map(([Xt,it])=>{const jt=it.totalProductionTime>0?it.revenue/it.totalProductionTime:0,or=Object.values(it.items).sort((Er,mr)=>mr.quantity-Er.quantity);return{categoryId:Xt,categoryName:It[Xt]||"Sem Categoria",...it,revenuePerMinute:jt,items:or}}).sort((Xt,it)=>it.revenue-Xt.revenue),Ft=Object.entries(xr).map(([Xt,it])=>({itemId:Xt,...it})).sort((Xt,it)=>it.quantity-Xt.quantity);return{revenueByCategory:er,itemsSoldDetails:Ft}},[Je,It]),lt=reactExports.useMemo(()=>{const mt=st.trim().toLowerCase();return mt?et.itemsSoldDetails.filter(Ct=>{const xr=(It[Ct.categoryId]||"Sem Categoria").toLowerCase(),er=String(Ct.quantity),Ft=Ct.revenue.toFixed(2);return Ct.name.toLowerCase().includes(mt)||xr.includes(mt)||er.includes(mt)||Ft.includes(mt)}):et.itemsSoldDetails},[st,et.itemsSoldDetails,It]),rt=reactExports.useMemo(()=>{const mt=[...lt],Ct=Ot==="asc"?1:-1;return mt.sort((xr,er)=>{let Ft=0;if(gt==="name")Ft=xr.name.localeCompare(er.name);else if(gt==="category"){const Xt=It[xr.categoryId]||"Sem Categoria",it=It[er.categoryId]||"Sem Categoria";Ft=Xt.localeCompare(it)}else gt==="quantity"?Ft=xr.quantity-er.quantity:gt==="revenue"&&(Ft=xr.revenue-er.revenue);return Ft*Ct}),mt},[lt,gt,Ot,It]),nt=reactExports.useMemo(()=>{const mt=Je.filter(Xr=>Xr.status==="DELIVERED"),Ct=mt.reduce((Xr,an)=>Xr+an.slaMinutes,0),xr=mt.length>0?Ct/mt.length:0;let er=0,Ft=0,Xt=0,it=0,jt=0,or=0;const Er={};mt.forEach(Xr=>{const an=calculateDeliveryMetrics(Xr);an.totalKitchenTimeMinutes>0&&(Ft+=an.totalKitchenTimeMinutes,Xt+=an.newTimeMinutes,it+=an.preparingTimeMinutes,jt+=an.readyTimeMinutes,or++,an.isOverdue&&er++),new Date(Xr.updatedAt||Xr.createdAt).getTime();const vn=new Set;if(Xr.items.forEach(rn=>{(rn.productionUnits||[]).forEach(pn=>{pn.operatorName&&vn.add(pn.operatorName)})}),Xr.readyAt&&vn.size>0){const pn=an.preparingTimeMinutes/vn.size;vn.forEach(sa=>{Er[sa]||(Er[sa]={totalTime:0,count:0}),Er[sa].totalTime+=pn,Er[sa].count+=1})}});const mr=or>0?Ft/or:0,zr=or>0?Xt/or:0,nn=or>0?it/or:0,Sr=or>0?jt/or:0,Zr=or>0?(or-er)/or*100:0,un=Object.entries(Er).map(([Xr,an])=>({name:Xr,averageTime:an.count>0?an.totalTime/an.count:0,ordersCount:an.count})).filter(Xr=>Xr.ordersCount>0).sort((Xr,an)=>Xr.averageTime-an.averageTime);return{averageSla:xr,averageDeliveryTime:mr,overdueOrders:er,onTimeRate:Zr,totalProcessed:or,averageTimeInNew:zr,averagePreparingTime:nn,averageReadyTime:Sr,kitchenPerformanceData:un}},[Je,It]),kt=reactExports.useMemo(()=>({categoryCorrelation:et.revenueByCategory.map(Ct=>({categoryName:Ct.categoryName,revenue:Ct.revenue,totalProductionTime:Ct.totalProductionTime,revenuePerMinute:Ct.revenuePerMinute,quantity:Ct.quantity,items:Ct.items})).sort((Ct,xr)=>xr.revenuePerMinute-Ct.revenuePerMinute)}),[et.revenueByCategory]),Zt=()=>{alert("A entrega de pedidos s pode ser feita no mdulo Caixa (PDV).")},Ar=()=>{try{const mt=[["Pedido","Data","Itens","Total","Pagamento","Status","Tempo SLA","Cliente WhatsApp"].join(","),...Je.map(Ft=>[`#${Ft.pin}`,new Date(Ft.createdAt).toLocaleString("pt-BR"),Ft.items.map(Xt=>`${Xt.quantity}x ${Xt.menuItem.name}`).join("; "),`R$ ${Ft.total.toFixed(2)}`,Ft.paymentMethod||"No informado",Ft.status,`${Ft.slaMinutes} min`,Ft.customerWhatsApp||"N/A"].join(","))].join(`
`),Ct=new Blob([mt],{type:"text/csv;charset=utf-8;"}),xr=document.createElement("a"),er=URL.createObjectURL(Ct);xr.setAttribute("href",er),xr.setAttribute("download",`relatorio-${qe}-${$e}.csv`),xr.style.visibility="hidden",document.body.appendChild(xr),xr.click(),document.body.removeChild(xr)}catch(mt){console.error("Falha ao exportar CSV:",mt),alert("Erro ao exportar relatrio. Tente novamente.")}},ft=[{id:"sales",name:"Vendas",icon:"ri-money-dollar-circle-line"},{id:"items_categories",name:"Itens & Categorias",icon:"ri-restaurant-line"},{id:"analysis",name:"Anlise",icon:"ri-line-chart-line"},{id:"orders",name:"Pedidos",icon:"ri-list-check-line"},{id:"performance",name:"Performance",icon:"ri-speed-up-line"}];return R?jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full flex-1 min-h-0 bg-gray-50",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white border-b border-gray-200 flex-shrink-0",children:[jsxRuntimeExports.jsx("div",{className:"px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs(Button,{variant:"secondary",onClick:()=>b("/dashboard"),children:[jsxRuntimeExports.jsx("i",{className:"ri-arrow-left-line mr-2"}),"Voltar aos Mdulos"]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Relatrios"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[Je.length," pedidos no perodo selecionado"]})]})]}),jsxRuntimeExports.jsxs(Button,{onClick:Ar,variant:"secondary",className:"whitespace-nowrap",children:[jsxRuntimeExports.jsx("i",{className:"ri-download-line mr-2"}),"Exportar CSV"]})]})}),jsxRuntimeExports.jsxs("div",{className:"px-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[jsxRuntimeExports.jsx(Input,{label:"De:",type:"date",value:qe,onChange:mt=>Ge(mt.target.value),className:"w-40"}),jsxRuntimeExports.jsx(Input,{label:"At:",type:"date",value:$e,onChange:mt=>Xe(mt.target.value),className:"w-40"})]}),jsxRuntimeExports.jsx("div",{className:"flex space-x-8",children:ft.map(mt=>jsxRuntimeExports.jsxs("button",{onClick:()=>ee(mt.id),className:`py-4 px-2 border-b-2 font-medium text-sm transition-colors cursor-pointer whitespace-nowrap ${J===mt.id?"border-amber-500 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[jsxRuntimeExports.jsx("i",{className:`${mt.icon} mr-2`}),mt.name]},mt.id))})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto p-6",children:ir?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-full",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-loader-4-line text-4xl text-amber-500 animate-spin mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Carregando dados..."})]})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[J==="sales"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:jsxRuntimeExports.jsx("i",{className:"ri-shopping-cart-line text-xl text-green-600"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pedidos Entregues"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ut.totalOrders})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:jsxRuntimeExports.jsx("i",{className:"ri-money-dollar-circle-line text-xl text-amber-600"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Faturamento"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["R$ ",ut.totalRevenue.toFixed(2)]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:jsxRuntimeExports.jsx("i",{className:"ri-receipt-line text-xl text-blue-600"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ticket Mdio"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["R$ ",ut.averageTicket.toFixed(2)]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:jsxRuntimeExports.jsx("i",{className:"ri-close-circle-line text-xl text-red-600"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Taxa Cancelamento"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[ut.cancelRate.toFixed(1),"%"]})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200 lg:col-span-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Vendas por Hora"}),jsxRuntimeExports.jsx(HourlySalesChart,{data:ut.hourlyData})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200 lg:col-span-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Formas de Pagamento"}),Object.keys(ut.paymentData).length>0?jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-4",children:Object.entries(ut.paymentData).map(([mt,Ct])=>jsxRuntimeExports.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 w-full sm:w-56",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 mb-2 truncate",children:mt}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Vendas:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:Ct.orders})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Valor:"}),jsxRuntimeExports.jsxs("span",{className:"font-medium text-amber-600",children:["R$ ",Ct.revenue.toFixed(2)]})]})]})]},mt))}):jsxRuntimeExports.jsxs("div",{className:"text-center py-8 text-gray-500",children:[jsxRuntimeExports.jsx("i",{className:"ri-bank-card-line text-3xl mb-2"}),jsxRuntimeExports.jsx("p",{children:"Nenhum pagamento registrado no perodo"})]})]})]})]}),J==="items_categories"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Anlise de Cardpio"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Faturamento por Categoria"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[et.revenueByCategory.map((mt,Ct)=>jsxRuntimeExports.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-1",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-800",children:mt.categoryName}),jsxRuntimeExports.jsxs("span",{className:"font-bold text-amber-600",children:["R$ ",mt.revenue.toFixed(2)]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:"bg-amber-500 h-2 rounded-full",style:{width:`${mt.revenue/ut.totalRevenue*100}%`}})}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[mt.quantity," unidades vendidas"]})]},Ct)),et.revenueByCategory.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-4 text-gray-500",children:[jsxRuntimeExports.jsx("i",{className:"ri-folder-line text-2xl mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"Nenhuma venda por categoria"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Itens Vendidos por Hora"}),jsxRuntimeExports.jsx("div",{className:"max-h-96 overflow-y-auto space-y-4",children:ut.hourlyData.length>0?ut.hourlyData.map(mt=>jsxRuntimeExports.jsxs("div",{className:"border-b pb-3 last:border-b-0",children:[jsxRuntimeExports.jsxs("h4",{className:"font-bold text-blue-700 mb-2",children:[mt.hour," (",mt.orders," pedidos)"]}),jsxRuntimeExports.jsx("div",{className:"space-y-1",children:mt.items.map((Ct,xr)=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm text-gray-700",children:[jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsxs("span",{className:"font-medium text-gray-500 mr-1",children:["[",Ct.categoryName,"]"]}),Ct.name]}),jsxRuntimeExports.jsxs("span",{className:"font-medium text-gray-900",children:[Ct.quantity," un."]})]},xr))})]},mt.hour)):jsxRuntimeExports.jsxs("div",{className:"text-center py-4 text-gray-500",children:[jsxRuntimeExports.jsx("i",{className:"ri-time-line text-2xl mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"Nenhum item vendido por hora"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200 lg:col-span-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top 5 Itens (Faturamento)"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[ut.topRevenueItems.map((mt,Ct)=>jsxRuntimeExports.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200 text-center",children:[jsxRuntimeExports.jsxs("span",{className:"text-xl font-bold text-amber-600 block mb-1",children:["#",Ct+1]}),jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 text-sm truncate mb-1",title:mt.name,children:mt.name}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:["(",It[mt.categoryId]||"Sem Categoria",")"]}),jsxRuntimeExports.jsxs("span",{className:"text-lg font-bold text-amber-700 block",children:["R$ ",mt.revenue.toFixed(2)]}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500",children:[mt.quantity," un."]})]},mt.name)),ut.topRevenueItems.length===0&&jsxRuntimeExports.jsxs("div",{className:"md:col-span-5 text-center py-4 text-gray-500",children:[jsxRuntimeExports.jsx("i",{className:"ri-money-dollar-circle-line text-2xl mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"Nenhum item gerou receita no perodo"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200 lg:col-span-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Itens vendidos"}),et.itemsSoldDetails&&et.itemsSoldDetails.length>0?jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-3",children:jsxRuntimeExports.jsx("div",{className:"w-full md:w-1/3",children:jsxRuntimeExports.jsx(Input,{placeholder:"Filtrar por item, categoria, quantidade ou receita",value:st,onChange:mt=>ct(mt.target.value)})})}),jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("th",{className:"px-4 py-3 text-left font-medium text-gray-700 cursor-pointer select-none",onClick:()=>Nt(mt=>"name")||Tt(mt=>gt==="name"&&mt==="asc"?"desc":"asc"),children:["Item ",gt==="name"&&(Ot==="asc"?"":"")]}),jsxRuntimeExports.jsxs("th",{className:"px-4 py-3 text-left font-medium text-gray-700 cursor-pointer select-none",onClick:()=>Nt(mt=>"category")||Tt(mt=>gt==="category"&&mt==="asc"?"desc":"asc"),children:["Categoria ",gt==="category"&&(Ot==="asc"?"":"")]}),jsxRuntimeExports.jsxs("th",{className:"px-4 py-3 text-right font-medium text-gray-700 cursor-pointer select-none",onClick:()=>Nt(mt=>"quantity")||Tt(mt=>gt==="quantity"&&mt==="asc"?"desc":"asc"),children:["Quantidade ",gt==="quantity"&&(Ot==="asc"?"":"")]}),jsxRuntimeExports.jsxs("th",{className:"px-4 py-3 text-right font-medium text-gray-700 cursor-pointer select-none",onClick:()=>Nt(mt=>"revenue")||Tt(mt=>gt==="revenue"&&mt==="asc"?"desc":"asc"),children:["Receita ",gt==="revenue"&&(Ot==="asc"?"":"")]})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:rt.map(mt=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-2 text-gray-900",children:mt.name}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 text-gray-600",children:It[mt.categoryId]||"Sem Categoria"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 text-right font-medium text-gray-900",children:mt.quantity}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-2 text-right font-bold text-amber-700",children:["R$ ",mt.revenue.toFixed(2)]})]},mt.itemId))})]})]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-4 text-gray-500",children:[jsxRuntimeExports.jsx("i",{className:"ri-restaurant-line text-2xl mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"Nenhum item vendido no perodo selecionado"})]})]})]})]}),J==="analysis"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Anlise de Rentabilidade e Produo"}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200 lg:col-span-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rentabilidade por Tempo de Produo (R$/min)"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Compara o faturamento total da categoria com o tempo total de SLA necessrio para produzir todos os itens vendidos."}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[kt.categoryCorrelation.map((mt,Ct)=>jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-gray-900",children:mt.categoryName}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:"Tempo Total de Produo (min):"}),jsxRuntimeExports.jsxs("span",{className:"font-bold text-blue-600",children:[mt.totalProductionTime.toFixed(0)," min"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm pt-2 border-t",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Faturamento Total:"}),jsxRuntimeExports.jsxs("span",{className:"font-bold text-amber-600 ml-2",children:["R$ ",mt.revenue.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Unidades Vendidas:"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-gray-800 ml-2",children:mt.quantity})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Rentabilidade Categoria:"}),jsxRuntimeExports.jsxs("span",{className:`font-bold ml-2 text-xl ${mt.revenuePerMinute>1?"text-green-600":"text-red-600"}`,children:["R$ ",mt.revenuePerMinute.toFixed(2),"/min"]})]})]}),mt.items.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-100",children:[jsxRuntimeExports.jsx("h5",{className:"text-xs font-semibold text-gray-700 mb-2 uppercase",children:"Itens da Categoria:"}),jsxRuntimeExports.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:mt.items.map((xr,er)=>jsxRuntimeExports.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-100",children:[jsxRuntimeExports.jsx("h6",{className:"font-medium text-gray-900 text-sm mb-2 truncate",children:xr.name}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Unidades:"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-gray-800 ml-1",children:xr.quantity})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Receita:"}),jsxRuntimeExports.jsxs("span",{className:"font-bold text-amber-600 ml-1",children:["R$ ",xr.revenue.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"R$/min:"}),jsxRuntimeExports.jsx("span",{className:`font-bold ml-1 ${xr.revenuePerMinute>1?"text-green-600":"text-red-600"}`,children:xr.revenuePerMinute.toFixed(2)})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 mt-2 pt-2 border-t border-gray-200",children:["Tempo Produo: ",jsxRuntimeExports.jsxs("span",{className:"font-medium text-blue-600",children:[xr.productionTime.toFixed(0)," min"]})]})]},er))})]})]},Ct)),kt.categoryCorrelation.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-4 text-gray-500",children:[jsxRuntimeExports.jsx("i",{className:"ri-line-chart-line text-2xl mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"Nenhum dado de correlao disponvel"})]})]})]})]}),J==="orders"&&jsxRuntimeExports.jsx(OrderListTab,{orders:Je,onMarkAsDelivered:Zt}),J==="performance"&&jsxRuntimeExports.jsx("div",{className:"space-y-6",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:jsxRuntimeExports.jsx("i",{className:"ri-hourglass-line text-xl text-blue-600"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tempo Mdio Espera (NEW)"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[nt.averageTimeInNew.toFixed(1),"m"]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:jsxRuntimeExports.jsx("i",{className:"ri-fire-line text-xl text-yellow-600"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tempo Mdio Preparo"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[nt.averagePreparingTime.toFixed(1),"m"]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:jsxRuntimeExports.jsx("i",{className:"ri-truck-line text-xl text-purple-600"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tempo Mdio Entrega (READY)"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[nt.averageReadyTime.toFixed(1),"m"]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:jsxRuntimeExports.jsx("i",{className:"ri-speed-up-line text-xl text-green-600"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tempo Mdio Cozinha (Total)"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[nt.averageDeliveryTime.toFixed(0),"m"]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:jsxRuntimeExports.jsx("i",{className:"ri-checkbox-circle-line text-xl text-amber-600"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Taxa Pontualidade"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[nt.onTimeRate.toFixed(1),"%"]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:jsxRuntimeExports.jsx("i",{className:"ri-alarm-warning-line text-xl text-red-600"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pedidos Atrasados"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-gray-900",children:nt.overdueOrders})]})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200 lg:col-span-2",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Indicadores de Eficincia"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Pontualidade"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[nt.onTimeRate.toFixed(1),"%"]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${Math.min(nt.onTimeRate,100)}%`}})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Eficincia SLA (Tempo Cozinha vs. SLA)"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:nt.averageDeliveryTime<=nt.averageSla?"Boa":"Precisa melhorar"})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:`h-2 rounded-full ${nt.averageDeliveryTime<=nt.averageSla?"bg-green-600":"bg-red-600"}`,style:{width:`${Math.min(nt.averageSla/Math.max(nt.averageDeliveryTime,1)*100,100)}%`}})})]})]})]})]})})]})})]}):jsxRuntimeExports.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/40",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Acesso aos Relatrios"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Digite a senha para acessar"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Input,{value:T,onChange:mt=>I(mt.target.value),onKeyDown:mt=>{mt.key==="Enter"&&K()},placeholder:"Senha",type:"password"}),B?jsxRuntimeExports.jsx("div",{className:"text-red-600 text-sm",children:B}):null,jsxRuntimeExports.jsx(Button,{onClick:K,children:"Entrar"})]})]})})}const createLocalStartOfDay=b=>{if(!b)return null;const R=b.split("-");if(R.length!==3)return null;const[A,T,I]=R.map(Number);return new Date(A,T-1,I,0,0,0,0)},createLocalEndOfDay=b=>{if(!b)return null;const R=b.split("-");if(R.length!==3)return null;const[A,T,I]=R.map(Number);return new Date(A,T-1,I,23,59,59,999)};function GerenciamentoCaixaPage(){const b=useNavigate(),[R,A]=reactExports.useState(!1),[T,I]=reactExports.useState(""),[B,U]=reactExports.useState(!0),[q,K]=reactExports.useState(""),[J,ee]=reactExports.useState(""),[te,xe]=reactExports.useState(!1),[fe,ye]=reactExports.useState(null),[Be,Le]=reactExports.useState(null),[qe]=useLocalStorage("operationalSessionsHistory",[]),[Ge]=useLocalStorage("currentOperationalSession",null),[$e,Xe]=reactExports.useState([]),[He,Qe]=reactExports.useState([]),[st,ct]=reactExports.useState(!1);reactExports.useEffect(()=>{let et=!1;return(async()=>{try{const rt=(await listSessions(50)||[]).map(Zt=>({id:String(Zt.id),operatorName:String(Zt.opened_by??""),initialAmount:Math.max(0,(Zt.opening_amount_cents??0)/100),openingTime:Zt.opened_at?new Date(Zt.opened_at):new Date,closingTime:Zt.closed_at?new Date(Zt.closed_at):void 0,finalAmount:Zt.closing_amount_cents!=null?Zt.closing_amount_cents/100:void 0,expectedAmount:void 0,difference:void 0,status:Zt.closed_at?"CLOSED":"OPEN",openingNotes:void 0,closingNotes:void 0,notes:void 0,justification:Zt.closed_by??void 0,cashBreakdown:void 0,initialAmountInputMode:"total",finalAmountInputMode:"total"}));if(et)return;Xe(rt);const nt=[],kt=5;for(let Zt=0;Zt<rt.length&&!et;Zt+=kt){const Ar=rt.slice(Zt,Zt+kt);await Promise.all(Ar.map(async ft=>{try{const mt=await listMovementsBySession(ft.id);for(const Ct of mt||[]){const xr=String(Ct.reason??""),er=Ct.type==="in"&&xr.toLowerCase().includes("venda");nt.push({id:String(Ct.id),type:er?"SALE":Ct.type==="in"?"IN":"OUT",amount:Math.max(0,(Ct.amount_cents??0)/100),description:xr,timestamp:Ct.created_at?new Date(Ct.created_at):new Date,sessionId:String(Ct.session_id),orderId:void 0})}}catch(mt){console.warn(`Erro ao carregar movimentos da sesso ${ft.id}:`,mt)}})),et||Qe(ft=>[...ft,...nt.slice(ft.length)])}}catch(lt){console.error("Erro ao carregar sesses/movimentos:",lt),et||$e.length===0&&Xe([])}finally{et||ct(!0)}})(),()=>{et=!0}},[]);const gt=()=>{T==="159753"?(A(!0),U(!1),I("")):(alert("Senha incorreta!"),I(""))},Nt=()=>{A(!1),U(!0),I("")},Ot=reactExports.useMemo(()=>{let et=[...qe];return Ge&&Ge.status==="OPEN"&&(et=[Ge,...et.filter(lt=>lt.id!==Ge.id)]),et},[qe,Ge]),Tt=reactExports.useMemo(()=>Ot.filter(et=>{const lt=new Date(et.openingTime);let rt=null;q&&(rt=createLocalStartOfDay(q));let nt=null;return J&&(nt=createLocalEndOfDay(J)),!(rt&&lt<rt||nt&&lt>nt)}),[Ot,q,J]),ir=reactExports.useMemo(()=>He.filter(et=>et.type==="SALE").reduce((et,lt)=>et+lt.amount,0),[He]),At=et=>{ye(et),xe(!0)},It=et=>{Le(et)},Je=reactExports.useMemo(()=>{if(!fe)return null;const et=He.filter(Ft=>Ft.sessionId===fe.id),lt=fe.initialAmount,rt=et.filter(Ft=>Ft.type==="SALE"),nt=et.filter(Ft=>Ft.type==="IN"),kt=et.filter(Ft=>Ft.type==="OUT"),Zt=rt.reduce((Ft,Xt)=>Ft+Xt.amount,0),Ar=nt.reduce((Ft,Xt)=>Ft+Xt.amount,0),ft=kt.reduce((Ft,Xt)=>Ft+Xt.amount,0),mt=calculateExpectedAmount(fe,He),xr=(fe.finalAmount||0)-mt,er=[...rt,...nt,...kt].sort((Ft,Xt)=>new Date(Ft.timestamp).getTime()-new Date(Xt.timestamp).getTime());return{initialAmount:lt,totalSales:Zt,totalEntries:Ar,totalWithdrawals:ft,expectedAmount:mt,recalculatedDifference:xr,allMovements:er}},[fe,He]),ut=reactExports.useMemo(()=>{if(!Be)return[];const et=new Date(Be.openingTime).getTime(),lt=Be.closingTime?new Date(Be.closingTime).getTime():Date.now();return $e.filter(rt=>{const nt=new Date(rt.openingTime).getTime(),kt=rt.closingTime?new Date(rt.closingTime).getTime():Date.now();return nt>=et&&kt<=lt}).sort((rt,nt)=>new Date(rt.openingTime).getTime()-new Date(nt.openingTime).getTime())},[Be,$e]);return R?jsxRuntimeExports.jsxs("div",{className:"min-h-full bg-gray-50",children:[jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gerenciamento de Caixa"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Controle e relatrios de sesses operacionais e de caixa"})]}),jsxRuntimeExports.jsxs(Button,{variant:"secondary",onClick:Nt,children:[jsxRuntimeExports.jsx("i",{className:"ri-logout-circle-line mr-2"}),"Sair"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Filtros de Sesso Operacional"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data inicial:"}),jsxRuntimeExports.jsx(Input,{type:"date",value:q,onChange:et=>K(et.target.value),className:"w-full"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data final:"}),jsxRuntimeExports.jsx(Input,{type:"date",value:J,onChange:et=>ee(et.target.value),className:"w-full"})]}),jsxRuntimeExports.jsx("div",{className:"flex items-end",children:jsxRuntimeExports.jsxs(Button,{variant:"secondary",onClick:()=>{K(""),ee("")},className:"w-full",children:[jsxRuntimeExports.jsx("i",{className:"ri-refresh-line mr-2"}),"Limpar Filtros"]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx("i",{className:"ri-calendar-line text-blue-600"})}),jsxRuntimeExports.jsxs("div",{className:"ml-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Total de Sesses Operacionais"}),jsxRuntimeExports.jsx("p",{className:"text-xl font-bold text-gray-900",children:Ot.length})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx("i",{className:"ri-check-circle-line text-green-600"})}),jsxRuntimeExports.jsxs("div",{className:"ml-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Sesses de Caixa Fechadas"}),jsxRuntimeExports.jsx("p",{className:"text-xl font-bold text-gray-900",children:$e.filter(et=>et.status==="CLOSED").length})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx("i",{className:"ri-time-line text-yellow-600"})}),jsxRuntimeExports.jsxs("div",{className:"ml-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Sesses de Caixa Abertas"}),jsxRuntimeExports.jsx("p",{className:"text-xl font-bold text-gray-900",children:$e.filter(et=>et.status==="OPEN").length})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx("i",{className:"ri-money-dollar-circle-line text-amber-600"})}),jsxRuntimeExports.jsxs("div",{className:"ml-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Total em Vendas (Dinheiro)"}),jsxRuntimeExports.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["R$ ",ir.toFixed(2)]})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-gray-200",children:jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900",children:"Sesses Operacionais"})}),Tt.length===0?jsxRuntimeExports.jsxs("div",{className:"p-8 text-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-inbox-line text-4xl text-gray-400 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Nenhuma sesso operacional encontrada"})]}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"PIN"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-32",children:"Loja"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-32",children:"Aberto por"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-32",children:"Abertura"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-32",children:"Fechamento"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Aes"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Tt.map(et=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("div",{className:"font-bold text-blue-600",children:et.pin})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-600",children:et.storeName}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-600",children:et.openedByUserName}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(et.openingTime).toLocaleString("pt-BR")}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-600",children:et.closingTime?new Date(et.closingTime).toLocaleString("pt-BR"):"-"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${et.status==="OPEN"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:et.status==="OPEN"?"Aberta":"Fechada"})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:jsxRuntimeExports.jsxs(Button,{variant:"secondary",size:"sm",onClick:()=>It(et),children:[jsxRuntimeExports.jsx("i",{className:"ri-eye-line mr-1"}),"Ver Detalhes"]})})]},et.id))})]})})]})]}),jsxRuntimeExports.jsx(Modal,{isOpen:!!Be,onClose:()=>Le(null),title:`Detalhes da Sesso Operacional - ${Be?.pin}`,size:"2xl",children:Be&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:"Sesso Operacional"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-blue-700",children:"Loja: "}),jsxRuntimeExports.jsx("span",{className:"font-medium text-blue-800",children:Be.storeName})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-blue-700",children:"Status: "}),jsxRuntimeExports.jsx("span",{className:`font-medium text-blue-800 ${Be.status==="OPEN"?"text-green-600":"text-gray-600"}`,children:Be.status==="OPEN"?"Aberta":"Fechada"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-blue-700",children:"Abertura: "}),jsxRuntimeExports.jsx("span",{className:"font-medium text-blue-800",children:new Date(Be.openingTime).toLocaleString("pt-BR")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-blue-700",children:"Fechamento: "}),jsxRuntimeExports.jsx("span",{className:"font-medium text-blue-800",children:Be.closingTime?new Date(Be.closingTime).toLocaleString("pt-BR"):"Em andamento"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:["Sesses de Caixa (",ut.length,")"]}),ut.length===0?jsxRuntimeExports.jsx("div",{className:"p-4 text-center text-gray-500 bg-gray-50 rounded-lg",children:"Nenhuma sesso de caixa registrada neste perodo."}):jsxRuntimeExports.jsx("div",{className:"max-h-64 overflow-y-auto overflow-x-auto border border-gray-200 rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"w-full min-w-max",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Operador"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Abertura"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fechamento"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Esperado"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Diferena"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Abertura x lt. Fech."}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ut.map(et=>{const lt=et.status==="CLOSED"&&et.expectedAmount!==void 0?et.expectedAmount:calculateExpectedAmount(et,He),rt=et.status==="CLOSED"&&et.difference!==void 0?et.difference:et.finalAmount!==void 0?et.finalAmount-lt:0,nt=et.status==="CLOSED"&&Math.abs(rt)>.01,kt=new Date(et.openingTime).getTime(),Zt=$e.filter(Ct=>Ct.status==="CLOSED"&&Ct.closingTime&&new Date(Ct.closingTime).getTime()<kt).sort((Ct,xr)=>new Date(xr.closingTime).getTime()-new Date(Ct.closingTime).getTime())[0],Ar=Zt?Zt.finalAmount??(Zt.expectedAmount!==void 0&&Zt.difference!==void 0?Zt.expectedAmount+Zt.difference:0):null,ft=Ar!==null?et.initialAmount-Ar:null,mt=ft!==null&&Math.abs(ft)>.01;return jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:et.operatorName}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:new Date(et.openingTime).toLocaleTimeString("pt-BR")}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:et.closingTime?new Date(et.closingTime).toLocaleTimeString("pt-BR"):"-"}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:["R$ ",lt.toFixed(2)]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:et.status==="CLOSED"?jsxRuntimeExports.jsxs("span",{className:`font-medium ${nt?"text-red-600":"text-green-600"}`,children:["R$ ",rt.toFixed(2)]}):"-"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:ft===null?jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"-"}):jsxRuntimeExports.jsxs("span",{className:`font-medium ${mt?ft>0?"text-yellow-600":"text-red-600":"text-green-600"}`,children:[ft>0?"+":""," R$ ",ft.toFixed(2)]})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${et.status==="OPEN"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:et.status==="OPEN"?"Aberta":"Fechada"})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:jsxRuntimeExports.jsx(Button,{size:"sm",variant:"secondary",onClick:()=>At(et),children:jsxRuntimeExports.jsx("i",{className:"ri-eye-line"})})})]},et.id)})})]})})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end pt-4 border-t",children:jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>Le(null),children:"Fechar"})})]})}),jsxRuntimeExports.jsx(Modal,{isOpen:te,onClose:()=>xe(!1),title:`Detalhes da Sesso de Caixa - ${fe?.operatorName}`,size:"lg",children:fe&&Je&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Informaes Gerais"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Operador:"}),jsxRuntimeExports.jsx("span",{className:"font-medium ml-2",children:fe.operatorName})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Status:"}),jsxRuntimeExports.jsx("span",{className:`font-medium ml-2 ${fe.status==="OPEN"?"text-green-600":"text-gray-600"}`,children:fe.status==="OPEN"?"Aberto":"Fechado"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Abertura:"}),jsxRuntimeExports.jsx("span",{className:"font-medium ml-2",children:new Date(fe.openingTime).toLocaleString("pt-BR")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Fechamento:"}),jsxRuntimeExports.jsx("span",{className:"font-medium ml-2",children:fe.closingTime?new Date(fe.closingTime).toLocaleString("pt-BR"):"Em andamento"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Mtodo Abertura:"}),jsxRuntimeExports.jsx("span",{className:"font-medium ml-2",children:fe.initialAmountInputMode==="breakdown"?"Contagem Detalhada":"Valor Total"})]}),fe.status==="CLOSED"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Mtodo Fechamento:"}),jsxRuntimeExports.jsx("span",{className:"font-medium ml-2",children:fe.finalAmountInputMode==="breakdown"?"Contagem Detalhada":"Valor Total"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium text-blue-900 mb-3 flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-calculator-line mr-2"}),"Clculo do Valor Esperado"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-blue-700",children:"Valor Inicial:"}),jsxRuntimeExports.jsxs("span",{className:"font-bold text-blue-900",children:["R$ ",Je.initialAmount.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-blue-700",children:"Total de Vendas (Dinheiro):"}),jsxRuntimeExports.jsxs("span",{className:"font-bold text-green-600",children:["+ R$ ",Je.totalSales.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-blue-700",children:"Total de Entradas:"}),jsxRuntimeExports.jsxs("span",{className:"font-bold text-green-600",children:["+ R$ ",Je.totalEntries.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-blue-700",children:"Total de Retiradas:"}),jsxRuntimeExports.jsxs("span",{className:"font-bold text-red-600",children:["- R$ ",Je.totalWithdrawals.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t border-blue-300 pt-2 flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-lg font-bold text-blue-900",children:"VALOR ESPERADO:"}),jsxRuntimeExports.jsxs("span",{className:"text-lg font-bold text-blue-900",children:["R$ ",Je.expectedAmount.toFixed(2)]})]})]})]}),fe.status==="CLOSED"&&jsxRuntimeExports.jsxs("div",{className:"bg-gray-100 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Conferncia Final"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Valor contado (Final):"}),jsxRuntimeExports.jsxs("span",{className:"font-bold ml-2 text-gray-900",children:["R$ ",fe.finalAmount?.toFixed(2)||"N/A"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Diferena:"}),jsxRuntimeExports.jsxs("span",{className:`font-bold ml-2 ${Math.abs(Je.recalculatedDifference)>.01?Je.recalculatedDifference>0?"text-yellow-600":"text-red-600":"text-green-600"}`,children:[Je.recalculatedDifference>0?"+":"","R$ ",Je.recalculatedDifference.toFixed(2)]})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Movimentos Detalhados"}),jsxRuntimeExports.jsx("div",{className:"max-h-64 overflow-y-auto border border-gray-200 rounded-lg",children:Je.allMovements.length===0?jsxRuntimeExports.jsx("div",{className:"p-4 text-center text-gray-500",children:"Nenhum movimento registrado"}):jsxRuntimeExports.jsx("div",{className:"divide-y divide-gray-200",children:Je.allMovements.map(et=>{const lt=et.type==="SALE",rt=et.type==="IN",nt=et.type==="OUT",kt=lt?"bg-green-50/50":rt?"bg-blue-50/50":"bg-red-50/50",Zt=lt?"ri-shopping-cart-line":rt?"ri-add-circle-line":"ri-subtract-circle-line",Ar=lt?"text-green-600":rt?"text-blue-600":"text-red-600",ft=lt||rt?"text-green-600":"text-red-600",mt=lt||rt?"+":"-";let Ct="";lt?Ct="Venda (Dinheiro)":rt?Ct="Entrada":nt&&(Ct="Retirada");const xr=lt?et.description.replace("Venda - ",""):et.description;return jsxRuntimeExports.jsxs("div",{className:`p-3 flex items-center justify-between ${kt}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 ${Ar}`,children:jsxRuntimeExports.jsx("i",{className:`text-sm ${Zt}`})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[Ct," - ",xr]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:new Date(et.timestamp).toLocaleTimeString("pt-BR")})]})]}),jsxRuntimeExports.jsxs("div",{className:`text-sm font-medium ${ft}`,children:[mt," R$ ",et.amount.toFixed(2)]})]},et.id)})})})]}),(fe.openingNotes||fe.closingNotes||fe.notes||fe.justification)&&jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[(fe.openingNotes||fe.notes)&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Observaes da Abertura:"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 rounded-lg p-3",children:fe.openingNotes||fe.notes})]}),fe.closingNotes&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Observaes do Fechamento:"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 rounded-lg p-3",children:fe.closingNotes})]}),fe.justification&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Justificativa da Diferena:"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:fe.justification})]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end pt-4 border-t",children:jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>xe(!1),children:"Fechar"})})]})})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-lock-line text-6xl text-gray-400 mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"rea Restrita"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:"Digite a senha para acessar o gerenciamento de caixa"})]})}),jsxRuntimeExports.jsx(Modal,{isOpen:B,onClose:()=>{U(!1),I(""),b("/dashboard",{replace:!0})},title:"Acesso ao Gerenciamento de Caixa",size:"sm",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-shield-keyhole-line text-4xl text-amber-600 mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Digite a senha de acesso"})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(Input,{type:"password",value:T,onChange:et=>I(et.target.value),placeholder:"Senha de acesso",className:"w-full text-center",onKeyPress:et=>et.key==="Enter"&&gt(),autoFocus:!0})}),jsxRuntimeExports.jsxs(Button,{onClick:gt,className:"w-full",disabled:!T.trim(),children:[jsxRuntimeExports.jsx("i",{className:"ri-login-circle-line mr-2"}),"Acessar"]})]})})]})}function UsersManager(){return jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Buscar usurios"}),jsxRuntimeExports.jsxs(Button,{children:[jsxRuntimeExports.jsx("i",{className:"ri-user-add-line mr-2"}),"Novo usurio"]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Tabela de usurios e CRUD sero implementados aqui."})]})}function RolesManager(){return jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Perfis"}),jsxRuntimeExports.jsxs(Button,{children:[jsxRuntimeExports.jsx("i",{className:"ri-shield-user-line mr-2"}),"Novo perfil"]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Configurao de perfis e permisses ser implementada aqui."})]})}function StoresManager(){return jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Lojas"}),jsxRuntimeExports.jsxs(Button,{children:[jsxRuntimeExports.jsx("i",{className:"ri-store-3-line mr-2"}),"Nova loja"]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Gesto de lojas e configuraes ser implementada aqui."})]})}const dayNames$1=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"];function StoreOperatingDays(){const[b,R]=useLocalStorage("master_operating_selected_store_id",mockStores[0].id),[A,T]=useLocalStorage("master_store_operating_days",{}),I=reactExports.useMemo(()=>A[b]??[0,1,2,3,4,5,6],[A,b]),B=U=>{const q=new Set(I);q.has(U)?q.delete(U):q.add(U);const K={...A,[b]:Array.from(q).sort((J,ee)=>J-ee)};T(K)};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("select",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm",value:b,onChange:U=>R(U.target.value),children:mockStores.map(U=>jsxRuntimeExports.jsx("option",{value:U.id,children:U.name},U.id))}),jsxRuntimeExports.jsxs(Button,{variant:"secondary",size:"sm",children:[jsxRuntimeExports.jsx("i",{className:"ri-information-line mr-2"}),"Dias de funcionamento por loja"]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-2",children:dayNames$1.map((U,q)=>{const K=I.includes(q);return jsxRuntimeExports.jsxs("label",{className:`flex items-center justify-between border rounded-lg px-3 py-2 text-sm ${K?"border-amber-500 bg-amber-50":"border-gray-300 bg-white"}`,children:[jsxRuntimeExports.jsx("span",{children:U}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:K,onChange:()=>B(q)})]},U)})})]})}async function testSupabaseKitchen(){if(console.log(` Testando Supabase - Cozinhas...
`),!supabase){console.error(" Supabase NO est inicializado!"),console.log("Verifique:"),console.log("1. Arquivo .env existe na raiz do projeto?"),console.log("2. VITE_SUPABASE_URL est configurado?"),console.log("3. VITE_SUPABASE_ANON_KEY est configurado?"),console.log("4. Servidor foi reiniciado aps alterar .env?"),console.log(`
Variveis atuais:`),console.log("VITE_SUPABASE_URL:","https://zwmiikhkmqmislowfsdb.supabase.co"),console.log("VITE_SUPABASE_ANON_KEY:","DEFINIDO");return}console.log(" Supabase inicializado"),console.log("URL:",supabase.supabaseUrl),console.log(`
 Teste 1: SELECT (ler cozinhas)...`);try{const{data:B,error:U}=await supabase.from("kitchens").select("*").limit(5);if(U){console.error(" Erro do Supabase no SELECT:",U),console.error("Cdigo:",U.code),console.error("Mensagem:",U.message),console.error("Detalhes:",U.details),console.error("Hint:",U.hint);return}console.log(" SELECT OK! Cozinhas encontradas:",B?.length||0),B&&B.length>0&&console.log("Exemplo:",B[0])}catch(B){console.error(" Erro de REDE no SELECT:",B),console.error("Tipo:",B?.name),console.error("Mensagem:",B?.message),console.error("Stack:",B?.stack),console.error(`
 Possveis causas:`),console.error("1. CORS no habilitado no Supabase"),console.error("2. URL do Supabase incorreta"),console.error("3. Problema de conexo com internet"),console.error("4. Firewall bloqueando requisies");return}console.log(`
 Teste 2: INSERT (criar cozinha de teste)...`);const b=crypto.randomUUID(),R={id:b,name:`Teste ${Date.now()}`,unit_id:null,is_active:!0,display_order:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),version:1,pending_sync:!1};console.log("Dados:",R);const{data:A,error:T}=await supabase.from("kitchens").insert(R).select();if(T){console.error(" Erro no INSERT:",T),console.error("Cdigo:",T.code),console.error("Mensagem:",T.message),console.error("Detalhes:",T.details),console.error("Hint:",T.hint);return}console.log(" INSERT OK! Cozinha criada:",A),console.log(`
  Teste 3: DELETE (remover cozinha de teste)...`);const{error:I}=await supabase.from("kitchens").delete().eq("id",b);I?console.warn("  Erro no DELETE:",I):console.log(" DELETE OK! Cozinha de teste removida"),console.log(`
 TODOS OS TESTES PASSARAM! `),console.log("O Supabase est funcionando corretamente."),console.log("Agora tente adicionar uma cozinha pela interface.")}typeof window<"u"&&(window.testSupabaseKitchen=testSupabaseKitchen);function KitchensManager(){const[b,R]=reactExports.useState([]),[A,T]=reactExports.useState(!0),[I,B]=reactExports.useState(null),[U,q]=reactExports.useState(""),[K,J]=reactExports.useState(""),[ee,te]=reactExports.useState(!1),[xe,fe]=reactExports.useState(null),ye=typeof window?.api?.db?.query=="function",Be=reactExports.useCallback(async()=>{try{if(T(!0),fe(null),ye){const He=window?.api;if(!He?.db?.query){fe("API do Electron no disponvel");return}const Qe=await He.db.query("SELECT * FROM kitchens ORDER BY display_order, name");Qe?.rows&&R(Qe.rows)}else{if(!supabase){fe("Supabase no configurado. Verifique as variveis de ambiente.");return}console.log("[KitchensManager] Carregando cozinhas do Supabase..."),console.log("[KitchensManager] URL:",supabase.supabaseUrl);try{const{data:He,error:Qe}=await supabase.from("kitchens").select("*").order("display_order",{ascending:!0}).order("name",{ascending:!0});if(Qe)throw console.error("[KitchensManager] Erro do Supabase:",Qe),console.error("[KitchensManager] Cdigo:",Qe.code),console.error("[KitchensManager] Mensagem:",Qe.message),console.error("[KitchensManager] Detalhes:",Qe.details),console.error("[KitchensManager] Hint:",Qe.hint),fe(`Erro ao carregar: ${Qe.message} (${Qe.code||"sem cdigo"})`),Qe;if(He){const st=He.map(ct=>({id:ct.id,name:ct.name,is_active:ct.is_active?1:0,display_order:ct.display_order??0,updated_at:ct.updated_at}));console.log("[KitchensManager] Cozinhas carregadas:",st.length),R(st)}}catch(He){throw console.error("[KitchensManager] Erro de rede ao buscar cozinhas:",He),console.error("[KitchensManager] Tipo:",He?.name),console.error("[KitchensManager] Mensagem:",He?.message),console.error("[KitchensManager] Stack:",He?.stack),He?.message?.includes("Failed to fetch")||He?.name==="TypeError"?fe("Erro de conexo com Supabase. Verifique: 1) URL est correta? 2) CORS habilitado? 3) Internet conectada?"):fe(`Erro: ${He?.message||"Erro desconhecido"}`),He}}}catch(He){console.error("[KitchensManager] Erro geral ao carregar cozinhas:",He),xe||fe(He?.message||"Erro ao carregar cozinhas")}finally{T(!1)}},[ye]);reactExports.useEffect(()=>{if(Be(),ye){const He=window?.api;if(He?.db?.onChange){const Qe=He.db.onChange(st=>{st?.table==="kitchens"&&Be()});return()=>Qe?.()}}},[Be,ye]);const Le=async()=>{if(K.trim())try{fe(null);const He=crypto.randomUUID(),Qe=new Date().toISOString(),st=b.reduce((ct,gt)=>Math.max(ct,gt.display_order||0),0);if(ye){const ct=window?.api;if(!ct?.db?.query){fe("API do Electron no disponvel");return}await ct.db.query(`INSERT INTO kitchens (id, name, is_active, display_order, updated_at, version, pending_sync) 
           VALUES (?, ?, ?, ?, ?, ?, ?)`,[He,K.trim(),1,st+1,Qe,1,1])}else{if(!supabase){fe("Supabase no configurado");return}console.log("[KitchensManager] Criando cozinha no Supabase:",{id:He,name:K.trim()});const{data:ct,error:gt}=await supabase.from("kitchens").insert({id:He,name:K.trim(),unit_id:null,is_active:!0,display_order:st+1,created_at:Qe,updated_at:Qe,version:1,pending_sync:!1}).select();if(gt)throw console.error("[KitchensManager] Erro ao inserir:",gt),fe(`Erro ao criar: ${gt.message} (code: ${gt.code})`),gt;console.log("[KitchensManager] Cozinha criada:",ct)}J(""),te(!1),await Be()}catch(He){console.error("[KitchensManager] Erro ao criar cozinha:",He),fe(He?.message||"Erro ao criar cozinha"),alert(`Erro ao criar cozinha:

${He?.message||String(He)}

Verifique o console (F12) para mais detalhes.`)}},qe=async He=>{if(U.trim())try{fe(null);const Qe=new Date().toISOString();if(ye){const st=window?.api;if(!st?.db?.query){fe("API do Electron no disponvel");return}await st.db.query("UPDATE kitchens SET name = ?, updated_at = ?, pending_sync = 1 WHERE id = ?",[U.trim(),Qe,He])}else{if(!supabase){fe("Supabase no configurado");return}const{error:st}=await supabase.from("kitchens").update({name:U.trim(),updated_at:Qe}).eq("id",He);if(st)throw st}B(null),q(""),await Be()}catch(Qe){console.error("[KitchensManager] Erro ao atualizar cozinha:",Qe),fe(Qe?.message||"Erro ao atualizar cozinha")}},Ge=async He=>{try{fe(null);const Qe=new Date().toISOString(),ct=!(typeof He.is_active=="boolean"?He.is_active:He.is_active===1);if(ye){const gt=window?.api;if(!gt?.db?.query){fe("API do Electron no disponvel");return}await gt.db.query("UPDATE kitchens SET is_active = ?, updated_at = ?, pending_sync = 1 WHERE id = ?",[ct?1:0,Qe,He.id])}else{if(!supabase){fe("Supabase no configurado");return}const{error:gt}=await supabase.from("kitchens").update({is_active:ct,updated_at:Qe}).eq("id",He.id);if(gt)throw gt}await Be()}catch(Qe){console.error("[KitchensManager] Erro ao alterar status:",Qe),fe(Qe?.message||"Erro ao alterar status")}},$e=async He=>{if(confirm("Tem certeza que deseja excluir esta cozinha?"))try{if(fe(null),ye){const Qe=window?.api;if(!Qe?.db?.query){fe("API do Electron no disponvel");return}await Qe.db.query("UPDATE categories SET kitchen_id = NULL WHERE kitchen_id = ?",[He]),await Qe.db.query("DELETE FROM kitchens WHERE id = ?",[He])}else{if(!supabase){fe("Supabase no configurado");return}console.log("[KitchensManager] Deletando cozinha do Supabase:",He);const{error:Qe}=await supabase.from("kitchens").delete().eq("id",He);if(Qe)throw console.error("[KitchensManager] Erro ao deletar:",Qe),fe(`Erro ao deletar: ${Qe.message}`),Qe;console.log("[KitchensManager] Cozinha deletada com sucesso")}await Be()}catch(Qe){console.error("[KitchensManager] Erro ao excluir cozinha:",Qe),fe(Qe?.message||"Erro ao excluir cozinha"),alert(`Erro ao excluir cozinha:

${Qe?.message||String(Qe)}`)}},Xe=async(He,Qe)=>{const st=b.findIndex(Ot=>Ot.id===He.id),ct=Qe==="up"?st-1:st+1;if(ct<0||ct>=b.length)return;const gt=b[ct],Nt=new Date().toISOString();try{if(fe(null),ye){const Ot=window?.api;if(!Ot?.db?.query){fe("API do Electron no disponvel");return}await Ot.db.query("UPDATE kitchens SET display_order = ?, updated_at = ? WHERE id = ?",[gt.display_order,Nt,He.id]),await Ot.db.query("UPDATE kitchens SET display_order = ?, updated_at = ? WHERE id = ?",[He.display_order,Nt,gt.id])}else{if(!supabase){fe("Supabase no configurado");return}const{error:Ot}=await supabase.from("kitchens").update({display_order:gt.display_order,updated_at:Nt}).eq("id",He.id);if(Ot)throw Ot;const{error:Tt}=await supabase.from("kitchens").update({display_order:He.display_order,updated_at:Nt}).eq("id",gt.id);if(Tt)throw Tt}await Be()}catch(Ot){console.error("[KitchensManager] Erro ao reordenar:",Ot),fe(Ot?.message||"Erro ao reordenar")}};return A?jsxRuntimeExports.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"animate-pulse space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),jsxRuntimeExports.jsx("div",{className:"h-12 bg-gray-200 rounded"}),jsxRuntimeExports.jsx("div",{className:"h-12 bg-gray-200 rounded"})]})}):jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[xe&&jsxRuntimeExports.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-error-warning-line text-red-600 text-xl mr-2"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-red-800",children:"Erro"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-red-600",children:xe})]})]})}),!1,jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gerenciar Cozinhas"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Configure as cozinhas disponveis. Cada cozinha pode ter categorias de produtos associadas."})]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>te(!0),disabled:A,children:[jsxRuntimeExports.jsx("i",{className:"ri-add-line mr-2"}),"Nova Cozinha"]})]}),ee&&jsxRuntimeExports.jsxs("div",{className:"mb-6 p-4 bg-emerald-50 border border-emerald-200 rounded-lg",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-emerald-800 mb-3",children:"Nova Cozinha"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Input,{value:K,onChange:He=>J(He.target.value),placeholder:"Nome da cozinha",className:"flex-1",onKeyDown:He=>He.key==="Enter"&&Le()}),jsxRuntimeExports.jsxs(Button,{onClick:Le,disabled:!K.trim(),children:[jsxRuntimeExports.jsx("i",{className:"ri-check-line mr-1"}),"Criar"]}),jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>{te(!1),J("")},children:"Cancelar"})]})]}),b.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsx("i",{className:"ri-restaurant-2-line text-5xl text-gray-300 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Nenhuma cozinha cadastrada"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:'Clique em "Nova Cozinha" para adicionar'})]}):jsxRuntimeExports.jsx("div",{className:"space-y-3",children:b.map((He,Qe)=>jsxRuntimeExports.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border transition-all ${He.is_active?"bg-white border-gray-200 hover:border-emerald-300":"bg-gray-50 border-gray-100 opacity-60"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Xe(He,"up"),disabled:Qe===0,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30",children:jsxRuntimeExports.jsx("i",{className:"ri-arrow-up-s-line"})}),jsxRuntimeExports.jsx("button",{onClick:()=>Xe(He,"down"),disabled:Qe===b.length-1,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30",children:jsxRuntimeExports.jsx("i",{className:"ri-arrow-down-s-line"})})]}),jsxRuntimeExports.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${He.is_active?"bg-emerald-100":"bg-gray-200"}`,children:jsxRuntimeExports.jsx("i",{className:`ri-restaurant-2-fill text-xl ${He.is_active?"text-emerald-600":"text-gray-400"}`})}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:I===He.id?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Input,{value:U,onChange:st=>q(st.target.value),className:"flex-1",autoFocus:!0,onKeyDown:st=>{st.key==="Enter"&&qe(He.id),st.key==="Escape"&&(B(null),q(""))}}),jsxRuntimeExports.jsx("button",{onClick:()=>qe(He.id),className:"p-2 text-emerald-600 hover:bg-emerald-50 rounded",children:jsxRuntimeExports.jsx("i",{className:"ri-check-line"})}),jsxRuntimeExports.jsx("button",{onClick:()=>{B(null),q("")},className:"p-2 text-gray-400 hover:bg-gray-100 rounded",children:jsxRuntimeExports.jsx("i",{className:"ri-close-line"})})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900",children:He.name}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500",children:[He.is_active?"Ativa":"Inativa","  Ordem: ",He.display_order]})]})}),I!==He.id&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{B(He.id),q(He.name)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Editar",children:jsxRuntimeExports.jsx("i",{className:"ri-pencil-line"})}),jsxRuntimeExports.jsx("button",{onClick:()=>Ge(He),className:`p-2 rounded ${He.is_active?"text-amber-600 hover:bg-amber-50":"text-emerald-600 hover:bg-emerald-50"}`,title:He.is_active?"Desativar":"Ativar",children:jsxRuntimeExports.jsx("i",{className:He.is_active?"ri-toggle-fill":"ri-toggle-line"})}),jsxRuntimeExports.jsx("button",{onClick:()=>$e(He.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Excluir",children:jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-line"})})]})]},He.id))}),jsxRuntimeExports.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("i",{className:"ri-information-line text-blue-600 mt-0.5"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-blue-800",children:"Dica"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-blue-700",children:["Aps criar as cozinhas, v em ",jsxRuntimeExports.jsx("strong",{children:"Configuraes  Categorias"})," para associar cada categoria de produto a uma cozinha especfica. Isso permitir filtrar os produtos no PDV e direcionar pedidos para a cozinha correta no KDS."]})]})]})})]})}function MasterConfigPage(){const{user:b,store:R,role:A}=useAuth(),[T,I]=useLocalStorage("master_active_tab","users"),[B,U]=useLocalStorage("master_search","");return jsxRuntimeExports.jsxs("div",{className:"min-h-full bg-gray-50",children:[jsxRuntimeExports.jsx("header",{className:"bg-white border-b border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("i",{className:"ri-settings-3-line text-2xl text-amber-600"}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configurao Master"})]}),jsxRuntimeExports.jsxs(Link,{to:"/dashboard",className:"text-sm text-gray-600 hover:text-gray-900",children:[jsxRuntimeExports.jsx("i",{className:"ri-arrow-left-line mr-1"}),"Voltar ao Dashboard"]})]})}),jsxRuntimeExports.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-lg border border-blue-200 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Informaes de Acesso"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-700",children:["Usurio: ",jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[b?.name," (",b?.username,")"]})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-700",children:["Perfil: ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:A?.name})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-700",children:["Loja: ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:R?.name})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-lg border border-gray-200 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx(Input,{value:B,onChange:q=>U(q.target.value),placeholder:"Filtrar por nome, perfil ou loja"}),jsxRuntimeExports.jsxs(Button,{variant:"secondary",children:[jsxRuntimeExports.jsx("i",{className:"ri-filter-3-line mr-2"}),"Aplicar filtros"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsxs(Button,{children:[jsxRuntimeExports.jsx("i",{className:"ri-user-add-line mr-2"}),"Novo usurio"]}),jsxRuntimeExports.jsxs(Button,{variant:"secondary",children:[jsxRuntimeExports.jsx("i",{className:"ri-store-3-line mr-2"}),"Nova loja"]})]})]}),jsxRuntimeExports.jsx("div",{className:"border-b border-gray-200 mb-4",children:jsxRuntimeExports.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[jsxRuntimeExports.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 text-sm font-medium ${T==="users"?"border-amber-600 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>I("users"),children:"Usurios"}),jsxRuntimeExports.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 text-sm font-medium ${T==="roles"?"border-amber-600 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>I("roles"),children:"Perfis"}),jsxRuntimeExports.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 text-sm font-medium ${T==="stores"?"border-amber-600 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>I("stores"),children:"Lojas"}),jsxRuntimeExports.jsxs("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 text-sm font-medium ${T==="kitchens"?"border-amber-600 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>I("kitchens"),children:[jsxRuntimeExports.jsx("i",{className:"ri-restaurant-2-line mr-1"}),"Cozinhas"]}),jsxRuntimeExports.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 text-sm font-medium ${T==="settings"?"border-amber-600 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>I("settings"),children:"Configuraes"})]})}),T==="users"&&jsxRuntimeExports.jsx(UsersManager,{}),T==="roles"&&jsxRuntimeExports.jsx(RolesManager,{}),T==="stores"&&jsxRuntimeExports.jsx(StoresManager,{}),T==="kitchens"&&jsxRuntimeExports.jsx(KitchensManager,{}),T==="settings"&&jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Dias de funcionamento"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Defina os dias em que cada loja opera. A gerao de escala respeitar estes dias."}),jsxRuntimeExports.jsx(StoreOperatingDays,{})]})]})]})}const PRIORITY_MAP$2={low:{label:"Baixa",color:"bg-green-100 text-green-800",icon:"ri-arrow-down-line"},medium:{label:"Mdia",color:"bg-amber-100 text-amber-800",icon:"ri-arrow-right-line"},high:{label:"Alta",color:"bg-red-100 text-red-800",icon:"ri-arrow-up-line"}},getDaysRemaining$1=b=>{const R=new Date;R.setHours(0,0,0,0);const A=new Date(b);A.setHours(0,0,0,0);const T=A.getTime()-R.getTime(),I=Math.ceil(T/(1e3*60*60*24));return I<0?{text:"Atrasada",color:"text-red-600 font-bold"}:I===0?{text:"Hoje",color:"text-amber-600 font-bold"}:I===1?{text:"Amanh",color:"text-blue-600"}:{text:`Em ${I} dias`,color:"text-gray-600"}};function TaskCard({task:b,onToggleComplete:R,onEdit:A,onDelete:T,onUpdateStatus:I}){const[B]=useLocalStorage("taskStatuses",[]),[U,q]=reactExports.useState(!1),K=reactExports.useRef(null),J=PRIORITY_MAP$2[b.priority],ee=getDaysRemaining$1(b.dueDate),te=B.find(ye=>ye.key===b.status)||{key:b.status,label:b.status,color:"bg-gray-500",isFinal:!1},xe=te.isFinal;reactExports.useEffect(()=>{function ye(Be){K.current&&!K.current.contains(Be.target)&&q(!1)}return document.addEventListener("mousedown",ye),()=>{document.removeEventListener("mousedown",ye)}},[K]);const fe=ye=>{I(b.id,ye),q(!1)};return jsxRuntimeExports.jsxs("div",{className:`bg-white rounded-lg shadow-md border transition-all cursor-pointer z-10 ${xe?"border-green-300 bg-green-50 opacity-70":b.priority==="high"?"border-red-300":"border-gray-200"}`,onClick:()=>A(b),children:[jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("button",{onClick:ye=>{ye.stopPropagation(),R(b.id)},className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors flex-shrink-0 ${xe?"bg-green-500 border-green-500 text-white":"bg-white border-gray-300 text-transparent hover:border-green-500"}`,title:xe?"Marcar como pendente":"Marcar como concluda",children:jsxRuntimeExports.jsx("i",{className:"ri-check-line text-sm"})}),jsxRuntimeExports.jsx("h3",{className:`font-bold text-lg ${xe?"line-through text-gray-500":"text-gray-900"}`,children:b.title})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-2",children:jsxRuntimeExports.jsxs("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${J.color}`,children:[jsxRuntimeExports.jsx("i",{className:`${J.icon} mr-1`}),J.label]})})]}),b.description&&jsxRuntimeExports.jsx("p",{className:`text-sm text-gray-600 mb-3 ${xe?"line-through":""}`,children:b.description}),jsxRuntimeExports.jsxs("div",{className:"relative mb-3",ref:K,children:[jsxRuntimeExports.jsxs("button",{onClick:ye=>{ye.stopPropagation(),q(Be=>!Be)},className:`w-full flex items-center justify-between px-3 py-1.5 rounded-lg text-sm font-medium transition-colors border ${te.color} text-white hover:opacity-90`,children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-refresh-line mr-2"}),te.label]}),jsxRuntimeExports.jsx("i",{className:"ri-arrow-down-s-line"})]}),U&&jsxRuntimeExports.jsx("div",{className:"absolute z-20 mt-1 w-full bg-white rounded-lg shadow-xl border border-gray-200 max-h-48 overflow-y-auto",children:B.map(ye=>jsxRuntimeExports.jsxs("button",{onClick:Be=>{Be.stopPropagation(),fe(ye.key)},className:`w-full text-left px-3 py-2 text-sm flex items-center space-x-2 hover:bg-gray-100 ${ye.key===b.status?"bg-gray-100 font-semibold":"text-gray-700"}`,children:[jsxRuntimeExports.jsx("span",{className:`w-3 h-3 rounded-full ${ye.color}`}),jsxRuntimeExports.jsx("span",{children:ye.label})]},ye.key))})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm border-t pt-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Vencimento:"}),jsxRuntimeExports.jsxs("span",{className:`ml-2 ${ee.color}`,children:[ee.text," (",b.dueDate.split("-").reverse().join("/"),")"]})]}),b.assignedToName&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Atribudo a:"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-800 ml-2",children:b.assignedToName})]}),xe&&b.completedAt&&jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Concludo em:"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-green-600 ml-2",children:new Date(b.completedAt).toLocaleDateString("pt-BR")})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end p-3 border-t bg-gray-50 space-x-2",children:jsxRuntimeExports.jsxs(Button,{variant:"danger",size:"sm",onClick:ye=>{ye.stopPropagation(),T(b.id)},children:[jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-line mr-1"}),"Excluir"]})})]})}function TaskComments({comments:b,onUpdateComments:R}){const{user:A}=useAuth(),[T,I]=reactExports.useState(""),[B,U]=reactExports.useState(null),[q,K]=reactExports.useState(""),J=()=>{if(A&&T.trim()){const fe={id:Date.now().toString(),userId:A.id,userName:A.name,timestamp:new Date,content:T.trim()};R([...b,fe]),I("")}},ee=fe=>{U(fe.id),K(fe.content)},te=()=>{if(!B||!q.trim())return;const fe=b.map(ye=>ye.id===B?{...ye,content:q.trim(),timestamp:new Date}:ye);R(fe),U(null),K("")},xe=fe=>{if(confirm("Tem certeza que deseja excluir este comentrio?")){const ye=b.filter(Be=>Be.id!==fe);R(ye)}};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium text-gray-900 flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-chat-3-line mr-2 text-blue-600"}),"Comentrios (",b.length,")"]}),jsxRuntimeExports.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg bg-gray-50",children:[jsxRuntimeExports.jsx("textarea",{value:T,onChange:fe=>I(fe.target.value),placeholder:`Adicionar um comentrio como ${A?.name||"Usurio"}`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none text-sm",rows:2,maxLength:500,disabled:!!B}),jsxRuntimeExports.jsx("div",{className:"flex justify-end mt-2",children:jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:J,disabled:!T.trim()||!!B,variant:"info",children:[jsxRuntimeExports.jsx("i",{className:"ri-send-plane-line mr-2"}),"Comentar"]})})]}),jsxRuntimeExports.jsx("div",{className:"max-h-64 overflow-y-auto space-y-3",children:b.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 italic text-center py-4",children:"Nenhum comentrio ainda."}):b.sort((fe,ye)=>new Date(ye.timestamp).getTime()-new Date(fe.timestamp).getTime()).map(fe=>{const ye=B===fe.id,Be=A?.id===fe.userId;return jsxRuntimeExports.jsxs("div",{className:"p-3 bg-white border border-gray-100 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-1",children:[jsxRuntimeExports.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[fe.userName,Be&&jsxRuntimeExports.jsx("span",{className:"ml-2 text-blue-500",children:"(Voc)"})]}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:new Date(fe.timestamp).toLocaleString("pt-BR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})})]}),ye?jsxRuntimeExports.jsx("textarea",{value:q,onChange:Le=>K(Le.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm resize-none focus:ring-blue-500",rows:2,maxLength:500,autoFocus:!0}):jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:fe.content}),jsxRuntimeExports.jsx("div",{className:"flex justify-end space-x-2 mt-2 pt-2 border-t border-gray-100",children:ye?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{size:"sm",variant:"secondary",onClick:()=>U(null),children:"Cancelar"}),jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:te,disabled:!q.trim(),children:[jsxRuntimeExports.jsx("i",{className:"ri-save-line mr-1"}),"Salvar"]})]}):Be?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{size:"sm",variant:"secondary",onClick:()=>ee(fe),children:jsxRuntimeExports.jsx("i",{className:"ri-edit-line"})}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"danger",onClick:()=>xe(fe.id),children:jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-line"})})]}):null})]},fe.id)})})]})}const PRIORITY_OPTIONS=[{value:"low",label:"Baixa",color:"text-green-600"},{value:"medium",label:"Mdia",color:"text-amber-600"},{value:"high",label:"Alta",color:"text-red-600"}];function TaskFormModal({isOpen:b,onClose:R,onSave:A,editingTask:T}){const{user:I,store:B}=useAuth(),[U]=useLocalStorage("mockStores",[]),[q,K]=reactExports.useState("details"),[J,ee]=reactExports.useState(T?.title||""),[te,xe]=reactExports.useState(T?.description||""),[fe,ye]=reactExports.useState(T?.dueDate||""),[Be,Le]=reactExports.useState(T?.priority||"medium"),[qe,Ge]=reactExports.useState(T?.assignedToId||I?.id||""),[$e,Xe]=reactExports.useState(T?.storeId||B?.id||""),[He,Qe]=reactExports.useState(T?.comments||[]),st=mockUsers;reactExports.useEffect(()=>{T?(ee(T.title),xe(T.description||""),ye(T.dueDate),Le(T.priority),Ge(T.assignedToId||""),Xe(T.storeId),Qe(T.comments||[]),K("details")):(ee(""),xe(""),ye(""),Le("medium"),Ge(I?.id||""),Xe(B?.id||""),Qe([]),K("details"))},[T,b,I,B]);const ct=()=>{if(!J.trim()||!fe||!$e){alert("Ttulo, Data de Vencimento e Loja so obrigatrios.");return}const Nt=st.find(Tt=>Tt.id===qe),Ot={title:J.trim(),description:te.trim()||void 0,dueDate:fe,priority:Be,status:T?.status||"pending",assignedToId:Nt?.id,assignedToName:Nt?.name,storeId:$e,comments:He};A(Ot,!!T),R()},gt=Nt=>{if(Qe(Nt),T){const Ot=st.find(ir=>ir.id===qe),Tt={title:J.trim(),description:te.trim()||void 0,dueDate:fe,priority:Be,status:T.status,assignedToId:Ot?.id,assignedToName:Ot?.name,storeId:$e,comments:Nt};A(Tt,!0)}};return jsxRuntimeExports.jsxs(Modal,{isOpen:b,onClose:R,title:T?"Editar Tarefa":"Nova Tarefa",size:"lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex space-x-8 border-b border-gray-200 mb-4",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>K("details"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${q==="details"?"border-amber-500 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[jsxRuntimeExports.jsx("i",{className:"ri-file-list-line mr-2"}),"Detalhes"]}),T&&jsxRuntimeExports.jsxs("button",{onClick:()=>K("comments"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${q==="comments"?"border-amber-500 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[jsxRuntimeExports.jsx("i",{className:"ri-chat-3-line mr-2"}),"Comentrios (",He.length,")"]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[q==="details"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Input,{label:"Ttulo da Tarefa *",value:J,onChange:Nt=>ee(Nt.target.value),placeholder:"Ex: Limpar a chapa, Fazer inventrio...",autoFocus:!0}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrio (opcional):"}),jsxRuntimeExports.jsx("textarea",{value:te,onChange:Nt=>xe(Nt.target.value),placeholder:"Detalhes da tarefa...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent resize-none",rows:3,maxLength:500})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(Input,{label:"Data de Vencimento *",type:"date",value:fe,onChange:Nt=>ye(Nt.target.value),required:!0}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loja: *"}),jsxRuntimeExports.jsxs("select",{value:$e,onChange:Nt=>Xe(Nt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Selecione a Loja"}),U.map(Nt=>jsxRuntimeExports.jsx("option",{value:Nt.id,children:Nt.name},Nt.id))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Atribudo a:"}),jsxRuntimeExports.jsxs("select",{value:qe,onChange:Nt=>Ge(Nt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:"No Atribudo"}),st.map(Nt=>jsxRuntimeExports.jsxs("option",{value:Nt.id,children:[Nt.name," (",Nt.username,")"]},Nt.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prioridade:"}),jsxRuntimeExports.jsx("div",{className:"flex space-x-3",children:PRIORITY_OPTIONS.map(Nt=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Le(Nt.value),className:`flex-1 p-3 rounded-lg border-2 transition-colors ${Be===Nt.value?"border-amber-500 bg-amber-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:jsxRuntimeExports.jsx("span",{className:`font-medium text-sm ${Nt.color}`,children:Nt.label})},Nt.value))})]})]})]}),q==="comments"&&T&&jsxRuntimeExports.jsx(TaskComments,{comments:He,onUpdateComments:gt}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3 pt-4 border-t",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:R,className:"flex-1",children:"Cancelar"}),jsxRuntimeExports.jsxs(Button,{onClick:ct,className:"flex-1",children:[jsxRuntimeExports.jsx("i",{className:"ri-save-line mr-2"}),"Salvar Tarefa"]})]})]})]})}const PRIORITY_MAP$1={low:{label:"Baixa",color:"bg-green-100 text-green-800"},medium:{label:"Mdia",color:"bg-amber-100 text-amber-800"},high:{label:"Alta",color:"bg-red-100 text-red-800"}},getDaysRemaining=b=>{const R=new Date;R.setHours(0,0,0,0);const A=new Date(b);A.setHours(0,0,0,0);const T=A.getTime()-R.getTime(),I=Math.ceil(T/(1e3*60*60*24));return I<0?{text:"Atrasada",color:"text-red-600 font-bold"}:I===0?{text:"Hoje",color:"text-amber-600 font-bold"}:{text:`Em ${I} dias`,color:"text-gray-600"}};function TaskRow({task:b,onToggleComplete:R,onEdit:A,onDelete:T,onUpdateStatus:I,taskStatuses:B}){const[U,q]=reactExports.useState(!1),K=reactExports.useRef(null),J=PRIORITY_MAP$1[b.priority],ee=getDaysRemaining(b.dueDate),te=B.find(ye=>ye.key===b.status)||{key:b.status,label:b.status,color:"bg-gray-500",isFinal:!1},xe=te.isFinal;reactExports.useEffect(()=>{function ye(Be){K.current&&!K.current.contains(Be.target)&&q(!1)}return document.addEventListener("mousedown",ye),()=>{document.removeEventListener("mousedown",ye)}},[K]);const fe=ye=>{I(b.id,ye),q(!1)};return jsxRuntimeExports.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer ${xe?"bg-green-50 opacity-70":""}`,onClick:()=>A(b),children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:jsxRuntimeExports.jsx("button",{onClick:ye=>{ye.stopPropagation(),R(b.id)},className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors ${xe?"bg-green-500 border-green-500 text-white":"bg-white border-gray-300 text-transparent hover:border-green-500"}`,title:xe?"Marcar como pendente":"Marcar como concluda",children:jsxRuntimeExports.jsx("i",{className:"ri-check-line text-sm"})})}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3",children:[jsxRuntimeExports.jsx("div",{className:`font-medium text-gray-900 ${xe?"line-through text-gray-500":""}`,children:b.title}),b.description&&jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 mt-1 truncate max-w-xs",children:b.description})]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 whitespace-nowrap relative",ref:K,children:[jsxRuntimeExports.jsxs("button",{onClick:ye=>{ye.stopPropagation(),q(Be=>!Be)},className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full transition-colors border border-gray-300 ${te.color} text-white`,children:[te.label,jsxRuntimeExports.jsx("i",{className:"ri-arrow-down-s-line ml-1"})]}),U&&jsxRuntimeExports.jsx("div",{className:"absolute z-10 mt-1 w-40 bg-white rounded-lg shadow-xl border border-gray-200 max-h-48 overflow-y-auto",children:B.map(ye=>jsxRuntimeExports.jsxs("button",{onClick:Be=>{Be.stopPropagation(),fe(ye.key)},className:`w-full text-left px-3 py-2 text-sm flex items-center space-x-2 hover:bg-gray-100 ${ye.key===b.status?"bg-gray-100 font-semibold":"text-gray-700"}`,children:[jsxRuntimeExports.jsx("span",{className:`w-3 h-3 rounded-full ${ye.color}`}),jsxRuntimeExports.jsx("span",{children:ye.label})]},ye.key))})]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${J.color}`,children:J.label})}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[jsxRuntimeExports.jsx("div",{className:`text-sm ${ee.color}`,children:ee.text}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:b.dueDate.split("-").reverse().join("/")})]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-800",children:b.assignedToName||"No Atribudo"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:jsxRuntimeExports.jsx(Button,{variant:"danger",size:"sm",onClick:ye=>{ye.stopPropagation(),T(b.id)},children:jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-line"})})})]},b.id)}function TaskList({tasks:b,onToggleComplete:R,onEdit:A,onDelete:T,onUpdateStatus:I}){const[B]=useLocalStorage("taskStatuses",[]);return jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 sticky top-0",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-12",children:"Concluir"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-64",children:"Tarefa"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Prioridade"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-32",children:"Vencimento"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-32",children:"Atribudo a"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Aes"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(U=>jsxRuntimeExports.jsx(TaskRow,{task:U,onToggleComplete:R,onEdit:A,onDelete:T,onUpdateStatus:I,taskStatuses:B},U.id))})]})})})}const PRIORITY_MAP={low:"bg-green-500",medium:"bg-amber-500",high:"bg-red-500"},generateCalendar=b=>{const R=new Date,A=R.getFullYear(),T=R.getMonth(),I=new Date(A,T,1),B=new Date(A,T+1,0),U=I.getDay(),q=B.getDate(),K=[];for(let ee=0;ee<U;ee++)K.push(null);for(let ee=1;ee<=q;ee++)K.push(new Date(A,T,ee));const J=b.reduce((ee,te)=>{const xe=te.dueDate;return ee[xe]||(ee[xe]=[]),ee[xe].push(te),ee},{});return{calendarDays:K,tasksByDate:J,month:T,year:A}};function TaskCalendar({tasks:b,onEdit:R}){const{calendarDays:A,tasksByDate:T,month:I,year:B}=generateCalendar(b),U=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],q=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],K=new Date().toISOString().split("T")[0];return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 text-center",children:[q[I]," de ",B]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[U.map(J=>jsxRuntimeExports.jsx("div",{className:"text-center text-sm font-medium text-gray-600 py-2 border-b border-gray-200",children:J},J)),A.map((J,ee)=>{const te=J?J.toISOString().split("T")[0]:null,xe=te?T[te]||[]:[],fe=te===K,ye=xe.reduce((Be,Le)=>Le.status==="completed"?Be:Le.priority==="high"?"high":Le.priority==="medium"&&Be!=="high"?"medium":Le.priority==="low"&&Be===null?"low":Be,null);return jsxRuntimeExports.jsxs("div",{className:`h-32 p-1 border border-gray-200 relative overflow-y-auto text-xs ${J?"bg-white":"bg-gray-50"} ${fe?"ring-2 ring-blue-500 border-blue-500":""}`,children:[J&&jsxRuntimeExports.jsxs("div",{className:`font-bold mb-1 flex justify-between items-center ${fe?"text-blue-700":"text-gray-900"}`,children:[jsxRuntimeExports.jsx("span",{children:J.getDate()}),ye&&jsxRuntimeExports.jsx("span",{className:`w-2 h-2 rounded-full ${PRIORITY_MAP[ye]}`,title:`Prioridade ${ye}`})]}),xe.map(Be=>jsxRuntimeExports.jsx("div",{onClick:()=>R(Be),className:`mt-1 px-1 py-0.5 rounded truncate cursor-pointer transition-colors ${Be.status==="completed"?"bg-green-200 text-green-800 line-through":`${PRIORITY_MAP[Be.priority]} text-white hover:opacity-80`}`,title:Be.title,children:Be.title},Be.id))]},ee)})]})]})}const COLOR_OPTIONS=[{value:"bg-blue-500",label:"Azul",hex:"#3b82f6"},{value:"bg-amber-500",label:"mbar",hex:"#f59e0b"},{value:"bg-green-500",label:"Verde",hex:"#22c55e"},{value:"bg-red-500",label:"Vermelho",hex:"#ef4444"},{value:"bg-purple-500",label:"Roxo",hex:"#a855f7"},{value:"bg-gray-500",label:"Cinza",hex:"#6b7280"}];function TaskStatusConfigModal({isOpen:b,onClose:R,statuses:A,onSaveStatuses:T}){const[I,B]=reactExports.useState(""),[U,q]=reactExports.useState(COLOR_OPTIONS[0].value),[K,J]=reactExports.useState(!1),[ee,te]=reactExports.useState(A);reactExports.useEffect(()=>{const Le=[...A].sort((qe,Ge)=>{if(qe.isDefault&&!Ge.isDefault)return-1;if(!qe.isDefault&&Ge.isDefault)return 1;const $e={pending:1,in_progress:2,completed:3};return($e[qe.key]||99)-($e[Ge.key]||99)});te(Le)},[A]);const xe=()=>{if(!I.trim())return;const Le=I.trim().toLowerCase().replace(/\s+/g,"_");if(ee.some(Ge=>Ge.key===Le)){alert("Status com este nome j existe.");return}const qe={key:Le,label:I.trim(),color:U,isDefault:!1,isFinal:K};te(Ge=>[...Ge,qe]),B(""),q(COLOR_OPTIONS[0].value),J(!1)},fe=Le=>{te(ee.filter(qe=>qe.key!==Le))},ye=(Le,qe)=>{const Ge=[...ee];if(Ge[Le].isDefault)return;let Xe=qe==="up"?Le-1:Le+1;for(;Xe>=0&&Xe<Ge.length;){if(!Ge[Xe].isDefault){[Ge[Le],Ge[Xe]]=[Ge[Xe],Ge[Le]],te(Ge);return}Xe=qe==="up"?Xe-1:Xe+1}},Be=()=>{const Le=ee.map(qe=>qe.key==="completed"?{...qe,isFinal:!0}:qe);T(Le),R()};return jsxRuntimeExports.jsx(Modal,{isOpen:b,onClose:R,title:"Configurao de Status de Tarefas",size:"lg",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Adicionar Novo Status Personalizado"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsx(Input,{label:"Nome do Status",value:I,onChange:Le=>B(Le.target.value),placeholder:"Ex: Reviso, Bloqueado"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx("select",{value:U,onChange:Le=>q(Le.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm",children:COLOR_OPTIONS.map(Le=>jsxRuntimeExports.jsx("option",{value:Le.value,children:Le.label},Le.value))}),jsxRuntimeExports.jsx("div",{className:`w-8 h-8 rounded-lg ${U} flex-shrink-0 border border-gray-300`})]})]}),jsxRuntimeExports.jsxs(Button,{onClick:xe,disabled:!I.trim(),children:[jsxRuntimeExports.jsx("i",{className:"ri-add-line mr-2"}),"Adicionar"]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3 flex items-center space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:"isFinal",checked:K,onChange:Le=>J(Le.target.checked),className:"rounded border-gray-300 text-amber-600 focus:ring-amber-500"}),jsxRuntimeExports.jsx("label",{htmlFor:"isFinal",className:"text-sm text-gray-700",children:"Marcar como status final (Concludo)"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:["Status Ativos (",ee.length,")"]}),jsxRuntimeExports.jsx("div",{className:"max-h-64 overflow-y-auto border border-gray-200 rounded-lg divide-y divide-gray-100",children:ee.map((Le,qe)=>{const Ge=!Le.isDefault,$e=Ge&&qe>0&&!ee[qe-1].isDefault,Xe=Ge&&qe<ee.length-1&&!ee[qe+1].isDefault;return jsxRuntimeExports.jsxs("div",{className:"p-3 flex items-center justify-between bg-white",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("span",{className:`w-3 h-3 rounded-full ${Le.color}`}),jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-900",children:Le.label}),Le.isFinal&&jsxRuntimeExports.jsx("span",{className:"text-xs font-semibold bg-green-100 text-green-800 px-2 py-0.5 rounded-full",children:"Final"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[Ge&&jsxRuntimeExports.jsxs("div",{className:"flex space-x-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ye(qe,"up"),disabled:!$e,className:`w-6 h-6 flex items-center justify-center rounded text-xs transition-colors ${$e?"text-gray-600 hover:bg-gray-200":"text-gray-300 cursor-not-allowed"}`,title:"Mover para cima",children:jsxRuntimeExports.jsx("i",{className:"ri-arrow-up-s-line"})}),jsxRuntimeExports.jsx("button",{onClick:()=>ye(qe,"down"),disabled:!Xe,className:`w-6 h-6 flex items-center justify-center rounded text-xs transition-colors ${Xe?"text-gray-600 hover:bg-gray-200":"text-gray-300 cursor-not-allowed"}`,title:"Mover para baixo",children:jsxRuntimeExports.jsx("i",{className:"ri-arrow-down-s-line"})})]}),Le.isDefault?jsxRuntimeExports.jsx("span",{className:"text-xs text-blue-600",children:"Padro"}):jsxRuntimeExports.jsx(Button,{variant:"danger",size:"sm",onClick:()=>fe(Le.key),children:jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-line"})})]})]},Le.key)})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end pt-4 border-t",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:R,className:"mr-3",children:"Cancelar"}),jsxRuntimeExports.jsxs(Button,{onClick:Be,children:[jsxRuntimeExports.jsx("i",{className:"ri-save-line mr-2"}),"Salvar Configuraes"]})]})]})})}const query=async(b,R)=>{const A=window?.api?.db?.query;if(typeof A!="function")throw new Error("Canal de DB indisponvel");try{const T=await A(b,R);if(T?.error)throw new Error(String(T.error));return T}catch{await new Promise(B=>setTimeout(B,200));const I=await A(b,R);if(I?.error)throw new Error(String(I.error));return I}},uuid=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`${Date.now()}-${Math.random().toString(16).slice(2)}`;function mapRow(b){return{id:String(b.id),title:String(b.title??""),description:b.description?String(b.description):void 0,dueDate:String(b.due_at??""),priority:String(b.priority??"medium"),status:String(b.status??"pending"),assignedToId:b.assigned_to?String(b.assigned_to):void 0,assignedToName:b.assigned_to_name?String(b.assigned_to_name):void 0,storeId:String(b.unit_id??""),createdAt:b.created_at?new Date(String(b.created_at)):new Date,completedAt:b.completed_at?new Date(String(b.completed_at)):void 0,comments:b.comments_json?safeParseComments(String(b.comments_json)):[]}}function safeParseComments(b){try{const R=JSON.parse(b);return Array.isArray(R)?R.map(A=>({id:String(A.id),userId:String(A.userId),userName:String(A.userName),timestamp:A.timestamp?new Date(String(A.timestamp)):new Date,content:String(A.content??"")})):[]}catch{return[]}}async function listTasks(){try{const b=await getCurrentUnitId();return((await query(b?"SELECT * FROM tasks WHERE unit_id = ? OR unit_id IS NULL":"SELECT * FROM tasks",b?[b]:[]))?.rows??[]).map(mapRow)}catch{try{const b=localStorage.getItem("tasks"),R=b?JSON.parse(b):[];return Array.isArray(R)?R:[]}catch{return[]}}}async function upsertTask(b){const R=b.id??uuid();try{const A=await getCurrentUnitId(),T=new Date().toISOString(),I=JSON.stringify(b.comments??[]);return await query("INSERT INTO tasks (id, unit_id, title, description, status, priority, assigned_to, assigned_to_name, due_at, created_at, completed_at, comments_json, updated_at, version, pending_sync) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) ON CONFLICT(id) DO UPDATE SET unit_id=excluded.unit_id, title=excluded.title, description=excluded.description, status=excluded.status, priority=excluded.priority, assigned_to=excluded.assigned_to, assigned_to_name=excluded.assigned_to_name, due_at=excluded.due_at, completed_at=excluded.completed_at, comments_json=excluded.comments_json, updated_at=excluded.updated_at, version=excluded.version, pending_sync=excluded.pending_sync",[R,A??null,b.title,b.description??null,b.status,b.priority,b.assignedToId??null,b.assignedToName??null,b.dueDate,b.createdAt?new Date(b.createdAt).toISOString():T,b.completedAt?new Date(b.completedAt).toISOString():null,I,T,1,1]),R}catch{try{const A=localStorage.getItem("tasks"),T=A?JSON.parse(A):[],B=[{id:R,title:b.title,description:b.description??void 0,dueDate:b.dueDate,priority:b.priority,status:b.status,assignedToId:b.assignedToId??void 0,assignedToName:b.assignedToName??void 0,storeId:String(b.storeId??""),createdAt:new Date,completedAt:b.completedAt?new Date(b.completedAt):void 0,comments:b.comments??[]},...T.filter(U=>U.id!==R)];return localStorage.setItem("tasks",JSON.stringify(B)),R}catch{return R}}}async function updateTaskStatus(b,R,A){try{const T=new Date().toISOString();await query("UPDATE tasks SET status = ?, completed_at = ?, updated_at = ?, pending_sync = 1 WHERE id = ?",[R,A?T:null,T,b])}catch{try{const T=localStorage.getItem("tasks"),B=(T?JSON.parse(T):[]).map(U=>U.id===b?{...U,status:R,completedAt:A?new Date:void 0}:U);localStorage.setItem("tasks",JSON.stringify(B))}catch{}}}async function deleteTask(b){try{await query("DELETE FROM tasks WHERE id = ?",[b])}catch{try{const R=localStorage.getItem("tasks"),T=(R?JSON.parse(R):[]).filter(I=>I.id!==b);localStorage.setItem("tasks",JSON.stringify(T))}catch{}}}function TarefasPage(){const{store:b}=useAuth(),[R,A]=reactExports.useState([]),[T]=useLocalStorage("mockStores",mockStores),[I,B]=useLocalStorage("taskStatuses",DEFAULT_TASK_STATUSES),[U,q]=reactExports.useState(!1),[K,J]=reactExports.useState(!1),[ee,te]=reactExports.useState(null),[xe,fe]=reactExports.useState("pending"),[ye,Be]=reactExports.useState("all"),[Le,qe]=reactExports.useState(b?.id||"all"),[Ge,$e]=reactExports.useState(""),[Xe,He]=reactExports.useState("quadros"),[Qe,st]=reactExports.useState(!1),[ct,gt]=reactExports.useState(null);reactExports.useEffect(()=>{(async()=>{const rt=await listTasks();A(rt)})().catch(()=>A([]))},[]);const Nt=rt=>{B(rt)},Ot=(rt,nt)=>{const Zt=!!I.find(Ar=>Ar.key===nt)?.isFinal;updateTaskStatus(rt,nt,Zt).then(()=>{A(Ar=>Ar.map(ft=>ft.id===rt?{...ft,status:nt,completedAt:Zt?new Date:void 0}:ft))})},Tt=(rt,nt)=>{const kt=mockUsers.find(Ar=>Ar.id===rt.assignedToId),Zt={...rt,assignedToName:kt?.name};if(nt&&ee){const ft=I.find(mt=>mt.key===rt.status)?.isFinal;upsertTask({...Zt,id:ee.id,completedAt:ft?new Date:void 0}).then(()=>{A(mt=>mt.map(Ct=>Ct.id===ee.id?{...Ct,...Zt,comments:rt.comments||[],completedAt:ft?new Date:void 0}:Ct))})}else{const Ar={...Zt,status:"pending",comments:[]};upsertTask(Ar).then(ft=>{A(mt=>[{...Zt,id:ft,storeId:Zt.storeId,status:"pending",comments:[],createdAt:new Date},...mt])})}te(null)},ir=rt=>{te(rt),q(!0)},At=rt=>{const nt=R.find(mt=>mt.id===rt),Zt=(nt?!!I.find(mt=>mt.key===nt.status)?.isFinal:!1)?"pending":"completed",ft=!!I.find(mt=>mt.key===Zt)?.isFinal;updateTaskStatus(rt,Zt,ft).then(()=>{A(mt=>mt.map(Ct=>Ct.id===rt?{...Ct,status:Zt,completedAt:ft?new Date:void 0}:Ct))})},It=rt=>{gt(rt),st(!0)},Je=()=>{ct&&(deleteTask(ct).then(()=>{A(rt=>rt.filter(nt=>nt.id!==ct))}),gt(null),st(!1))},ut=reactExports.useMemo(()=>{let rt=R;if(Le!=="all"&&(rt=rt.filter(nt=>nt.storeId===Le)),Xe!=="calendar"&&xe!=="all"&&(rt=rt.filter(nt=>nt.status===xe)),ye!=="all"&&(rt=rt.filter(nt=>nt.priority===ye)),Ge.trim()){const nt=Ge.trim().toLowerCase();rt=rt.filter(kt=>kt.title.toLowerCase().includes(nt)||kt.description?.toLowerCase().includes(nt)||kt.assignedToName?.toLowerCase().includes(nt))}if(Xe!=="calendar"){const nt=kt=>kt==="high"?3:kt==="medium"?2:kt==="low"?1:0;rt.sort((kt,Zt)=>{const Ar=I.find(xr=>xr.key===kt.status)?.isFinal,ft=I.find(xr=>xr.key===Zt.status)?.isFinal;if(Ar&&!ft)return 1;if(!Ar&&ft)return-1;const mt=nt(kt.priority),Ct=nt(Zt.priority);return mt!==Ct?Ct-mt:new Date(kt.dueDate).getTime()-new Date(Zt.dueDate).getTime()})}return rt},[R,xe,ye,Ge,Le,Xe,I]),et=R.filter(rt=>!I.find(nt=>nt.key===rt.status)?.isFinal&&(Le==="all"||rt.storeId===Le)).length,lt=reactExports.useMemo(()=>[{key:"all",label:"Todos os Status"},...I.map(rt=>({key:rt.key,label:rt.label}))],[I]);return jsxRuntimeExports.jsxs("div",{className:"flex-1 flex overflow-hidden bg-gray-50",children:[jsxRuntimeExports.jsx("main",{className:"flex-1 overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Gerenciador de Tarefas",jsxRuntimeExports.jsxs("span",{className:"ml-3 text-base font-medium text-gray-500",children:["(",et," ativas)"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3",children:[jsxRuntimeExports.jsxs(Button,{variant:"secondary",onClick:()=>J(!0),className:"bg-gray-200 text-gray-800 hover:bg-gray-300",children:[jsxRuntimeExports.jsx("i",{className:"ri-settings-3-line mr-2"}),"Configuraes"]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>{te(null),q(!0)},children:[jsxRuntimeExports.jsx("i",{className:"ri-add-line mr-2"}),"Nova Tarefa"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsx(Input,{type:"text",value:Ge,onChange:rt=>$e(rt.target.value),placeholder:"Buscar por ttulo, descrio ou responsvel...",label:"Buscar Tarefa:"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loja:"}),jsxRuntimeExports.jsxs("select",{value:Le,onChange:rt=>qe(rt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"Todas as Lojas"}),T.map(rt=>jsxRuntimeExports.jsx("option",{value:rt.id,children:rt.name},rt.id))]})]}),Xe!=="calendar"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status:"}),jsxRuntimeExports.jsx("select",{value:xe,onChange:rt=>fe(rt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm",children:lt.map(rt=>jsxRuntimeExports.jsx("option",{value:rt.key,children:rt.label},rt.key))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prioridade:"}),jsxRuntimeExports.jsxs("select",{value:ye,onChange:rt=>Be(rt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"Todas"}),jsxRuntimeExports.jsx("option",{value:"high",children:"Alta"}),jsxRuntimeExports.jsx("option",{value:"medium",children:"Mdia"}),jsxRuntimeExports.jsx("option",{value:"low",children:"Baixa"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 flex justify-end",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 bg-gray-200 p-1 rounded-lg",children:[jsxRuntimeExports.jsxs(Button,{size:"sm",variant:Xe==="quadros"?"primary":"secondary",onClick:()=>He("quadros"),className:"!rounded-md",children:[jsxRuntimeExports.jsx("i",{className:"ri-layout-grid-line mr-2"}),"Quadros"]}),jsxRuntimeExports.jsxs(Button,{size:"sm",variant:Xe==="list"?"primary":"secondary",onClick:()=>He("list"),className:"!rounded-md",children:[jsxRuntimeExports.jsx("i",{className:"ri-list-check-2-line mr-2"}),"Lista"]}),jsxRuntimeExports.jsxs(Button,{size:"sm",variant:Xe==="calendar"?"primary":"secondary",onClick:()=>He("calendar"),className:"!rounded-md",children:[jsxRuntimeExports.jsx("i",{className:"ri-calendar-line mr-2"}),"Calendrio"]})]})})]}),ut.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border border-gray-200",children:[jsxRuntimeExports.jsx("i",{className:"ri-inbox-line text-5xl text-gray-400 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-700",children:"Nenhuma tarefa encontrada com os filtros atuais."})]}),Xe==="quadros"&&ut.length>0&&jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ut.map(rt=>jsxRuntimeExports.jsx(TaskCard,{task:rt,onToggleComplete:At,onEdit:ir,onDelete:It,onUpdateStatus:Ot},rt.id))}),Xe==="list"&&ut.length>0&&jsxRuntimeExports.jsx(TaskList,{tasks:ut,onToggleComplete:At,onEdit:ir,onDelete:It,onUpdateStatus:Ot}),Xe==="calendar"&&jsxRuntimeExports.jsx(TaskCalendar,{tasks:R.filter(rt=>Le==="all"||rt.storeId===Le),onEdit:ir})]})}),jsxRuntimeExports.jsx(TaskFormModal,{isOpen:U,onClose:()=>q(!1),onSave:Tt,editingTask:ee}),jsxRuntimeExports.jsx(TaskStatusConfigModal,{isOpen:K,onClose:()=>J(!1),statuses:I,onSaveStatuses:Nt}),jsxRuntimeExports.jsx(ConfirmationModal,{isOpen:Qe,onClose:()=>st(!1),onConfirm:Je,title:"Excluir Tarefa",message:"Tem certeza que deseja excluir esta tarefa? Esta ao  irreversvel.",variant:"danger",confirmText:"Excluir"})]})}const FREQUENCY_OPTIONS=[{value:"daily",label:"Dirio"},{value:"weekly",label:"Semanal"},{value:"monthly",label:"Mensal"},{value:"on_demand",label:"Sob Demanda"}];function ChecklistFormModal({isOpen:b,onClose:R,onSave:A,editingChecklist:T}){const[I,B]=reactExports.useState(T?.name||""),[U,q]=reactExports.useState(T?.description||""),[K,J]=reactExports.useState(T?.frequency||"daily"),[ee,te]=reactExports.useState(T?.storeId||mockStores[0]?.id||""),[xe,fe]=reactExports.useState(T?.assignedRoleIds||[]),[ye,Be]=reactExports.useState(T?.items||[]),[Le,qe]=reactExports.useState(null),[Ge,$e]=reactExports.useState(""),[Xe,He]=reactExports.useState(!1),[Qe]=useLocalStorage("mockStores",mockStores),[st]=useLocalStorage("mockRoles",mockRoles);reactExports.useEffect(()=>{T?(B(T.name),q(T.description||""),J(T.frequency),te(T.storeId),fe(T.assignedRoleIds),Be(T.items)):(B(""),q(""),J("daily"),te(mockStores[0]?.id||""),fe([]),Be([]))},[T,b]);const ct=()=>{if(!Ge.trim())return;const It={id:Date.now().toString(),description:Ge.trim(),requiredPhoto:Xe};Be([...ye,It]),$e(""),He(!1)},gt=It=>{Be(ye.filter(Je=>Je.id!==It)),Le===It&&qe(null)},Nt=It=>{qe(It)},Ot=()=>{qe(null)},Tt=(It,Je,ut)=>{Be(et=>et.map(lt=>lt.id===It?{...lt,[Je]:ut}:lt))},ir=()=>{if(!I.trim()||!ee||ye.length===0){alert("Nome, Loja e pelo menos um item so obrigatrios.");return}const It=ye.map(ut=>({id:ut.id,description:ut.description,requiredPhoto:ut.requiredPhoto})),Je={id:T?.id||Date.now().toString(),name:I.trim(),description:U.trim()||void 0,items:It,storeId:ee,active:T?.active??!0,frequency:K,assignedRoleIds:xe};A(Je),R()},At=It=>{fe(Je=>Je.includes(It)?Je.filter(ut=>ut!==It):[...Je,It])};return jsxRuntimeExports.jsxs(Modal,{isOpen:b,onClose:R,title:T?"Editar Checklist":"Novo Checklist Mestre",size:"xl",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Detalhes Bsicos"}),jsxRuntimeExports.jsx(Input,{label:"Nome do Checklist *",value:I,onChange:It=>B(It.target.value),placeholder:"Ex: Abertura de Caixa, Limpeza Diria",autoFocus:!0}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrio (opcional):"}),jsxRuntimeExports.jsx("textarea",{value:U,onChange:It=>q(It.target.value),placeholder:"Objetivo e contexto do checklist...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3,maxLength:500})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loja Aplicvel *"}),jsxRuntimeExports.jsxs("select",{value:ee,onChange:It=>te(It.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Selecione a Loja"}),Qe.map(It=>jsxRuntimeExports.jsx("option",{value:It.id,children:It.name},It.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequncia"}),jsxRuntimeExports.jsx("select",{value:K,onChange:It=>J(It.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:FREQUENCY_OPTIONS.map(It=>jsxRuntimeExports.jsx("option",{value:It.value,children:It.label},It.value))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Perfis Autorizados a Executar:"}),jsxRuntimeExports.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto p-2 border rounded-lg bg-white",children:st.map(It=>jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>At(It.id),className:`w-full text-left p-2 rounded-lg border transition-colors flex items-center justify-between ${xe.includes(It.id)?"bg-blue-100 border-blue-300 text-blue-800":"bg-gray-50 border-gray-200 hover:bg-gray-100 text-gray-700"}`,children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:It.name}),xe.includes(It.id)&&jsxRuntimeExports.jsx("i",{className:"ri-check-line text-blue-600"})]},It.id))}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Selecione os perfis que podem iniciar este checklist."})]})]}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:["Itens do Checklist (",ye.length,")"]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border border-blue-200 rounded-lg bg-blue-50 space-y-3",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-blue-800",children:"Adicionar Item"}),jsxRuntimeExports.jsx(Input,{value:Ge,onChange:It=>$e(It.target.value),placeholder:"Descrio da tarefa (Ex: Verificar temperatura do freezer)",onKeyPress:It=>It.key==="Enter"&&ct()}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Xe,onChange:It=>He(It.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:"Requer Foto"})]}),jsxRuntimeExports.jsxs(Button,{onClick:ct,disabled:!Ge.trim(),children:[jsxRuntimeExports.jsx("i",{className:"ri-add-line mr-2"}),"Adicionar"]})]})]}),jsxRuntimeExports.jsx("div",{className:"max-h-64 overflow-y-auto border border-gray-200 rounded-lg divide-y divide-gray-100 bg-white",children:ye.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8 text-gray-500",children:[jsxRuntimeExports.jsx("i",{className:"ri-list-check-line text-3xl mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"Nenhum item adicionado ainda."})]}):ye.map((It,Je)=>jsxRuntimeExports.jsx("div",{className:"p-3 hover:bg-gray-50",children:Le===It.id?jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-start",children:[jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsx(Input,{label:`Item ${Je+1} - Descrio`,value:It.description,onChange:ut=>Tt(It.id,"description",ut.target.value)})}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-3",children:jsxRuntimeExports.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:It.requiredPhoto,onChange:ut=>Tt(It.id,"requiredPhoto",ut.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:"Requer Foto"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-3 flex justify-end space-x-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"secondary",size:"sm",onClick:Ot,children:[jsxRuntimeExports.jsx("i",{className:"ri-close-line mr-1"}),"Cancelar"]}),jsxRuntimeExports.jsxs(Button,{variant:"primary",size:"sm",onClick:()=>qe(null),children:[jsxRuntimeExports.jsx("i",{className:"ri-check-line mr-1"}),"Salvar"]}),jsxRuntimeExports.jsxs(Button,{variant:"danger",size:"sm",onClick:()=>gt(It.id),children:[jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-line"}),"Remover"]})]})]}):jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0 pr-4",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-gray-900 block truncate",children:[Je+1,". ",It.description]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 mt-1 space-x-3",children:It.requiredPhoto&&jsxRuntimeExports.jsxs("span",{className:"text-blue-600",children:[jsxRuntimeExports.jsx("i",{className:"ri-camera-line mr-1"}),"Requer Foto"]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",size:"sm",onClick:()=>Nt(It.id),children:jsxRuntimeExports.jsx("i",{className:"ri-edit-line"})}),jsxRuntimeExports.jsx(Button,{variant:"danger",size:"sm",onClick:()=>gt(It.id),children:jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-line"})})]})]})},It.id))})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t mt-6",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:R,children:"Cancelar"}),jsxRuntimeExports.jsxs(Button,{onClick:ir,disabled:!I.trim()||ye.length===0,children:[jsxRuntimeExports.jsx("i",{className:"ri-save-line mr-2"}),"Salvar Checklist"]})]})]})}function ChecklistExecutionModal({isOpen:b,onClose:R,checklistMaster:A,onComplete:T}){const{user:I}=useAuth(),[B,U]=reactExports.useState([]),[q,K]=reactExports.useState(!1);reactExports.useEffect(()=>{if(b&&A.items.length>0){const ye=A.items.map(Be=>({...Be,isCompleted:!1,completedByUserId:I?.id||"",completedByUserName:I?.name||"Desconhecido"}));U(ye)}},[b,A,I]);const J=(ye,Be)=>{U(Le=>Le.map(qe=>qe.id===ye?Be?qe.requiredPhoto&&!qe.photoUrl?(alert("Este item requer uma foto para ser concludo."),qe):{...qe,isCompleted:!0,completedAt:new Date}:{...qe,isCompleted:!1,completedAt:void 0,photoUrl:void 0,notes:void 0}:qe))},ee=(ye,Be,Le)=>{U(qe=>qe.map(Ge=>Ge.id===ye?{...Ge,[Be]:Le}:Ge))},te=()=>{if(B.length===0)return 0;const ye=B.filter(Be=>Be.isCompleted).length;return Math.round(ye/B.length*100)},xe=async()=>{const ye=B.filter(qe=>!qe.isCompleted);if(ye.length>0){alert(`Ainda faltam ${ye.length} itens para completar o checklist.`);return}K(!0),await new Promise(qe=>setTimeout(qe,1e3));const Be=te(),Le={id:Date.now().toString(),masterId:A.id,name:A.name,storeId:A.storeId,startedAt:new Date,startedByUserId:I?.id||"unknown",startedByUserName:I?.name||"Desconhecido",items:B,status:"COMPLETED",completedAt:new Date,completionPercentage:Be};T(Le),K(!1),R()},fe=te();return jsxRuntimeExports.jsx(Modal,{isOpen:b,onClose:R,title:`Executar Checklist: ${A.name}`,size:"xl",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-blue-800",children:"Progresso:"}),jsxRuntimeExports.jsxs("span",{className:"text-xl font-bold text-blue-900",children:[fe,"%"]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:jsxRuntimeExports.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-500",style:{width:`${fe}%`}})})]}),jsxRuntimeExports.jsx("div",{className:"max-h-96 overflow-y-auto border border-gray-200 rounded-lg divide-y divide-gray-100 bg-white",children:B.map((ye,Be)=>jsxRuntimeExports.jsxs("div",{className:`p-4 transition-colors ${ye.isCompleted?"bg-green-50":"hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0 pr-4",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:ye.isCompleted,onChange:Le=>J(ye.id,Le.target.checked),className:"w-5 h-5 rounded border-gray-300 text-green-600 focus:ring-green-500 flex-shrink-0 cursor-pointer",disabled:q}),jsxRuntimeExports.jsxs("span",{className:`text-base font-medium text-gray-900 ${ye.isCompleted?"line-through text-gray-500":""}`,children:[Be+1,". ",ye.description]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-600 flex-shrink-0",children:ye.requiredPhoto&&jsxRuntimeExports.jsx("span",{className:"text-blue-600",title:"Requer Foto",children:jsxRuntimeExports.jsx("i",{className:"ri-camera-line"})})})]}),(ye.isCompleted||ye.requiredPhoto)&&jsxRuntimeExports.jsxs("div",{className:"mt-3 ml-8 p-3 border border-gray-200 rounded-lg bg-white space-y-3",children:[ye.requiredPhoto&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Evidncia Fotogrfica:"}),ye.photoUrl?jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("img",{src:ye.photoUrl,alt:"Evidncia",className:"w-16 h-16 object-cover rounded-lg border"}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"secondary",onClick:()=>ee(ye.id,"photoUrl",void 0),disabled:ye.isCompleted&&!q,children:"Remover Foto"})]}):jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"info",onClick:()=>{const Le=`https://picsum.photos/seed/${ye.id}/100/100`;ee(ye.id,"photoUrl",Le)},disabled:ye.isCompleted&&!q,children:[jsxRuntimeExports.jsx("i",{className:"ri-camera-line mr-2"}),"Tirar/Anexar Foto"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notas (opcional):"}),jsxRuntimeExports.jsx("textarea",{value:ye.notes||"",onChange:Le=>ee(ye.id,"notes",Le.target.value),placeholder:"Observaes sobre a execuo...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none text-sm",rows:2,disabled:ye.isCompleted&&!q})]})]})]},ye.id))}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:R,disabled:q,children:"Cancelar"}),jsxRuntimeExports.jsx(Button,{onClick:xe,disabled:fe!==100||q,variant:"success",children:q?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("i",{className:"ri-loader-4-line mr-2 animate-spin"}),"Finalizando..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("i",{className:"ri-check-line mr-2"}),"Finalizar Checklist"]})})]})]})})}const WEEK_DAYS=[{value:0,label:"Dom"},{value:1,label:"Seg"},{value:2,label:"Ter"},{value:3,label:"Qua"},{value:4,label:"Qui"},{value:5,label:"Sex"},{value:6,label:"Sb"}];function ChecklistScheduleModal({isOpen:b,onClose:R,master:A,onSave:T,editingSchedule:I}){const[B]=useLocalStorage("mockStores",mockStores),[U]=useLocalStorage("mockRoles",mockRoles),[q,K]=reactExports.useState(""),[J,ee]=reactExports.useState([]),[te,xe]=reactExports.useState(A?.frequency||"daily"),[fe,ye]=reactExports.useState("08:00"),[Be,Le]=reactExports.useState([1]),[qe,Ge]=reactExports.useState(1),[$e,Xe]=reactExports.useState(!0);reactExports.useEffect(()=>{b&&(I?(K(I.storeId),ee(I.roleIds),xe(I.frequency),ye(I.timeOfDay),Le(I.daysOfWeek||[]),Ge(I.dayOfMonth||1),Xe(I.enabled)):(K(A?.storeId||B[0]?.id||""),ee(A?.assignedRoleIds||[]),xe(A?.frequency||"daily"),ye("08:00"),Le([1]),Ge(1),Xe(!0)))},[b,A,I,B]);const He=st=>{Le(ct=>ct.includes(st)?ct.filter(gt=>gt!==st):[...ct,st])},Qe=()=>{if(!A)return;if(!fe||!q||J.length===0){alert("Loja, horrio e pelo menos um perfil so obrigatrios.");return}const st={id:I?.id||Date.now().toString(),masterId:A.id,storeId:q,roleIds:J,frequency:te,timeOfDay:fe,daysOfWeek:te==="weekly"?Be.sort():void 0,dayOfMonth:te==="monthly"?qe:void 0,enabled:$e,lastTriggeredAt:I?.lastTriggeredAt};T(st),R()};return jsxRuntimeExports.jsx(Modal,{isOpen:b,onClose:R,title:`Agendar Checklist${A?`: ${A.name}`:""}`,size:"lg",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loja"}),jsxRuntimeExports.jsx("select",{className:"w-full border rounded p-2",value:q,onChange:st=>K(st.target.value),children:B.map(st=>jsxRuntimeExports.jsx("option",{value:st.id,children:st.name},st.id))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Horrio"}),jsxRuntimeExports.jsx(Input,{type:"time",value:fe,onChange:st=>ye(st.target.value)})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Periodicidade"}),jsxRuntimeExports.jsxs("select",{className:"w-full border rounded p-2",value:te,onChange:st=>xe(st.target.value),children:[jsxRuntimeExports.jsx("option",{value:"daily",children:"Dirio"}),jsxRuntimeExports.jsx("option",{value:"weekly",children:"Semanal"}),jsxRuntimeExports.jsx("option",{value:"monthly",children:"Mensal"})]})]}),jsxRuntimeExports.jsxs("div",{children:[te==="weekly"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dias da Semana"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:WEEK_DAYS.map(st=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>He(st.value),className:`px-3 py-1 rounded border ${Be.includes(st.value)?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300"}`,children:st.label},st.value))})]}),te==="monthly"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dia do Ms"}),jsxRuntimeExports.jsx(Input,{type:"number",min:1,max:31,value:qe,onChange:st=>Ge(Math.max(1,Math.min(31,parseInt(st.target.value||"1"))))})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perfis Notificados/Responsveis"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:U.map(st=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ee(ct=>ct.includes(st.id)?ct.filter(gt=>gt!==st.id):[...ct,st.id]),className:`px-3 py-1 rounded border text-sm ${J.includes(st.id)?"bg-blue-100 text-blue-800 border-blue-300":"bg-white text-gray-700 border-gray-300"}`,children:st.name},st.id))})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{id:"enabled",type:"checkbox",checked:$e,onChange:st=>Xe(st.target.checked),className:"mr-2"}),jsxRuntimeExports.jsx("label",{htmlFor:"enabled",className:"text-sm text-gray-700",children:"Agendamento Ativo"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:R,children:"Cancelar"}),jsxRuntimeExports.jsxs(Button,{onClick:Qe,children:[jsxRuntimeExports.jsx("i",{className:"ri-save-line mr-2"}),"Salvar Agendamento"]})]})]})})}const initialChecklists=[{id:"cl_1",name:"Abertura de Loja",description:"Tarefas essenciais para iniciar o dia de operao.",items:[{id:"i1",description:"Ligar equipamentos (chapa, fritadeira, cafeteira)",requiredPhoto:!1},{id:"i2",description:"Conferir troco inicial no caixa",requiredPhoto:!0,requiredValue:150},{id:"i3",description:"Limpar e abastecer rea de bebidas",requiredPhoto:!1}],storeId:mockStores[0].id,active:!0,frequency:"daily",assignedRoleIds:[mockRoles.find(b=>b.name==="Operador de Caixa")?.id||""]},{id:"cl_2",name:"Fechamento de Cozinha",description:"Procedimentos de limpeza e segurana ao final do turno.",items:[{id:"i4",description:"Limpeza profunda da chapa",requiredPhoto:!0},{id:"i5",description:"Desligar e limpar fritadeiras",requiredPhoto:!0},{id:"i6",description:"Conferir estoque de carnes",requiredPhoto:!1}],storeId:mockStores[0].id,active:!0,frequency:"daily",assignedRoleIds:[mockRoles.find(b=>b.name==="Cozinheiro")?.id||""]}];function ChecklistPage(){const{user:b,store:R,role:A}=useAuth(),[T,I]=reactExports.useState(initialChecklists),[B,U]=reactExports.useState([]),[q,K]=reactExports.useState([]),[J]=useLocalStorage("mockStores",mockStores),[ee]=useLocalStorage("mockRoles",mockRoles),[te,xe]=reactExports.useState(!1),[fe,ye]=reactExports.useState(!1),[Be,Le]=reactExports.useState(null),[qe,Ge]=reactExports.useState(null),[$e,Xe]=reactExports.useState(!1),[He,Qe]=reactExports.useState(null),[st,ct]=reactExports.useState(null),[gt,Nt]=reactExports.useState(!1),[Ot,Tt]=reactExports.useState(!1),[ir,At]=reactExports.useState(null),[It,Je]=reactExports.useState(null),ut=J.reduce((it,jt)=>({...it,[jt.id]:jt.name}),{}),et=ee.reduce((it,jt)=>({...it,[jt.id]:jt.name}),{}),lt=async(it,jt=[])=>{const Er=await window?.api?.db?.query?.(it,jt);if(Er&&typeof Er=="object"&&Er.error)throw new Error(String(Er.error));return Array.isArray(Er)?Er:Er?.rows||[]},rt=async()=>{try{const it=await lt("SELECT id, name, description, store_id, active, frequency, assigned_role_ids FROM checklist_masters");if(!it||it.length===0)for(const mr of initialChecklists){await lt("INSERT INTO checklist_masters (id, name, description, store_id, active, frequency, assigned_role_ids) VALUES (?, ?, ?, ?, ?, ?, ?)",[mr.id,mr.name,mr.description||null,mr.storeId,mr.active?1:0,mr.frequency,JSON.stringify(mr.assignedRoleIds||[])]);for(const zr of mr.items)await lt("INSERT INTO checklist_items (id, master_id, description, required_photo) VALUES (?, ?, ?, ?)",[zr.id,mr.id,zr.description,zr.requiredPhoto?1:0])}const jt=await lt("SELECT id, name, description, store_id, active, frequency, assigned_role_ids FROM checklist_masters"),or=await lt("SELECT id, master_id, description, required_photo FROM checklist_items"),Er=jt.map(mr=>({id:String(mr.id),name:String(mr.name),description:mr.description?String(mr.description):void 0,storeId:String(mr.store_id),active:Number(mr.active)===1,frequency:String(mr.frequency),assignedRoleIds:mr.assigned_role_ids?JSON.parse(String(mr.assigned_role_ids)):[],items:or.filter(zr=>String(zr.master_id)===String(mr.id)).map(zr=>({id:String(zr.id),description:String(zr.description),requiredPhoto:Number(zr.required_photo)===1}))}));I(Er)}catch(it){alert("Erro ao carregar/salvar modelos de checklist: "+it.message)}},nt=async()=>{try{const jt=(await lt("SELECT id, master_id, store_id, role_ids, frequency, time_of_day, days_of_week, day_of_month, enabled, last_triggered_at FROM checklist_schedules")).map(or=>({id:String(or.id),masterId:String(or.master_id),storeId:String(or.store_id),roleIds:or.role_ids?JSON.parse(String(or.role_ids)):[],frequency:String(or.frequency),timeOfDay:String(or.time_of_day),daysOfWeek:or.days_of_week?JSON.parse(String(or.days_of_week)):void 0,dayOfMonth:or.day_of_month!=null?Number(or.day_of_month):void 0,enabled:Number(or.enabled)===1,lastTriggeredAt:or.last_triggered_at?new Date(String(or.last_triggered_at)):void 0}));K(jt)}catch(it){alert("Erro ao carregar agendamentos: "+it.message)}},kt=async()=>{try{const it=await lt("SELECT id, master_id, name, store_id, started_at, started_by_user_id, started_by_user_name, status, completed_at, completion_percentage FROM checklist_executions"),jt=await lt("SELECT id, execution_id, item_id, description, required_photo, is_completed, completed_at, completed_by_user_id, completed_by_user_name, photo_url, notes FROM checklist_execution_items"),or=it.map(Er=>({id:String(Er.id),masterId:String(Er.master_id),name:String(Er.name),storeId:String(Er.store_id),startedAt:new Date(String(Er.started_at)),startedByUserId:String(Er.started_by_user_id||""),startedByUserName:String(Er.started_by_user_name||""),items:jt.filter(mr=>String(mr.execution_id)===String(Er.id)).map(mr=>({id:String(mr.item_id),description:String(mr.description),requiredPhoto:Number(mr.required_photo)===1,isCompleted:Number(mr.is_completed)===1,completedAt:mr.completed_at?new Date(String(mr.completed_at)):void 0,completedByUserId:String(mr.completed_by_user_id||""),completedByUserName:String(mr.completed_by_user_name||""),photoUrl:mr.photo_url?String(mr.photo_url):void 0,notes:mr.notes?String(mr.notes):void 0})),status:String(Er.status),completedAt:Er.completed_at?new Date(String(Er.completed_at)):void 0,completionPercentage:Number(Er.completion_percentage)||0}));U(or)}catch(it){alert("Erro ao carregar histrico de execues: "+it.message)}},Zt=async()=>{await rt(),await nt(),await kt()};reactExports.useEffect(()=>{Zt()},[]);const Ar=async it=>{(await lt("SELECT id FROM checklist_masters WHERE id = ?",[it.id])).length>0?(await lt("UPDATE checklist_masters SET name = ?, description = ?, store_id = ?, active = ?, frequency = ?, assigned_role_ids = ? WHERE id = ?",[it.name,it.description||null,it.storeId,it.active?1:0,it.frequency,JSON.stringify(it.assignedRoleIds||[]),it.id]),await lt("DELETE FROM checklist_items WHERE master_id = ?",[it.id])):await lt("INSERT INTO checklist_masters (id, name, description, store_id, active, frequency, assigned_role_ids) VALUES (?, ?, ?, ?, ?, ?, ?)",[it.id,it.name,it.description||null,it.storeId,it.active?1:0,it.frequency,JSON.stringify(it.assignedRoleIds||[])]);for(const or of it.items)await lt("INSERT INTO checklist_items (id, master_id, description, required_photo) VALUES (?, ?, ?, ?)",[or.id,it.id,or.description,or.requiredPhoto?1:0]);Le(null),xe(!1),await rt()},ft=it=>{if(!A||!it.assignedRoleIds.includes(A.id)){alert("Voc no tem permisso para iniciar este checklist.");return}Ge(it),ye(!0)},mt=async it=>{await lt("INSERT INTO checklist_executions (id, master_id, name, store_id, started_at, started_by_user_id, started_by_user_name, status, completed_at, completion_percentage) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",[it.id,it.masterId,it.name,it.storeId,it.startedAt.toISOString(),it.startedByUserId,it.startedByUserName,it.status,it.completedAt?it.completedAt.toISOString():null,it.completionPercentage]);for(const jt of it.items)await lt("INSERT INTO checklist_execution_items (id, execution_id, item_id, description, required_photo, is_completed, completed_at, completed_by_user_id, completed_by_user_name, photo_url, notes) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",[`${it.id}:${jt.id}`,it.id,jt.id,jt.description,jt.requiredPhoto?1:0,jt.isCompleted?1:0,jt.completedAt?jt.completedAt.toISOString():null,jt.completedByUserId,jt.completedByUserName,jt.photoUrl||null,jt.notes||null]);Ge(null),ye(!1),await kt(),alert(`Checklist "${it.name}" finalizado com sucesso!`)},Ct=it=>{At(it),Tt(!0)},xr=async it=>{const jt=(await lt("SELECT id FROM checklist_schedules WHERE id = ?",[it.id])).length>0,or=JSON.stringify(it.roleIds||[]),Er=it.frequency==="weekly"?JSON.stringify(it.daysOfWeek||[]):null;jt?await lt("UPDATE checklist_schedules SET master_id = ?, store_id = ?, role_ids = ?, frequency = ?, time_of_day = ?, days_of_week = ?, day_of_month = ?, enabled = ? WHERE id = ?",[it.masterId,it.storeId,or,it.frequency,it.timeOfDay,Er,it.frequency==="monthly"&&it.dayOfMonth||null,it.enabled?1:0,it.id]):await lt("INSERT INTO checklist_schedules (id, master_id, store_id, role_ids, frequency, time_of_day, days_of_week, day_of_month, enabled, last_triggered_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",[it.id,it.masterId,it.storeId,or,it.frequency,it.timeOfDay,Er,it.frequency==="monthly"&&it.dayOfMonth||null,it.enabled?1:0,it.lastTriggeredAt?it.lastTriggeredAt.toISOString():null]),ct(null),Xe(!1),await nt()},er=async()=>{ir&&(await lt("DELETE FROM checklist_items WHERE master_id = ?",[ir]),await lt("DELETE FROM checklist_masters WHERE id = ?",[ir]),At(null),Tt(!1),await rt())},Ft=async it=>{const jt=T.find(or=>or.id===it)?.active?1:0;await lt("UPDATE checklist_masters SET active = ? WHERE id = ?",[jt?0:1,it]),await rt()},Xt=T.filter(it=>it.active&&it.storeId===R?.id&&A&&it.assignedRoleIds.includes(A.id));return reactExports.useEffect(()=>{const it=setInterval(()=>{const jt=new Date,[or,Er]=[jt.getHours(),jt.getMinutes()],mr=jt.getDay(),zr=jt.getDate();K(nn=>nn.map(Sr=>{const Zr=T.find(pn=>pn.id===Sr.masterId);if(!Sr.enabled||!Zr||!Zr.active||Sr.storeId!==R?.id||A&&!Sr.roleIds.includes(A.id))return Sr;const[un,Xr]=Sr.timeOfDay.split(":").map(pn=>parseInt(pn,10));if(!(or===un&&Er===Xr))return Sr;let vn=!1;if(Sr.frequency==="daily"?vn=!0:Sr.frequency==="weekly"?vn=(Sr.daysOfWeek||[]).includes(mr):Sr.frequency==="monthly"&&(vn=Sr.dayOfMonth===zr),!vn)return Sr;if(Sr.lastTriggeredAt){const pn=new Date(Sr.lastTriggeredAt);if(pn.getFullYear()===jt.getFullYear()&&pn.getMonth()===jt.getMonth()&&pn.getDate()===jt.getDate()&&pn.getHours()===or&&pn.getMinutes()===Er)return Sr}showReadyAlert(` Hora de executar: ${Zr.name}`),"Notification"in window&&(Notification.permission==="granted"?new Notification(`Checklist: ${Zr.name}`,{body:"Est na hora de executar o checklist."}):Notification.permission==="default"&&Notification.requestPermission().then(pn=>{pn==="granted"&&new Notification(`Checklist: ${Zr.name}`,{body:"Est na hora de executar o checklist."})}));const rn={...Sr,lastTriggeredAt:jt};return lt("UPDATE checklist_schedules SET last_triggered_at = ? WHERE id = ?",[jt.toISOString(),Sr.id]),rn}))},6e4);return()=>clearInterval(it)},[q,T,R?.id,A?.id,K]),jsxRuntimeExports.jsxs("div",{className:"min-h-full bg-gray-50",children:[jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Check-list Operacional"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3",children:[jsxRuntimeExports.jsxs(Button,{variant:"secondary",onClick:()=>Nt(!0),children:[jsxRuntimeExports.jsx("i",{className:"ri-history-line mr-2"}),"Histrico de Execues"]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>{Le(null),xe(!0)},children:[jsxRuntimeExports.jsx("i",{className:"ri-add-line mr-2"}),"Novo Checklist Mestre"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-play-circle-line mr-2 text-green-600"}),"Checklists Disponveis para ",ut[R?.id||""]]}),Xt.length===0?jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 text-center text-gray-500",children:[jsxRuntimeExports.jsx("i",{className:"ri-inbox-line text-4xl mb-2"}),jsxRuntimeExports.jsx("p",{children:"Nenhum checklist ativo para sua loja e perfil."})]}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Xt.map(it=>jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md border border-green-200",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:it.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-3",children:it.description||"Sem descrio."}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 space-y-1 mb-4",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("i",{className:"ri-repeat-line mr-1"})," Frequncia: ",it.frequency.toUpperCase()]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("i",{className:"ri-list-check-line mr-1"})," ",it.items.length," itens"]})]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>ft(it),className:"w-full",variant:"success",children:[jsxRuntimeExports.jsx("i",{className:"ri-play-line mr-2"}),"Iniciar Checklist"]})]},it.id))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-settings-3-line mr-2 text-amber-600"}),"Gerenciar Modelos Mestres (",T.length,")"]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loja"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Frequncia"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Itens"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Perfis"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-48",children:"Aes"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(it=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50",children:[jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-900",children:it.name}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 truncate max-w-xs",children:it.description})]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-600",children:ut[it.storeId]||"Loja Desconhecida"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-600 capitalize",children:it.frequency}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-600",children:it.items.length}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 text-sm text-gray-600",children:jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1 max-w-40",children:it.assignedRoleIds.map(jt=>jsxRuntimeExports.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:et[jt]||"N/A"},jt))})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",checked:it.active,onChange:()=>Ft(it.id)}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-amber-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900",children:it.active?"Ativo":"Inativo"})]})}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm space-x-2",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",size:"sm",onClick:()=>{Le(it),xe(!0)},children:jsxRuntimeExports.jsx("i",{className:"ri-edit-line"})}),jsxRuntimeExports.jsx(Button,{variant:"danger",size:"sm",onClick:()=>Ct(it.id),children:jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-line"})}),jsxRuntimeExports.jsx(Button,{variant:"primary",size:"sm",onClick:()=>{Qe(it),ct(null),Xe(!0)},children:jsxRuntimeExports.jsx("i",{className:"ri-calendar-check-line"})})]})]},it.id))})]})})}),jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"ri-notification-3-line mr-2 text-indigo-600"}),"Agendamentos Ativos (",q.filter(it=>it.enabled).length,")"]}),q.length===0?jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Nenhum agendamento configurado."}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto bg-white border border-gray-200 rounded",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Checklist"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Loja"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Periodicidade"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Horrio"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Perfis"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Aes"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:q.map(it=>{const jt=T.find(or=>or.id===it.masterId);return jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:jt?.name||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ut[it.storeId]||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 text-sm text-gray-600 capitalize",children:it.frequency}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:it.timeOfDay}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 text-xs text-gray-600",children:jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1 max-w-48",children:it.roleIds.map(or=>jsxRuntimeExports.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:et[or]||"N/A"},or))})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2",children:jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:it.enabled,onChange:async or=>{await lt("UPDATE checklist_schedules SET enabled = ? WHERE id = ?",[or.target.checked?1:0,it.id]),await nt()}}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-sm",children:it.enabled?"Ativo":"Inativo"})]})}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-2 space-x-2",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",size:"sm",onClick:()=>{Qe(jt||null),ct(it),Xe(!0)},children:jsxRuntimeExports.jsx("i",{className:"ri-edit-line"})}),jsxRuntimeExports.jsx(Button,{variant:"danger",size:"sm",onClick:async()=>{await lt("DELETE FROM checklist_schedules WHERE id = ?",[it.id]),await nt()},children:jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-line"})})]})]},it.id)})})]})})]})]})]}),jsxRuntimeExports.jsx(ChecklistFormModal,{isOpen:te,onClose:()=>xe(!1),onSave:Ar,editingChecklist:Be}),qe&&jsxRuntimeExports.jsx(ChecklistExecutionModal,{isOpen:fe,onClose:()=>ye(!1),checklistMaster:qe,onComplete:mt}),jsxRuntimeExports.jsx(ChecklistScheduleModal,{isOpen:$e,onClose:()=>Xe(!1),master:He,onSave:xr,editingSchedule:st}),jsxRuntimeExports.jsxs(Modal,{isOpen:gt,onClose:()=>Nt(!1),title:"Histrico de Execues",size:"xl",children:[jsxRuntimeExports.jsx("div",{className:"space-y-4",children:B.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8 text-gray-500",children:[jsxRuntimeExports.jsx("i",{className:"ri-file-list-line text-4xl mb-2"}),jsxRuntimeExports.jsx("p",{children:"Nenhuma execuo de checklist registrada."})]}):jsxRuntimeExports.jsxs("div",{className:"max-h-96 overflow-y-auto",children:[jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Checklist"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loja"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Iniciado por"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progresso"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Detalhes"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:B.sort((it,jt)=>new Date(jt.startedAt).getTime()-new Date(it.startedAt).getTime()).map(it=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap font-medium text-gray-900",children:it.name}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-600",children:ut[it.storeId]||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-600",children:it.startedByUserName}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(it.startedAt).toLocaleString("pt-BR")}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:[jsxRuntimeExports.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2.5",children:jsxRuntimeExports.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${it.completionPercentage}%`}})}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500 mt-1 block",children:[it.completionPercentage,"%"]})]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${it.status==="COMPLETED"?"bg-green-100 text-green-800":it.status==="IN_PROGRESS"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:it.status})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs(Button,{variant:"secondary",size:"sm",onClick:()=>Je(jt=>jt===it.id?null:it.id),children:[jsxRuntimeExports.jsx("i",{className:`ri-arrow-${It===it.id?"up":"down"}-s-line mr-1`}),"Itens"]})})]},it.id))})]}),It&&jsxRuntimeExports.jsx("div",{className:"mt-4 border-t pt-4",children:(()=>{const it=B.find(jt=>jt.id===It);return it?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"text-md font-semibold text-gray-900 mb-2",children:['Itens de "',it.name,'"']}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Item"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Concludo"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Por"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Quando"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:it.items.map(jt=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:jt.description}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 text-sm",children:jsxRuntimeExports.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${jt.isCompleted?"bg-green-100 text-green-800":"bg-gray-100 text-gray-700"}`,children:jt.isCompleted?"Sim":"No"})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:jt.completedByUserName}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:jt.completedAt?new Date(jt.completedAt).toLocaleString("pt-BR"):"-"})]},jt.id))})]})})]}):null})()})]})}),jsxRuntimeExports.jsx("div",{className:"flex justify-end pt-4 border-t",children:jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>Nt(!1),children:"Fechar"})})]}),jsxRuntimeExports.jsx(ConfirmationModal,{isOpen:Ot,onClose:()=>Tt(!1),onConfirm:er,title:"Excluir Checklist Mestre",message:"Tem certeza que deseja excluir este modelo de checklist? Todas as execues passadas sero mantidas, mas o modelo ser removido.",variant:"danger",confirmText:"Excluir Modelo"})]})}function ProcedimentosPage(){const b=window.api,[R,A]=reactExports.useState([]),[T,I]=reactExports.useState(""),[B,U]=reactExports.useState(!1),[q,K]=reactExports.useState(!1),[J,ee]=reactExports.useState(null),[te,xe]=reactExports.useState({title:"",category:"",content:""}),[fe,ye]=reactExports.useState(null),[Be,Le]=reactExports.useState(!1),qe=reactExports.useMemo(()=>{const ct=T.trim().toLowerCase();return ct?R.filter(gt=>(gt.title+" "+(gt.category||"")+" "+(gt.content||"")).toLowerCase().includes(ct)):R},[R,T]);async function Ge(){U(!0);try{await b?.db?.query(`CREATE TABLE IF NOT EXISTS procedures (
          id TEXT PRIMARY KEY,
          unit_id TEXT,
          title TEXT NOT NULL,
          category TEXT,
          content TEXT,
          is_active INTEGER NOT NULL DEFAULT 1,
          updated_at TEXT NOT NULL DEFAULT CURRENT_TIMESTAMP,
          version INTEGER NOT NULL DEFAULT 1,
          pending_sync INTEGER NOT NULL DEFAULT 0
        );`,[]);const ct=await b?.db?.query("SELECT id, unit_id, title, category, content, is_active, updated_at FROM procedures ORDER BY title ASC",[]);ct?.rows&&A(ct.rows)}finally{U(!1)}}reactExports.useEffect(()=>{Ge()},[]);function $e(){xe({title:"",category:"",content:""}),ee(null),ye(null),K(!0)}async function Xe(){ye(null);const ct=te.title.trim();if(!ct){ye("Ttulo  obrigatrio");return}Le(!0);try{if(J){const gt=await b?.db?.query("UPDATE procedures SET title = ?, category = ?, content = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?",[ct,te.category.trim()||null,te.content.trim()||null,J]);if(gt?.error){ye(String(gt.error));return}}else{const gt=crypto?.randomUUID?crypto.randomUUID():`${Date.now()}-${Math.random().toString(16).slice(2)}`,Nt=await b?.db?.query("INSERT INTO procedures (id, unit_id, title, category, content, is_active) VALUES (?, ?, ?, ?, ?, 1)",[gt,null,ct,te.category.trim()||null,te.content.trim()||null]);if(Nt?.error){ye(String(Nt.error));return}}K(!1),await Ge()}finally{Le(!1)}}async function He(ct,gt){await b?.db?.query("UPDATE procedures SET is_active = ? WHERE id = ?",[gt?1:0,ct]),await Ge()}function Qe(ct){ee(ct.id),xe({title:ct.title,category:ct.category||"",content:ct.content||""}),ye(null),K(!0)}async function st(ct){window.confirm("Excluir este procedimento?")&&(await b?.db?.query("DELETE FROM procedures WHERE id = ?",[ct]),await Ge())}return jsxRuntimeExports.jsx("div",{className:"min-h-full bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Procedimentos (POP)"}),jsxRuntimeExports.jsxs("button",{onClick:$e,className:"px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600",children:[jsxRuntimeExports.jsx("i",{className:"ri-add-line mr-2"}),"Novo"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md border border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),jsxRuntimeExports.jsx("input",{value:T,onChange:ct=>I(ct.target.value),placeholder:"Buscar por ttulo, categoria ou contedo",className:"w-full pl-10 pr-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),B&&jsxRuntimeExports.jsx("span",{className:"text-gray-500 text-sm",children:"Carregando..."})]}),jsxRuntimeExports.jsx("div",{className:"overflow-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ttulo"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Atualizado"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),jsxRuntimeExports.jsxs("tbody",{className:"divide-y divide-gray-200",children:[qe.map(ct=>jsxRuntimeExports.jsxs("tr",{className:ct.is_active?"":"opacity-50",children:[jsxRuntimeExports.jsx("td",{className:"px-3 py-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("i",{className:"ri-book-open-line text-amber-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-900",children:ct.title}),ct.content&&jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 line-clamp-1",children:ct.content})]})]})}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 text-gray-700",children:ct.category||"-"}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 text-gray-700",children:new Date(ct.updated_at).toLocaleString()}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 text-right",children:jsxRuntimeExports.jsxs("div",{className:"inline-flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>He(ct.id,!ct.is_active),className:`px-3 py-1 rounded-lg border ${ct.is_active?"border-green-500 text-green-600":"border-gray-400 text-gray-600"}`,title:ct.is_active?"Desativar":"Ativar",children:ct.is_active?"Ativo":"Inativo"}),jsxRuntimeExports.jsx("button",{onClick:()=>Qe(ct),className:"px-3 py-1 rounded-lg border border-amber-500 text-amber-600",title:"Editar",children:jsxRuntimeExports.jsx("i",{className:"ri-edit-line"})}),jsxRuntimeExports.jsx("button",{onClick:()=>st(ct.id),className:"px-3 py-1 rounded-lg border border-red-500 text-red-600",title:"Excluir",children:jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-line"})})]})})]},ct.id)),qe.length===0&&jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{className:"px-3 py-6 text-center text-gray-500",colSpan:4,children:"Nenhum procedimento encontrado"})})]})]})})]}),jsxRuntimeExports.jsx(Modal,{isOpen:q,onClose:()=>K(!1),title:J?"Editar Procedimento":"Novo Procedimento",size:"lg",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[fe&&jsxRuntimeExports.jsx("div",{className:"px-3 py-2 rounded bg-red-50 text-red-700 border border-red-200",children:fe}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo"}),jsxRuntimeExports.jsx("input",{value:te.title,onChange:ct=>xe({...te,title:ct.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),jsxRuntimeExports.jsx("input",{value:te.category,onChange:ct=>xe({...te,category:ct.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contedo"}),jsxRuntimeExports.jsx("textarea",{value:te.content,onChange:ct=>xe({...te,content:ct.target.value}),rows:6,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>K(!1),className:"px-4 py-2 border rounded-lg text-gray-700",children:"Cancelar"}),jsxRuntimeExports.jsx("button",{disabled:Be,onClick:Xe,className:`px-4 py-2 rounded-lg text-white ${Be?"bg-amber-300":"bg-amber-500 hover:bg-amber-600"}`,children:Be?"Salvando...":"Salvar"})]})]})})]})})}const dayNames=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],monthNames=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],fmtKey=b=>b.toISOString().split("T")[0];function MonthlySchedule({storeId:b,scheduleTypes:R,onGenerate:A,onValidate:T}){const I=new Date,[B,U]=reactExports.useState(I.getFullYear()),[q,K]=reactExports.useState(I.getMonth()),J=`${B}-${String(q+1).padStart(2,"0")}`,ee=`rh_monthly_schedule:${b}:${J}`,[te,xe]=useLocalStorage(ee,[]),[fe]=useLocalStorage(`rh_people:${b}`,[]),[ye]=useLocalStorage("master_store_operating_days",{}),Be=reactExports.useMemo(()=>ye[b]??[0,1,2,3,4,5,6],[ye,b]),[Le,qe]=reactExports.useState(null),[Ge,$e]=reactExports.useState(""),[Xe,He]=reactExports.useState(""),{calendarDays:Qe}=reactExports.useMemo(()=>{const Je=new Date(B,q,1),ut=new Date(B,q+1,0),et=Je.getDay(),lt=ut.getDate(),rt=[];for(let nt=0;nt<et;nt++)rt.push(null);for(let nt=1;nt<=lt;nt++)rt.push(new Date(B,q,nt));return{calendarDays:rt}},[B,q]),st=reactExports.useMemo(()=>{const Je={};for(const ut of te)Je[ut.date]=ut;return Je},[te]),ct=Je=>{qe(Je),$e(""),He("")},gt=()=>{if(!Le)return;const Je=Xe.trim();if(!Je)return;const ut={id:crypto.randomUUID(),person:Ge.trim()||void 0,type:Je},et=[...te],lt=et.findIndex(rt=>rt.date===Le);lt>=0?et[lt]={...et[lt],assignments:[...et[lt].assignments,ut]}:et.push({date:Le,assignments:[ut]}),xe(et),$e(""),He("")},Nt=(Je,ut)=>{const et=te.map(lt=>lt.date===Je?{...lt,assignments:lt.assignments.filter(rt=>rt.id!==ut)}:lt);xe(et)},Ot=Je=>{const ut=te.filter(et=>et.date!==Je);xe(ut),qe(null)},Tt=Je=>{const ut=new Date(B,q,1);ut.setMonth(ut.getMonth()+Je),U(ut.getFullYear()),K(ut.getMonth())},ir=()=>{const Je=new Date(B,q+1,0),ut=rt=>{const nt=rt.match(/^(\d+)x(\d+)$/);return nt?{work:parseInt(nt[1],10),rest:parseInt(nt[2],10)}:{work:1,rest:0}},et={};for(const rt of fe){const nt=ut(rt.scheduleType);let kt=0;for(let Zt=1;Zt<=Je.getDate();Zt++){const Ar=fmtKey(new Date(B,q,Zt)),ft=new Date(B,q,Zt).getDay();if(!Be.includes(ft))continue;if(kt<nt.work){const Ct=et[Ar]||[];Ct.push({id:crypto.randomUUID(),person:rt.name,type:rt.scheduleType}),et[Ar]=Ct}kt++,kt>=nt.work+nt.rest&&(kt=0)}}const lt=Object.keys(et).sort().map(rt=>({date:rt,assignments:et[rt]}));xe(lt),A?.(J,lt)},At=()=>{const Je=[];for(const ut of te){const et=new Set;for(const lt of ut.assignments){if(lt.person){const rt=`${ut.date}:${lt.person}`;et.has(rt)&&Je.push({date:ut.date,message:`Pessoa duplicada no dia: ${lt.person}`}),et.add(rt)}lt.type||Je.push({date:ut.date,message:"Tipo de escala vazio"})}}T?.(J,te),Je.length===0?alert("Escala vlida para o ms selecionado."):alert(`Foram encontradas ${Je.length} inconsistncias. Verifique os dias sinalizados.`)},It=fmtKey(new Date);return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"secondary",size:"sm",onClick:()=>Tt(-1),children:[jsxRuntimeExports.jsx("i",{className:"ri-arrow-left-s-line mr-1"})," Ms anterior"]}),jsxRuntimeExports.jsxs(Button,{variant:"secondary",size:"sm",onClick:()=>Tt(1),children:["Prximo ms ",jsxRuntimeExports.jsx("i",{className:"ri-arrow-right-s-line ml-1"})]})]}),jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold",children:[monthNames[q]," de ",B]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:ir,children:[jsxRuntimeExports.jsx("i",{className:"ri-time-line mr-2"})," Gerar escala"]}),jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"secondary",onClick:At,children:[jsxRuntimeExports.jsx("i",{className:"ri-shield-check-line mr-2"})," Validar escala"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[dayNames.map(Je=>jsxRuntimeExports.jsx("div",{className:"text-center text-sm font-medium text-gray-600 py-2 border-b border-gray-200",children:Je},Je)),Qe.map((Je,ut)=>{const et=Je?fmtKey(Je):null,lt=et?st[et]:void 0,rt=et===It;return jsxRuntimeExports.jsxs("div",{className:`h-36 p-1 border border-gray-200 relative overflow-y-auto text-xs ${Je?"bg-white":"bg-gray-50"} ${rt?"ring-2 ring-blue-500 border-blue-500":""}`,children:[Je&&jsxRuntimeExports.jsxs("div",{className:`font-bold mb-1 flex justify-between items-center ${rt?"text-blue-700":"text-gray-900"}`,children:[jsxRuntimeExports.jsx("span",{children:Je.getDate()}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx("button",{className:"text-gray-400 hover:text-gray-600",title:"Adicionar",onClick:()=>ct(et),children:jsxRuntimeExports.jsx("i",{className:"ri-add-line"})}),lt&&lt.assignments.length>0&&jsxRuntimeExports.jsx("button",{className:"text-gray-400 hover:text-red-600",title:"Limpar dia",onClick:()=>Ot(et),children:jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-line"})})]})]}),lt&&lt.assignments.map(nt=>jsxRuntimeExports.jsxs("div",{className:"mt-1 px-1 py-0.5 rounded bg-amber-500 text-white flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"truncate",title:`${nt.person||"Sem pessoa"}  ${nt.type}`,children:[nt.person||"Sem pessoa","  ",nt.type]}),jsxRuntimeExports.jsx("button",{className:"ml-2 text-white/80 hover:text-white",onClick:()=>Nt(lt.date,nt.id),title:"Remover",children:jsxRuntimeExports.jsx("i",{className:"ri-close-line"})})]},nt.id))]},ut)})]}),jsxRuntimeExports.jsx(Modal,{isOpen:!!Le,onClose:()=>qe(null),title:"Adicionar na data",size:"md",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Input,{label:"Pessoa",value:Ge,onChange:Je=>$e(Je.target.value),placeholder:"Nome (opcional)"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de escala"}),jsxRuntimeExports.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",value:Xe,onChange:Je=>He(Je.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Selecione..."}),R.map(Je=>jsxRuntimeExports.jsx("option",{value:Je,children:Je},Je))]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>qe(null),children:"Cancelar"}),jsxRuntimeExports.jsx(Button,{onClick:gt,disabled:!Xe,children:"Adicionar"})]})]})})]})}function PeopleManager({storeId:b,scheduleTypes:R}){const A=`rh_people:${b}`,[T,I]=useLocalStorage(A,[]),[B,U]=reactExports.useState(""),[q,K]=reactExports.useState(""),J=reactExports.useMemo(()=>B.trim().length>1&&q.trim().length>0,[B,q]),ee=()=>{if(!J)return;const xe={id:crypto.randomUUID(),name:B.trim(),scheduleType:q};I([...T,xe]),U(""),K("")},te=xe=>{I(T.filter(fe=>fe.id!==xe))};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[jsxRuntimeExports.jsx(Input,{label:"Nome",value:B,onChange:xe=>U(xe.target.value),placeholder:"Ex.: Joo Silva"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de escala"}),jsxRuntimeExports.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",value:q,onChange:xe=>K(xe.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Selecione..."}),R.map(xe=>jsxRuntimeExports.jsx("option",{value:xe,children:xe},xe))]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-end",children:jsxRuntimeExports.jsxs(Button,{onClick:ee,disabled:!J,className:"w-full",children:[jsxRuntimeExports.jsx("i",{className:"ri-user-add-line mr-2"}),"Adicionar pessoa"]})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[jsxRuntimeExports.jsx("div",{className:"px-4 py-2 border-b border-gray-200 text-sm font-semibold",children:"Pessoas cadastradas"}),T.length===0?jsxRuntimeExports.jsx("div",{className:"px-4 py-3 text-sm text-gray-600",children:"Nenhuma pessoa cadastrada para esta loja."}):jsxRuntimeExports.jsx("ul",{className:"divide-y divide-gray-200",children:T.map(xe=>jsxRuntimeExports.jsxs("li",{className:"px-4 py-2 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:xe.name}),jsxRuntimeExports.jsxs("span",{className:"ml-2 text-gray-600",children:[" ",xe.scheduleType]})]}),jsxRuntimeExports.jsxs(Button,{variant:"secondary",size:"sm",onClick:()=>te(xe.id),children:[jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-6-line mr-2"}),"Remover"]})]},xe.id))})]})]})}function RHPage(){const{user:b,role:R,store:A}=useAuth(),[T,I]=useLocalStorage("rh_active_tab","escala"),[B,U]=useLocalStorage("rh_search",""),[q,K]=useLocalStorage("rh_selected_store_id",A?.id||mockStores[0].id),[J]=useLocalStorage("rh_schedule_types",[]),ee=reactExports.useMemo(()=>mockStores.find(te=>te.id===q)||mockStores[0],[q]);return jsxRuntimeExports.jsxs("div",{className:"min-h-full bg-gray-50",children:[jsxRuntimeExports.jsx("header",{className:"bg-white border-b border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("i",{className:"ri-group-line text-2xl text-amber-600"}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"RH"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs(Link,{to:"/dashboard",className:"text-sm text-gray-600 hover:text-gray-900",children:[jsxRuntimeExports.jsx("i",{className:"ri-arrow-left-line mr-1"}),"Voltar ao Dashboard"]}),jsxRuntimeExports.jsxs(Link,{to:"/rh/config",className:"text-sm text-amber-700 hover:text-amber-900",children:[jsxRuntimeExports.jsx("i",{className:"ri-settings-3-line mr-1"}),"Configuraes"]}),jsxRuntimeExports.jsx("select",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm",value:q,onChange:te=>K(te.target.value),children:mockStores.map(te=>jsxRuntimeExports.jsx("option",{value:te.id,children:te.name},te.id))})]})]})}),jsxRuntimeExports.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 mb-6",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-700",children:["Usurio: ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:b?.name}),"  Perfil: ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:R?.name}),"  Loja: ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:ee.name})]})}),T==="escala"?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-lg border border-gray-200 mb-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Gerencie escalas e banco de dados de pessoas por loja."}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-2",children:jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"secondary",children:[jsxRuntimeExports.jsx("i",{className:"ri-shield-check-line mr-2"}),"Validar escala"]})})]}):jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-lg border border-gray-200 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx(Input,{value:B,onChange:te=>U(te.target.value),placeholder:"Filtrar por nome ou documento"}),jsxRuntimeExports.jsxs(Button,{variant:"secondary",children:[jsxRuntimeExports.jsx("i",{className:"ri-filter-3-line mr-2"}),"Aplicar filtros"]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-2",children:jsxRuntimeExports.jsxs(Button,{children:[jsxRuntimeExports.jsx("i",{className:"ri-user-add-line mr-2"}),"Nova pessoa"]})})]}),jsxRuntimeExports.jsx("div",{className:"border-b border-gray-200 mb-4",children:jsxRuntimeExports.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[jsxRuntimeExports.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 text-sm font-medium ${T==="escala"?"border-amber-600 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>I("escala"),children:"Escala"}),jsxRuntimeExports.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 text-sm font-medium ${T==="pessoas"?"border-amber-600 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>I("pessoas"),children:"Pessoas"})]})}),T==="escala"&&jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Escala Mensal"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Defina tipos de escala nas Configuraes de RH e gere a escala mensal desta loja."}),jsxRuntimeExports.jsx(MonthlySchedule,{storeId:q,scheduleTypes:J}),jsxRuntimeExports.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:["Dica: defina os tipos de escala em ",jsxRuntimeExports.jsx(Link,{to:"/rh/config",className:"text-amber-700 hover:text-amber-900",children:"Configuraes de RH"}),"."]})]}),T==="pessoas"&&jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Pessoas"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Cadastre pessoas e relacione o tipo de escala por loja."}),jsxRuntimeExports.jsx(PeopleManager,{storeId:q,scheduleTypes:J})]})]})]})}function RHConfigPage(){const{user:b,role:R,store:A}=useAuth(),[T,I]=useLocalStorage("rh_config_selected_store_id",A?.id||mockStores[0].id),[B,U]=useLocalStorage("rh_schedule_types",[]),[q,K]=reactExports.useState(""),J=reactExports.useMemo(()=>mockStores.find(xe=>xe.id===T)||mockStores[0],[T]),ee=()=>{const xe=q.trim();xe&&(B.includes(xe)||(U([...B,xe]),K("")))},te=xe=>{U(B.filter(fe=>fe!==xe))};return jsxRuntimeExports.jsxs("div",{className:"min-h-full bg-gray-50",children:[jsxRuntimeExports.jsx("header",{className:"bg-white border-b border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("i",{className:"ri-settings-3-line text-2xl text-amber-600"}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuraes de RH"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs(Link,{to:"/rh",className:"text-sm text-gray-600 hover:text-gray-900",children:[jsxRuntimeExports.jsx("i",{className:"ri-arrow-left-line mr-1"}),"Voltar ao RH"]}),jsxRuntimeExports.jsx("select",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm",value:T,onChange:xe=>I(xe.target.value),children:mockStores.map(xe=>jsxRuntimeExports.jsx("option",{value:xe.id,children:xe.name},xe.id))})]})]})}),jsxRuntimeExports.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 mb-6",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-700",children:["Usurio: ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:b?.name}),"  Perfil: ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:R?.name}),"  Loja: ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:J.name})]})}),jsxRuntimeExports.jsxs("section",{className:"bg-white p-6 rounded-lg border border-gray-200 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Campos obrigatrios"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Definies de campos obrigatrios para cadastro de pessoas e vnculos."}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsxs(Button,{variant:"secondary",children:[jsxRuntimeExports.jsx("i",{className:"ri-save-3-line mr-2"}),"Salvar alteraes"]})})]}),jsxRuntimeExports.jsxs("section",{className:"bg-white p-6 rounded-lg border border-gray-200 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tipos de escala"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Defina os tipos de escala disponveis (ex.: 6x1, 5x2). Esses tipos sero usados na gerao da escala mensal."}),B.length===0&&jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Nenhum tipo de escala definido. Adicione abaixo."}),B.length>0&&jsxRuntimeExports.jsx("ul",{className:"mt-2 mb-4 divide-y divide-gray-200 border border-gray-200 rounded",children:B.map(xe=>jsxRuntimeExports.jsxs("li",{className:"flex items-center justify-between px-3 py-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm",children:xe}),jsxRuntimeExports.jsxs(Button,{variant:"secondary",onClick:()=>te(xe),children:[jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-6-line mr-2"}),"Remover"]})]},xe))}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("input",{value:q,onChange:xe=>K(xe.target.value),placeholder:"Novo tipo de escala (ex.: 6x1)",className:"border border-gray-300 rounded-md px-3 py-2 text-sm w-64"}),jsxRuntimeExports.jsxs(Button,{onClick:ee,children:[jsxRuntimeExports.jsx("i",{className:"ri-add-line mr-2"}),"Adicionar tipo"]})]})]}),jsxRuntimeExports.jsxs("section",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Validaes"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Configurao de regras de validao para documentos e vnculos."}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsxs(Button,{variant:"secondary",children:[jsxRuntimeExports.jsx("i",{className:"ri-save-3-line mr-2"}),"Salvar alteraes"]})})]})]})]})}function ClientePdvPage(){const b=useNavigate(),[R,A]=reactExports.useState(!0),[T,I]=reactExports.useState({kitchenId:null,kitchenName:"Todas",operatorName:""}),[B,U]=reactExports.useState([]),[q,K]=reactExports.useState([]),[J,ee]=reactExports.useState([]),[te,xe]=reactExports.useState([]),[fe,ye]=reactExports.useState(null),[Be,Le]=reactExports.useState(""),[qe,Ge]=reactExports.useState(!1),[$e,Xe]=reactExports.useState(!1),[He,Qe]=reactExports.useState(!1),[st,ct]=reactExports.useState(""),gt=reactExports.useCallback(async()=>{const et=window?.api;if(et?.db?.query)try{const lt=await et.db.query("SELECT * FROM kitchens WHERE is_active = 1 ORDER BY name");lt?.rows&&ee(lt.rows);const rt=await et.db.query("SELECT * FROM categories ORDER BY name");rt?.rows&&K(rt.rows);const nt=await et.db.query(`
        SELECT p.*, c.name as category_name 
        FROM products p 
        LEFT JOIN categories c ON c.id = p.category_id 
        WHERE p.is_active = 1 
        ORDER BY p.name
      `);nt?.rows&&U(nt.rows.map(kt=>({id:kt.id,name:kt.name,price:(kt.price_cents||0)/100,category_id:kt.category_id,category_name:kt.category_name})))}catch(lt){console.error("Erro ao carregar dados:",lt)}},[]);reactExports.useEffect(()=>{gt()},[gt]),reactExports.useEffect(()=>{const et=window?.api;if(!et?.db?.onChange)return;const lt=et.db.onChange(rt=>{const nt=String(rt?.table||"").toLowerCase();["products","categories","kitchens"].includes(nt)&&gt()});return()=>lt?.()},[gt]),reactExports.useEffect(()=>{const et=lt=>{lt.ctrlKey&&lt.shiftKey&&lt.key.toLowerCase()==="l"&&(lt.preventDefault(),A(!0))};return window.addEventListener("keydown",et),()=>window.removeEventListener("keydown",et)},[]);const Nt=reactExports.useMemo(()=>{let et=B;if(T.kitchenId){const lt=q.filter(rt=>rt.kitchen_id===T.kitchenId).map(rt=>rt.id);et=et.filter(rt=>lt.includes(rt.category_id))}if(fe&&(et=et.filter(lt=>lt.category_id===fe)),Be){const lt=Be.toLowerCase();et=et.filter(rt=>rt.name.toLowerCase().includes(lt)||rt.category_name?.toLowerCase().includes(lt))}return et},[B,q,T.kitchenId,fe,Be]),Ot=reactExports.useMemo(()=>T.kitchenId?q.filter(et=>et.kitchen_id===T.kitchenId||!et.kitchen_id):q,[q,T.kitchenId]),Tt=reactExports.useCallback(et=>{xe(lt=>lt.find(nt=>nt.product.id===et.id)?lt.map(nt=>nt.product.id===et.id?{...nt,quantity:nt.quantity+1}:nt):[...lt,{product:et,quantity:1}])},[]),ir=reactExports.useCallback(et=>{xe(lt=>lt.filter(rt=>rt.product.id!==et))},[]),At=reactExports.useCallback((et,lt)=>{xe(rt=>rt.map(nt=>{if(nt.product.id===et){const kt=Math.max(0,nt.quantity+lt);return kt===0?null:{...nt,quantity:kt}}return nt}).filter(Boolean))},[]),It=reactExports.useMemo(()=>te.reduce((et,lt)=>et+lt.product.price*lt.quantity,0),[te]),Je=reactExports.useMemo(()=>te.reduce((et,lt)=>et+lt.quantity,0),[te]),ut=async()=>{const et=window?.api;if(et?.db?.query)try{const lt=`${Date.now()}-${Math.random().toString(36).slice(2)}`,rt=new Date().toISOString(),nt=String(Math.floor(1e3+Math.random()*9e3)),kt=Math.random().toString(36).slice(2,6).toUpperCase(),Zt=Math.round(It*100);await et.db.query(`INSERT INTO orders (id, status, total_cents, opened_at, notes, updated_at, version, pending_sync) 
         VALUES (?, ?, ?, ?, ?, ?, ?, ?)`,[lt,"open",Zt,rt,`CLIENTE PDV - ${T.operatorName||"Auto"}`,rt,1,1]);for(const ft of te){const mt=`${Date.now()}-${Math.random().toString(36).slice(2)}`;await et.db.query(`INSERT INTO order_items (id, order_id, product_id, qty, unit_price_cents, updated_at, version, pending_sync)
           VALUES (?, ?, ?, ?, ?, ?, ?, ?)`,[mt,lt,ft.product.id,ft.quantity,Math.round(ft.product.price*100),rt,1,1])}await et.db.query("INSERT INTO orders_details (order_id, pin, password, updated_at) VALUES (?, ?, ?, ?)",[lt,nt,kt,rt]);const Ar=`${Date.now()}-${Math.random().toString(36).slice(2)}`;await et.db.query("INSERT INTO kds_tickets (id, order_id, status, updated_at, version, pending_sync) VALUES (?, ?, ?, ?, ?, ?)",[Ar,lt,"queued",rt,1,1]),await et.db.query("INSERT INTO kds_phase_times (order_id, new_start, updated_at) VALUES (?, ?, ?)",[lt,rt,rt]),ct(nt),Qe(!0),xe([]),Xe(!1),setTimeout(()=>{Qe(!1),ct("")},8e3)}catch(lt){console.error("Erro ao criar pedido:",lt)}};return R?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md bg-white rounded-3xl shadow-2xl p-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-rose-500 to-pink-600 flex items-center justify-center",children:jsxRuntimeExports.jsx("i",{className:"ri-user-heart-fill text-4xl text-white"})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"PDV Cliente"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 mt-1",children:"Configure antes de iniciar"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cozinha (Filtro de Produtos)"}),jsxRuntimeExports.jsxs("select",{value:T.kitchenId||"",onChange:et=>I(lt=>({...lt,kitchenId:et.target.value||null,kitchenName:et.target.value?J.find(rt=>rt.id===et.target.value)?.name||"Selecionada":"Todas"})),className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-rose-500 focus:border-rose-500 text-lg",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Todas as Cozinhas"}),J.map(et=>jsxRuntimeExports.jsx("option",{value:et.id,children:et.name},et.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Operador (opcional)"}),jsxRuntimeExports.jsx("input",{type:"text",value:T.operatorName,onChange:et=>I(lt=>({...lt,operatorName:et.target.value})),placeholder:"Ex: Terminal 1",className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-rose-500 focus:border-rose-500 text-lg"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>A(!1),className:"w-full py-4 px-6 bg-gradient-to-r from-rose-500 to-pink-600 text-white text-xl font-bold rounded-xl hover:from-rose-600 hover:to-pink-700 transition-all shadow-lg hover:shadow-xl",children:[jsxRuntimeExports.jsx("i",{className:"ri-play-fill mr-2"}),"Iniciar Terminal"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>b("/module-selector"),className:"w-full py-3 px-6 text-gray-600 hover:text-gray-900 transition-colors",children:[jsxRuntimeExports.jsx("i",{className:"ri-arrow-left-line mr-2"}),"Voltar ao Menu"]})]}),jsxRuntimeExports.jsxs("p",{className:"text-center text-xs text-gray-400 mt-6",children:["Pressione ",jsxRuntimeExports.jsx("kbd",{className:"px-2 py-1 bg-gray-100 rounded",children:"Ctrl+Shift+L"})," para voltar a esta tela"]})]})}):He?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-500 to-green-600 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-white",children:[jsxRuntimeExports.jsx("div",{className:"w-32 h-32 mx-auto mb-6 rounded-full bg-white/20 flex items-center justify-center animate-bounce",children:jsxRuntimeExports.jsx("i",{className:"ri-check-line text-7xl"})}),jsxRuntimeExports.jsx("h1",{className:"text-4xl sm:text-5xl font-black mb-4",children:"Pedido Enviado!"}),jsxRuntimeExports.jsx("p",{className:"text-xl sm:text-2xl mb-8 opacity-90",children:"Seu pedido foi recebido com sucesso"}),jsxRuntimeExports.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-3xl p-8 max-w-sm mx-auto",children:[jsxRuntimeExports.jsx("p",{className:"text-lg mb-2",children:"Sua senha :"}),jsxRuntimeExports.jsx("p",{className:"text-6xl sm:text-7xl font-black tracking-wider",children:st}),jsxRuntimeExports.jsx("p",{className:"text-sm mt-4 opacity-75",children:"Aguarde ser chamado"})]}),jsxRuntimeExports.jsx("p",{className:"mt-8 text-sm opacity-60",children:"Voltando ao menu em alguns segundos..."})]})}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"bg-white shadow-sm px-4 py-3 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-rose-500 to-pink-600 flex items-center justify-center",children:jsxRuntimeExports.jsx("i",{className:"ri-store-3-fill text-white text-xl"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"font-bold text-gray-900",children:"Faa seu Pedido"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:T.kitchenName})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 max-w-md mx-4",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",value:Be,onChange:et=>Le(et.target.value),placeholder:"Buscar produto...",className:"w-full pl-10 pr-4 py-2 rounded-full border border-gray-300 focus:ring-2 focus:ring-rose-500 focus:border-rose-500"})]})}),jsxRuntimeExports.jsxs("button",{onClick:()=>Ge(!0),className:"relative flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-rose-500 to-pink-600 text-white rounded-full font-medium hover:from-rose-600 hover:to-pink-700 transition-all",children:[jsxRuntimeExports.jsx("i",{className:"ri-shopping-cart-2-fill text-xl"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Carrinho"}),Je>0&&jsxRuntimeExports.jsx("span",{className:"absolute -top-2 -right-2 w-6 h-6 bg-amber-500 rounded-full text-xs font-bold flex items-center justify-center",children:Je})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-white border-b px-4 py-3 overflow-x-auto",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ye(null),className:`px-4 py-2 rounded-full whitespace-nowrap transition-all ${fe?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-rose-500 text-white"}`,children:"Todos"}),Ot.map(et=>jsxRuntimeExports.jsx("button",{onClick:()=>ye(et.id),className:`px-4 py-2 rounded-full whitespace-nowrap transition-all ${fe===et.id?"bg-rose-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:et.name},et.id))]})}),jsxRuntimeExports.jsxs("main",{className:"flex-1 p-4 overflow-y-auto",children:[jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:Nt.map(et=>jsxRuntimeExports.jsxs("button",{onClick:()=>Tt(et),className:"bg-white rounded-2xl shadow-sm hover:shadow-lg transition-all p-4 text-left group",children:[jsxRuntimeExports.jsx("div",{className:"aspect-square rounded-xl bg-gradient-to-br from-gray-100 to-gray-200 mb-3 flex items-center justify-center group-hover:from-rose-50 group-hover:to-pink-50 transition-colors",children:jsxRuntimeExports.jsx("i",{className:"ri-restaurant-fill text-4xl text-gray-400 group-hover:text-rose-400 transition-colors"})}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-900 text-sm line-clamp-2 mb-1",children:et.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mb-2",children:et.category_name}),jsxRuntimeExports.jsxs("p",{className:"text-lg font-bold text-rose-600",children:["R$ ",et.price.toFixed(2)]}),jsxRuntimeExports.jsx("div",{className:"mt-2 py-2 px-3 bg-rose-500 text-white text-xs font-medium rounded-lg text-center opacity-0 group-hover:opacity-100 transition-opacity",children:"+ Adicionar"})]},et.id))}),Nt.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("i",{className:"ri-search-eye-line text-6xl text-gray-300 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Nenhum produto encontrado"})]})]}),te.length>0&&!qe&&jsxRuntimeExports.jsxs("div",{className:"bg-white border-t px-4 py-3 flex items-center justify-between shadow-lg",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:[Je," itens"]}),jsxRuntimeExports.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["R$ ",It.toFixed(2)]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Ge(!0),className:"px-8 py-3 bg-gradient-to-r from-rose-500 to-pink-600 text-white font-bold rounded-xl hover:from-rose-600 hover:to-pink-700 transition-all",children:"Ver Carrinho"})]}),qe&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-t-3xl sm:rounded-3xl w-full max-w-lg max-h-[80vh] flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold",children:"Seu Carrinho"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ge(!1),className:"p-2 hover:bg-gray-100 rounded-full",children:jsxRuntimeExports.jsx("i",{className:"ri-close-line text-xl"})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:te.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx("i",{className:"ri-shopping-cart-2-line text-5xl text-gray-300 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Carrinho vazio"})]}):te.map(et=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 rounded-xl p-3",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 rounded-lg bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:jsxRuntimeExports.jsx("i",{className:"ri-restaurant-fill text-2xl text-gray-400"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:et.product.name}),jsxRuntimeExports.jsxs("p",{className:"text-rose-600 font-bold",children:["R$ ",et.product.price.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>At(et.product.id,-1),className:"w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center",children:jsxRuntimeExports.jsx("i",{className:"ri-subtract-line"})}),jsxRuntimeExports.jsx("span",{className:"w-8 text-center font-bold",children:et.quantity}),jsxRuntimeExports.jsx("button",{onClick:()=>At(et.product.id,1),className:"w-8 h-8 rounded-full bg-rose-500 hover:bg-rose-600 text-white flex items-center justify-center",children:jsxRuntimeExports.jsx("i",{className:"ri-add-line"})})]}),jsxRuntimeExports.jsx("button",{onClick:()=>ir(et.product.id),className:"p-2 text-gray-400 hover:text-red-500",children:jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-line"})})]},et.product.id))}),te.length>0&&jsxRuntimeExports.jsxs("div",{className:"border-t p-4 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Total"}),jsxRuntimeExports.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["R$ ",It.toFixed(2)]})]}),jsxRuntimeExports.jsxs("button",{onClick:ut,className:"w-full py-4 bg-gradient-to-r from-emerald-500 to-green-600 text-white text-lg font-bold rounded-xl hover:from-emerald-600 hover:to-green-700 transition-all",children:[jsxRuntimeExports.jsx("i",{className:"ri-check-line mr-2"}),"Finalizar Pedido"]})]})]})})]})}const adminModules=[{id:"relatorios",title:"Relatrios",description:"Relatrios de vendas, desempenho e indicadores",icon:"ri-bar-chart-box-fill",path:"/relatorios",color:"blue"},{id:"master-config",title:"Configurao Master",description:"Usurios, lojas, perfis, cozinhas e configuraes globais",icon:"ri-settings-4-fill",path:"/master-config",color:"purple",permission:"MASTER"},{id:"gerenciamento-caixa",title:"Gerenciamento de Caixa",description:"Histrico de sesses e movimentaes de caixa",icon:"ri-money-dollar-box-fill",path:"/gerenciamento-caixa",color:"green"},{id:"tarefas",title:"Tarefas",description:"Gerenciamento de tarefas operacionais",icon:"ri-task-fill",path:"/tarefas",color:"amber"},{id:"checklist",title:"Check-list",description:"Criao e execuo de listas de verificao",icon:"ri-checkbox-multiple-fill",path:"/checklist",color:"emerald"},{id:"procedimentos",title:"Procedimentos",description:"Registro e consulta de procedimentos internos (POP)",icon:"ri-file-list-3-fill",path:"/procedimentos",color:"cyan"},{id:"rh",title:"RH",description:"Escalas por loja e banco de dados de pessoas",icon:"ri-team-fill",path:"/rh",color:"rose"},{id:"estoque",title:"Estoque",description:"Fichas tcnicas, insumos e gerenciamento de estoque",icon:"ri-archive-drawer-fill",path:"/estoque/gerenciamento",color:"orange"},{id:"configuracoes",title:"Configuraes PDV",description:"Categorias, itens do cardpio e formas de pagamento",icon:"ri-store-2-fill",path:"/caixa/configuracoes",color:"slate"}];function AdmPage(){const b=useNavigate(),{hasPermission:R}=useAuth(),A=B=>{b(B.path)},T=B=>{const U={blue:{bg:"bg-blue-50",text:"text-blue-600",border:"border-blue-200",hover:"hover:border-blue-400 hover:bg-blue-100"},purple:{bg:"bg-purple-50",text:"text-purple-600",border:"border-purple-200",hover:"hover:border-purple-400 hover:bg-purple-100"},green:{bg:"bg-green-50",text:"text-green-600",border:"border-green-200",hover:"hover:border-green-400 hover:bg-green-100"},amber:{bg:"bg-amber-50",text:"text-amber-600",border:"border-amber-200",hover:"hover:border-amber-400 hover:bg-amber-100"},emerald:{bg:"bg-emerald-50",text:"text-emerald-600",border:"border-emerald-200",hover:"hover:border-emerald-400 hover:bg-emerald-100"},cyan:{bg:"bg-cyan-50",text:"text-cyan-600",border:"border-cyan-200",hover:"hover:border-cyan-400 hover:bg-cyan-100"},rose:{bg:"bg-rose-50",text:"text-rose-600",border:"border-rose-200",hover:"hover:border-rose-400 hover:bg-rose-100"},orange:{bg:"bg-orange-50",text:"text-orange-600",border:"border-orange-200",hover:"hover:border-orange-400 hover:bg-orange-100"},slate:{bg:"bg-slate-50",text:"text-slate-600",border:"border-slate-200",hover:"hover:border-slate-400 hover:bg-slate-100"}};return U[B]||U.slate},I=adminModules.filter(B=>B.permission?R(B.permission):!0);return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-violet-800 to-purple-900 flex flex-col",children:[jsxRuntimeExports.jsx("header",{className:"bg-white/10 backdrop-blur-sm border-b border-white/10 px-6 py-4",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>b("/module-selector"),className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",children:jsxRuntimeExports.jsx("i",{className:"ri-arrow-left-line text-xl text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:"Administrao"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-purple-200",children:"Mdulos administrativos do sistema"})]})]})})}),jsxRuntimeExports.jsx("main",{className:"flex-1 px-6 py-8 overflow-y-auto",children:jsxRuntimeExports.jsx("div",{className:"max-w-6xl mx-auto",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(B=>{const U=T(B.color);return jsxRuntimeExports.jsxs("button",{onClick:()=>A(B),className:`
                    group relative p-6 rounded-2xl border-2 text-left
                    bg-white ${U.border} ${U.hover}
                    transition-all duration-200 ease-out
                    hover:shadow-lg hover:-translate-y-1
                  `,children:[jsxRuntimeExports.jsx("div",{className:`w-14 h-14 rounded-xl ${U.bg} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:jsxRuntimeExports.jsx("i",{className:`${B.icon} text-2xl ${U.text}`})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:B.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:B.description}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex items-center text-gray-400 group-hover:text-gray-600 transition-colors",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Acessar"}),jsxRuntimeExports.jsx("i",{className:"ri-arrow-right-line ml-2 group-hover:translate-x-1 transition-transform"})]})]},B.id)})})})})]})}function Navigation(){const b=useLocation(),{hasPermission:R,logout:A}=useAuth(),T=[{module:"CAIXA",items:[{path:"/caixa",label:"Caixa",icon:"ri-shopping-cart-line"},{path:"/caixa/configuracoes",label:"Configuraes",icon:"ri-settings-line"}]},{module:"COZINHA",items:[{path:"/cozinha",label:"Cozinha",icon:"ri-restaurant-line"},{path:"/cozinha/configuracoes",label:"Configuraes",icon:"ri-settings-line"}]},{module:"GESTAO",items:[{path:"/relatorios",label:"Relatrios",icon:"ri-bar-chart-line"},{path:"/gerenciamento-caixa",label:"Gerenciar Caixa",icon:"ri-safe-line"},{path:"/tarefas",label:"Tarefas",icon:"ri-list-check-2-line"},{path:"/checklist",label:"Check-list",icon:"ri-checkbox-line"},{path:"/procedimentos",label:"Procedimentos",icon:"ri-book-open-line"}]},{module:"RH",items:[{path:"/rh",label:"RH",icon:"ri-group-line"},{path:"/rh/config",label:"Configuraes",icon:"ri-settings-line"}]},{module:"MASTER",items:[{path:"/master-config",label:"Master Config",icon:"ri-settings-3-line"}]},{module:"ESTOQUE",items:[{path:"/estoque/fichas",label:"Fichas Tcnicas",icon:"ri-file-list-3-line"},{path:"/estoque/precos",label:"Insumos",icon:"ri-price-tag-3-line"},{path:"/estoque/gerenciamento",label:"Gerenciamento",icon:"ri-bar-chart-2-line"}]}],I=T.find(U=>U.items.some(q=>b.pathname.startsWith(q.path)))?.module,B=T.filter(U=>U.module===I).flatMap(U=>U.items).filter(U=>{const q=T.find(K=>K.items.includes(U))?.module;return q?R(q):!0});return I?jsxRuntimeExports.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200 flex-shrink-0",children:jsxRuntimeExports.jsxs("div",{className:"px-6 flex items-center justify-between",children:[jsxRuntimeExports.jsx("div",{className:"flex space-x-8",children:B.map(U=>jsxRuntimeExports.jsxs(Link,{to:U.path,className:`flex items-center px-3 py-4 text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${b.pathname===U.path?"text-amber-600 border-b-2 border-amber-500":"text-gray-600 hover:text-gray-900"}`,children:[jsxRuntimeExports.jsx("i",{className:`${U.icon} mr-2`}),U.label]},U.path))}),jsxRuntimeExports.jsxs(Link,{to:"/module-selector",className:"text-gray-500 hover:text-gray-700 text-sm font-medium flex items-center space-x-1",title:"Voltar para a seleo de mdulos",children:[jsxRuntimeExports.jsx("i",{className:"ri-arrow-left-line"}),jsxRuntimeExports.jsx("span",{children:"Mdulos"})]})]})}):null}function ProtectedRoute({requiredPermission:b,isModuleRoute:R=!1,allowedRoles:A}){const{isAuthenticated:T,hasPermission:I,role:B}=useAuth();if(!T)return jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0});if(b&&!I(b))return jsxRuntimeExports.jsx(Navigate,{to:"/module-selector",replace:!0});if(A&&A.length){const U=B?.name??"";if(!A.includes(U))return jsxRuntimeExports.jsx(Navigate,{to:"/module-selector",replace:!0})}return R?jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-screen overflow-hidden",children:[jsxRuntimeExports.jsx(Navigation,{}),jsxRuntimeExports.jsx(Outlet,{})]}):jsxRuntimeExports.jsx(Outlet,{})}const PRECOS_DATA=[{nome:'Tortilha de Trigo 12"',preco:2.58,tipo_preco:"UN"},{nome:"Tortilha de Trigo 8",preco:1.08,tipo_preco:"UN"},{nome:'Tortilha de Trigo 6"',preco:.89,tipo_preco:"UN"},{nome:"Alface",preco:.0133,tipo_preco:"g"},{nome:"Tomate",preco:.005,tipo_preco:"g"},{nome:"Pimenta Jalapeo",preco:.098,tipo_preco:"g"},{nome:"Molho de Pimenta",preco:.0234,tipo_preco:"g"},{nome:"Cheddar",preco:.022,tipo_preco:"g"},{nome:"Coentro",preco:.0699,tipo_preco:"g"},{nome:"Cebola Roxa",preco:.008,tipo_preco:"g"},{nome:"Rcula",preco:.019,tipo_preco:"g"},{nome:"Milho",preco:.0205,tipo_preco:"g"},{nome:"Doritos",preco:.0666,tipo_preco:"g"},{nome:"Abacate",preco:.011,tipo_preco:"g"},{nome:"Limo Taiti",preco:.004,tipo_preco:"g"},{nome:"Chocolate",preco:.0439,tipo_preco:"g"},{nome:"Tortilha de milho",preco:.0503,tipo_preco:"g"},{nome:"Avocado",preco:.0522,tipo_preco:"g"},{nome:"Barbacoa",preco:.056,tipo_preco:"g"},{nome:"Chilli com Carne",preco:.0265,tipo_preco:"g"},{nome:"Chilli de Soja",preco:.014,tipo_preco:"g"},{nome:"Pasta de feijo",preco:.0118,tipo_preco:"g"},{nome:"Frango em tiras",preco:.0437,tipo_preco:"g"},{nome:"Molho 4 queijos",preco:.0321,tipo_preco:"g"},{nome:"Pernil com Abacaxi",preco:.046,tipo_preco:"g"},{nome:"Sour Cream",preco:.039,tipo_preco:"g"},{nome:"Bacon Crocante",preco:.09,tipo_preco:"g"},{nome:"Barbeccue",preco:.0253,tipo_preco:"g"},{nome:"Pico de galo",preco:.0135,tipo_preco:"g"},{nome:"Mussarela",preco:.0345,tipo_preco:"g"},{nome:"Guacamole",preco:.0137,tipo_preco:"g"},{nome:"Ovomaltine",preco:.054,tipo_preco:"g"},{nome:"Confeti",preco:.031,tipo_preco:"g"},{nome:"Arroz",preco:.004,tipo_preco:"g"},{nome:"Feijo preto",preco:.01,tipo_preco:"g"},{nome:"Barreira",preco:.11,tipo_preco:"UN"},{nome:"Guardanapo",preco:.1,tipo_preco:"UN"},{nome:"Embalagem Nachos",preco:.69,tipo_preco:"UN"},{nome:"Dell Valle Goiabada 290 ml",preco:3.99,tipo_preco:"UN"},{nome:"Dell Valle Pessego 290 ml",preco:3.11,tipo_preco:"UN"},{nome:"Dell Valle Maracuja 290 ml",preco:3.28,tipo_preco:"UN"},{nome:"Dell Valle Uva 290 ml",preco:3.11,tipo_preco:"UN"},{nome:"Fanta Laranja Lata 350 ml",preco:3.49,tipo_preco:"UN"},{nome:"Coca Cola Zero Lata 350ml",preco:3.14,tipo_preco:"UN"},{nome:"Coca Cola Lata 350ml",preco:3.49,tipo_preco:"UN"},{nome:"Agua mineral com gas 500 ml",preco:1.38,tipo_preco:"UN"},{nome:"Agua mineral sem gas 500 ml",preco:1.08,tipo_preco:"UN"},{nome:"Pimenta El Patron Pepper 300g",preco:12.9,tipo_preco:"UN"},{nome:"Molho Barbecue Chipotle 300g",preco:11.02,tipo_preco:"UN"},{nome:"Molho Barbecue Original El Patron Pepper 300g",preco:9.9,tipo_preco:"UN"},{nome:"Molho Sweet Chilli El Patron Pepper 300g",preco:10.5,tipo_preco:"UN"},{nome:"Gelo",preco:.0027,tipo_preco:"g"},{nome:"gua com Gs drink",preco:.00267,tipo_preco:"g"},{nome:"Xarope Ma Verde",preco:.056,tipo_preco:"g"},{nome:"Vodka",preco:.03998,tipo_preco:"g"},{nome:"Canudo",preco:.2038,tipo_preco:"UN"},{nome:"Copo personalizado",preco:.59,tipo_preco:"UN"},{nome:"Limo drink",preco:.00519,tipo_preco:"g"},{nome:"Xarope Pink Lemonade",preco:.0654,tipo_preco:"g"},{nome:"chopp manics",preco:.01176,tipo_preco:"g"},{nome:"cerveja ipa lN manics",preco:8,tipo_preco:"UN"},{nome:"cerveja ipa lata manics",preco:7,tipo_preco:"UN"},{nome:"chopp germania",preco:.011,tipo_preco:"g"},{nome:"embalagem ensalada",preco:.7,tipo_preco:"UN"},{nome:"garfo",preco:.117,tipo_preco:"UN"},{nome:"pote para molho 75 ml",preco:.1787,tipo_preco:"UN"},{nome:"pote para molho 120 ml",preco:.2735,tipo_preco:"UN"},{nome:"tampa pote para molho",preco:.31279,tipo_preco:"UN"},{nome:"pazinha",preco:.1646,tipo_preco:"UN"},{nome:"saco chips",preco:.276,tipo_preco:"UN"},{nome:"saco 02 kg",preco:.03933,tipo_preco:"UN"},{nome:"saco 10 kg",preco:.12,tipo_preco:"UN"},{nome:"saco 18 kg",preco:.168,tipo_preco:"UN"}],RECEITAS_DATA={"Burrito Clssico":[{nome:'Tortilha de Trigo 12"',quantidade:1,unidade:"UN"},{nome:"Barbeccue",quantidade:17,unidade:"g"},{nome:"Bacon Crocante",quantidade:10,unidade:"g"},{nome:"Chilli com Carne",quantidade:150,unidade:"g"},{nome:"Alface",quantidade:10,unidade:"g"},{nome:"Tomate",quantidade:50,unidade:"g"},{nome:"Pimenta Jalapeo",quantidade:15,unidade:"g"},{nome:"Molho de Pimenta",quantidade:5,unidade:"g"},{nome:"Cheddar",quantidade:20,unidade:"g"},{nome:"Barreira",quantidade:1,unidade:"UN"},{nome:"Guardanapo",quantidade:2,unidade:"UN"}],"Burrito Barbacoa":[{nome:'Tortilha de Trigo 12"',quantidade:1,unidade:"UN"},{nome:"Barbacoa",quantidade:150,unidade:"g"},{nome:"Mussarela",quantidade:30,unidade:"g"},{nome:"Pimenta Jalapeo",quantidade:15,unidade:"g"},{nome:"Pico de galo",quantidade:40,unidade:"g"},{nome:"Alface",quantidade:10,unidade:"g"},{nome:"Rcula",quantidade:10,unidade:"g"},{nome:"Barreira",quantidade:1,unidade:"UN"},{nome:"Guardanapo",quantidade:2,unidade:"UN"}],"Burrito Al Pastor":[{nome:'Tortilha de Trigo 12"',quantidade:1,unidade:"UN"},{nome:"Pasta de feijo",quantidade:35,unidade:"g"},{nome:"Bacon Crocante",quantidade:10,unidade:"g"},{nome:"Pernil com Abacaxi",quantidade:120,unidade:"g"},{nome:"Barbeccue",quantidade:17,unidade:"g"},{nome:"Alface",quantidade:10,unidade:"g"},{nome:"Tomate",quantidade:50,unidade:"g"},{nome:"Molho de Pimenta",quantidade:5,unidade:"g"},{nome:"Cheddar",quantidade:20,unidade:"g"},{nome:"Barreira",quantidade:1,unidade:"UN"},{nome:"Guardanapo",quantidade:2,unidade:"UN"}],"Burrito Veggie":[{nome:'Tortilha de Trigo 12"',quantidade:1,unidade:"UN"},{nome:"Chilli de Soja",quantidade:120,unidade:"g"},{nome:"Milho",quantidade:40,unidade:"g"},{nome:"Alface",quantidade:10,unidade:"g"},{nome:"Tomate",quantidade:50,unidade:"g"},{nome:"Pimenta Jalapeo",quantidade:15,unidade:"g"},{nome:"Molho de Pimenta",quantidade:5,unidade:"g"},{nome:"Cheddar",quantidade:20,unidade:"g"},{nome:"Barreira",quantidade:1,unidade:"UN"},{nome:"Guardanapo",quantidade:2,unidade:"UN"}],"Burrito 4 Queijos":[{nome:'Tortilha de Trigo 12"',quantidade:1,unidade:"UN"},{nome:"Frango em tiras",quantidade:90,unidade:"g"},{nome:"Bacon Crocante",quantidade:10,unidade:"g"},{nome:"Molho 4 queijos",quantidade:90,unidade:"g"},{nome:"Rcula",quantidade:10,unidade:"g"},{nome:"Tomate",quantidade:50,unidade:"g"},{nome:"Molho de Pimenta",quantidade:5,unidade:"g"},{nome:"Barreira",quantidade:1,unidade:"UN"},{nome:"Guardanapo",quantidade:2,unidade:"UN"}],"Burrito Pollo":[{nome:'Tortilha de Trigo 12"',quantidade:1,unidade:"UN"},{nome:"Pasta de feijo",quantidade:35,unidade:"g"},{nome:"Frango em tiras",quantidade:90,unidade:"g"},{nome:"Barbeccue",quantidade:17,unidade:"g"},{nome:"Milho",quantidade:40,unidade:"g"},{nome:"Alface",quantidade:10,unidade:"g"},{nome:"Pico de galo",quantidade:40,unidade:"g"},{nome:"Molho de Pimenta",quantidade:5,unidade:"g"},{nome:"Cheddar",quantidade:20,unidade:"g"},{nome:"Barreira",quantidade:1,unidade:"UN"},{nome:"Guardanapo",quantidade:2,unidade:"UN"}],"Quesadilla Chilli com Carne":[{nome:"Tortilha de Trigo 8",quantidade:1,unidade:"UN"},{nome:"Chilli com Carne",quantidade:50,unidade:"g"},{nome:"Cheddar",quantidade:10,unidade:"g"},{nome:"Molho de Pimenta",quantidade:2.5,unidade:"g"},{nome:"Mussarela",quantidade:30,unidade:"g"},{nome:"Barreira",quantidade:1,unidade:"UN"}],"Quesadilla Pollo":[{nome:"Tortilha de Trigo 8",quantidade:1,unidade:"UN"},{nome:"Frango em tiras",quantidade:30,unidade:"g"},{nome:"Bacon Crocante",quantidade:10,unidade:"g"},{nome:"Cheddar",quantidade:10,unidade:"g"},{nome:"Molho de Pimenta",quantidade:2.5,unidade:"g"},{nome:"Mussarela",quantidade:30,unidade:"g"},{nome:"Barreira",quantidade:1,unidade:"UN"}],"Quesadilla Al Pastor":[{nome:"Tortilha de Trigo 8",quantidade:1,unidade:"UN"},{nome:"Pernil com Abacaxi",quantidade:45,unidade:"g"},{nome:"Barbeccue",quantidade:10,unidade:"g"},{nome:"Cheddar",quantidade:10,unidade:"g"},{nome:"Molho de Pimenta",quantidade:2.5,unidade:"g"},{nome:"Mussarela",quantidade:30,unidade:"g"},{nome:"Barreira",quantidade:1,unidade:"UN"}],"Quesadilla Chilli Veggie":[{nome:"Tortilha de Trigo 8",quantidade:1,unidade:"UN"},{nome:"Chilli de Soja",quantidade:40,unidade:"g"},{nome:"Pico de galo",quantidade:40,unidade:"g"},{nome:"Milho",quantidade:40,unidade:"g"},{nome:"Mussarela",quantidade:30,unidade:"g"},{nome:"Barreira",quantidade:1,unidade:"UN"}],"Quesadilla Barbacoa":[{nome:"Tortilha de Trigo 8",quantidade:1,unidade:"UN"},{nome:"Barbacoa",quantidade:50,unidade:"g"},{nome:"Pico de galo",quantidade:40,unidade:"g"},{nome:"Mussarela",quantidade:30,unidade:"g"},{nome:"Barreira",quantidade:1,unidade:"UN"}],"Quesadilla Fiesta":[{nome:"Tortilha de Trigo 8",quantidade:1,unidade:"UN"},{nome:"Chocolate",quantidade:25,unidade:"g"},{nome:"Confeti",quantidade:16,unidade:"g"},{nome:"Mussarela",quantidade:15,unidade:"g"},{nome:"Barreira",quantidade:1,unidade:"UN"}],"Quesadilla Ovomaltine":[{nome:"Tortilha de Trigo 8",quantidade:1,unidade:"UN"},{nome:"Chocolate",quantidade:25,unidade:"g"},{nome:"Ovomaltine",quantidade:16,unidade:"g"},{nome:"Mussarela",quantidade:15,unidade:"g"},{nome:"Barreira",quantidade:1,unidade:"UN"}],"Taco Trio Sortidos":[{nome:'Tortilha de Trigo 6"',quantidade:3,unidade:"UN"},{nome:"Pasta de feijo",quantidade:35,unidade:"g"},{nome:"Frango em tiras",quantidade:30,unidade:"g"},{nome:"Molho 4 queijos",quantidade:45,unidade:"g"},{nome:"Bacon Crocante",quantidade:5,unidade:"g"},{nome:"Pimenta Jalapeo",quantidade:10,unidade:"g"},{nome:"Pernil com Abacaxi",quantidade:60,unidade:"g"},{nome:"Pico de galo",quantidade:40,unidade:"g"},{nome:"Chilli com Carne",quantidade:100,unidade:"g"},{nome:"Molho de Pimenta",quantidade:6,unidade:"g"},{nome:"Cheddar",quantidade:30,unidade:"g"},{nome:"Barreira",quantidade:1,unidade:"UN"}]};function normalizeName(b){return b.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim()}function findProductByName(b,R){const A=normalizeName(R);let T=b.find(B=>normalizeName(B.name)===A);if(T||(T=b.find(B=>{const U=normalizeName(B.name);return U.includes(A)||A.includes(U)}),T))return T;const I=A.split(/\s+/).filter(B=>!["de","com","em","a","o"].includes(B));return T=b.find(B=>{const U=normalizeName(B.name).split(/\s+/);return I.some(q=>U.some(K=>K.includes(q)||q.includes(K)))}),T||null}function findIngredientByName(b,R){const A=normalizeName(R);let T=b.find(I=>normalizeName(I.name)===A);return T||(T=b.find(I=>{const B=normalizeName(I.name);return B.includes(A)||A.includes(B)}),T||null)}async function importRecipesAndPrices(b,R,A){const T=A||console.log;T(" Iniciando importao de preos e fichas tcnicas...");try{T(" Importando ingredientes e preos...");const I=new Map;for(const J of PRECOS_DATA)try{let ee=I.get(J.nome);ee||(ee=await b.upsertIngredient({name:J.nome}),I.set(J.nome,ee));const te=Math.round(J.preco*100);await b.upsertPrice({ingredientId:ee,unit:J.tipo_preco,pricePerUnitCents:te}),T(` ${J.nome}: R$ ${J.preco.toFixed(4)}/${J.tipo_preco}`)}catch(ee){T(` Erro ao importar ${J.nome}: ${ee}`)}T(`
 ${I.size} ingredientes importados!
`),T(" Buscando produtos...");const B=await R.listProducts();T(` Encontrados ${B.length} produtos
`),T(" Importando fichas tcnicas...");const U=[],q=[],K=await b.listIngredients();for(const[J,ee]of Object.entries(RECEITAS_DATA))try{const te=findProductByName(B,J);if(!te){q.push(J),T(`  Produto no encontrado: "${J}"`);continue}for(const xe of ee){let fe=findIngredientByName(K,xe.nome);fe||(fe={id:await b.upsertIngredient({name:xe.nome}),name:xe.nome},K.push(fe),T(`   Criado ingrediente: ${xe.nome}`)),await b.upsertRecipeLine({productId:te.id,ingredientId:fe.id,quantity:xe.quantidade,unit:xe.unidade})}U.push(J),T(` "${J}" (${ee.length} ingredientes)`)}catch(te){T(` Erro ao importar "${J}": ${te}`)}return T(`
`+"=".repeat(60)),T(" RESUMO"),T("=".repeat(60)),T(` Ingredientes: ${I.size}`),T(` Fichas tcnicas: ${U.length}`),q.length>0&&(T(`  No encontrados: ${q.length}`),T("   "+q.join(", "))),T("=".repeat(60)),{success:!0,ingredientsImported:I.size,recipesImported:U.length,recipesNotFound:q}}catch(I){throw T(` Erro na importao: ${I}`),I}}function EstoqueFichasPage(){const[b,R]=reactExports.useState([]),[A,T]=reactExports.useState([]),[I,B]=reactExports.useState([]),[U,q]=reactExports.useState(""),[K,J]=reactExports.useState([]),[ee,te]=reactExports.useState({}),[xe,fe]=reactExports.useState("list"),[ye,Be]=reactExports.useState([]),[Le,qe]=reactExports.useState(""),[Ge,$e]=reactExports.useState(new Set),[Xe,He]=reactExports.useState(""),[Qe,st]=reactExports.useState(!1),[ct,gt]=reactExports.useState(!1),[Nt,Ot]=reactExports.useState([]),[Tt,ir]=reactExports.useState(!1),[At,It]=reactExports.useState({ingredientId:"",quantity:"",unit:"g"});reactExports.useEffect(()=>{(async()=>{try{const ft=await listProducts(),mt=Array.isArray(ft)?ft:[];R(mt)}catch{R([])}try{const ft=await listIngredients();T(Array.isArray(ft)?ft:[])}catch{T([])}try{const ft=await listCategories();Be(Array.isArray(ft)?ft:[])}catch{Be([])}try{const ft=await listPrices();B(Array.isArray(ft)?ft:[])}catch{B([])}try{const ft={};for(const mt of prodsArr||[]){const Ct=String(mt.id);try{ft[Ct]=await listRecipeByProduct(Ct)}catch{ft[Ct]=[]}}te(ft)}catch{te({})}})()},[]),reactExports.useEffect(()=>{(async()=>{try{if(!U){J([]);return}const ft=await listRecipeByProduct(U);J(Array.isArray(ft)?ft:[])}catch{J([])}})()},[U]);const Je=reactExports.useMemo(()=>b.find(ft=>String(ft.id)===String(U))||null,[b,U]),ut=reactExports.useMemo(()=>{const ft=Je?Je.categoryId??Je.category_id:"",mt=ye.find(Ct=>String(Ct.id)===String(ft));return mt?String(mt.name):""},[Je,ye]),et=ft=>{const mt=Array.from(new Set((I||[]).filter(xr=>String(xr.ingredient_id)===String(ft)).map(xr=>String(xr.unit).toLowerCase()))),Ct=new Set(mt);return Ct.has("g")&&Ct.add("kg"),Ct.has("kg")&&Ct.add("g"),Ct.has("ml")&&Ct.add("l"),Ct.has("l")&&Ct.add("ml"),Array.from(Ct)},lt=async()=>{if(!U||!At.ingredientId||!At.unit)return;const ft=parseFloat(At.quantity||"0");if(ft<=0)return;await upsertRecipeLine({productId:U,ingredientId:At.ingredientId,quantity:ft,unit:At.unit});const mt=await listRecipeByProduct(U);J(mt),te(Ct=>({...Ct,[String(U)]:Array.isArray(mt)?mt:[]})),It({ingredientId:"",quantity:"",unit:"g"})},rt=async ft=>{await deleteRecipeLine(ft);const mt=await listRecipeByProduct(U);J(mt),te(Ct=>({...Ct,[String(U)]:Array.isArray(mt)?mt:[]}))},nt=reactExports.useMemo(()=>{if(!At.ingredientId)return["g","kg","ml","l","un"];const ft=Array.from(new Set((I||[]).filter(Ct=>String(Ct.ingredient_id)===String(At.ingredientId)).map(Ct=>String(Ct.unit).toLowerCase()))),mt=new Set(ft);return mt.has("g")&&mt.add("kg"),mt.has("kg")&&mt.add("g"),mt.has("ml")&&mt.add("l"),mt.has("l")&&mt.add("ml"),Array.from(mt)},[I,At.ingredientId]);reactExports.useEffect(()=>{At.ingredientId&&(nt.includes(At.unit)||It(ft=>({...ft,unit:nt[0]||"g"})))},[At.ingredientId,nt]);const kt=(ft,mt)=>{const Ct=(I||[]).filter(xr=>String(xr.ingredient_id)===String(ft));for(const xr of Ct)if(String(xr.unit).toLowerCase()===String(mt).toLowerCase())return xr.price_per_unit_cents||0;if(Ct.length>0){const xr=Ct[0],er=convert(mt,xr.unit,1);return Math.round(er*Math.max(0,xr.price_per_unit_cents||0))}return 0},Zt=reactExports.useMemo(()=>{if(!At.ingredientId||!At.unit)return{unitCents:0,totalCents:0};const ft=kt(At.ingredientId,At.unit),mt=parseFloat(At.quantity||"0"),Ct=Math.round(Math.max(0,mt)*Math.max(0,ft));return{unitCents:ft,totalCents:Ct}},[At.ingredientId,At.unit,At.quantity,I]),Ar=reactExports.useMemo(()=>(K||[]).reduce((ft,mt)=>{const Ct=kt(String(mt.ingredient_id),String(mt.unit));return ft+Math.round(Math.max(0,Number(mt.quantity||0))*Math.max(0,Ct))},0),[K,I]);return jsxRuntimeExports.jsxs("div",{className:"p-6 h-full overflow-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold",children:"Fichas Tcnicas"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"secondary",onClick:()=>ir(!0),disabled:ct,children:[jsxRuntimeExports.jsx("i",{className:"ri-download-line mr-2"}),ct?"Importando...":"Importar Dados"]}),jsxRuntimeExports.jsx(Button,{variant:xe==="list"?"primary":"secondary",onClick:()=>fe("list"),children:"Listar"}),jsxRuntimeExports.jsx(Button,{variant:xe==="edit"?"primary":"secondary",onClick:()=>fe("edit"),children:"Criar/Editar"})]})]}),xe==="edit"&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white border rounded p-4",children:[jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Item do Cardpio"}),jsxRuntimeExports.jsxs("select",{className:"w-full border rounded px-3 py-2",value:U,onChange:ft=>q(ft.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Selecione"}),b.map(ft=>{const mt=ye.find(Ct=>String(Ct.id)===String(ft.categoryId??ft.category_id))?.name||"";return jsxRuntimeExports.jsxs("option",{value:String(ft.id),children:[mt?`${mt}  `:"",ft.name]},String(ft.id))})]})]}),Je&&jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["Categoria: ",ut]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-3 mt-3",children:[jsxRuntimeExports.jsx("h2",{className:"font-medium mb-2",children:"Insumos da ficha"}),K.length===0?jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Nenhum insumo cadastrado"}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-2 text-sm font-medium text-gray-700 mb-2 bg-gray-100 rounded px-2 py-2",style:{gridTemplateColumns:"5fr 1fr 1fr 2fr 2fr 1fr"},children:[jsxRuntimeExports.jsx("div",{children:"Insumo"}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center",children:"Qtd"}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center",children:"Unidade"}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center",children:"Unitrio"}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center",children:"Total"}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center",children:"Aes"})]}),K.map(ft=>{const mt=kt(String(ft.ingredient_id),String(ft.unit)),Ct=Math.round(Math.max(0,Number(ft.quantity||0))*Math.max(0,mt)),xr=A.find(Ft=>String(Ft.id)===String(ft.ingredient_id))?.name||ft.ingredient_id,er=Xe===String(ft.id);return jsxRuntimeExports.jsxs("div",{className:"py-2 grid gap-2 items-center",style:{gridTemplateColumns:"5fr 1fr 1fr 2fr 2fr 1fr"},children:[jsxRuntimeExports.jsx("div",{className:"text-sm",children:xr}),jsxRuntimeExports.jsx("div",{className:"text-sm text-center",children:er?jsxRuntimeExports.jsx(Input,{className:"w-20 h-9",value:String(ft.quantity),onChange:async Ft=>{const Xt=parseFloat(Ft.target.value||"0");if(Xt>0){await upsertRecipeLine({id:ft.id,productId:U,ingredientId:ft.ingredient_id,quantity:Xt,unit:ft.unit});const it=await listRecipeByProduct(U);J(it),te(jt=>({...jt,[String(U)]:Array.isArray(it)?it:[]}))}}}):jsxRuntimeExports.jsx("span",{children:ft.quantity})}),jsxRuntimeExports.jsx("div",{className:"text-sm text-center",children:er?jsxRuntimeExports.jsx("select",{className:"border rounded px-2 h-9",value:ft.unit,onChange:async Ft=>{const Xt=Ft.target.value;await upsertRecipeLine({id:ft.id,productId:U,ingredientId:ft.ingredient_id,quantity:ft.quantity,unit:Xt});const it=await listRecipeByProduct(U);J(it),te(jt=>({...jt,[String(U)]:Array.isArray(it)?it:[]}))},children:et(String(ft.ingredient_id)).map(Ft=>jsxRuntimeExports.jsx("option",{value:Ft,children:Ft==="l"?"L":Ft},Ft))}):jsxRuntimeExports.jsx("span",{children:ft.unit})}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-center",children:["R$ ",(mt/1e4).toFixed(4)]}),jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium text-center",children:["R$ ",(Ct/1e4).toFixed(4)]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2",children:[er?jsxRuntimeExports.jsx(Button,{size:"sm",onClick:()=>He(""),children:"Concluir"}):jsxRuntimeExports.jsx(Button,{size:"sm",variant:"secondary",onClick:()=>He(String(ft.id)),children:jsxRuntimeExports.jsx("i",{className:"ri-pencil-line"})}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"secondary",onClick:()=>rt(String(ft.id)),children:jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-line"})})]})]},ft.id)}),jsxRuntimeExports.jsxs("div",{className:"mt-2 grid gap-2 px-2",style:{gridTemplateColumns:"5fr 1fr 1fr 2fr 2fr 1fr"},children:[jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium text-center",children:["R$ ",(Ar/1e4).toFixed(4)]}),jsxRuntimeExports.jsx("div",{})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white border rounded p-4",children:[jsxRuntimeExports.jsx("h2",{className:"font-medium mb-3",children:"Adicionar insumo  ficha"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium mb-1",children:"Insumo"}),jsxRuntimeExports.jsxs("select",{className:"border rounded px-2 h-9 w-full",value:At.ingredientId,onChange:ft=>It({...At,ingredientId:ft.target.value}),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Selecione"}),[...A].sort((ft,mt)=>String(ft.name||"").localeCompare(String(mt.name||""),"pt-BR",{sensitivity:"base"})).map(ft=>jsxRuntimeExports.jsx("option",{value:String(ft.id),children:ft.name},String(ft.id)))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium mb-1",children:"Quantidade"}),jsxRuntimeExports.jsx(Input,{className:"w-24 h-9",value:At.quantity,onChange:ft=>It({...At,quantity:ft.target.value}),placeholder:"Qtd"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium mb-1",children:"Unidade"}),jsxRuntimeExports.jsx("select",{className:"border rounded px-2 h-9 w-24",value:At.unit,onChange:ft=>It({...At,unit:ft.target.value}),children:nt.map(ft=>jsxRuntimeExports.jsx("option",{value:ft,children:ft==="l"?"L":ft},ft))})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-2 text-sm text-gray-600",children:At.ingredientId&&At.quantity?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Preo unitrio: R$ ",(Zt.unitCents/1e4).toFixed(4),"  Total: R$ ",(Zt.totalCents/1e4).toFixed(4)]}):null}),jsxRuntimeExports.jsx("div",{className:"mt-3",children:jsxRuntimeExports.jsx(Button,{onClick:async()=>{if(K.some(mt=>String(mt.ingredient_id)===String(At.ingredientId))){st(!0);return}await lt()},disabled:!U||!At.ingredientId||!At.quantity,children:"Adicionar"})})]})]}),xe==="list"&&jsxRuntimeExports.jsxs("div",{className:"bg-white border rounded p-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-3",children:jsxRuntimeExports.jsx(Input,{value:Le,onChange:ft=>qe(ft.target.value),placeholder:"Buscar por nome do lanche"})}),jsxRuntimeExports.jsx("div",{className:"divide-y",children:b.filter(ft=>ft.name.toLowerCase().includes(Le.toLowerCase())).map(ft=>{const mt=ee[String(ft.id)]||[],Ct=mt.reduce((Ft,Xt)=>{const it=I.filter(or=>String(or.ingredient_id)===String(Xt.ingredient_id));let jt=0;for(const or of it)if(String(or.unit).toLowerCase()===String(Xt.unit).toLowerCase()){jt=or.price_per_unit_cents;break}if(jt===0&&it.length>0){const or=it[0],Er=convert(Xt.unit,or.unit,Number(Xt.quantity||0));return Ft+Math.round(Er*Math.max(0,or.price_per_unit_cents||0))}return Ft+Math.round(Number(Xt.quantity||0)*Math.max(0,jt||0))},0),xr=ye.find(Ft=>String(Ft.id)===String(ft.categoryId??ft.category_id))?.name||"",er=Ge.has(String(ft.id));return jsxRuntimeExports.jsxs("div",{className:"py-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>{$e(Ft=>{const Xt=new Set(Array.from(Ft)),it=String(ft.id);return Xt.has(it)?Xt.delete(it):Xt.add(it),Xt})},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium",children:[xr?`${xr}  `:"",ft.name]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:["Custo: R$ ",(Ct/1e4).toFixed(4)]})]}),jsxRuntimeExports.jsx("i",{className:er?"ri-arrow-up-s-line":"ri-arrow-down-s-line"})]}),er&&jsxRuntimeExports.jsx("div",{className:"mt-2 space-y-2 max-w-xl",children:mt.length===0?jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Nenhum insumo cadastrado"}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-2 text-sm font-medium text-gray-700 mb-2 bg-gray-100 rounded px-2 py-2",style:{gridTemplateColumns:"6fr 2fr 2fr 2fr"},children:[jsxRuntimeExports.jsx("div",{children:"Insumo"}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center",children:"Qtd"}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center",children:"Unitrio"}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center",children:"Total"})]}),mt.map(Ft=>{const Xt=kt(String(Ft.ingredient_id),String(Ft.unit)),it=Math.round(Math.max(0,Number(Ft.quantity||0))*Math.max(0,Xt)),jt=A.find(or=>String(or.id)===String(Ft.ingredient_id))?.name||Ft.ingredient_id;return jsxRuntimeExports.jsxs("div",{className:"py-1 grid gap-2 items-center bg-gray-50 rounded px-2",style:{gridTemplateColumns:"6fr 2fr 2fr 2fr"},children:[jsxRuntimeExports.jsx("div",{className:"text-sm",children:jt}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-center",children:[Ft.quantity," ",Ft.unit]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-center",children:["R$ ",(Xt/1e4).toFixed(4)]}),jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium text-center",children:["R$ ",(it/1e4).toFixed(4)]})]},String(Ft.id))}),jsxRuntimeExports.jsxs("div",{className:"grid gap-2 mt-2 px-2",style:{gridTemplateColumns:"6fr 2fr 2fr 2fr"},children:[jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium text-center",children:["R$ ",(Ct/1e4).toFixed(4)]})]})]})})]},String(ft.id))})})]}),Qe&&jsxRuntimeExports.jsx(Modal,{isOpen:Qe,onClose:()=>st(!1),title:"Adicionar insumo duplicado",size:"sm",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-700",children:"Este insumo j existe na ficha tcnica. Deseja adicionar novamente?"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>st(!1),children:"Cancelar"}),jsxRuntimeExports.jsx(Button,{onClick:async()=>{st(!1),await lt()},children:"Adicionar"})]})]})}),Tt&&jsxRuntimeExports.jsx(Modal,{isOpen:Tt,onClose:()=>{ct||(ir(!1),Ot([]))},title:"Importar Fichas Tcnicas e Preos",size:"lg",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:"Esta funo ir importar ingredientes com preos e fichas tcnicas dos produtos cadastrados."}),Nt.length>0&&jsxRuntimeExports.jsx("div",{className:"bg-gray-50 border rounded p-3 max-h-96 overflow-y-auto",children:jsxRuntimeExports.jsx("div",{className:"text-xs font-mono space-y-1",children:Nt.map((ft,mt)=>jsxRuntimeExports.jsx("div",{className:"text-gray-700",children:ft},mt))})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>{ct||(ir(!1),Ot([]))},disabled:ct,children:ct?"Importando...":"Cancelar"}),jsxRuntimeExports.jsx(Button,{onClick:async()=>{gt(!0),Ot([]);try{await importRecipesAndPrices(inventory,productsService,er=>{Ot(Ft=>[...Ft,er])});const ft=await listProducts();R(Array.isArray(ft)?ft:[]);const mt=await listIngredients();T(Array.isArray(mt)?mt:[]);const Ct=await listPrices();B(Array.isArray(Ct)?Ct:[]);const xr={};for(const er of ft||[]){const Ft=String(er.id);try{xr[Ft]=await listRecipeByProduct(Ft)}catch{xr[Ft]=[]}}te(xr),Ot(er=>[...er,`
 Importao concluda! Recarregue a pgina para ver os dados atualizados.`]),setTimeout(()=>{gt(!1),ir(!1),Ot([])},2e3)}catch(ft){Ot(mt=>[...mt,`
 Erro: ${ft?.message||String(ft)}`]),gt(!1)}},disabled:ct,children:ct?"Importando...":"Iniciar Importao"})]})]})})]})}function EstoquePrecosPage(){const[b,R]=reactExports.useState([]),[A,T]=reactExports.useState([]),[I,B]=reactExports.useState({unit:"g",price:""}),[U,q]=reactExports.useState(""),[K,J]=reactExports.useState(""),[ee,te]=reactExports.useState(""),[xe,fe]=reactExports.useState({unit:"g",price:""});reactExports.useEffect(()=>{(async()=>{const Xe=await listIngredients();R(Xe);const He=await listPrices();T(He)})()},[]);const ye=async()=>{const Xe=U.trim();if(!Xe||!I.unit||!I.price)return;const He=I.price.replace(",","."),Qe=Math.max(0,Math.round(parseFloat(He)*1e4)),st=b.find(Ot=>String(Ot.name).toLowerCase()===Xe.toLowerCase()),ct=st?String(st.id):await upsertIngredient({name:Xe});await upsertPrice({ingredientId:ct,unit:I.unit,pricePerUnitCents:Qe});const[gt,Nt]=await Promise.all([listIngredients(),listPrices()]);R(gt),T(Nt),B({unit:"g",price:""}),q("")},Be=(U||"").trim()&&b.some(Xe=>String(Xe.name).toLowerCase()===U.trim().toLowerCase()),Le=Xe=>{te(String(Xe.id)),fe({unit:String(Xe.unit),price:String(((Xe.price_per_unit_cents??0)/1e4).toFixed(4))})},qe=()=>{te(""),fe({unit:"g",price:""})},Ge=async()=>{if(!ee)return;const Xe=xe.price.replace(",","."),He=Math.max(0,Math.round(parseFloat(Xe)*1e4)),Qe=A.find(ct=>String(ct.id)===String(ee));if(!Qe)return;await upsertPrice({id:ee,ingredientId:String(Qe.ingredient_id),unit:xe.unit,pricePerUnitCents:He});const st=await listPrices();T(st),qe()},$e=async Xe=>{await deletePrice(Xe);const He=await listPrices();T(He)};return jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold mb-4",children:"Insumos"}),jsxRuntimeExports.jsxs("div",{className:"bg-white border rounded p-4 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"font-medium mb-3",children:"Cadastrar insumo e preo"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium mb-1",children:"Nome do insumo"}),jsxRuntimeExports.jsx(Input,{className:"h-9",value:U,onChange:Xe=>q(Xe.target.value),placeholder:"Nome do insumo"}),Be&&jsxRuntimeExports.jsx("div",{className:"text-xs text-red-600 mt-1",children:"Este insumo j existe"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-end gap-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium mb-1",children:"Unidade"}),jsxRuntimeExports.jsxs("select",{className:"border rounded px-2 h-9 w-28",value:I.unit,onChange:Xe=>B({...I,unit:Xe.target.value}),children:[jsxRuntimeExports.jsx("option",{value:"g",children:"g"}),jsxRuntimeExports.jsx("option",{value:"kg",children:"kg"}),jsxRuntimeExports.jsx("option",{value:"ml",children:"ml"}),jsxRuntimeExports.jsx("option",{value:"l",children:"L"}),jsxRuntimeExports.jsx("option",{value:"un",children:"un"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium mb-1",children:"Preo"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center w-32",children:[jsxRuntimeExports.jsx("span",{className:"px-3 h-9 flex items-center border rounded-l bg-gray-50",children:"R$"}),jsxRuntimeExports.jsx(Input,{className:"h-9 rounded-l-none w-full",value:I.price,onChange:Xe=>B({...I,price:Xe.target.value}),placeholder:"Preo"})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-3",children:jsxRuntimeExports.jsx(Button,{onClick:ye,disabled:!U.trim()||!I.price,children:"Salvar"})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white border rounded p-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-3",children:jsxRuntimeExports.jsx("h2",{className:"font-medium",children:"Tabela de preos dos insumos"})}),jsxRuntimeExports.jsx("div",{className:"mb-3",children:jsxRuntimeExports.jsx(Input,{value:K,onChange:Xe=>J(Xe.target.value),placeholder:"Buscar insumo na tabela"})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-6 gap-2 text-sm font-medium text-gray-700 mb-2 bg-gray-100 rounded px-2 py-2",children:[jsxRuntimeExports.jsx("div",{children:"Insumo"}),jsxRuntimeExports.jsx("div",{children:"Unidade"}),jsxRuntimeExports.jsx("div",{children:"Preo"}),jsxRuntimeExports.jsx("div",{children:"Atualizado"}),jsxRuntimeExports.jsx("div",{children:"Usurio"}),jsxRuntimeExports.jsx("div",{children:"Aes"})]}),A.length===0?jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Nenhum preo cadastrado"}):jsxRuntimeExports.jsx("div",{className:"divide-y",children:A.filter(Xe=>(b.find(Qe=>String(Qe.id)===String(Xe.ingredient_id))?.name||"").toLowerCase().includes(K.toLowerCase())).map(Xe=>jsxRuntimeExports.jsxs("div",{className:"py-2 grid grid-cols-6 gap-2 items-center",children:[jsxRuntimeExports.jsx("div",{className:"text-sm",children:b.find(He=>String(He.id)===String(Xe.ingredient_id))?.name||Xe.ingredient_id}),jsxRuntimeExports.jsx("div",{className:"text-sm",children:ee===String(Xe.id)?jsxRuntimeExports.jsxs("select",{className:"border rounded px-2 py-1",value:xe.unit,onChange:He=>fe({...xe,unit:He.target.value}),children:[jsxRuntimeExports.jsx("option",{value:"g",children:"g"}),jsxRuntimeExports.jsx("option",{value:"kg",children:"kg"}),jsxRuntimeExports.jsx("option",{value:"ml",children:"ml"}),jsxRuntimeExports.jsx("option",{value:"l",children:"L"}),jsxRuntimeExports.jsx("option",{value:"un",children:"un"})]}):Xe.unit}),jsxRuntimeExports.jsx("div",{className:"text-sm font-medium",children:ee===String(Xe.id)?jsxRuntimeExports.jsx(Input,{value:xe.price,onChange:He=>fe({...xe,price:He.target.value})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["R$ ",((Xe.price_per_unit_cents??0)/1e4).toFixed(4)]})}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:String(Xe.updated_at||"").replace("T"," ").slice(0,19)}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:String((Xe.updated_by??"")||"").trim()||""}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:ee===String(Xe.id)?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{size:"sm",onClick:Ge,children:"Salvar"}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"secondary",onClick:qe,children:"Cancelar"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{size:"sm",variant:"secondary",onClick:()=>Le(Xe),children:jsxRuntimeExports.jsx("i",{className:"ri-pencil-line"})}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"secondary",onClick:()=>$e(String(Xe.id)),children:jsxRuntimeExports.jsx("i",{className:"ri-delete-bin-line"})})]})})]},Xe.id))})]})]})}function EstoqueGerenciamentoPage(){const[b,R]=reactExports.useState([]),[A,T]=reactExports.useState({}),[I,B]=reactExports.useState([]),[U,q]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{try{const Le=(await listOrders(500)||[]).filter(Ge=>Ge.closed_at||String(Ge.status||"").toLowerCase()==="closed"),qe=[];for(const Ge of Le)try{const Xe=((await getOrderById(String(Ge.id)))?.items||[]).map(He=>({id:String(He.id),quantity:Number(He.qty??1),menuItem:{id:String(He.product_id??He.productId??"")}}));qe.push({id:String(Ge.id),status:"DELIVERED",items:Xe})}catch{}R(qe)}catch{R([])}const te=await listIngredients();B(te);const xe=await listPrices();q(xe);const fe=await listProducts(),ye={};for(const Be of fe){const Le=await listRecipeByProduct(String(Be.id));ye[String(Be.id)]=Le}T(ye)})()},[]);const K=reactExports.useMemo(()=>(b||[]).filter(te=>te.status==="DELIVERED"),[b]),J=reactExports.useMemo(()=>{const te={},xe={};for(const fe of U){const ye=String(fe.ingredient_id);xe[ye]||(xe[ye]=[]),xe[ye].push(fe)}for(const fe of K)for(const ye of fe.items||[]){const Be=String(ye.menuItem?.id||""),Le=A[Be]||[];for(const qe of Le){const Ge=String(qe.ingredient_id),$e=Number(qe.quantity||0)*Number(ye.quantity||1),Xe=String(qe.unit);te[Ge]||(te[Ge]={qty:0,unit:Xe,valueCents:0}),te[Ge].qty+=$e}}for(const fe of Object.keys(te)){const ye=te[fe],Be=xe[fe]||[];let Le=0;for(const qe of Be)if(String(qe.unit).toLowerCase()===String(ye.unit).toLowerCase()){Le=qe.price_per_unit_cents;break}if(Le===0&&Be.length>0){const qe=Be[0],Ge=convert(ye.unit,qe.unit,ye.qty);ye.valueCents=Math.round(Ge*Math.max(0,qe.price_per_unit_cents||0))}else ye.valueCents=Math.round(ye.qty*Math.max(0,Le||0))}return te},[K,A,U]),ee=reactExports.useMemo(()=>Object.values(J).reduce((te,xe)=>te+xe.valueCents,0),[J]);return jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold mb-4",children:"Sada de Estoque por Vendas"}),jsxRuntimeExports.jsx("div",{className:"bg-white border rounded p-4",children:Object.keys(J).length===0?jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Sem dados"}):jsxRuntimeExports.jsxs("div",{className:"divide-y",children:[Object.entries(J).map(([te,xe])=>jsxRuntimeExports.jsxs("div",{className:"py-2 flex items-center justify-between",children:[jsxRuntimeExports.jsx("div",{className:"text-sm",children:I.find(fe=>String(fe.id)===String(te))?.name||te}),jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[xe.qty.toFixed(3)," ",xe.unit]}),jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium",children:["R$ ",(xe.valueCents/1e4).toFixed(4)]})]},te)),jsxRuntimeExports.jsx("div",{className:"pt-3 mt-2 flex items-center justify-end border-t",children:jsxRuntimeExports.jsxs("div",{className:"text-sm font-bold",children:["Total: R$ ",(ee/1e4).toFixed(4)]})})]})})]})}const routes=[{path:"/index.html",element:jsxRuntimeExports.jsx(Navigate,{to:"/module-selector",replace:!0})},{path:"/splash",element:jsxRuntimeExports.jsx(SplashPage,{})},{path:"/role",element:jsxRuntimeExports.jsx(Navigate,{to:"/module-selector",replace:!0})},{path:"/login",element:jsxRuntimeExports.jsx(LoginPage,{})},{path:"/module-selector",element:jsxRuntimeExports.jsx(ModuleSelectorPage,{})},{path:"/cliente-pdv",element:jsxRuntimeExports.jsx(ClientePdvPage,{})},{path:"/",element:jsxRuntimeExports.jsx(ProtectedRoute,{}),children:[{index:!0,element:jsxRuntimeExports.jsx(ModuleSelectorPage,{})},{path:"dashboard",element:jsxRuntimeExports.jsx(Navigate,{to:"/module-selector",replace:!0})},{path:"adm",element:jsxRuntimeExports.jsx(AdmPage,{})},{path:"master-config",element:jsxRuntimeExports.jsx(ProtectedRoute,{requiredPermission:"MASTER"}),children:[{index:!0,element:jsxRuntimeExports.jsx(MasterConfigPage,{})}]},{path:"caixa",element:jsxRuntimeExports.jsx(ProtectedRoute,{isModuleRoute:!0,requiredPermission:"CAIXA",allowedRoles:["Administrador Master","Gerente","Operador de Caixa"]}),children:[{index:!0,element:jsxRuntimeExports.jsx(CaixaPage,{})},{path:"configuracoes",element:jsxRuntimeExports.jsx(ConfiguracoesPage,{})}]},{path:"cozinha",element:jsxRuntimeExports.jsx(ProtectedRoute,{isModuleRoute:!0,requiredPermission:"COZINHA",allowedRoles:["Administrador Master","Gerente","Cozinheiro"]}),children:[{index:!0,element:jsxRuntimeExports.jsx(CozinhaPage,{})},{path:"configuracoes",element:jsxRuntimeExports.jsx(ConfiguracoesPage,{})}]},{path:"gerenciamento-caixa",element:jsxRuntimeExports.jsx(ProtectedRoute,{isModuleRoute:!0,requiredPermission:"GESTAO"}),children:[{index:!0,element:jsxRuntimeExports.jsx(GerenciamentoCaixaPage,{})}]},{path:"tarefas",element:jsxRuntimeExports.jsx(ProtectedRoute,{isModuleRoute:!0,requiredPermission:"TAREFAS"}),children:[{index:!0,element:jsxRuntimeExports.jsx(TarefasPage,{})}]},{path:"checklist",element:jsxRuntimeExports.jsx(ProtectedRoute,{isModuleRoute:!0,requiredPermission:"CHECKLIST"}),children:[{index:!0,element:jsxRuntimeExports.jsx(ChecklistPage,{})}]},{path:"procedimentos",element:jsxRuntimeExports.jsx(ProtectedRoute,{isModuleRoute:!0,requiredPermission:"PROCEDIMENTOS"}),children:[{index:!0,element:jsxRuntimeExports.jsx(ProcedimentosPage,{})}]},{path:"estoque",element:jsxRuntimeExports.jsx(ProtectedRoute,{isModuleRoute:!0,requiredPermission:"ESTOQUE",allowedRoles:["Administrador Master","Gerente"]}),children:[{path:"fichas",element:jsxRuntimeExports.jsx(EstoqueFichasPage,{})},{path:"precos",element:jsxRuntimeExports.jsx(EstoquePrecosPage,{})},{path:"gerenciamento",element:jsxRuntimeExports.jsx(EstoqueGerenciamentoPage,{})}]},{path:"rh",element:jsxRuntimeExports.jsx(ProtectedRoute,{isModuleRoute:!0,requiredPermission:"RH",allowedRoles:["Administrador Master","Gerente"]}),children:[{index:!0,element:jsxRuntimeExports.jsx(RHPage,{})},{path:"config",element:jsxRuntimeExports.jsx(RHConfigPage,{})}]}]},{path:"/relatorios",element:jsxRuntimeExports.jsx(RelatoriosPage,{})},{path:"*",element:jsxRuntimeExports.jsx(NotFound,{})}];function AppRoutes(){return useRoutes(routes)}const CustomToast=({t:b,children:R})=>{let A="bg-white",T="border-gray-200",I="text-gray-900",B="text-gray-500";switch(b.type){case"success":A="bg-green-50",T="border-green-300",I="text-green-800",B="text-green-600";break;case"error":A="bg-red-50",T="border-red-300",I="text-red-800",B="text-red-600";break;case"loading":A="bg-blue-50",T="border-blue-300",I="text-blue-800",B="text-blue-600";break;case"blank":default:A="bg-blue-50",T="border-blue-300",I="text-blue-800",B="text-blue-600";break}return jsxRuntimeExports.jsxs("div",{className:`flex items-center justify-between p-3 ${A} rounded-lg shadow-lg border-2 ${T} max-w-md w-full cursor-pointer pointer-events-auto`,onClick:()=>n.dismiss(b.id),children:[jsxRuntimeExports.jsx("div",{className:`flex-1 min-w-0 pr-4 ${I}`,children:R}),jsxRuntimeExports.jsx("button",{onClick:U=>{U.stopPropagation(),n.dismiss(b.id)},className:`text-gray-400 hover:text-gray-600 transition-colors flex-shrink-0 ${B}`,children:jsxRuntimeExports.jsx("i",{className:"ri-close-line text-lg"})})]})};function ToastProvider(){const{toasts:b}=V(),R=(b||[]).length>0;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[R&&jsxRuntimeExports.jsx("div",{className:"fixed bottom-4 right-4 z-[9999] pointer-events-none",children:jsxRuntimeExports.jsxs("button",{type:"button",className:"pointer-events-auto inline-flex items-center gap-2 rounded-md bg-gray-900 px-3 py-2 text-sm font-medium text-white shadow-lg hover:bg-gray-800",onClick:()=>n.dismiss(),children:[jsxRuntimeExports.jsx("i",{className:"ri-notification-off-line text-base","aria-hidden":"true"}),"Fechar notificaes"]})}),jsxRuntimeExports.jsx(Fe,{position:"top-right",toastOptions:{duration:5e3,style:{padding:"0",boxShadow:"none"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}},loading:{iconTheme:{primary:"#3b82f6",secondary:"#fff"}}},children:A=>jsxRuntimeExports.jsxs(CustomToast,{t:A,children:[A.icon&&jsxRuntimeExports.jsx("span",{className:"mr-2",children:A.icon}),h(A.message,A)]})})]})}const seedCategories=[{id:"cat_burritos",name:"Burritos",icon:"ri-cake-3-line"},{id:"cat_quesadilla",name:"Quesadilla",icon:"ri-cake-2-line"},{id:"cat_tacos",name:"Tacos",icon:"ri-restaurant-line"},{id:"cat_nachos",name:"Nachos",icon:"ri-bowl-line"},{id:"cat_extras",name:"Extras",icon:"ri-add-circle-line"},{id:"cat_bebidas",name:"Bebidas",icon:"ri-drop-line"},{id:"cat_drinks",name:"Drinks",icon:"ri-glass-line"},{id:"cat_chopes",name:"Chopes",icon:"ri-beer-line"}],seedProducts=[{name:"Classic Burrito",price:38,categoryId:"cat_burritos",code:"1"},{name:"4 Quesos Burrito",price:38,categoryId:"cat_burritos",code:"2"},{name:"Al Pastor Burrito",price:38,categoryId:"cat_burritos",code:"3"},{name:"Barbacoa Burrito",price:41,categoryId:"cat_burritos",code:"4"},{name:"Chilli con Carne Quesadilla",price:21,categoryId:"cat_quesadilla",code:"5"},{name:"Pollo Quesadilla",price:21,categoryId:"cat_quesadilla",code:"6"},{name:"Al Pastor Quesadilla",price:21,categoryId:"cat_quesadilla",code:"7"},{name:"Barbacoa Quesadilla",price:21,categoryId:"cat_quesadilla",code:"8"},{name:"Ovomaltine Quesadilla",price:18,categoryId:"cat_quesadilla",code:"9"},{name:"Chilli con Carne Nachos",price:38,categoryId:"cat_nachos",code:"10"},{name:"Trio de Tacos Sortidos",price:44,categoryId:"cat_tacos",code:"11"},{name:"Guacamole 50ml",price:5,categoryId:"cat_extras",code:"12"},{name:"Sour Cream 50ml",price:5,categoryId:"cat_extras",code:"13"},{name:"Guacamole 50ml + Sour Cream 50ml + Tortilla Chips 30g",price:12,categoryId:"cat_extras",code:"14"},{name:"gua Mineral (Com ou Sem Gs)",price:5,categoryId:"cat_bebidas",code:"15"},{name:"Refrigerante Lata (Coca-Cola, Coca-Cola Zero e Fanta Guaran)",price:8,categoryId:"cat_bebidas",code:"16"},{name:"Del Valle Lata (Uva ou Maracuj)",price:8,categoryId:"cat_bebidas",code:"17"},{name:"Sucos Naturais (Morango, Maracuj ou Abacaxi com Hortel)",price:12,categoryId:"cat_bebidas",code:"18"},{name:"Soda Italiana (Ma Verde ou Blueberry) 500ml",price:20,categoryId:"cat_drinks",code:"19"},{name:"Pink Lemonade 500ml",price:20,categoryId:"cat_drinks",code:"20"},{name:"Pink Lemonade Alcolico 500ml",price:25,categoryId:"cat_drinks",code:"21"},{name:"Soda Italiana Alcolica 500ml",price:25,categoryId:"cat_drinks",code:"22"},{name:"Chope Pilsen 500ml",price:15,categoryId:"cat_chopes",code:"23"},{name:"Chope IPA 500ml",price:20,categoryId:"cat_chopes",code:"24"},{name:"Dupla Chope Pilsen 500ml",price:25,categoryId:"cat_chopes",code:"25"},{name:"Dupla Chope IPA 500ml",price:35,categoryId:"cat_chopes",code:"26"}];async function seedCatalogIfEmpty(){try{const b=!!localStorage.getItem("categories"),R=!!localStorage.getItem("menuItems");if(b&&R)return;const A=typeof window?.api?.db?.query=="function",T=A?await listCategories():[],I=A?await listProducts():[],B=Array.isArray(T)&&T.length>0&&Array.isArray(I)&&I.length>0,U=new Date().toISOString();if(A){for(const J of seedCategories)try{await upsertCategory({id:J.id,name:J.name})}catch{}if(!B){for(const J of seedProducts)try{await upsertProduct({sku:J.code??null,name:J.name,categoryId:J.categoryId,priceCents:Math.max(0,Math.round((J.price??0)*100)),isActive:!0})}catch{}console.log("[seed] catlogo inserido via IPC (categorias + produtos)")}}const q=B?T:A?await listCategories():seedCategories.map(J=>({id:J.id,name:J.name})),K=B?I:A?await listProducts():seedProducts.map(J=>({id:`${J.code}`,name:J.name,priceCents:Math.round((J.price||0)*100),categoryId:J.categoryId,isActive:1,sku:J.code}));try{const J=(q||[]).map((te,xe)=>({id:String(te.id),name:String(te.name),icon:"ri-folder-line",order:xe+1,active:!0})),ee=(K||[]).map(te=>({id:String(te.id),name:String(te.name),price:Number(te.priceCents??te.price_cents??0)/100,sla:["cat_extras","cat_bebidas","cat_drinks","cat_chopes"].includes(String(te.categoryId??te.category_id))?3:8,categoryId:String(te.categoryId??te.category_id??""),observations:[],active:!!(te.isActive??te.is_active??1),code:te.sku??null,image:"",skipKitchen:["cat_bebidas","cat_drinks","cat_chopes"].includes(String(te.categoryId??te.category_id)),requiredModifierGroups:[],allowPartialDelivery:!0,unitDeliveryCount:""}));b||localStorage.setItem("categories",JSON.stringify(J)),R||localStorage.setItem("menuItems",JSON.stringify(ee))}catch{}}catch(b){console.warn("[seed] falha no seed via IPC",b)}}class ErrorBoundary extends reactExports.Component{constructor(R){super(R),this.state={hasError:!1}}static getDerivedStateFromError(R){return{hasError:!0,error:R}}componentDidCatch(R,A){console.error("[ErrorBoundary] Uncaught error:",R,A)}render(){return this.state.hasError?this.props.fallback??jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"max-w-md text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Algo deu errado"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4",children:"Detectamos uma falha ao renderizar esta tela. Tente recarregar."}),jsxRuntimeExports.jsx("button",{className:"px-4 py-2 rounded bg-amber-500 text-white hover:bg-amber-600",onClick:()=>{this.setState({hasError:!1,error:void 0});try{window.location.reload()}catch{}},children:"Recarregar"})]})}):this.props.children}}async function checkOrdersIntegrity(b){if(!supabase)return[];const R=[],A=b.map(T=>String(T.id));if(A.length===0)return[];try{const{data:T,error:I}=await supabaseSync.select("orders",U=>U.select("id, status, total_cents, updated_at").in("id",A),{silent:!0});if(I)return console.error("[Integrity] Erro ao buscar pedidos remotos:",I),[];const B=new Map(T?.map(U=>[String(U.id),U])||[]);for(const U of b){const q=B.get(String(U.id));if(!q){R.push({type:"MISSING_REMOTE",table:"orders",id:String(U.id),details:"Pedido existe localmente mas no foi encontrado no Supabase.",severity:"high"});continue}const K=String(U.status).toUpperCase(),J=String(q.status).toUpperCase();({OPEN:"NEW",CLOSED:"DELIVERED",CANCELLED:"CANCELLED"}[K]||K)!==J&&R.push({type:"STATUS_MISMATCH",table:"orders",id:String(U.id),details:`Status divergente. Local: ${K}, Remoto: ${J}`,severity:"medium"});const xe=Number(U.total_cents||0),fe=Number(q.total_cents||0);Math.abs(xe-fe)>0&&R.push({type:"VALUE_MISMATCH",table:"orders",id:String(U.id),details:`Total divergente. Local: ${xe}, Remoto: ${fe}`,severity:"medium"})}}catch(T){console.error("[Integrity] Erro inesperado na verificao de pedidos:",T)}return R}async function checkKdsIntegrity(b){if(!supabase)return[];const R=[],A=b.map(T=>String(T.id));if(A.length===0)return[];try{const{data:T,error:I}=await supabaseSync.select("kds_tickets",U=>U.select("id, status, order_id").in("id",A),{silent:!0});if(I)return console.error("[Integrity] Erro ao buscar tickets remotos:",I),[];const B=new Map(T?.map(U=>[String(U.id),U])||[]);for(const U of b){const q=B.get(String(U.id));if(!q){R.push({type:"MISSING_REMOTE",table:"kds_tickets",id:String(U.id),details:`Ticket KDS (Pedido ${U.order_id}) no encontrado no Supabase.`,severity:"high"});continue}String(U.status).toLowerCase()!==String(q.status).toLowerCase()&&R.push({type:"STATUS_MISMATCH",table:"kds_tickets",id:String(U.id),details:`Status do ticket divergente. Local: ${U.status}, Remoto: ${q.status}`,severity:"medium"})}}catch(T){console.error("[Integrity] Erro inesperado na verificao do KDS:",T)}return R}async function runFullIntegrityCheck(b){console.log("[Integrity] Iniciando verificao completa...");const R=await checkOrdersIntegrity(b.orders),A=await checkKdsIntegrity(b.kdsTickets),T=[...R,...A];if(T.length===0)return console.log("[Integrity]  Nenhuma inconsistncia detectada."),{success:!0,issues:[]};if(console.warn(`[Integrity]  Detectadas ${T.length} inconsistncias:`),T.forEach(I=>{console.warn(`- [${I.table}] ${I.type} ID:${I.id}: ${I.details} (Severidade: ${I.severity})`)}),supabase)try{await supabaseSync.insert("integrity_logs",T.map(I=>({type:I.type,table_name:I.table,record_id:I.id,details:I.details,severity:I.severity,created_at:new Date().toISOString()})))}catch(I){console.error("[Integrity] Falha ao persistir logs de integridade:",I)}return{success:!1,issues:T}}function useCatalogSync(){const{isOnline:b}=useOffline(),[,R]=useLocalStorage("categories",[]),[,A]=useLocalStorage("menuItems",[]),T=reactExports.useRef(0);reactExports.useEffect(()=>{if(!b||!supabase)return;const I=Date.now();if(I-T.current<6e4)return;T.current=I,(async()=>{try{const{data:U,error:q}=await supabase.from("categories").select("*");if(q)throw q;if(U){const ee=(U||[]).map(te=>({id:te.id,name:te.name,icon:te.icon||"ri-layout-grid-line",order:te.display_order||0,active:te.is_active!==!1,integrationCode:te.integration_code,kitchenIds:[]}));R(()=>{const te=new Map;for(const xe of ee){const fe=String(xe.name||"").trim().toLowerCase();if(!fe)continue;const ye=te.get(fe);if(!ye)te.set(fe,xe);else{const Be=ye.updated_at?new Date(ye.updated_at).getTime():0,Le=xe.updated_at?new Date(xe.updated_at).getTime():0;te.set(fe,Le>=Be?xe:ye)}}return Array.from(te.values())})}const{data:K,error:J}=await supabase.from("products").select("*");if(J)throw J;if(K){const ee=(K||[]).map(te=>({id:te.id,name:te.name,price:(te.price_cents||0)/100,sla:te.sla_minutes||15,categoryId:te.category_id,observations:[],requiredModifierGroups:[],image:te.image_url,active:te.is_active!==!1,code:te.sku,integrationCode:te.integration_code,skipKitchen:te.skip_kitchen||!1,allowPartialDelivery:te.allow_partial_delivery||!1,unitDeliveryCount:te.unit_delivery_count||1}));A(()=>{const te=new Map;for(const xe of ee){const fe=xe.code&&String(xe.code).trim().length>0?`sku:${String(xe.code).trim().toLowerCase()}`:`name:${String(xe.name||"").trim().toLowerCase()}|cat:${String(xe.categoryId||"")}`,ye=te.get(fe),Be=xe.updated_at?new Date(xe.updated_at).getTime():0,Le=ye?.updated_at?new Date(ye.updated_at).getTime():0;te.set(fe,!ye||Be>=Le?xe:ye)}return Array.from(te.values())})}}catch(U){console.error("[CatalogSync] Erro ao sincronizar catlogo:",U)}})()},[b])}const __vite_import_meta_env__={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3bWlpa2hrbXFtaXNsb3dmc2RiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzA3MjgsImV4cCI6MjA4MDIwNjcyOH0.mlNaJnt_7ZPYbzclVaW_ozRS5XyloT4bI4-p_GITcNE",VITE_SUPABASE_URL:"https://zwmiikhkmqmislowfsdb.supabase.co"};function AppWrapper(){useAuth(),useCatalogSync(),reactExports.useEffect(()=>{try{seedCatalogIfEmpty()}catch(T){console.error("[boot:error]",T?.message||T)}},[]),reactExports.useEffect(()=>{const T=async()=>{try{const[U,q]=await Promise.all([listAllLocalOrders(),listAllLocalTickets()]);await runFullIntegrityCheck({orders:U,kdsTickets:q})}catch(U){console.error("[App] Erro no check de integridade:",U)}},I=setTimeout(T,3e4),B=setInterval(T,3e5);return()=>{clearTimeout(I),clearInterval(B)}},[]),reactExports.useEffect(()=>{let T=null;return(async()=>{try{const I=typeof window?.api?.db?.query=="function";let B="default",U="";if(I){await ensureDeviceProfile({role:"pos"});const xe=await getDeviceProfile();B=xe?.unitId||"default",U=xe?.deviceId||""}else try{const xe=localStorage.getItem("unitId"),fe=localStorage.getItem("deviceId");B=xe||"default",U=fe||crypto.randomUUID(),xe||localStorage.setItem("unitId",B),fe||localStorage.setItem("deviceId",U)}catch{B="default",U=crypto.randomUUID()}const q=__vite_import_meta_env__?.VITE_LAN_HUB_URL||"http://localhost:4000",K=__vite_import_meta_env__?.VITE_LAN_SYNC_SECRET||"";if(!K)return;const J=q.replace(/^http/,"ws").replace(/\/$/,"")+`/realtime?token=${encodeURIComponent(K)}`;T=new WebSocket(J);const ee=(xe,fe,ye)=>{try{const Be=new StorageEvent("storage",{key:xe,newValue:fe,oldValue:ye,url:window.location.href,storageArea:window.localStorage});window.dispatchEvent(Be)}catch{}},te=xe=>{const fe=String(xe.table||""),ye=xe.row||null;if(fe==="cash_sessions"&&ye&&ye.id)try{const Be=localStorage.getItem("currentCashSession"),Le=JSON.parse(Be||"null");if(!Le||Le.id===ye.id||!Le.closed_at){const He=JSON.stringify(ye);localStorage.setItem("currentCashSession",He),ee("currentCashSession",He,Be)}const qe=localStorage.getItem("cashSessions"),Ge=JSON.parse(qe||"[]"),$e=[ye,...Ge.filter(He=>He.id!==ye.id)],Xe=JSON.stringify($e);localStorage.setItem("cashSessions",Xe),ee("cashSessions",Xe,qe)}catch{}else if((fe==="cash_movements"||fe==="cashMovements")&&ye&&ye.id)try{const Be=localStorage.getItem("cashMovements"),Le=JSON.parse(Be||"[]");Le.push(ye);const qe=JSON.stringify(Le);localStorage.setItem("cashMovements",qe),ee("cashMovements",qe,Be)}catch{}else if((fe==="kds_tickets"||fe==="kdsTickets")&&ye&&ye.id)try{const Be=localStorage.getItem("kdsTickets"),Le=Be?JSON.parse(Be):[],qe=Le.findIndex(Ge=>String(Ge.id)===String(ye.id));if(qe>=0){Le[qe]={...Le[qe],...ye};const Ge=JSON.stringify(Le);localStorage.setItem("kdsTickets",Ge),ee("kdsTickets",Ge,Be)}else{const Ge=JSON.stringify([ye,...Le]);localStorage.setItem("kdsTickets",Ge),ee("kdsTickets",Ge,Be)}}catch{}else if(fe==="kdsAcks"&&ye)try{const Be=String(ye.ticketId??ye.ticket_id??""),Le=String(ye.orderId??ye.order_id??""),qe=ye.receiveDelayMs??ye.receive_delay_ms??null;console.log("[PDV->KDS] Confirmao de recebimento (LAN)",{ticketId:Be,orderId:Le,receiveDelayMs:qe})}catch{}else if(fe==="kds_operators"&&ye)try{const Be=Array.isArray(ye?.operators)?ye.operators:[],Le=localStorage.getItem("kitchenOperators"),qe=JSON.stringify(Be);localStorage.setItem("kitchenOperators",qe),ee("kitchenOperators",qe,Le)}catch{}else if(fe==="kds_unit_operator"&&ye)try{const Be=`${ye.orderId}:${ye.itemId}:${ye.unitId}`,Le=localStorage.getItem("kdsUnitState"),qe=Le?JSON.parse(Le):{},Ge=qe[Be]||{};qe[Be]={...Ge,operatorName:ye.operatorName};const $e=JSON.stringify(qe);localStorage.setItem("kdsUnitState",$e),ee("kdsUnitState",$e,Le)}catch{}else if(fe==="kds_unit_status"&&ye)try{const Be=`${ye.orderId}:${ye.itemId}:${ye.unitId}`,Le=localStorage.getItem("kdsUnitState"),qe=Le?JSON.parse(Le):{},Ge=qe[Be]||{},$e={unitStatus:ye.unitStatus};Array.isArray(ye.completedObservations)&&($e.completedObservations=ye.completedObservations),ye.unitStatus==="READY"?$e.completedAt=new Date().toISOString():$e.completedAt=void 0,qe[Be]={...Ge,...$e};const Xe=JSON.stringify(qe);localStorage.setItem("kdsUnitState",Xe),ee("kdsUnitState",Xe,Le)}catch{}else if(fe==="global_observations")try{const Be=Array.isArray(ye?.observations)?ye.observations:[],Le=localStorage.getItem("globalObservations"),qe=JSON.stringify(Be);localStorage.setItem("globalObservations",qe),ee("globalObservations",qe,Le)}catch{}};T.addEventListener("open",()=>{try{T?.send(JSON.stringify({unit_id:B,device_id:U}))}catch{}}),T.addEventListener("message",xe=>{try{const fe=JSON.parse(String(xe.data));if(Array.isArray(fe?.events)){for(const ye of fe.events)te(ye);try{applyHubEvents(fe.events)}catch{}}}catch{}});try{const xe={};K&&(xe.Authorization=`Bearer ${K}`);const fe=q.replace(/\/$/,"")+`/pull?unit_id=${encodeURIComponent(B)}`,ye=new AbortController,Be=setTimeout(()=>{try{ye.abort()}catch{}},5e3),Le=await fetch(fe,{headers:xe,signal:ye.signal});if(clearTimeout(Be),!Le.ok)return;const qe=await Le.json().catch(()=>({}));if(Array.isArray(qe?.events)){for(const Ge of qe.events)te(Ge);try{applyHubEvents(qe.events)}catch{}}}catch{}}catch{}})(),()=>{try{T?.close()}catch{}}},[]);const b="/",A=typeof navigator<"u"&&navigator.userAgent.includes("Electron")?HashRouter:BrowserRouter;return jsxRuntimeExports.jsx(A,{basename:b,children:jsxRuntimeExports.jsx(ErrorBoundary,{fallback:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-screen",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 border-4 border-amber-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})}),children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-screen",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 border-4 border-amber-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})}),children:jsxRuntimeExports.jsx(AppRoutes,{})})})})}function App(){return typeof window<"u"&&!window.__errorsHooked&&(window.__errorsHooked=!0,window.addEventListener("error",b=>{console.error("[GlobalError]",b.message,b.error)}),window.addEventListener("unhandledrejection",b=>{console.error("[GlobalUnhandledRejection]",b.reason?.message??b.reason)})),jsxRuntimeExports.jsxs(AuthProvider,{children:[jsxRuntimeExports.jsx(ToastProvider,{}),jsxRuntimeExports.jsx(AppWrapper,{})]})}window.addEventListener("error",b=>console.error("[renderer error]",b?.error||b?.message));window.addEventListener("unhandledrejection",b=>console.error("[renderer promise]",b?.reason));const rootEl=document.getElementById("root");rootEl?clientExports.createRoot(rootEl).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})})):console.error("[renderer] #root not found");
